/*! For license information please see main.0c737e9d.js.LICENSE.txt */
(()=>{var e={122:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(80480),t)},124:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.typePromotion=t.isSubTypeOf=t.getSuperTypeDict=t.isInternalSubType=t.asGeneralType=t.asOverrideType=t.asKnownLiteralType=t.asTypeAlias=t.typeAliasCheck=t.extensionTableInit=t.getSuperTypes=t.superTypeDictTable=t.extensionTableInput=void 0;const i=r(11032),a=r(42715),o=r(89465);function s(e,r){const i=r.cache.get(e);if(i)return i;const a=r.discoverer(e);if("term"===a){const t=Object.create(null);return t.__depth=0,t[e]=0,r.cache.set(e,t),t}let o;const c=u(a);return o=n({},c?t.superTypeDictTable[c]:s(a,r)),o.__depth++,o[e]=o.__depth,r.cache.set(e,o),o}function c(){for(const[e,r]of Object.entries(t.extensionTableInput)){const n=e;t.superTypeDictTable[n]||l(n,r,t.superTypeDictTable)}}function l(e,r,i){if("term"===r||void 0===r){const t=Object.create(null);return t.__depth=0,t[e]=0,void(i[e]=t)}i[r]||l(r,t.extensionTableInput[r],i),i[e]=n(n({},i[r]),{},{[e]:i[r].__depth+1,__depth:i[r].__depth+1})}function u(e){if(e in t.superTypeDictTable)return e}function d(e,r){const n=u(e);return n?t.superTypeDictTable[n]:s(e,r)}t.extensionTableInput={[o.TypeURL.XSD_DATE_TIME_STAMP]:o.TypeURL.XSD_DATE_TIME,[o.TypeURL.XSD_DAY_TIME_DURATION]:o.TypeURL.XSD_DURATION,[o.TypeURL.XSD_YEAR_MONTH_DURATION]:o.TypeURL.XSD_DURATION,[o.TypeURL.RDF_LANG_STRING]:o.TypeAlias.SPARQL_STRINGLY,[o.TypeURL.XSD_STRING]:o.TypeAlias.SPARQL_STRINGLY,[o.TypeURL.XSD_NORMALIZED_STRING]:o.TypeURL.XSD_STRING,[o.TypeURL.XSD_TOKEN]:o.TypeURL.XSD_NORMALIZED_STRING,[o.TypeURL.XSD_LANGUAGE]:o.TypeURL.XSD_TOKEN,[o.TypeURL.XSD_NM_TOKEN]:o.TypeURL.XSD_TOKEN,[o.TypeURL.XSD_NAME]:o.TypeURL.XSD_TOKEN,[o.TypeURL.XSD_NC_NAME]:o.TypeURL.XSD_NAME,[o.TypeURL.XSD_ENTITY]:o.TypeURL.XSD_NC_NAME,[o.TypeURL.XSD_ID]:o.TypeURL.XSD_NC_NAME,[o.TypeURL.XSD_ID_REF]:o.TypeURL.XSD_NC_NAME,[o.TypeURL.XSD_UNTYPED_ATOMIC]:o.TypeURL.XSD_STRING,[o.TypeURL.XSD_DOUBLE]:o.TypeAlias.SPARQL_NUMERIC,[o.TypeURL.XSD_FLOAT]:o.TypeAlias.SPARQL_NUMERIC,[o.TypeURL.XSD_DECIMAL]:o.TypeAlias.SPARQL_NUMERIC,[o.TypeURL.XSD_INTEGER]:o.TypeURL.XSD_DECIMAL,[o.TypeURL.XSD_NON_POSITIVE_INTEGER]:o.TypeURL.XSD_INTEGER,[o.TypeURL.XSD_NEGATIVE_INTEGER]:o.TypeURL.XSD_NON_POSITIVE_INTEGER,[o.TypeURL.XSD_LONG]:o.TypeURL.XSD_INTEGER,[o.TypeURL.XSD_INT]:o.TypeURL.XSD_LONG,[o.TypeURL.XSD_SHORT]:o.TypeURL.XSD_INT,[o.TypeURL.XSD_BYTE]:o.TypeURL.XSD_SHORT,[o.TypeURL.XSD_NON_NEGATIVE_INTEGER]:o.TypeURL.XSD_INTEGER,[o.TypeURL.XSD_POSITIVE_INTEGER]:o.TypeURL.XSD_NON_NEGATIVE_INTEGER,[o.TypeURL.XSD_UNSIGNED_LONG]:o.TypeURL.XSD_NON_NEGATIVE_INTEGER,[o.TypeURL.XSD_UNSIGNED_INT]:o.TypeURL.XSD_UNSIGNED_LONG,[o.TypeURL.XSD_UNSIGNED_SHORT]:o.TypeURL.XSD_UNSIGNED_INT,[o.TypeURL.XSD_UNSIGNED_BYTE]:o.TypeURL.XSD_UNSIGNED_SHORT,[o.TypeURL.XSD_DATE_TIME]:"term",[o.TypeURL.XSD_BOOLEAN]:"term",[o.TypeURL.XSD_DATE]:"term",[o.TypeURL.XSD_G_MONTH]:"term",[o.TypeURL.XSD_G_MONTHDAY]:"term",[o.TypeURL.XSD_G_YEAR]:"term",[o.TypeURL.XSD_G_YEAR_MONTH]:"term",[o.TypeURL.XSD_TIME]:"term",[o.TypeURL.XSD_G_DAY]:"term",[o.TypeURL.XSD_DURATION]:"term",[o.TypeAlias.SPARQL_NUMERIC]:"term",[o.TypeAlias.SPARQL_STRINGLY]:"term",[o.TypeURL.XSD_ANY_URI]:"term"},t.superTypeDictTable=Object.create(null),t.getSuperTypes=s,t.extensionTableInit=c,c(),t.typeAliasCheck=Object.create(null),function(){for(const e of Object.values(o.TypeAlias))t.typeAliasCheck[e]=!0}(),t.asTypeAlias=function(e){if(e in t.typeAliasCheck)return e},t.asKnownLiteralType=u,t.asOverrideType=function(e){var t;if(null!==(t=u(e))&&void 0!==t?t:"term"===e)return e},t.asGeneralType=function(e){if("term"===e||(0,i.asTermType)(e))return e},t.isInternalSubType=function(e,r){return"term"!==e&&t.superTypeDictTable[e]&&void 0!==t.superTypeDictTable[e][r]},t.getSuperTypeDict=d,t.isSubTypeOf=function(e,t,r){return"term"!==e&&void 0!==d(e,r)[t]},t.typePromotion={[o.TypeURL.XSD_STRING]:[{typeToPromote:o.TypeURL.XSD_ANY_URI,conversionFunction:e=>(0,a.string)(e.str())}],[o.TypeURL.XSD_DOUBLE]:[{typeToPromote:o.TypeURL.XSD_FLOAT,conversionFunction:e=>(0,a.double)(e.typedValue)},{typeToPromote:o.TypeURL.XSD_DECIMAL,conversionFunction:e=>(0,a.double)(e.typedValue)}],[o.TypeURL.XSD_FLOAT]:[{typeToPromote:o.TypeURL.XSD_DECIMAL,conversionFunction:e=>(0,a.float)(e.typedValue)}]}},199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorRace=void 0;const n=r(13953);class i extends n.Mediator{constructor(e){super(e)}mediateWith(e,t){return new Promise((r,i)=>{const a=[];for(const o of t)o.reply.then(i=>{i.isPassed()?r((0,n.passTestWithSideData)(o.actor,i.getSideData())):(a.push(i.getFailMessage()),a.length===t.length&&r((0,n.failTest)(this.constructFailureMessage(e,a))))}).catch(e=>{i(e)})})}}t.MediatorRace=i},228:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermUuid=void 0;const i=r(11716),a=r(97824),o=r(67501);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.UUID],termFunction:!0}))}async run(e){return new o.TermFunctionUuid}}t.ActorFunctionFactoryTermUuid=s},240:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SaxesParser=t.EVENTS=void 0;const n=r(83994),i=r(46004),a=r(17959);var o=n.isS,s=n.isChar,c=n.isNameStartChar,l=n.isNameChar,u=n.S_LIST,d=n.NAME_RE,h=i.isChar,p=a.isNCNameStartChar,f=a.isNCNameChar,g=a.NC_NAME_RE;const y="http://www.w3.org/XML/1998/namespace",m="http://www.w3.org/2000/xmlns/",v={__proto__:null,xml:y,xmlns:m},b={__proto__:null,amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},_=-1,w=-2,x=13,S=33,T=10,O=60,E=61,A=62,P=63,N=93,j=e=>34===e||39===e,D=[34,39],R=[...D,91,A],I=[...D,O,N],F=[E,P,...u],C=[...u,A,38,O];function M(e,t,r){switch(t){case"xml":r!==y&&e.fail("xml prefix must be bound to ".concat(y,"."));break;case"xmlns":r!==m&&e.fail("xmlns prefix must be bound to ".concat(m,"."))}switch(r){case m:e.fail(""===t?"the default namespace may not be set to ".concat(r,"."):'may not assign a prefix (even "xmlns") to the URI '.concat(m,"."));break;case y:switch(t){case"xml":break;case"":e.fail("the default namespace may not be set to ".concat(r,"."));break;default:e.fail("may not assign the xml namespace to another prefix.")}}}const k=e=>g.test(e),L=e=>d.test(e);t.EVENTS=["xmldecl","text","processinginstruction","doctype","comment","opentagstart","attribute","opentag","closetag","cdata","error","end","ready"];const B={xmldecl:"xmldeclHandler",text:"textHandler",processinginstruction:"piHandler",doctype:"doctypeHandler",comment:"commentHandler",opentagstart:"openTagStartHandler",attribute:"attributeHandler",opentag:"openTagHandler",closetag:"closeTagHandler",cdata:"cdataHandler",error:"errorHandler",end:"endHandler",ready:"readyHandler"};t.SaxesParser=class{get closed(){return this._closed}constructor(e){this.opt=null!==e&&void 0!==e?e:{},this.fragmentOpt=!!this.opt.fragment;const t=this.xmlnsOpt=!!this.opt.xmlns;if(this.trackPosition=!1!==this.opt.position,this.fileName=this.opt.fileName,t){this.nameStartCheck=p,this.nameCheck=f,this.isName=k,this.processAttribs=this.processAttribsNS,this.pushAttrib=this.pushAttribNS,this.ns=Object.assign({__proto__:null},v);const e=this.opt.additionalNamespaces;null!=e&&(!function(e,t){for(const r of Object.keys(t))M(e,r,t[r])}(this,e),Object.assign(this.ns,e))}else this.nameStartCheck=c,this.nameCheck=l,this.isName=L,this.processAttribs=this.processAttribsPlain,this.pushAttrib=this.pushAttribPlain;this.stateTable=[this.sBegin,this.sBeginWhitespace,this.sDoctype,this.sDoctypeQuote,this.sDTD,this.sDTDQuoted,this.sDTDOpenWaka,this.sDTDOpenWakaBang,this.sDTDComment,this.sDTDCommentEnding,this.sDTDCommentEnded,this.sDTDPI,this.sDTDPIEnding,this.sText,this.sEntity,this.sOpenWaka,this.sOpenWakaBang,this.sComment,this.sCommentEnding,this.sCommentEnded,this.sCData,this.sCDataEnding,this.sCDataEnding2,this.sPIFirstChar,this.sPIRest,this.sPIBody,this.sPIEnding,this.sXMLDeclNameStart,this.sXMLDeclName,this.sXMLDeclEq,this.sXMLDeclValueStart,this.sXMLDeclValue,this.sXMLDeclSeparator,this.sXMLDeclEnding,this.sOpenTag,this.sOpenTagSlash,this.sAttrib,this.sAttribName,this.sAttribNameSawWhite,this.sAttribValue,this.sAttribValueQuoted,this.sAttribValueClosed,this.sAttribValueUnquoted,this.sCloseTag,this.sCloseTagSawWhite],this._init()}_init(){var e;this.openWakaBang="",this.text="",this.name="",this.piTarget="",this.entity="",this.q=null,this.tags=[],this.tag=null,this.topNS=null,this.chunk="",this.chunkPosition=0,this.i=0,this.prevI=0,this.carriedFromPrevious=void 0,this.forbiddenState=0,this.attribList=[];const{fragmentOpt:t}=this;this.state=t?x:0,this.reportedTextBeforeRoot=this.reportedTextAfterRoot=this.closedRoot=this.sawRoot=t,this.xmlDeclPossible=!t,this.xmlDeclExpects=["version"],this.entityReturnState=void 0;let{defaultXMLVersion:r}=this.opt;if(void 0===r){if(!0===this.opt.forceXMLVersion)throw new Error("forceXMLVersion set but defaultXMLVersion is not set");r="1.0"}this.setXMLVersion(r),this.positionAtNewLine=0,this.doctype=!1,this._closed=!1,this.xmlDecl={version:void 0,encoding:void 0,standalone:void 0},this.line=1,this.column=0,this.ENTITIES=Object.create(b),null===(e=this.readyHandler)||void 0===e||e.call(this)}get position(){return this.chunkPosition+this.i}get columnIndex(){return this.position-this.positionAtNewLine}on(e,t){this[B[e]]=t}off(e){this[B[e]]=void 0}makeError(e){var t;let r=null!==(t=this.fileName)&&void 0!==t?t:"";return this.trackPosition&&(r.length>0&&(r+=":"),r+="".concat(this.line,":").concat(this.column)),r.length>0&&(r+=": "),new Error(r+e)}fail(e){const t=this.makeError(e),r=this.errorHandler;if(void 0===r)throw t;return r(t),this}write(e){if(this.closed)return this.fail("cannot write after close; assign an onready handler.");let t=!1;null===e?(t=!0,e=""):"object"===typeof e&&(e=e.toString()),void 0!==this.carriedFromPrevious&&(e="".concat(this.carriedFromPrevious).concat(e),this.carriedFromPrevious=void 0);let r=e.length;const n=e.charCodeAt(r-1);!t&&(13===n||n>=55296&&n<=56319)&&(this.carriedFromPrevious=e[r-1],r--,e=e.slice(0,r));const{stateTable:i}=this;for(this.chunk=e,this.i=0;this.i<r;)i[this.state].call(this);return this.chunkPosition+=r,t?this.end():this}close(){return this.write(null)}getCode10(){const{chunk:e,i:t}=this;if(this.prevI=t,this.i=t+1,t>=e.length)return _;const r=e.charCodeAt(t);if(this.column++,r<55296){if(r>=32||9===r)return r;switch(r){case T:return this.line++,this.column=0,this.positionAtNewLine=this.position,T;case 13:return e.charCodeAt(t+1)===T&&(this.i=t+2),this.line++,this.column=0,this.positionAtNewLine=this.position,w;default:return this.fail("disallowed character."),r}}if(r>56319)return r>=57344&&r<=65533||this.fail("disallowed character."),r;const n=65536+1024*(r-55296)+(e.charCodeAt(t+1)-56320);return this.i=t+2,n>1114111&&this.fail("disallowed character."),n}getCode11(){const{chunk:e,i:t}=this;if(this.prevI=t,this.i=t+1,t>=e.length)return _;const r=e.charCodeAt(t);if(this.column++,r<55296){if(r>31&&r<127||r>159&&8232!==r||9===r)return r;switch(r){case T:return this.line++,this.column=0,this.positionAtNewLine=this.position,T;case 13:{const r=e.charCodeAt(t+1);r!==T&&133!==r||(this.i=t+2)}case 133:case 8232:return this.line++,this.column=0,this.positionAtNewLine=this.position,w;default:return this.fail("disallowed character."),r}}if(r>56319)return r>=57344&&r<=65533||this.fail("disallowed character."),r;const n=65536+1024*(r-55296)+(e.charCodeAt(t+1)-56320);return this.i=t+2,n>1114111&&this.fail("disallowed character."),n}getCodeNorm(){const e=this.getCode();return e===w?T:e}unget(){this.i=this.prevI,this.column--}captureTo(e){let{i:t}=this;const{chunk:r}=this;for(;;){const n=this.getCode(),i=n===w,a=i?T:n;if(a===_||e.includes(a))return this.text+=r.slice(t,this.prevI),a;i&&(this.text+="".concat(r.slice(t,this.prevI),"\n"),t=this.i)}}captureToChar(e){let{i:t}=this;const{chunk:r}=this;for(;;){let n=this.getCode();switch(n){case w:this.text+="".concat(r.slice(t,this.prevI),"\n"),t=this.i,n=T;break;case _:return this.text+=r.slice(t),!1}if(n===e)return this.text+=r.slice(t,this.prevI),!0}}captureNameChars(){const{chunk:e,i:t}=this;for(;;){const r=this.getCode();if(r===_)return this.name+=e.slice(t),_;if(!l(r))return this.name+=e.slice(t,this.prevI),r===w?T:r}}skipSpaces(){for(;;){const e=this.getCodeNorm();if(e===_||!o(e))return e}}setXMLVersion(e){this.currentXMLVersion=e,"1.0"===e?(this.isChar=s,this.getCode=this.getCode10):(this.isChar=h,this.getCode=this.getCode11)}sBegin(){65279===this.chunk.charCodeAt(0)&&(this.i++,this.column++),this.state=1}sBeginWhitespace(){const e=this.i,t=this.skipSpaces();switch(this.prevI!==e&&(this.xmlDeclPossible=!1),t){case O:if(this.state=15,0!==this.text.length)throw new Error("no-empty text at start");break;case _:break;default:this.unget(),this.state=x,this.xmlDeclPossible=!1}}sDoctype(){var e;const t=this.captureTo(R);switch(t){case A:null===(e=this.doctypeHandler)||void 0===e||e.call(this,this.text),this.text="",this.state=x,this.doctype=!0;break;case _:break;default:this.text+=String.fromCodePoint(t),91===t?this.state=4:j(t)&&(this.state=3,this.q=t)}}sDoctypeQuote(){const e=this.q;this.captureToChar(e)&&(this.text+=String.fromCodePoint(e),this.q=null,this.state=2)}sDTD(){const e=this.captureTo(I);e!==_&&(this.text+=String.fromCodePoint(e),e===N?this.state=2:e===O?this.state=6:j(e)&&(this.state=5,this.q=e))}sDTDQuoted(){const e=this.q;this.captureToChar(e)&&(this.text+=String.fromCodePoint(e),this.state=4,this.q=null)}sDTDOpenWaka(){const e=this.getCodeNorm();switch(this.text+=String.fromCodePoint(e),e){case 33:this.state=7,this.openWakaBang="";break;case P:this.state=11;break;default:this.state=4}}sDTDOpenWakaBang(){const e=String.fromCodePoint(this.getCodeNorm()),t=this.openWakaBang+=e;this.text+=e,"-"!==t&&(this.state="--"===t?8:4,this.openWakaBang="")}sDTDComment(){this.captureToChar(45)&&(this.text+="-",this.state=9)}sDTDCommentEnding(){const e=this.getCodeNorm();this.text+=String.fromCodePoint(e),this.state=45===e?10:8}sDTDCommentEnded(){const e=this.getCodeNorm();this.text+=String.fromCodePoint(e),e===A?this.state=4:(this.fail("malformed comment."),this.state=8)}sDTDPI(){this.captureToChar(P)&&(this.text+="?",this.state=12)}sDTDPIEnding(){const e=this.getCodeNorm();this.text+=String.fromCodePoint(e),e===A&&(this.state=4)}sText(){0!==this.tags.length?this.handleTextInRoot():this.handleTextOutsideRoot()}sEntity(){let{i:e}=this;const{chunk:t}=this;e:for(;;)switch(this.getCode()){case w:this.entity+="".concat(t.slice(e,this.prevI),"\n"),e=this.i;break;case 59:{const{entityReturnState:r}=this,n=this.entity+t.slice(e,this.prevI);let i;this.state=r,""===n?(this.fail("empty entity name."),i="&;"):(i=this.parseEntity(n),this.entity=""),r===x&&void 0===this.textHandler||(this.text+=i);break e}case _:this.entity+=t.slice(e);break e}}sOpenWaka(){const e=this.getCode();if(c(e))this.state=34,this.unget(),this.xmlDeclPossible=!1;else switch(e){case 47:this.state=43,this.xmlDeclPossible=!1;break;case 33:this.state=16,this.openWakaBang="",this.xmlDeclPossible=!1;break;case P:this.state=23;break;default:this.fail("disallowed character in tag name"),this.state=x,this.xmlDeclPossible=!1}}sOpenWakaBang(){switch(this.openWakaBang+=String.fromCodePoint(this.getCodeNorm()),this.openWakaBang){case"[CDATA[":this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0),this.state=20,this.openWakaBang="";break;case"--":this.state=17,this.openWakaBang="";break;case"DOCTYPE":this.state=2,(this.doctype||this.sawRoot)&&this.fail("inappropriately located doctype declaration."),this.openWakaBang="";break;default:this.openWakaBang.length>=7&&this.fail("incorrect syntax.")}}sComment(){this.captureToChar(45)&&(this.state=18)}sCommentEnding(){var e;const t=this.getCodeNorm();45===t?(this.state=19,null===(e=this.commentHandler)||void 0===e||e.call(this,this.text),this.text=""):(this.text+="-".concat(String.fromCodePoint(t)),this.state=17)}sCommentEnded(){const e=this.getCodeNorm();e!==A?(this.fail("malformed comment."),this.text+="--".concat(String.fromCodePoint(e)),this.state=17):this.state=x}sCData(){this.captureToChar(N)&&(this.state=21)}sCDataEnding(){const e=this.getCodeNorm();e===N?this.state=22:(this.text+="]".concat(String.fromCodePoint(e)),this.state=20)}sCDataEnding2(){var e;const t=this.getCodeNorm();switch(t){case A:null===(e=this.cdataHandler)||void 0===e||e.call(this,this.text),this.text="",this.state=x;break;case N:this.text+="]";break;default:this.text+="]]".concat(String.fromCodePoint(t)),this.state=20}}sPIFirstChar(){const e=this.getCodeNorm();this.nameStartCheck(e)?(this.piTarget+=String.fromCodePoint(e),this.state=24):e===P||o(e)?(this.fail("processing instruction without a target."),this.state=e===P?26:25):(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(e),this.state=24)}sPIRest(){const{chunk:e,i:t}=this;for(;;){const r=this.getCodeNorm();if(r===_)return void(this.piTarget+=e.slice(t));if(!this.nameCheck(r)){this.piTarget+=e.slice(t,this.prevI);const n=r===P;n||o(r)?"xml"===this.piTarget?(this.xmlDeclPossible||this.fail("an XML declaration must be at the start of the document."),this.state=n?S:27):this.state=n?26:25:(this.fail("disallowed character in processing instruction name."),this.piTarget+=String.fromCodePoint(r));break}}}sPIBody(){if(0===this.text.length){const e=this.getCodeNorm();e===P?this.state=26:o(e)||(this.text=String.fromCodePoint(e))}else this.captureToChar(P)&&(this.state=26)}sPIEnding(){var e;const t=this.getCodeNorm();if(t===A){const{piTarget:t}=this;"xml"===t.toLowerCase()&&this.fail("the XML declaration must appear at the start of the document."),null===(e=this.piHandler)||void 0===e||e.call(this,{target:t,body:this.text}),this.piTarget=this.text="",this.state=x}else t===P?this.text+="?":(this.text+="?".concat(String.fromCodePoint(t)),this.state=25);this.xmlDeclPossible=!1}sXMLDeclNameStart(){const e=this.skipSpaces();e!==P?e!==_&&(this.state=28,this.name=String.fromCodePoint(e)):this.state=S}sXMLDeclName(){const e=this.captureTo(F);if(e===P)return this.state=S,this.name+=this.text,this.text="",void this.fail("XML declaration is incomplete.");if(o(e)||e===E){if(this.name+=this.text,this.text="",!this.xmlDeclExpects.includes(this.name))switch(this.name.length){case 0:this.fail("did not expect any more name/value pairs.");break;case 1:this.fail("expected the name ".concat(this.xmlDeclExpects[0],"."));break;default:this.fail("expected one of ".concat(this.xmlDeclExpects.join(", ")))}this.state=e===E?30:29}}sXMLDeclEq(){const e=this.getCodeNorm();if(e===P)return this.state=S,void this.fail("XML declaration is incomplete.");o(e)||(e!==E&&this.fail("value required."),this.state=30)}sXMLDeclValueStart(){const e=this.getCodeNorm();if(e===P)return this.state=S,void this.fail("XML declaration is incomplete.");o(e)||(j(e)?this.q=e:(this.fail("value must be quoted."),this.q=32),this.state=31)}sXMLDeclValue(){const e=this.captureTo([this.q,P]);if(e===P)return this.state=S,this.text="",void this.fail("XML declaration is incomplete.");if(e===_)return;const t=this.text;switch(this.text="",this.name){case"version":{this.xmlDeclExpects=["encoding","standalone"];const e=t;this.xmlDecl.version=e,/^1\.[0-9]+$/.test(e)?this.opt.forceXMLVersion||this.setXMLVersion(e):this.fail("version number must match /^1\\.[0-9]+$/.");break}case"encoding":/^[A-Za-z][A-Za-z0-9._-]*$/.test(t)||this.fail("encoding value must match /^[A-Za-z0-9][A-Za-z0-9._-]*$/."),this.xmlDeclExpects=["standalone"],this.xmlDecl.encoding=t;break;case"standalone":"yes"!==t&&"no"!==t&&this.fail('standalone value must match "yes" or "no".'),this.xmlDeclExpects=[],this.xmlDecl.standalone=t}this.name="",this.state=32}sXMLDeclSeparator(){const e=this.getCodeNorm();e!==P?(o(e)||(this.fail("whitespace required."),this.unget()),this.state=27):this.state=S}sXMLDeclEnding(){var e;this.getCodeNorm()===A?("xml"!==this.piTarget?this.fail("processing instructions are not allowed before root."):"version"!==this.name&&this.xmlDeclExpects.includes("version")&&this.fail("XML declaration must contain a version."),null===(e=this.xmldeclHandler)||void 0===e||e.call(this,this.xmlDecl),this.name="",this.piTarget=this.text="",this.state=x):this.fail("The character ? is disallowed anywhere in XML declarations."),this.xmlDeclPossible=!1}sOpenTag(){var e;const t=this.captureNameChars();if(t===_)return;const r=this.tag={name:this.name,attributes:Object.create(null)};switch(this.name="",this.xmlnsOpt&&(this.topNS=r.ns=Object.create(null)),null===(e=this.openTagStartHandler)||void 0===e||e.call(this,r),this.sawRoot=!0,!this.fragmentOpt&&this.closedRoot&&this.fail("documents may contain only one root."),t){case A:this.openTag();break;case 47:this.state=35;break;default:o(t)||this.fail("disallowed character in tag name."),this.state=36}}sOpenTagSlash(){this.getCode()===A?this.openSelfClosingTag():(this.fail("forward-slash in opening tag not followed by >."),this.state=36)}sAttrib(){const e=this.skipSpaces();e!==_&&(c(e)?(this.unget(),this.state=37):e===A?this.openTag():47===e?this.state=35:this.fail("disallowed character in attribute name."))}sAttribName(){const e=this.captureNameChars();e===E?this.state=39:o(e)?this.state=38:e===A?(this.fail("attribute without value."),this.pushAttrib(this.name,this.name),this.name=this.text="",this.openTag()):e!==_&&this.fail("disallowed character in attribute name.")}sAttribNameSawWhite(){const e=this.skipSpaces();switch(e){case _:return;case E:this.state=39;break;default:this.fail("attribute without value."),this.text="",this.name="",e===A?this.openTag():c(e)?(this.unget(),this.state=37):(this.fail("disallowed character in attribute name."),this.state=36)}}sAttribValue(){const e=this.getCodeNorm();j(e)?(this.q=e,this.state=40):o(e)||(this.fail("unquoted attribute value."),this.state=42,this.unget())}sAttribValueQuoted(){const{q:e,chunk:t}=this;let{i:r}=this;for(;;)switch(this.getCode()){case e:return this.pushAttrib(this.name,this.text+t.slice(r,this.prevI)),this.name=this.text="",this.q=null,void(this.state=41);case 38:return this.text+=t.slice(r,this.prevI),this.state=14,void(this.entityReturnState=40);case T:case w:case 9:this.text+="".concat(t.slice(r,this.prevI)," "),r=this.i;break;case O:return this.text+=t.slice(r,this.prevI),void this.fail("disallowed character.");case _:return void(this.text+=t.slice(r))}}sAttribValueClosed(){const e=this.getCodeNorm();o(e)?this.state=36:e===A?this.openTag():47===e?this.state=35:c(e)?(this.fail("no whitespace between attributes."),this.unget(),this.state=37):this.fail("disallowed character in attribute name.")}sAttribValueUnquoted(){const e=this.captureTo(C);switch(e){case 38:this.state=14,this.entityReturnState=42;break;case O:this.fail("disallowed character.");break;case _:break;default:this.text.includes("]]>")&&this.fail('the string "]]>" is disallowed in char data.'),this.pushAttrib(this.name,this.text),this.name=this.text="",e===A?this.openTag():this.state=36}}sCloseTag(){const e=this.captureNameChars();e===A?this.closeTag():o(e)?this.state=44:e!==_&&this.fail("disallowed character in closing tag.")}sCloseTagSawWhite(){switch(this.skipSpaces()){case A:this.closeTag();break;case _:break;default:this.fail("disallowed character in closing tag.")}}handleTextInRoot(){let{i:e,forbiddenState:t}=this;const{chunk:r,textHandler:n}=this;e:for(;;)switch(this.getCode()){case O:if(this.state=15,void 0!==n){const{text:t}=this,i=r.slice(e,this.prevI);0!==t.length?(n(t+i),this.text=""):0!==i.length&&n(i)}t=0;break e;case 38:this.state=14,this.entityReturnState=x,void 0!==n&&(this.text+=r.slice(e,this.prevI)),t=0;break e;case N:switch(t){case 0:t=1;break;case 1:t=2;break;case 2:break;default:throw new Error("impossible state")}break;case A:2===t&&this.fail('the string "]]>" is disallowed in char data.'),t=0;break;case w:void 0!==n&&(this.text+="".concat(r.slice(e,this.prevI),"\n")),e=this.i,t=0;break;case _:void 0!==n&&(this.text+=r.slice(e));break e;default:t=0}this.forbiddenState=t}handleTextOutsideRoot(){let{i:e}=this;const{chunk:t,textHandler:r}=this;let n=!1;e:for(;;){const i=this.getCode();switch(i){case O:if(this.state=15,void 0!==r){const{text:n}=this,i=t.slice(e,this.prevI);0!==n.length?(r(n+i),this.text=""):0!==i.length&&r(i)}break e;case 38:this.state=14,this.entityReturnState=x,void 0!==r&&(this.text+=t.slice(e,this.prevI)),n=!0;break e;case w:void 0!==r&&(this.text+="".concat(t.slice(e,this.prevI),"\n")),e=this.i;break;case _:void 0!==r&&(this.text+=t.slice(e));break e;default:o(i)||(n=!0)}}n&&(this.sawRoot||this.reportedTextBeforeRoot||(this.fail("text data outside of root node."),this.reportedTextBeforeRoot=!0),this.closedRoot&&!this.reportedTextAfterRoot&&(this.fail("text data outside of root node."),this.reportedTextAfterRoot=!0))}pushAttribNS(e,t){var r;const{prefix:n,local:i}=this.qname(e),a={name:e,prefix:n,local:i,value:t};if(this.attribList.push(a),null===(r=this.attributeHandler)||void 0===r||r.call(this,a),"xmlns"===n){const e=t.trim();"1.0"===this.currentXMLVersion&&""===e&&this.fail("invalid attempt to undefine prefix in XML 1.0"),this.topNS[i]=e,M(this,i,e)}else if("xmlns"===e){const e=t.trim();this.topNS[""]=e,M(this,"",e)}}pushAttribPlain(e,t){var r;const n={name:e,value:t};this.attribList.push(n),null===(r=this.attributeHandler)||void 0===r||r.call(this,n)}end(){var e,t;this.sawRoot||this.fail("document must contain a root element.");const{tags:r}=this;for(;r.length>0;){const e=r.pop();this.fail("unclosed tag: ".concat(e.name))}0!==this.state&&this.state!==x&&this.fail("unexpected end.");const{text:n}=this;return 0!==n.length&&(null===(e=this.textHandler)||void 0===e||e.call(this,n),this.text=""),this._closed=!0,null===(t=this.endHandler)||void 0===t||t.call(this),this._init(),this}resolve(e){var t,r;let n=this.topNS[e];if(void 0!==n)return n;const{tags:i}=this;for(let a=i.length-1;a>=0;a--)if(n=i[a].ns[e],void 0!==n)return n;return n=this.ns[e],void 0!==n?n:null===(r=(t=this.opt).resolvePrefix)||void 0===r?void 0:r.call(t,e)}qname(e){const t=e.indexOf(":");if(-1===t)return{prefix:"",local:e};const r=e.slice(t+1),n=e.slice(0,t);return(""===n||""===r||r.includes(":"))&&this.fail("malformed name: ".concat(e,".")),{prefix:n,local:r}}processAttribsNS(){var e;const{attribList:t}=this,r=this.tag;{const{prefix:t,local:n}=this.qname(r.name);r.prefix=t,r.local=n;const i=r.uri=null!==(e=this.resolve(t))&&void 0!==e?e:"";""!==t&&("xmlns"===t&&this.fail('tags may not have "xmlns" as prefix.'),""===i&&(this.fail("unbound namespace prefix: ".concat(JSON.stringify(t),".")),r.uri=t))}if(0===t.length)return;const{attributes:n}=r,i=new Set;for(const a of t){const{name:e,prefix:t,local:r}=a;let o,s;""===t?(o="xmlns"===e?m:"",s=e):(o=this.resolve(t),void 0===o&&(this.fail("unbound namespace prefix: ".concat(JSON.stringify(t),".")),o=t),s="{".concat(o,"}").concat(r)),i.has(s)&&this.fail("duplicate attribute: ".concat(s,".")),i.add(s),a.uri=o,n[e]=a}this.attribList=[]}processAttribsPlain(){const{attribList:e}=this,t=this.tag.attributes;for(const{name:r,value:n}of e)void 0!==t[r]&&this.fail("duplicate attribute: ".concat(r,".")),t[r]=n;this.attribList=[]}openTag(){var e;this.processAttribs();const{tags:t}=this,r=this.tag;r.isSelfClosing=!1,null===(e=this.openTagHandler)||void 0===e||e.call(this,r),t.push(r),this.state=x,this.name=""}openSelfClosingTag(){var e,t,r;this.processAttribs();const{tags:n}=this,i=this.tag;i.isSelfClosing=!0,null===(e=this.openTagHandler)||void 0===e||e.call(this,i),null===(t=this.closeTagHandler)||void 0===t||t.call(this,i);null===(this.tag=null!==(r=n[n.length-1])&&void 0!==r?r:null)&&(this.closedRoot=!0),this.state=x,this.name=""}closeTag(){const{tags:e,name:t}=this;if(this.state=x,this.name="",""===t)return this.fail("weird empty close tag."),void(this.text+="</>");const r=this.closeTagHandler;let n=e.length;for(;n-- >0;){const n=this.tag=e.pop();if(this.topNS=n.ns,null===r||void 0===r||r(n),n.name===t)break;this.fail("unexpected close tag.")}0===n?this.closedRoot=!0:n<0&&(this.fail("unmatched closing tag: ".concat(t,".")),this.text+="</".concat(t,">"))}parseEntity(e){if("#"!==e[0]){const t=this.ENTITIES[e];return void 0!==t?t:(this.fail(this.isName(e)?"undefined entity.":"disallowed character in entity name."),"&".concat(e,";"))}let t=NaN;return"x"===e[1]&&/^#x[0-9a-f]+$/i.test(e)?t=parseInt(e.slice(2),16):/^#[0-9]+$/.test(e)&&(t=parseInt(e.slice(1),10)),this.isChar(t)?String.fromCodePoint(t):(this.fail("malformed character entity."),"&".concat(e,";"))}}},540:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(72417),t)},656:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedNode=void 0;t.NamedNode=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}}},856:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(71962),t)},975:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorNumber=void 0;const n=r(13953);class i extends n.Mediator{constructor(e){super(e),this.indexPicker=this.createIndexPicker()}createIndexPicker(){switch(this.type){case"min":return e=>e.reduce((e,t,r)=>{const n=this.getOrDefault(t[this.field],Number.POSITIVE_INFINITY);return null!==n&&(Number.isNaN(e[0])||e[0]>n)?[n,r]:e},[Number.NaN,-1])[1];case"max":return e=>e.reduce((e,t,r)=>{const n=this.getOrDefault(t[this.field],Number.NEGATIVE_INFINITY);return null!==n&&(Number.isNaN(e[0])||e[0]<n)?[n,r]:e},[Number.NaN,-1])[1];default:throw new Error("No valid \"type\" value was given, must be either 'min' or 'max', but got: ".concat(this.type))}}getOrDefault(e,t){return void 0===e?t:e}async mediateWith(e,t){let r=await Promise.all(t.map(e=>{let{reply:t}=e;return t}));const i=[];if(this.ignoreFailures){const e={};e[this.field]=null,r=r.map(t=>t.isFailed()?(i.push(t.getFailMessage()),(0,n.passTestWithSideData)(e,void 0)):t)}const a=[],o=r.map((e,t)=>{const r=e.getOrThrow();return a[t]=e.getSideData(),r}),s=this.indexPicker(o);return s<0?(0,n.failTest)(this.constructFailureMessage(e,i)):(0,n.passTestWithSideData)(t[s].actor,a[s])}}t.MediatorNumber=i},1104:function(e,t,r){"use strict";var n=this&&this.__asyncValues||function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,r=e[Symbol.asyncIterator];return r?r.call(e):(e="function"===typeof __values?__values(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(r){t[r]=e[r]&&function(t){return new Promise(function(n,i){(function(e,t,r,n){Promise.resolve(n).then(function(t){e({value:t,done:r})},t)})(n,i,(t=e[r](t)).done,t.value)})}}},i=this&&this.__await||function(e){return this instanceof i?(this.v=e,this):new i(e)},a=this&&this.__asyncGenerator||function(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,a=r.apply(e,t||[]),o=[];return n={},s("next"),s("throw"),s("return"),n[Symbol.asyncIterator]=function(){return this},n;function s(e){a[e]&&(n[e]=function(t){return new Promise(function(r,n){o.push([e,t,r,n])>1||c(e,t)})})}function c(e,t){try{(r=a[e](t)).value instanceof i?Promise.resolve(r.value.v).then(l,u):d(o[0][2],r)}catch(n){d(o[0][3],n)}var r}function l(e){c("next",e)}function u(e){c("throw",e)}function d(e,t){e(t),o.shift(),o.length&&c(o[0][0],o[0][1])}};Object.defineProperty(t,"__esModule",{value:!0}),t.StreamingStore=void 0;const o=r(73514),s=r(94051),c=r(84125);class l{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o.Store;this.pendingStreams=new c.PendingStreamsIndex,this.ended=!1,this.listeners=[],this.store=e}addEndListener(e){this.listeners.push(e)}emitEndEvent(){for(const e of this.listeners)e()}hasEnded(){return this.ended}end(){this.ended=!0;for(const e of this.pendingStreams.allStreams)e.push(null);this.emitEndEvent()}importToListeners(e){e.on("data",e=>{if(!this.ended&&!this.store.countQuads(e.subject,e.predicate,e.object,e.graph))for(const t of this.pendingStreams.getPendingStreamsForQuad(e))t.emit("quad",e),t.isInitialized&&t.push(e)})}static concatStreams(e){return a(this,arguments,function*(){var t,r,a,o;for(const d of e)try{for(var s,c=!0,l=(r=void 0,n(d));!(t=(s=yield i(l.next())).done);){o=s.value,c=!1;try{const e=o;yield yield i(e)}finally{c=!0}}}catch(u){r={error:u}}finally{try{c||t||!(a=l.return)||(yield i(a.call(l)))}finally{if(r)throw r.error}}})}import(e){if(this.ended)throw new Error("Attempted to import into an ended StreamingStore");return this.importToListeners(e),this.store.import(e)}match(e,t,r,n){const i=this.store.match(e,t,r,n);let a=i;if(!this.ended){const o=new s.PassThrough({objectMode:!0});this.pendingStreams.addPatternListener(o,e,t,r,n),a=s.Readable.from(l.concatStreams([i,o])),o.on("quad",e=>{a.emit("quad",e)}),a._pipeSource=i;const c=i._read;i._read=e=>{o.isInitialized=!0,c.call(i,e)}}return a}getStore(){return this.store}}t.StreamingStore=l},1140:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(13993),t)},1194:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV1State=void 0;const n=r(92566),i=r(34498),a={};function o(e,t,r){var n,i;return null!==(n=e.msecs)&&void 0!==n||(e.msecs=-1/0),null!==(i=e.nsecs)&&void 0!==i||(e.nsecs=0),t===e.msecs?(e.nsecs++,e.nsecs>=1e4&&(e.node=void 0,e.nsecs=0)):t>e.msecs?e.nsecs=0:t<e.msecs&&(e.node=void 0),e.node||(e.node=r.slice(10,16),e.node[0]|=1,e.clockseq=16383&(r[8]<<8|r[9])),e.msecs=t,e}function s(e,t,r,n,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(e.length<16)throw new Error("Random bytes length must be >= 16");if(a){if(o<0||o+16>a.length)throw new RangeError("UUID byte range ".concat(o,":").concat(o+15," is out of buffer bounds"))}else a=new Uint8Array(16),o=0;null!==t&&void 0!==t||(t=Date.now()),null!==r&&void 0!==r||(r=0),null!==n&&void 0!==n||(n=16383&(e[8]<<8|e[9])),null!==i&&void 0!==i||(i=e.slice(10,16));const s=(1e4*(268435455&(t+=122192928e5))+r)%4294967296;a[o++]=s>>>24&255,a[o++]=s>>>16&255,a[o++]=s>>>8&255,a[o++]=255&s;const c=t/4294967296*1e4&268435455;a[o++]=c>>>8&255,a[o++]=255&c,a[o++]=c>>>24&15|16,a[o++]=c>>>16&255,a[o++]=n>>>8|128,a[o++]=255&n;for(let l=0;l<6;++l)a[o++]=i[l];return a}t.updateV1State=o,t.default=function(e,t,r){var c,l;let u;const d=null!==(c=null===(l=e)||void 0===l?void 0:l._v6)&&void 0!==c&&c;if(e){const t=Object.keys(e);1===t.length&&"_v6"===t[0]&&(e=void 0)}if(e){var h,p,f,g;u=s(null!==(h=null!==(p=e.random)&&void 0!==p?p:null===(f=(g=e).rng)||void 0===f?void 0:f.call(g))&&void 0!==h?h:(0,n.default)(),e.msecs,e.nsecs,e.clockseq,e.node,t,r)}else{const e=Date.now(),i=(0,n.default)();o(a,e,i),u=s(i,a.msecs,a.nsecs,d?void 0:a.clockseq,d?void 0:a.node,t,r)}return null!==t&&void 0!==t?t:(0,i.unsafeStringify)(u)}},1260:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(56217),t)},1400:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FetchDocumentLoader=void 0;const n=r(20489),i=r(76915),a=r(67323);t.FetchDocumentLoader=class{constructor(e){this.fetcher=e}async load(e){const t=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(t.ok&&t.headers){let r=t.headers.get("Content-Type");if(r){const e=r.indexOf(";");e>0&&(r=r.substr(0,e))}if("application/ld+json"===r)return await t.json();if(t.headers.has("Link")){let r;if(t.headers.forEach((t,n)=>{if("link"===n){const n=(0,i.parse)(t);for(const t of n.get("type","application/ld+json"))if("alternate"===t.rel){if(r)throw new Error("Multiple JSON-LD alternate links were found on "+e);r=(0,a.resolve)(t.uri,e)}}}),r)return this.load(r)}throw new n.ErrorCoded("Unsupported JSON-LD media type ".concat(r),n.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(t.statusText||"Status code: ".concat(t.status))}}},1515:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinEntriesSortCardinality=void 0;const n=r(53664),i=r(13953);class a extends n.ActorRdfJoinEntriesSort{constructor(e){super(e)}async test(e){return(0,i.passTest)({accuracy:0===e.entries.length?1:e.entries.reduce((e,t)=>e+(Number.isFinite(t.metadata.cardinality.value)?1:0),0)/e.entries.length})}async run(e){return{entries:[...e.entries].sort((e,t)=>e.metadata.cardinality.value-t.metadata.cardinality.value)}}}t.ActorRdfJoinEntriesSortCardinality=a},1521:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(32582),t),i(r(64797),t),i(r(68676),t),i(r(56170),t),i(r(58801),t)},1591:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(75078),t)},1773:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionNot=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.NOT,overloads:(0,i.declare)(i.SparqlOperator.NOT).onTerm1(()=>e=>(0,i.bool)(!e.coerceEBV())).collect()})}}t.TermFunctionNot=a},1805:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(73514);class i extends n.Store{getQuadsOnce(e,t,r,n){const i=this.getQuads(e,t,r,n);return this.removeQuads(i),i}getSubjectsOnce(e,t,r){return this.getQuadsOnce(null,e,t,r).map(e=>e.subject)}getObjectsOnce(e,t,r){return this.getQuadsOnce(e,t,null,r).map(e=>e.object)}}t.default=i},1825:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionXsdToDayTimeDuration=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.TypeURL.XSD_DAY_TIME_DURATION,overloads:(0,i.declare)(i.TypeURL.XSD_DAY_TIME_DURATION).onUnary(i.TypeURL.XSD_DURATION,()=>e=>new i.DayTimeDurationLiteral((0,i.trimToDayTimeDuration)(e.typedValue))).onStringly1(()=>e=>new i.DayTimeDurationLiteral((0,i.parseDayTimeDuration)(e.str()))).collect()})}}t.TermFunctionXsdToDayTimeDuration=a},1859:(e,t,r)=>{"use strict";var n=r(97643),i=r(12629),a=n.rotl32,o=n.sum32,s=n.sum32_3,c=n.sum32_4,l=i.BlockHash;function u(){if(!(this instanceof u))return new u;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function d(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function h(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function p(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}n.inherits(u,l),t.ripemd160=u,u.blockSize=512,u.outSize=160,u.hmacStrength=192,u.padLength=64,u.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],l=this.h[3],u=this.h[4],v=r,b=n,_=i,w=l,x=u,S=0;S<80;S++){var T=o(a(c(r,d(S,n,i,l),e[f[S]+t],h(S)),y[S]),u);r=u,u=l,l=a(i,10),i=n,n=T,T=o(a(c(v,d(79-S,b,_,w),e[g[S]+t],p(S)),m[S]),x),v=x,x=w,w=a(_,10),_=b,b=T}T=s(this.h[1],i,w),this.h[1]=s(this.h[2],l,x),this.h[2]=s(this.h[3],u,v),this.h[3]=s(this.h[4],r,b),this.h[4]=s(this.h[0],n,_),this.h[0]=T},u.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"little"):n.split32(this.h,"little")};var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],m=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},1991:function(e,t,r){var n;!function(){"use strict";var i,a=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,s=Math.floor,c="[BigNumber Error] ",l=c+"Number primitive has more than 15 significant digits: ",u=1e14,d=14,h=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7,g=1e9;function y(e){var t=0|e;return e>0||e===t?t:t-1}function m(e){for(var t,r,n=1,i=e.length,a=e[0]+"";n<i;){for(t=e[n++]+"",r=d-t.length;r--;t="0"+t);a+=t}for(i=a.length;48===a.charCodeAt(--i););return a.slice(0,i+1||1)}function v(e,t){var r,n,i=e.c,a=t.c,o=e.s,s=t.s,c=e.e,l=t.e;if(!o||!s)return null;if(r=i&&!i[0],n=a&&!a[0],r||n)return r?n?0:-s:o;if(o!=s)return o;if(r=o<0,n=c==l,!i||!a)return n?0:!i^r?1:-1;if(!n)return c>l^r?1:-1;for(s=(c=i.length)<(l=a.length)?c:l,o=0;o<s;o++)if(i[o]!=a[o])return i[o]>a[o]^r?1:-1;return c==l?0:c>l^r?1:-1}function b(e,t,r,n){if(e<t||e>r||e!==s(e))throw Error(c+(n||"Argument")+("number"==typeof e?e<t||e>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function _(e){var t=e.c.length-1;return y(e.e/d)==t&&e.c[t]%2!=0}function w(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function x(e,t,r){var n,i;if(t<0){for(i=r+".";++t;i+=r);e=i+e}else if(++t>(n=e.length)){for(i=r,t-=n;--t;i+=r);e+=i}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}i=function e(t){var r,n,i,S=k.prototype={constructor:k,toString:null,valueOf:null},T=new k(1),O=20,E=4,A=-7,P=21,N=-1e7,j=1e7,D=!1,R=1,I=0,F={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},C="0123456789abcdefghijklmnopqrstuvwxyz",M=!0;function k(e,t){var r,o,c,u,p,f,g,y,m=this;if(!(m instanceof k))return new k(e,t);if(null==t){if(e&&!0===e._isBigNumber)return m.s=e.s,void(!e.c||e.e>j?m.c=m.e=null:e.e<N?m.c=[m.e=0]:(m.e=e.e,m.c=e.c.slice()));if((f="number"==typeof e)&&0*e==0){if(m.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,p=e;p>=10;p/=10,u++);return void(u>j?m.c=m.e=null:(m.e=u,m.c=[e]))}y=String(e)}else{if(!a.test(y=String(e)))return i(m,y,f);m.s=45==y.charCodeAt(0)?(y=y.slice(1),-1):1}(u=y.indexOf("."))>-1&&(y=y.replace(".","")),(p=y.search(/e/i))>0?(u<0&&(u=p),u+=+y.slice(p+1),y=y.substring(0,p)):u<0&&(u=y.length)}else{if(b(t,2,C.length,"Base"),10==t&&M)return V(m=new k(e),O+m.e+1,E);if(y=String(e),f="number"==typeof e){if(0*e!=0)return i(m,y,f,t);if(m.s=1/e<0?(y=y.slice(1),-1):1,k.DEBUG&&y.replace(/^0\.0*|\./,"").length>15)throw Error(l+e)}else m.s=45===y.charCodeAt(0)?(y=y.slice(1),-1):1;for(r=C.slice(0,t),u=p=0,g=y.length;p<g;p++)if(r.indexOf(o=y.charAt(p))<0){if("."==o){if(p>u){u=g;continue}}else if(!c&&(y==y.toUpperCase()&&(y=y.toLowerCase())||y==y.toLowerCase()&&(y=y.toUpperCase()))){c=!0,p=-1,u=0;continue}return i(m,String(e),f,t)}f=!1,(u=(y=n(y,t,10,m.s)).indexOf("."))>-1?y=y.replace(".",""):u=y.length}for(p=0;48===y.charCodeAt(p);p++);for(g=y.length;48===y.charCodeAt(--g););if(y=y.slice(p,++g)){if(g-=p,f&&k.DEBUG&&g>15&&(e>h||e!==s(e)))throw Error(l+m.s*e);if((u=u-p-1)>j)m.c=m.e=null;else if(u<N)m.c=[m.e=0];else{if(m.e=u,m.c=[],p=(u+1)%d,u<0&&(p+=d),p<g){for(p&&m.c.push(+y.slice(0,p)),g-=d;p<g;)m.c.push(+y.slice(p,p+=d));p=d-(y=y.slice(p)).length}else p-=g;for(;p--;y+="0");m.c.push(+y)}}else m.c=[m.e=0]}function L(e,t,r,n){var i,a,o,s,c;if(null==r?r=E:b(r,0,8),!e.c)return e.toString();if(i=e.c[0],o=e.e,null==t)c=m(e.c),c=1==n||2==n&&(o<=A||o>=P)?w(c,o):x(c,o,"0");else if(a=(e=V(new k(e),t,r)).e,s=(c=m(e.c)).length,1==n||2==n&&(t<=a||a<=A)){for(;s<t;c+="0",s++);c=w(c,a)}else if(t-=o+(2===n&&a>o),c=x(c,a,"0"),a+1>s){if(--t>0)for(c+=".";t--;c+="0");}else if((t+=a-s)>0)for(a+1==s&&(c+=".");t--;c+="0");return e.s<0&&i?"-"+c:c}function B(e,t){for(var r,n,i=1,a=new k(e[0]);i<e.length;i++)(!(n=new k(e[i])).s||(r=v(a,n))===t||0===r&&a.s===t)&&(a=n);return a}function U(e,t,r){for(var n=1,i=t.length;!t[--i];t.pop());for(i=t[0];i>=10;i/=10,n++);return(r=n+r*d-1)>j?e.c=e.e=null:r<N?e.c=[e.e=0]:(e.e=r,e.c=t),e}function V(e,t,r,n){var i,a,c,l,h,f,g,y=e.c,m=p;if(y){e:{for(i=1,l=y[0];l>=10;l/=10,i++);if((a=t-i)<0)a+=d,c=t,h=y[f=0],g=s(h/m[i-c-1]%10);else if((f=o((a+1)/d))>=y.length){if(!n)break e;for(;y.length<=f;y.push(0));h=g=0,i=1,c=(a%=d)-d+1}else{for(h=l=y[f],i=1;l>=10;l/=10,i++);g=(c=(a%=d)-d+i)<0?0:s(h/m[i-c-1]%10)}if(n=n||t<0||null!=y[f+1]||(c<0?h:h%m[i-c-1]),n=r<4?(g||n)&&(0==r||r==(e.s<0?3:2)):g>5||5==g&&(4==r||n||6==r&&(a>0?c>0?h/m[i-c]:0:y[f-1])%10&1||r==(e.s<0?8:7)),t<1||!y[0])return y.length=0,n?(t-=e.e+1,y[0]=m[(d-t%d)%d],e.e=-t||0):y[0]=e.e=0,e;if(0==a?(y.length=f,l=1,f--):(y.length=f+1,l=m[d-a],y[f]=c>0?s(h/m[i-c]%m[c])*l:0),n)for(;;){if(0==f){for(a=1,c=y[0];c>=10;c/=10,a++);for(c=y[0]+=l,l=1;c>=10;c/=10,l++);a!=l&&(e.e++,y[0]==u&&(y[0]=1));break}if(y[f]+=l,y[f]!=u)break;y[f--]=0,l=1}for(a=y.length;0===y[--a];y.pop());}e.e>j?e.c=e.e=null:e.e<N&&(e.c=[e.e=0])}return e}function z(e){var t,r=e.e;return null===r?e.toString():(t=m(e.c),t=r<=A||r>=P?w(t,r):x(t,r,"0"),e.s<0?"-"+t:t)}return k.clone=e,k.ROUND_UP=0,k.ROUND_DOWN=1,k.ROUND_CEIL=2,k.ROUND_FLOOR=3,k.ROUND_HALF_UP=4,k.ROUND_HALF_DOWN=5,k.ROUND_HALF_EVEN=6,k.ROUND_HALF_CEIL=7,k.ROUND_HALF_FLOOR=8,k.EUCLID=9,k.config=k.set=function(e){var t,r;if(null!=e){if("object"!=typeof e)throw Error(c+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(b(r=e[t],0,g,t),O=r),e.hasOwnProperty(t="ROUNDING_MODE")&&(b(r=e[t],0,8,t),E=r),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((r=e[t])&&r.pop?(b(r[0],-g,0,t),b(r[1],0,g,t),A=r[0],P=r[1]):(b(r,-g,g,t),A=-(P=r<0?-r:r))),e.hasOwnProperty(t="RANGE"))if((r=e[t])&&r.pop)b(r[0],-g,-1,t),b(r[1],1,g,t),N=r[0],j=r[1];else{if(b(r,-g,g,t),!r)throw Error(c+t+" cannot be zero: "+r);N=-(j=r<0?-r:r)}if(e.hasOwnProperty(t="CRYPTO")){if((r=e[t])!==!!r)throw Error(c+t+" not true or false: "+r);if(r){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw D=!r,Error(c+"crypto unavailable");D=r}else D=r}if(e.hasOwnProperty(t="MODULO_MODE")&&(b(r=e[t],0,9,t),R=r),e.hasOwnProperty(t="POW_PRECISION")&&(b(r=e[t],0,g,t),I=r),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(r=e[t]))throw Error(c+t+" not an object: "+r);F=r}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(r=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(r))throw Error(c+t+" invalid: "+r);M="0123456789"==r.slice(0,10),C=r}}return{DECIMAL_PLACES:O,ROUNDING_MODE:E,EXPONENTIAL_AT:[A,P],RANGE:[N,j],CRYPTO:D,MODULO_MODE:R,POW_PRECISION:I,FORMAT:F,ALPHABET:C}},k.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!k.DEBUG)return!0;var t,r,n=e.c,i=e.e,a=e.s;e:if("[object Array]"=={}.toString.call(n)){if((1===a||-1===a)&&i>=-g&&i<=g&&i===s(i)){if(0===n[0]){if(0===i&&1===n.length)return!0;break e}if((t=(i+1)%d)<1&&(t+=d),String(n[0]).length==t){for(t=0;t<n.length;t++)if((r=n[t])<0||r>=u||r!==s(r))break e;if(0!==r)return!0}}}else if(null===n&&null===i&&(null===a||1===a||-1===a))return!0;throw Error(c+"Invalid BigNumber: "+e)},k.maximum=k.max=function(){return B(arguments,-1)},k.minimum=k.min=function(){return B(arguments,1)},k.random=function(){var e=9007199254740992,t=Math.random()*e&2097151?function(){return s(Math.random()*e)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)};return function(e){var r,n,i,a,l,u=0,h=[],f=new k(T);if(null==e?e=O:b(e,0,g),a=o(e/d),D)if(crypto.getRandomValues){for(r=crypto.getRandomValues(new Uint32Array(a*=2));u<a;)(l=131072*r[u]+(r[u+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),r[u]=n[0],r[u+1]=n[1]):(h.push(l%1e14),u+=2);u=a/2}else{if(!crypto.randomBytes)throw D=!1,Error(c+"crypto unavailable");for(r=crypto.randomBytes(a*=7);u<a;)(l=281474976710656*(31&r[u])+1099511627776*r[u+1]+4294967296*r[u+2]+16777216*r[u+3]+(r[u+4]<<16)+(r[u+5]<<8)+r[u+6])>=9e15?crypto.randomBytes(7).copy(r,u):(h.push(l%1e14),u+=7);u=a/7}if(!D)for(;u<a;)(l=t())<9e15&&(h[u++]=l%1e14);for(a=h[--u],e%=d,a&&e&&(l=p[d-e],h[u]=s(a/l)*l);0===h[u];h.pop(),u--);if(u<0)h=[i=0];else{for(i=-1;0===h[0];h.splice(0,1),i-=d);for(u=1,l=h[0];l>=10;l/=10,u++);u<d&&(i-=d-u)}return f.e=i,f.c=h,f}}(),k.sum=function(){for(var e=1,t=arguments,r=new k(t[0]);e<t.length;)r=r.plus(t[e++]);return r},n=function(){var e="0123456789";function t(e,t,r,n){for(var i,a,o=[0],s=0,c=e.length;s<c;){for(a=o.length;a--;o[a]*=t);for(o[0]+=n.indexOf(e.charAt(s++)),i=0;i<o.length;i++)o[i]>r-1&&(null==o[i+1]&&(o[i+1]=0),o[i+1]+=o[i]/r|0,o[i]%=r)}return o.reverse()}return function(n,i,a,o,s){var c,l,u,d,h,p,f,g,y=n.indexOf("."),v=O,b=E;for(y>=0&&(d=I,I=0,n=n.replace(".",""),p=(g=new k(i)).pow(n.length-y),I=d,g.c=t(x(m(p.c),p.e,"0"),10,a,e),g.e=g.c.length),u=d=(f=t(n,i,a,s?(c=C,e):(c=e,C))).length;0==f[--d];f.pop());if(!f[0])return c.charAt(0);if(y<0?--u:(p.c=f,p.e=u,p.s=o,f=(p=r(p,g,v,b,a)).c,h=p.r,u=p.e),y=f[l=u+v+1],d=a/2,h=h||l<0||null!=f[l+1],h=b<4?(null!=y||h)&&(0==b||b==(p.s<0?3:2)):y>d||y==d&&(4==b||h||6==b&&1&f[l-1]||b==(p.s<0?8:7)),l<1||!f[0])n=h?x(c.charAt(1),-v,c.charAt(0)):c.charAt(0);else{if(f.length=l,h)for(--a;++f[--l]>a;)f[l]=0,l||(++u,f=[1].concat(f));for(d=f.length;!f[--d];);for(y=0,n="";y<=d;n+=c.charAt(f[y++]));n=x(n,u,c.charAt(0))}return n}}(),r=function(){function e(e,t,r){var n,i,a,o,s=0,c=e.length,l=t%f,u=t/f|0;for(e=e.slice();c--;)s=((i=l*(a=e[c]%f)+(n=u*a+(o=e[c]/f|0)*l)%f*f+s)/r|0)+(n/f|0)+u*o,e[c]=i%r;return s&&(e=[s].concat(e)),e}function t(e,t,r,n){var i,a;if(r!=n)a=r>n?1:-1;else for(i=a=0;i<r;i++)if(e[i]!=t[i]){a=e[i]>t[i]?1:-1;break}return a}function r(e,t,r,n){for(var i=0;r--;)e[r]-=i,i=e[r]<t[r]?1:0,e[r]=i*n+e[r]-t[r];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(n,i,a,o,c){var l,h,p,f,g,m,v,b,_,w,x,S,T,O,E,A,P,N=n.s==i.s?1:-1,j=n.c,D=i.c;if(!j||!j[0]||!D||!D[0])return new k(n.s&&i.s&&(j?!D||j[0]!=D[0]:D)?j&&0==j[0]||!D?0*N:N/0:NaN);for(_=(b=new k(N)).c=[],N=a+(h=n.e-i.e)+1,c||(c=u,h=y(n.e/d)-y(i.e/d),N=N/d|0),p=0;D[p]==(j[p]||0);p++);if(D[p]>(j[p]||0)&&h--,N<0)_.push(1),f=!0;else{for(O=j.length,A=D.length,p=0,N+=2,(g=s(c/(D[0]+1)))>1&&(D=e(D,g,c),j=e(j,g,c),A=D.length,O=j.length),T=A,x=(w=j.slice(0,A)).length;x<A;w[x++]=0);P=D.slice(),P=[0].concat(P),E=D[0],D[1]>=c/2&&E++;do{if(g=0,(l=t(D,w,A,x))<0){if(S=w[0],A!=x&&(S=S*c+(w[1]||0)),(g=s(S/E))>1)for(g>=c&&(g=c-1),v=(m=e(D,g,c)).length,x=w.length;1==t(m,w,v,x);)g--,r(m,A<v?P:D,v,c),v=m.length,l=1;else 0==g&&(l=g=1),v=(m=D.slice()).length;if(v<x&&(m=[0].concat(m)),r(w,m,x,c),x=w.length,-1==l)for(;t(D,w,A,x)<1;)g++,r(w,A<x?P:D,x,c),x=w.length}else 0===l&&(g++,w=[0]);_[p++]=g,w[0]?w[x++]=j[T]||0:(w=[j[T]],x=1)}while((T++<O||null!=w[0])&&N--);f=null!=w[0],_[0]||_.splice(0,1)}if(c==u){for(p=1,N=_[0];N>=10;N/=10,p++);V(b,a+(b.e=p+h*d-1)+1,o,f)}else b.e=h,b.r=+f;return b}}(),i=function(){var e=/^(-?)0([xbo])(?=\w[\w.]*$)/i,t=/^([^.]+)\.$/,r=/^\.([^.]+)$/,n=/^-?(Infinity|NaN)$/,i=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(a,o,s,l){var u,d=s?o:o.replace(i,"");if(n.test(d))a.s=isNaN(d)?null:d<0?-1:1;else{if(!s&&(d=d.replace(e,function(e,t,r){return u="x"==(r=r.toLowerCase())?16:"b"==r?2:8,l&&l!=u?e:t}),l&&(u=l,d=d.replace(t,"$1").replace(r,"0.$1")),o!=d))return new k(d,u);if(k.DEBUG)throw Error(c+"Not a"+(l?" base "+l:"")+" number: "+o);a.s=null}a.c=a.e=null}}(),S.absoluteValue=S.abs=function(){var e=new k(this);return e.s<0&&(e.s=1),e},S.comparedTo=function(e,t){return v(this,new k(e,t))},S.decimalPlaces=S.dp=function(e,t){var r,n,i,a=this;if(null!=e)return b(e,0,g),null==t?t=E:b(t,0,8),V(new k(a),e+a.e+1,t);if(!(r=a.c))return null;if(n=((i=r.length-1)-y(this.e/d))*d,i=r[i])for(;i%10==0;i/=10,n--);return n<0&&(n=0),n},S.dividedBy=S.div=function(e,t){return r(this,new k(e,t),O,E)},S.dividedToIntegerBy=S.idiv=function(e,t){return r(this,new k(e,t),0,1)},S.exponentiatedBy=S.pow=function(e,t){var r,n,i,a,l,u,h,p,f=this;if((e=new k(e)).c&&!e.isInteger())throw Error(c+"Exponent not an integer: "+z(e));if(null!=t&&(t=new k(t)),l=e.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!e.c||!e.c[0])return p=new k(Math.pow(+z(f),l?e.s*(2-_(e)):+z(e))),t?p.mod(t):p;if(u=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new k(NaN);(n=!u&&f.isInteger()&&t.isInteger())&&(f=f.mod(t))}else{if(e.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||l&&f.c[1]>=24e7:f.c[0]<8e13||l&&f.c[0]<=9999975e7)))return a=f.s<0&&_(e)?-0:0,f.e>-1&&(a=1/a),new k(u?1/a:a);I&&(a=o(I/d+2))}for(l?(r=new k(.5),u&&(e.s=1),h=_(e)):h=(i=Math.abs(+z(e)))%2,p=new k(T);;){if(h){if(!(p=p.times(f)).c)break;a?p.c.length>a&&(p.c.length=a):n&&(p=p.mod(t))}if(i){if(0===(i=s(i/2)))break;h=i%2}else if(V(e=e.times(r),e.e+1,1),e.e>14)h=_(e);else{if(0===(i=+z(e)))break;h=i%2}f=f.times(f),a?f.c&&f.c.length>a&&(f.c.length=a):n&&(f=f.mod(t))}return n?p:(u&&(p=T.div(p)),t?p.mod(t):a?V(p,I,E,undefined):p)},S.integerValue=function(e){var t=new k(this);return null==e?e=E:b(e,0,8),V(t,t.e+1,e)},S.isEqualTo=S.eq=function(e,t){return 0===v(this,new k(e,t))},S.isFinite=function(){return!!this.c},S.isGreaterThan=S.gt=function(e,t){return v(this,new k(e,t))>0},S.isGreaterThanOrEqualTo=S.gte=function(e,t){return 1===(t=v(this,new k(e,t)))||0===t},S.isInteger=function(){return!!this.c&&y(this.e/d)>this.c.length-2},S.isLessThan=S.lt=function(e,t){return v(this,new k(e,t))<0},S.isLessThanOrEqualTo=S.lte=function(e,t){return-1===(t=v(this,new k(e,t)))||0===t},S.isNaN=function(){return!this.s},S.isNegative=function(){return this.s<0},S.isPositive=function(){return this.s>0},S.isZero=function(){return!!this.c&&0==this.c[0]},S.minus=function(e,t){var r,n,i,a,o=this,s=o.s;if(t=(e=new k(e,t)).s,!s||!t)return new k(NaN);if(s!=t)return e.s=-t,o.plus(e);var c=o.e/d,l=e.e/d,h=o.c,p=e.c;if(!c||!l){if(!h||!p)return h?(e.s=-t,e):new k(p?o:NaN);if(!h[0]||!p[0])return p[0]?(e.s=-t,e):new k(h[0]?o:3==E?-0:0)}if(c=y(c),l=y(l),h=h.slice(),s=c-l){for((a=s<0)?(s=-s,i=h):(l=c,i=p),i.reverse(),t=s;t--;i.push(0));i.reverse()}else for(n=(a=(s=h.length)<(t=p.length))?s:t,s=t=0;t<n;t++)if(h[t]!=p[t]){a=h[t]<p[t];break}if(a&&(i=h,h=p,p=i,e.s=-e.s),(t=(n=p.length)-(r=h.length))>0)for(;t--;h[r++]=0);for(t=u-1;n>s;){if(h[--n]<p[n]){for(r=n;r&&!h[--r];h[r]=t);--h[r],h[n]+=u}h[n]-=p[n]}for(;0==h[0];h.splice(0,1),--l);return h[0]?U(e,h,l):(e.s=3==E?-1:1,e.c=[e.e=0],e)},S.modulo=S.mod=function(e,t){var n,i,a=this;return e=new k(e,t),!a.c||!e.s||e.c&&!e.c[0]?new k(NaN):!e.c||a.c&&!a.c[0]?new k(a):(9==R?(i=e.s,e.s=1,n=r(a,e,0,3),e.s=i,n.s*=i):n=r(a,e,0,R),(e=a.minus(n.times(e))).c[0]||1!=R||(e.s=a.s),e)},S.multipliedBy=S.times=function(e,t){var r,n,i,a,o,s,c,l,h,p,g,m,v,b,_,w=this,x=w.c,S=(e=new k(e,t)).c;if(!x||!S||!x[0]||!S[0])return!w.s||!e.s||x&&!x[0]&&!S||S&&!S[0]&&!x?e.c=e.e=e.s=null:(e.s*=w.s,x&&S?(e.c=[0],e.e=0):e.c=e.e=null),e;for(n=y(w.e/d)+y(e.e/d),e.s*=w.s,(c=x.length)<(p=S.length)&&(v=x,x=S,S=v,i=c,c=p,p=i),i=c+p,v=[];i--;v.push(0));for(b=u,_=f,i=p;--i>=0;){for(r=0,g=S[i]%_,m=S[i]/_|0,a=i+(o=c);a>i;)r=((l=g*(l=x[--o]%_)+(s=m*l+(h=x[o]/_|0)*g)%_*_+v[a]+r)/b|0)+(s/_|0)+m*h,v[a--]=l%b;v[a]=r}return r?++n:v.splice(0,1),U(e,v,n)},S.negated=function(){var e=new k(this);return e.s=-e.s||null,e},S.plus=function(e,t){var r,n=this,i=n.s;if(t=(e=new k(e,t)).s,!i||!t)return new k(NaN);if(i!=t)return e.s=-t,n.minus(e);var a=n.e/d,o=e.e/d,s=n.c,c=e.c;if(!a||!o){if(!s||!c)return new k(i/0);if(!s[0]||!c[0])return c[0]?e:new k(s[0]?n:0*i)}if(a=y(a),o=y(o),s=s.slice(),i=a-o){for(i>0?(o=a,r=c):(i=-i,r=s),r.reverse();i--;r.push(0));r.reverse()}for((i=s.length)-(t=c.length)<0&&(r=c,c=s,s=r,t=i),i=0;t;)i=(s[--t]=s[t]+c[t]+i)/u|0,s[t]=u===s[t]?0:s[t]%u;return i&&(s=[i].concat(s),++o),U(e,s,o)},S.precision=S.sd=function(e,t){var r,n,i,a=this;if(null!=e&&e!==!!e)return b(e,1,g),null==t?t=E:b(t,0,8),V(new k(a),e,t);if(!(r=a.c))return null;if(n=(i=r.length-1)*d+1,i=r[i]){for(;i%10==0;i/=10,n--);for(i=r[0];i>=10;i/=10,n++);}return e&&a.e+1>n&&(n=a.e+1),n},S.shiftedBy=function(e){return b(e,-9007199254740991,h),this.times("1e"+e)},S.squareRoot=S.sqrt=function(){var e,t,n,i,a,o=this,s=o.c,c=o.s,l=o.e,u=O+4,d=new k("0.5");if(1!==c||!s||!s[0])return new k(!c||c<0&&(!s||s[0])?NaN:s?o:1/0);if(0==(c=Math.sqrt(+z(o)))||c==1/0?(((t=m(s)).length+l)%2==0&&(t+="0"),c=Math.sqrt(+t),l=y((l+1)/2)-(l<0||l%2),n=new k(t=c==1/0?"5e"+l:(t=c.toExponential()).slice(0,t.indexOf("e")+1)+l)):n=new k(c+""),n.c[0])for((c=(l=n.e)+u)<3&&(c=0);;)if(a=n,n=d.times(a.plus(r(o,a,u,1))),m(a.c).slice(0,c)===(t=m(n.c)).slice(0,c)){if(n.e<l&&--c,"9999"!=(t=t.slice(c-3,c+1))&&(i||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(V(n,n.e+O+2,1),e=!n.times(n).eq(o));break}if(!i&&(V(a,a.e+O+2,0),a.times(a).eq(o))){n=a;break}u+=4,c+=4,i=1}return V(n,n.e+O+1,E,e)},S.toExponential=function(e,t){return null!=e&&(b(e,0,g),e++),L(this,e,t,1)},S.toFixed=function(e,t){return null!=e&&(b(e,0,g),e=e+this.e+1),L(this,e,t)},S.toFormat=function(e,t,r){var n,i=this;if(null==r)null!=e&&t&&"object"==typeof t?(r=t,t=null):e&&"object"==typeof e?(r=e,e=t=null):r=F;else if("object"!=typeof r)throw Error(c+"Argument not an object: "+r);if(n=i.toFixed(e,t),i.c){var a,o=n.split("."),s=+r.groupSize,l=+r.secondaryGroupSize,u=r.groupSeparator||"",d=o[0],h=o[1],p=i.s<0,f=p?d.slice(1):d,g=f.length;if(l&&(a=s,s=l,l=a,g-=a),s>0&&g>0){for(a=g%s||s,d=f.substr(0,a);a<g;a+=s)d+=u+f.substr(a,s);l>0&&(d+=u+f.slice(a)),p&&(d="-"+d)}n=h?d+(r.decimalSeparator||"")+((l=+r.fractionGroupSize)?h.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(r.fractionGroupSeparator||"")):h):d}return(r.prefix||"")+n+(r.suffix||"")},S.toFraction=function(e){var t,n,i,a,o,s,l,u,h,f,g,y,v=this,b=v.c;if(null!=e&&(!(l=new k(e)).isInteger()&&(l.c||1!==l.s)||l.lt(T)))throw Error(c+"Argument "+(l.isInteger()?"out of range: ":"not an integer: ")+z(l));if(!b)return new k(v);for(t=new k(T),h=n=new k(T),i=u=new k(T),y=m(b),o=t.e=y.length-v.e-1,t.c[0]=p[(s=o%d)<0?d+s:s],e=!e||l.comparedTo(t)>0?o>0?t:h:l,s=j,j=1/0,l=new k(y),u.c[0]=0;f=r(l,t,0,1),1!=(a=n.plus(f.times(i))).comparedTo(e);)n=i,i=a,h=u.plus(f.times(a=h)),u=a,t=l.minus(f.times(a=t)),l=a;return a=r(e.minus(n),i,0,1),u=u.plus(a.times(h)),n=n.plus(a.times(i)),u.s=h.s=v.s,g=r(h,i,o*=2,E).minus(v).abs().comparedTo(r(u,n,o,E).minus(v).abs())<1?[h,i]:[u,n],j=s,g},S.toNumber=function(){return+z(this)},S.toPrecision=function(e,t){return null!=e&&b(e,1,g),L(this,e,t,2)},S.toString=function(e){var t,r=this,i=r.s,a=r.e;return null===a?i?(t="Infinity",i<0&&(t="-"+t)):t="NaN":(null==e?t=a<=A||a>=P?w(m(r.c),a):x(m(r.c),a,"0"):10===e&&M?t=x(m((r=V(new k(r),O+a+1,E)).c),r.e,"0"):(b(e,2,C.length,"Base"),t=n(x(m(r.c),a,"0"),10,e,i,!0)),i<0&&r.c[0]&&(t="-"+t)),t},S.valueOf=S.toJSON=function(){return z(this)},S._isBigNumber=!0,null!=t&&k.set(t),k}(),i.default=i.BigNumber=i,void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}()},2514:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;t.Variable=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&"Variable"===e.termType&&e.value===this.value}}},2563:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(5175),t)},3055:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionXsdToBoolean=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.TypeURL.XSD_BOOLEAN,overloads:(0,i.declare)(i.TypeURL.XSD_BOOLEAN).onNumeric1(()=>e=>(0,i.bool)(e.coerceEBV()),!0).onUnary(i.TypeURL.XSD_BOOLEAN,()=>e=>(0,i.bool)(e.coerceEBV()),!0).onUnary(i.TypeURL.XSD_STRING,()=>e=>{switch(e.str()){case"true":case"1":return(0,i.bool)(!0);case"false":case"0":return(0,i.bool)(!1);default:throw new i.CastError(e,i.TypeURL.XSD_BOOLEAN)}},!1).collect()})}}t.TermFunctionXsdToBoolean=a},3125:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionSubject=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.SUBJECT,overloads:(0,i.declare)(i.SparqlOperator.SUBJECT).onQuad1(()=>e=>e.subject).collect()})}}t.TermFunctionSubject=a},3191:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});var n=r(14176);const i=/^:?[^:?#]*(?:[?#]|$)|^file:|^[^:]*:\/*[^?#]+?\/(?:\.\.?(?:\/|$)|\/)/i,a=/^(?:(?:[^/?#]{3,}|\.?[^/?#.]\.?)(?:\/[^/?#]{3,}|\.?[^/?#.]\.?)*\/?)?(?:[?#]|$)/;class o{constructor(e){this.base=e,this._baseLength=0,this._baseMatcher=null,this._pathReplacements=new Array(e.length+1)}static supports(e){return!i.test(e)}_getBaseMatcher(){if(this._baseMatcher)return this._baseMatcher;if(!o.supports(this.base))return this._baseMatcher=/.^/;const e=/^[^:]*:\/*/.exec(this.base)[0],t=["^",(0,n.$)(e)],r=[],i=[],a=/[^/?#]*([/?#])/y;let s,c=0,l=0,u=a.lastIndex=e.length;for(;!c&&!l&&(s=a.exec(this.base));)"#"===s[1]?l=a.lastIndex-1:(t.push((0,n.$)(s[0]),"(?:"),r.push(")?"),"?"!==s[1]?i.push(u=a.lastIndex):(c=u=a.lastIndex,l=this.base.indexOf("#",c),this._pathReplacements[c]="?"));for(let n=0;n<i.length;n++)this._pathReplacements[i[n]]="../".repeat(i.length-n-1);return this._pathReplacements[i[i.length-1]]="./",this._baseLength=l>0?l:this.base.length,t.push((0,n.$)(this.base.substring(u,this._baseLength)),c?"(?:#|$)":"(?:[?#]|$)"),this._baseMatcher=new RegExp([...t,...r].join(""))}toRelative(e){const t=this._getBaseMatcher().exec(e);if(!t)return e;const r=t[0].length;if(r===this._baseLength&&r===e.length)return"";const n=this._pathReplacements[r];if(n){const t=e.substring(r);return"?"===n||a.test(t)?"./"===n&&/^[^?#]/.test(t)?t:n+t:e}return e.substring(r-1)}}},3226:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataFactory=void 0;const n=r(57614),i=r(7293),a=r(98871),o=r(8225),s=r(20549),c=r(44818);let l=0;t.DataFactory=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||"df_".concat(l++,"_")}namedNode(e){return new o.NamedNode(e)}blankNode(e){return new n.BlankNode(e||"".concat(this.blankNodePrefix).concat(this.blankNodeCounter++))}literal(e,t){return new a.Literal(e,t)}variable(e){return new c.Variable(e)}defaultGraph(){return i.DefaultGraph.INSTANCE}quad(e,t,r,n){return new s.Quad(e,t,r,n||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(a.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},3243:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(32538),t)},3326:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Translator=void 0;t.Translator=class{constructor(){this.supportedRdfDatatypes=[],this.fromRdfHandlers={},this.toRdfHandlers={}}static incorrectRdfDataType(e){throw new Error("Invalid RDF ".concat(e.datatype.value," value: '").concat(e.value,"'"))}registerHandler(e,t,r){for(const n of t)this.supportedRdfDatatypes.push(n),this.fromRdfHandlers[n.value]=e;for(const n of r){let t=this.toRdfHandlers[n];t||(this.toRdfHandlers[n]=t=[]),t.push(e)}}fromRdf(e,t){const r=this.fromRdfHandlers[e.datatype.value];return r?r.fromRdf(e,t):e.value}toRdf(e,t){const r=this.toRdfHandlers[typeof e];if(r)for(const n of r){const r=n.toRdf(e,t);if(r)return r}throw new Error("Invalid JavaScript value: '".concat(e,"'"))}getSupportedRdfDatatypes(){return this.supportedRdfDatatypes}getSupportedJavaScriptPrimitives(){return Object.keys(this.toRdfHandlers)}}},3332:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(83174),t)},3461:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SumAggregator=void 0;const n=r(85830),i=r(97824);class a extends n.AggregateEvaluator{constructor(e,t,r,n,i){super(e,t,i),this.dataFactory=r,this.additionFunction=n,this.state=void 0}emptyValueTerm(){return(0,i.typedLiteral)("0",i.TypeURL.XSD_INTEGER)}putTerm(e){if(void 0===this.state)this.state=this.termToNumericOrError(e);else{const t=this.termToNumericOrError(e);this.state=this.additionFunction.applyOnTerms([this.state,t],this.evaluator)}}termResult(){return void 0===this.state?this.emptyValue():this.state.toRDF(this.dataFactory)}}t.SumAggregator=a},3472:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionType=void 0,function(e){e.Aggregate="aggregate",e.Existence="existence",e.Operator="operator",e.Term="term",e.Variable="variable"}(r||(t.ExpressionType=r={}))},3497:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(67884),t),i(r(74079),t),i(r(41993),t)},3612:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfMetadataAccumulateCardinality=void 0;const i=r(26638),a=r(13953);class o extends i.ActorRdfMetadataAccumulate{constructor(e){super(e)}async test(e){return(0,a.passTestVoid)()}async run(e){if("initialize"===e.mode)return{metadata:{cardinality:{type:"exact",value:0}}};const t=n({},e.accumulatedMetadata.cardinality);if(t.dataset){if(e.accumulatedMetadata.defaultGraph===t.dataset&&t.dataset!==e.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:e.appendingMetadata.cardinality}};if(!e.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:t}};if(t.dataset!==e.appendingMetadata.cardinality.dataset&&e.appendingMetadata.subsetOf===t.dataset)return{metadata:{cardinality:e.appendingMetadata.cardinality}};if(t.dataset===e.appendingMetadata.cardinality.dataset)return{metadata:{cardinality:t}};delete t.dataset}return e.appendingMetadata.cardinality&&Number.isFinite(e.appendingMetadata.cardinality.value)?("estimate"===e.appendingMetadata.cardinality.type&&(t.type="estimate"),t.value+=e.appendingMetadata.cardinality.value):(t.type="estimate",t.value=Number.POSITIVE_INFINITY),{metadata:{cardinality:t}}}}t.ActorRdfMetadataAccumulateCardinality=o},3651:(e,t,r)=>{"use strict";var n=r(12897).default,i=r(91847).default,a=r(93312).default,o=r(42459).default,s=r(37088).default,c=r(81756).default,l=r(16668).default,u=r(43693).default;const d=["context","forceRefresh"];Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;const h="object"===typeof performance&&performance&&"function"===typeof performance.now?performance:Date,p=new Set,f="object"===typeof process&&process?process:{},g=(e,t,r,n)=>{"function"===typeof f.emitWarning?f.emitWarning(e,t,r,n):console.error("[".concat(r,"] ").concat(t,": ").concat(e))};let y=globalThis.AbortController,m=globalThis.AbortSignal;if("undefined"===typeof y){var v;m=class{constructor(){u(this,"onabort",void 0),u(this,"_onabort",[]),u(this,"reason",void 0),u(this,"aborted",!1)}addEventListener(e,t){this._onabort.push(t)}},y=class{constructor(){u(this,"signal",new m),t()}abort(e){var t,r;if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);null===(t=(r=this.signal).onabort)||void 0===t||t.call(r,e)}}};let e="1"!==(null===(v=f.env)||void 0===v?void 0:v.LRU_CACHE_IGNORE_AC_WARNING);const t=()=>{e&&(e=!1,g("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const b=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),_=e=>b(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?w:null:null;class w extends Array{constructor(e){super(e),this.fill(0)}}class x{static create(e){const t=_(e);if(!t)return[];S._=!0;const r=new x(e,t);return S._=!1,r}constructor(e,t){if(u(this,"heap",void 0),u(this,"length",void 0),!S._)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}var S={_:!1},T=new WeakMap,O=new WeakMap,E=new WeakMap,A=new WeakMap,P=new WeakMap,N=new WeakMap,j=new WeakMap,D=new WeakMap,R=new WeakMap,I=new WeakMap,F=new WeakMap,C=new WeakMap,M=new WeakMap,k=new WeakMap,L=new WeakMap,B=new WeakMap,U=new WeakMap,V=new WeakMap,z=new WeakMap,q=new WeakMap,Q=new WeakMap,G=new WeakMap,H=new WeakMap,W=new WeakSet,X=new WeakMap,K=new WeakMap,$=new WeakMap,Y=new WeakMap,J=new WeakMap,Z=new WeakMap,ee=new WeakMap;class te{static unsafeExposeInternals(e){return{starts:l(z,e),ttls:l(q,e),sizes:l(V,e),keyMap:l(R,e),keyList:l(I,e),valList:l(F,e),next:l(C,e),prev:l(M,e),get head(){return l(k,e)},get tail(){return l(L,e)},free:l(B,e),isBackgroundFetch:t=>c(W,e,le).call(e,t),backgroundFetch:(t,r,n,i)=>c(W,e,ce).call(e,t,r,n,i),moveToTail:t=>c(W,e,de).call(e,t),indexes:t=>c(W,e,ie).call(e,t),rindexes:t=>c(W,e,ae).call(e,t),isStale:t=>l(Y,e).call(e,t)}}get max(){return l(T,this)}get maxSize(){return l(O,this)}get calculatedSize(){return l(D,this)}get size(){return l(j,this)}get fetchMethod(){return l(P,this)}get memoMethod(){return l(N,this)}get dispose(){return l(E,this)}get disposeAfter(){return l(A,this)}constructor(e){a(this,W),o(this,T,void 0),o(this,O,void 0),o(this,E,void 0),o(this,A,void 0),o(this,P,void 0),o(this,N,void 0),u(this,"ttl",void 0),u(this,"ttlResolution",void 0),u(this,"ttlAutopurge",void 0),u(this,"updateAgeOnGet",void 0),u(this,"updateAgeOnHas",void 0),u(this,"allowStale",void 0),u(this,"noDisposeOnSet",void 0),u(this,"noUpdateTTL",void 0),u(this,"maxEntrySize",void 0),u(this,"sizeCalculation",void 0),u(this,"noDeleteOnFetchRejection",void 0),u(this,"noDeleteOnStaleGet",void 0),u(this,"allowStaleOnFetchAbort",void 0),u(this,"allowStaleOnFetchRejection",void 0),u(this,"ignoreFetchAbort",void 0),o(this,j,void 0),o(this,D,void 0),o(this,R,void 0),o(this,I,void 0),o(this,F,void 0),o(this,C,void 0),o(this,M,void 0),o(this,k,void 0),o(this,L,void 0),o(this,B,void 0),o(this,U,void 0),o(this,V,void 0),o(this,z,void 0),o(this,q,void 0),o(this,Q,void 0),o(this,G,void 0),o(this,H,void 0),o(this,X,()=>{}),o(this,K,()=>{}),o(this,$,()=>{}),o(this,Y,()=>!1),o(this,J,e=>{}),o(this,Z,(e,t,r)=>{}),o(this,ee,(e,t,r,n)=>{if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0}),u(this,Symbol.toStringTag,"LRUCache");const{max:t=0,ttl:r,ttlResolution:n=1,ttlAutopurge:i,updateAgeOnGet:d,updateAgeOnHas:h,allowStale:f,dispose:y,disposeAfter:m,noDisposeOnSet:v,noUpdateTTL:w,maxSize:S=0,maxEntrySize:ie=0,sizeCalculation:ae,fetchMethod:oe,memoMethod:se,noDeleteOnFetchRejection:ce,noDeleteOnStaleGet:le,allowStaleOnFetchRejection:ue,allowStaleOnFetchAbort:de,ignoreFetchAbort:he}=e;if(0!==t&&!b(t))throw new TypeError("max option must be a nonnegative integer");const pe=t?_(t):Array;if(!pe)throw new Error("invalid max value: "+t);if(s(T,this,t),s(O,this,S),this.maxEntrySize=ie||l(O,this),this.sizeCalculation=ae,this.sizeCalculation){if(!l(O,this)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!==typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==se&&"function"!==typeof se)throw new TypeError("memoMethod must be a function if defined");if(s(N,this,se),void 0!==oe&&"function"!==typeof oe)throw new TypeError("fetchMethod must be a function if specified");if(s(P,this,oe),s(G,this,!!oe),s(R,this,new Map),s(I,this,new Array(t).fill(void 0)),s(F,this,new Array(t).fill(void 0)),s(C,this,new pe(t)),s(M,this,new pe(t)),s(k,this,0),s(L,this,0),s(B,this,x.create(t)),s(j,this,0),s(D,this,0),"function"===typeof y&&s(E,this,y),"function"===typeof m?(s(A,this,m),s(U,this,[])):(s(A,this,void 0),s(U,this,void 0)),s(Q,this,!!l(E,this)),s(H,this,!!l(A,this)),this.noDisposeOnSet=!!v,this.noUpdateTTL=!!w,this.noDeleteOnFetchRejection=!!ce,this.allowStaleOnFetchRejection=!!ue,this.allowStaleOnFetchAbort=!!de,this.ignoreFetchAbort=!!he,0!==this.maxEntrySize){if(0!==l(O,this)&&!b(l(O,this)))throw new TypeError("maxSize must be a positive integer if specified");if(!b(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");c(W,this,ne).call(this)}if(this.allowStale=!!f,this.noDeleteOnStaleGet=!!le,this.updateAgeOnGet=!!d,this.updateAgeOnHas=!!h,this.ttlResolution=b(n)||0===n?n:1,this.ttlAutopurge=!!i,this.ttl=r||0,this.ttl){if(!b(this.ttl))throw new TypeError("ttl must be a positive integer if specified");c(W,this,re).call(this)}if(0===l(T,this)&&0===this.ttl&&0===l(O,this))throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!l(T,this)&&!l(O,this)){const e="LRU_CACHE_UNBOUNDED";if((e=>!p.has(e))(e)){p.add(e);g("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,te)}}}getRemainingTTL(e){return l(R,this).has(e)?1/0:0}*entries(){for(const e of c(W,this,ie).call(this))void 0===l(F,this)[e]||void 0===l(I,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield[l(I,this)[e],l(F,this)[e]])}*rentries(){for(const e of c(W,this,ae).call(this))void 0===l(F,this)[e]||void 0===l(I,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield[l(I,this)[e],l(F,this)[e]])}*keys(){for(const e of c(W,this,ie).call(this)){const t=l(I,this)[e];void 0===t||c(W,this,le).call(this,l(F,this)[e])||(yield t)}}*rkeys(){for(const e of c(W,this,ae).call(this)){const t=l(I,this)[e];void 0===t||c(W,this,le).call(this,l(F,this)[e])||(yield t)}}*values(){for(const e of c(W,this,ie).call(this)){void 0===l(F,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield l(F,this)[e])}}*rvalues(){for(const e of c(W,this,ae).call(this)){void 0===l(F,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield l(F,this)[e])}}[Symbol.iterator](){return this.entries()}find(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const r of c(W,this,ie).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;if(void 0!==i&&e(i,l(I,this)[r],this))return this.get(l(I,this)[r],t)}}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;for(const r of c(W,this,ie).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,l(I,this)[r],this)}}rforEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;for(const r of c(W,this,ae).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,l(I,this)[r],this)}}purgeStale(){let e=!1;for(const t of c(W,this,ae).call(this,{allowStale:!0}))l(Y,this).call(this,t)&&(c(W,this,he).call(this,l(I,this)[t],"expire"),e=!0);return e}info(e){const t=l(R,this).get(e);if(void 0===t)return;const r=l(F,this)[t],n=c(W,this,le).call(this,r)?r.__staleWhileFetching:r;if(void 0===n)return;const i={value:n};if(l(q,this)&&l(z,this)){const e=l(q,this)[t],r=l(z,this)[t];if(e&&r){const t=e-(h.now()-r);i.ttl=t,i.start=Date.now()}}return l(V,this)&&(i.size=l(V,this)[t]),i}dump(){const e=[];for(const t of c(W,this,ie).call(this,{allowStale:!0})){const r=l(I,this)[t],n=l(F,this)[t],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;if(void 0===i||void 0===r)continue;const a={value:i};if(l(q,this)&&l(z,this)){a.ttl=l(q,this)[t];const e=h.now()-l(z,this)[t];a.start=Math.floor(Date.now()-e)}l(V,this)&&(a.size=l(V,this)[t]),e.unshift([r,a])}return e}load(e){this.clear();for(const[t,r]of e){if(r.start){const e=Date.now()-r.start;r.start=h.now()-e}this.set(t,r.value,r)}}set(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===t)return this.delete(e),this;const{ttl:n=this.ttl,start:i,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:u}=r;let{noUpdateTTL:d=this.noUpdateTTL}=r;const h=l(ee,this).call(this,e,t,r.size||0,o);if(this.maxEntrySize&&h>this.maxEntrySize)return u&&(u.set="miss",u.maxEntrySizeExceeded=!0),c(W,this,he).call(this,e,"set"),this;let p=0===l(j,this)?void 0:l(R,this).get(e);if(void 0===p){var f;p=0===l(j,this)?l(L,this):0!==l(B,this).length?l(B,this).pop():l(j,this)===l(T,this)?c(W,this,se).call(this,!1):l(j,this),l(I,this)[p]=e,l(F,this)[p]=t,l(R,this).set(e,p),l(C,this)[l(L,this)]=p,l(M,this)[p]=l(L,this),s(L,this,p),s(j,this,(f=l(j,this),f++,f)),l(Z,this).call(this,p,h,u),u&&(u.set="add"),d=!1}else{c(W,this,de).call(this,p);const r=l(F,this)[p];if(t!==r){if(l(G,this)&&c(W,this,le).call(this,r)){r.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:t}=r;if(void 0!==t&&!a){var g,y;if(l(Q,this))null===(g=l(E,this))||void 0===g||g.call(this,t,e,"set");if(l(H,this))null===(y=l(U,this))||void 0===y||y.push([t,e,"set"])}}else if(!a){var m,v;if(l(Q,this))null===(m=l(E,this))||void 0===m||m.call(this,r,e,"set");if(l(H,this))null===(v=l(U,this))||void 0===v||v.push([r,e,"set"])}if(l(J,this).call(this,p),l(Z,this).call(this,p,h,u),l(F,this)[p]=t,u){u.set="replace";const e=r&&c(W,this,le).call(this,r)?r.__staleWhileFetching:r;void 0!==e&&(u.oldValue=e)}}else u&&(u.set="update")}if(0===n||l(q,this)||c(W,this,re).call(this),l(q,this)&&(d||l($,this).call(this,p,n,i),u&&l(K,this).call(this,u,p)),!a&&l(H,this)&&l(U,this)){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var b;null===(b=l(A,this))||void 0===b||b.call(this,...t)}}return this}pop(){try{for(;l(j,this);){const e=l(F,this)[l(k,this)];if(c(W,this,se).call(this,!0),c(W,this,le).call(this,e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(l(H,this)&&l(U,this)){const t=l(U,this);let r;for(;r=null===t||void 0===t?void 0:t.shift();){var e;null===(e=l(A,this))||void 0===e||e.call(this,...r)}}}}has(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=t,i=l(R,this).get(e);if(void 0!==i){const e=l(F,this)[i];if(c(W,this,le).call(this,e)&&void 0===e.__staleWhileFetching)return!1;if(!l(Y,this).call(this,i))return r&&l(X,this).call(this,i),n&&(n.has="hit",l(K,this).call(this,n,i)),!0;n&&(n.has="stale",l(K,this).call(this,n,i))}else n&&(n.has="miss");return!1}peek(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale}=t,n=l(R,this).get(e);if(void 0===n||!r&&l(Y,this).call(this,n))return;const i=l(F,this)[n];return c(W,this,le).call(this,i)?i.__staleWhileFetching:i}async fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:s=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:y,forceRefresh:m=!1,status:v,signal:b}=t;if(!l(G,this))return v&&(v.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,status:v});const _={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:a,noDisposeOnSet:o,size:s,sizeCalculation:u,noUpdateTTL:d,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:g,ignoreFetchAbort:f,status:v,signal:b};let w=l(R,this).get(e);if(void 0===w){v&&(v.fetch="miss");const t=c(W,this,ce).call(this,e,w,_,y);return t.__returned=t}{const t=l(F,this)[w];if(c(W,this,le).call(this,t)){const e=r&&void 0!==t.__staleWhileFetching;return v&&(v.fetch="inflight",e&&(v.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const i=l(Y,this).call(this,w);if(!m&&!i)return v&&(v.fetch="hit"),c(W,this,de).call(this,w),n&&l(X,this).call(this,w),v&&l(K,this).call(this,v,w),t;const a=c(W,this,ce).call(this,e,w,_,y),o=void 0!==a.__staleWhileFetching&&r;return v&&(v.fetch=i?"stale":"refresh",o&&i&&(v.returnedStale=!0)),o?a.__staleWhileFetching:a.__returned=a}}async forceFetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await this.fetch(e,t);if(void 0===r)throw new Error("fetch() returned undefined");return r}memo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=l(N,this);if(!r)throw new Error("no memoMethod provided to constructor");const{context:n,forceRefresh:a}=t,o=i(t,d),s=this.get(e,o);if(!a&&void 0!==s)return s;const c=r(e,s,{options:o,context:n});return this.set(e,c,o),c}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:a}=t,o=l(R,this).get(e);if(void 0!==o){const t=l(F,this)[o],s=c(W,this,le).call(this,t);return a&&l(K,this).call(this,a,o),l(Y,this).call(this,o)?(a&&(a.get="stale"),s?(a&&r&&void 0!==t.__staleWhileFetching&&(a.returnedStale=!0),r?t.__staleWhileFetching:void 0):(i||c(W,this,he).call(this,e,"expire"),a&&r&&(a.returnedStale=!0),r?t:void 0)):(a&&(a.get="hit"),s?t.__staleWhileFetching:(c(W,this,de).call(this,o),n&&l(X,this).call(this,o),t))}a&&(a.get="miss")}delete(e){return c(W,this,he).call(this,e,"delete")}clear(){return c(W,this,pe).call(this,"delete")}}function re(){var e=this;const t=new w(l(T,this)),r=new w(l(T,this));s(q,this,t),s(z,this,r),s($,this,function(n,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.now();if(r[n]=0!==i?a:0,t[n]=i,0!==i&&e.ttlAutopurge){const t=setTimeout(()=>{l(Y,e).call(e,n)&&c(W,e,he).call(e,l(I,e)[n],"expire")},i+1);t.unref&&t.unref()}}),s(X,this,e=>{r[e]=0!==t[e]?h.now():0}),s(K,this,(e,a)=>{if(t[a]){const o=t[a],s=r[a];if(!o||!s)return;e.ttl=o,e.start=s,e.now=n||i();const c=e.now-s;e.remainingTTL=o-c}});let n=0;const i=()=>{const e=h.now();if(this.ttlResolution>0){n=e;const t=setTimeout(()=>n=0,this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=e=>{const a=l(R,this).get(e);if(void 0===a)return 0;const o=t[a],s=r[a];if(!o||!s)return 1/0;return o-((n||i())-s)},s(Y,this,e=>{const a=r[e],o=t[e];return!!o&&!!a&&(n||i())-a>o})}function ne(){const e=new w(l(T,this));s(D,this,0),s(V,this,e),s(J,this,t=>{s(D,this,l(D,this)-e[t]),e[t]=0}),s(ee,this,(e,t,r,n)=>{if(c(W,this,le).call(this,t))return 0;if(!b(r)){if(!n)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!==typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(t,e),!b(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r}),s(Z,this,(t,r,n)=>{if(e[t]=r,l(O,this)){const r=l(O,this)-e[t];for(;l(D,this)>r;)c(W,this,se).call(this,!0)}s(D,this,l(D,this)+e[t]),n&&(n.entrySize=r,n.totalCalculatedSize=l(D,this))})}function ie(){var e=this;let{allowStale:t=this.allowStale}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){if(l(j,e))for(let r=l(L,e);c(W,e,oe).call(e,r)&&(!t&&l(Y,e).call(e,r)||(yield r),r!==l(k,e));)r=l(M,e)[r]}()}function ae(){var e=this;let{allowStale:t=this.allowStale}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){if(l(j,e))for(let r=l(k,e);c(W,e,oe).call(e,r)&&(!t&&l(Y,e).call(e,r)||(yield r),r!==l(L,e));)r=l(C,e)[r]}()}function oe(e){return void 0!==e&&l(R,this).get(l(I,this)[e])===e}function se(e){var t;const r=l(k,this),n=l(I,this)[r],i=l(F,this)[r];if(l(G,this)&&c(W,this,le).call(this,i))i.__abortController.abort(new Error("evicted"));else if(l(Q,this)||l(H,this)){var a,o;if(l(Q,this))null===(a=l(E,this))||void 0===a||a.call(this,i,n,"evict");if(l(H,this))null===(o=l(U,this))||void 0===o||o.push([i,n,"evict"])}return l(J,this).call(this,r),e&&(l(I,this)[r]=void 0,l(F,this)[r]=void 0,l(B,this).push(r)),1===l(j,this)?(s(k,this,s(L,this,0)),l(B,this).length=0):s(k,this,l(C,this)[r]),l(R,this).delete(n),s(j,this,(t=l(j,this),t--,t)),r}function ce(e,t,r,i){var a=this;const o=void 0===t?void 0:l(F,this)[t];if(c(W,this,le).call(this,o))return o;const s=new y,{signal:u}=r;null===u||void 0===u||u.addEventListener("abort",()=>s.abort(u.reason),{signal:s.signal});const d={signal:s.signal,options:r,context:i},h=function(n){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{aborted:o}=s.signal,u=r.ignoreFetchAbort&&void 0!==n;if(r.status&&(o&&!i?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,u&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),o&&!u&&!i)return p(s.signal.reason);const h=f;return l(F,a)[t]===f&&(void 0===n?h.__staleWhileFetching?l(F,a)[t]=h.__staleWhileFetching:c(W,a,he).call(a,e,"fetch"):(r.status&&(r.status.fetchUpdated=!0),a.set(e,n,d.options))),n},p=n=>{const{aborted:i}=s.signal,a=i&&r.allowStaleOnFetchAbort,o=a||r.allowStaleOnFetchRejection,u=o||r.noDeleteOnFetchRejection,d=f;if(l(F,this)[t]===f){!u||void 0===d.__staleWhileFetching?c(W,this,he).call(this,e,"fetch"):a||(l(F,this)[t]=d.__staleWhileFetching)}if(o)return r.status&&void 0!==d.__staleWhileFetching&&(r.status.returnedStale=!0),d.__staleWhileFetching;if(d.__returned===d)throw n};r.status&&(r.status.fetchDispatched=!0);const f=new Promise((t,n)=>{var i;const a=null===(i=l(P,this))||void 0===i?void 0:i.call(this,e,o,d);a&&a instanceof Promise&&a.then(e=>t(void 0===e?void 0:e),n),s.signal.addEventListener("abort",()=>{r.ignoreFetchAbort&&!r.allowStaleOnFetchAbort||(t(void 0),r.allowStaleOnFetchAbort&&(t=e=>h(e,!0)))})}).then(h,e=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=e),p(e))),g=Object.assign(f,{__abortController:s,__staleWhileFetching:o,__returned:void 0});return void 0===t?(this.set(e,g,n(n({},d.options),{},{status:void 0})),t=l(R,this).get(e)):l(F,this)[t]=g,g}function le(e){if(!l(G,this))return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof y}function ue(e,t){l(M,this)[t]=e,l(C,this)[e]=t}function de(e){e!==l(L,this)&&(e===l(k,this)?s(k,this,l(C,this)[e]):c(W,this,ue).call(this,l(M,this)[e],l(C,this)[e]),c(W,this,ue).call(this,l(L,this),e),s(L,this,e))}function he(e,t){var r;let n=!1;if(0!==l(j,this)){const r=l(R,this).get(e);if(void 0!==r)if(n=!0,1===l(j,this))c(W,this,pe).call(this,t);else{var i;l(J,this).call(this,r);const n=l(F,this)[r];if(c(W,this,le).call(this,n))n.__abortController.abort(new Error("deleted"));else if(l(Q,this)||l(H,this)){var a,o;if(l(Q,this))null===(a=l(E,this))||void 0===a||a.call(this,n,e,t);if(l(H,this))null===(o=l(U,this))||void 0===o||o.push([n,e,t])}if(l(R,this).delete(e),l(I,this)[r]=void 0,l(F,this)[r]=void 0,r===l(L,this))s(L,this,l(M,this)[r]);else if(r===l(k,this))s(k,this,l(C,this)[r]);else{const e=l(M,this)[r];l(C,this)[e]=l(C,this)[r];const t=l(C,this)[r];l(M,this)[t]=l(M,this)[r]}s(j,this,(i=l(j,this),i--,i)),l(B,this).push(r)}}if(l(H,this)&&null!==(r=l(U,this))&&void 0!==r&&r.length){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var u;null===(u=l(A,this))||void 0===u||u.call(this,...t)}}return n}function pe(e){for(const i of c(W,this,ae).call(this,{allowStale:!0})){const n=l(F,this)[i];if(c(W,this,le).call(this,n))n.__abortController.abort(new Error("deleted"));else{const a=l(I,this)[i];var t,r;if(l(Q,this))null===(t=l(E,this))||void 0===t||t.call(this,n,a,e);if(l(H,this))null===(r=l(U,this))||void 0===r||r.push([n,a,e])}}if(l(R,this).clear(),l(F,this).fill(void 0),l(I,this).fill(void 0),l(q,this)&&l(z,this)&&(l(q,this).fill(0),l(z,this).fill(0)),l(V,this)&&l(V,this).fill(0),s(k,this,0),s(L,this,0),l(B,this).length=0,s(D,this,0),s(j,this,0),l(H,this)&&l(U,this)){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var n;null===(n=l(A,this))||void 0===n||n.call(this,...t)}}}t.LRUCache=te},4071:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;class r{static isCompactIri(e){return e.indexOf(":")>0&&!(e&&"#"===e[0])}static getPrefix(e,t){if(e&&"#"===e[0])return null;const r=e.indexOf(":");if(r>=0){if(e.length>r+1&&"/"===e.charAt(r+1)&&"/"===e.charAt(r+2))return null;const n=e.substr(0,r);if("_"===n)return null;if(t[n])return n}return null}static getContextValueId(e){if(null===e||"string"===typeof e)return e;const t=e["@id"];return t||null}static isSimpleTermDefinitionPrefix(e,t){return!r.isPotentialKeyword(e)&&(t.allowPrefixNonGenDelims||"string"===typeof e&&("_"===e[0]||r.isPrefixIriEndingWithGenDelim(e)))}static isPotentialKeyword(e){return"string"===typeof e&&r.KEYWORD_REGEX.test(e)}static isPrefixIriEndingWithGenDelim(e){return r.ENDS_WITH_GEN_DELIM.test(e)}static isPrefixValue(e){return e&&("string"===typeof e||e&&"object"===typeof e)}static isValidIri(e){return Boolean(e&&r.IRI_REGEX.test(e))}static isValidIriWeak(e){return!!e&&":"!==e[0]&&r.IRI_REGEX_WEAK.test(e)}static isValidKeyword(e){return r.VALID_KEYWORDS[e]}static isTermProtected(e,t){const r=e[t];return!("string"===typeof r)&&r&&r["@protected"]}static hasProtectedTerms(e){for(const t of Object.keys(e))if(r.isTermProtected(e,t))return!0;return!1}static isReservedInternalKeyword(e){return e.startsWith("@__")}static deepEqual(e,t){const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(r=>{const n=e[r],i=t[r];return n===i||null!==n&&null!==i&&"object"===typeof n&&"object"===typeof i&&this.deepEqual(n,i)})}}r.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,r.IRI_REGEX_WEAK=/(?::[^:])|\//,r.KEYWORD_REGEX=/^@[a-z]+$/i,r.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,r.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,r.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,r.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},r.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],r.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],r.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],r.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],r.CONTAINERS_1_0=["@list","@set","@index"],t.Util=r},4228:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermXsdToDayTimeDuration=void 0;const i=r(11716),a=r(97824),o=r(1825);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.TypeURL.XSD_DAY_TIME_DURATION],termFunction:!0}))}async run(e){return new o.TermFunctionXsdToDayTimeDuration}}t.ActorFunctionFactoryTermXsdToDayTimeDuration=s},4499:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(21943),t)},4961:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionNow=void 0;const n=r(11716),i=r(52840),a=r(97824);class o extends n.TermFunctionBase{constructor(){super({arity:0,operator:a.SparqlOperator.NOW,overloads:(0,a.declare)(a.SparqlOperator.NOW).set([],e=>()=>new a.DateTimeLiteral((0,a.toDateTimeRepresentation)({date:e.context.getSafe(i.KeysInitQuery.queryTimestamp),timeZone:e.context.getSafe(i.KeysExpressionEvaluator.defaultTimeZone)}))).collect()})}}t.TermFunctionNow=o},5175:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationCreate=void 0;const n=r(52241),i=r(89266);class a extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"create")}async testOperation(e,t){return(0,i.testReadOnly)(t)}async runOperation(e,t){const{execute:r}=await this.mediatorUpdateQuads.mediate({createGraphs:{graphs:[e.source],requireNonExistence:!e.silent},context:t});return{type:"void",execute:r}}}t.ActorQueryOperationCreate=a},5207:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(13794);t.default=function(e){return"string"===typeof e&&n.default.test(e)}},5220:(e,t,r)=>{"use strict";const{ArrayIsArray:n,ObjectSetPrototypeOf:i}=r(28931),{EventEmitter:a}=r(27284);function o(e){a.call(this,e)}function s(e,t,r){if("function"===typeof e.prependListener)return e.prependListener(t,r);e._events&&e._events[t]?n(e._events[t])?e._events[t].unshift(r):e._events[t]=[r,e._events[t]]:e.on(t,r)}i(o.prototype,a.prototype),i(o,a),o.prototype.pipe=function(e,t){const r=this;function n(t){e.writable&&!1===e.write(t)&&r.pause&&r.pause()}function i(){r.readable&&r.resume&&r.resume()}r.on("data",n),e.on("drain",i),e._isStdio||t&&!1===t.end||(r.on("end",c),r.on("close",l));let o=!1;function c(){o||(o=!0,e.end())}function l(){o||(o=!0,"function"===typeof e.destroy&&e.destroy())}function u(e){d(),0===a.listenerCount(this,"error")&&this.emit("error",e)}function d(){r.removeListener("data",n),e.removeListener("drain",i),r.removeListener("end",c),r.removeListener("close",l),r.removeListener("error",u),e.removeListener("error",u),r.removeListener("end",d),r.removeListener("close",d),e.removeListener("close",d)}return s(r,"error",u),s(e,"error",u),r.on("end",d),r.on("close",d),e.on("close",d),e.emit("pipe",r),e},e.exports={Stream:o,prependListener:s}},5230:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(9781),t),i(r(89842),t)},5252:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5276:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(28217),t)},5293:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionSha256=void 0;const n=r(11716),i=r(97824),a=r(73697);class o extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.SHA256,overloads:(0,i.declare)(i.SparqlOperator.SHA256).onString1Typed(()=>e=>(0,i.string)((0,a.sha256)().update(e).digest("hex"))).collect()})}}t.TermFunctionSha256=o},5359:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedRdfSourcesAsyncRdfIterator=void 0;const i=r(52840),a=r(66179),o=r(72758);class s extends o.BufferedIterator{constructor(e,t,r,i,a,o,s,c){if(super(n({autoStart:!1},c)),this.started=!1,this.currentIterators=[],this.iteratorsPendingCreation=0,this.iteratorsPendingTermination=0,this.accumulatedMetadata=Promise.resolve(void 0),this._reading=!1,this.cacheSize=e,this.operation=t,this.queryBindingsOptions=r,this.context=i,this.firstUrl=a,this.maxIterators=o,this.sourceStateGetter=s,this.maxIterators<=0)throw new Error("LinkedRdfSourcesAsyncRdfIterator.maxIterators must be larger than zero, but got ".concat(this.maxIterators))}kickstart(){this.started||this._fillBufferAsync()}getProperty(e,t){return"metadata"!==e||this.started||(this.preflightMetadata||(this.preflightMetadata=new Promise((e,t)=>{this.sourceStateGetter({url:this.firstUrl},{}).then(t=>{const r=t.source.queryBindings(this.operation,this.context);r.getProperty("metadata",i=>{i.state=new a.MetadataValidationState,r.destroy(),this.accumulateMetadata(t.metadata,i).then(r=>{const a=n(n(n({},t.metadata),i),r);e(a)}).catch(()=>{e(n(n({},t.metadata),{},{state:new a.MetadataValidationState}))})})}).catch(t)})),this.preflightMetadata.then(e=>this.setProperty("metadata",e)).catch(e=>this.emit("error",e))),super.getProperty(e,t)}_end(e){for(const t of this.currentIterators)t.destroy();super._end(e)}_read(e,t){if(this.started){for(const t of this.currentIterators){for(;e>0;){const r=t.read();if(null===r)break;e--,this._push(r)}if(e<=0)break}e>=0&&this.canStartNewIterator()?this.sourceStateGetter({url:this.firstUrl},{}).then(e=>{this.startIteratorsForNextUrls(e.handledDatasets,!1),t()}):t()}else this.started=!0,this.sourceStateGetter({url:this.firstUrl},{}).then(e=>{this.startIterator(e),t()}).catch(e=>setTimeout(()=>this.destroy(e)))}canStartNewIterator(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination<this.maxIterators&&(!this.canStartNewIteratorConsiderReadable()||!this.readable)}canStartNewIteratorConsiderReadable(){return!0}areIteratorsRunning(){return this.currentIterators.length+this.iteratorsPendingCreation+this.iteratorsPendingTermination>0}startIterator(e){try{const t=e.source.queryBindings(this.operation,this.context,this.queryBindingsOptions);this.currentIterators.push(t);let r=!1,i=!1;t._destination=this,t.on("error",e=>this.destroy(e)),t.on("readable",()=>this._fillBuffer()),t.on("end",()=>{this.currentIterators.splice(this.currentIterators.indexOf(t),1),r=!0,i||this.iteratorsPendingTermination++,i&&this.startIteratorsForNextUrls(e.handledDatasets,!0)}),t.getProperty("metadata",t=>{this.accumulatedMetadata=this.accumulatedMetadata.then(o=>(async()=>(o||(o=e.metadata),this.accumulateMetadata(o,t)))().then(o=>{const s=n(n(n({},e.metadata),t),o);return s.state=new a.MetadataValidationState,this.updateMetadata(s),this.preflightMetadata&&this.preflightMetadata.then(e=>e.state.invalidate()).catch(()=>{}),this.getSourceLinks(s,e).then(e=>Promise.all(e)).then(async t=>{const n=await this.getLinkQueue();for(const r of t)n.push(r,e.link);i=!0,r&&this.iteratorsPendingTermination--,this.startIteratorsForNextUrls(e.handledDatasets,!0)}).catch(e=>this.destroy(e)),s})).catch(e=>(this.destroy(e),{}))})}catch(t){this.destroy(t)}}updateMetadata(e){const t=this.getProperty("metadata");this.setProperty("metadata",e),null===t||void 0===t||t.state.invalidate()}isRunning(){return!this.done}startIteratorsForNextUrls(e,t){this.getLinkQueue().then(r=>{for(;this.canStartNewIterator()&&this.isRunning();){const t=r.pop();if(!t)break;this.iteratorsPendingCreation++,this.sourceStateGetter(t,e).then(e=>{const t=this.context.get(i.KeysStatistics.dereferencedLinks);t&&t.updateStatistic({url:e.link.url,metadata:n(n({},e.metadata),e.link.metadata)},e.source),this.iteratorsPendingCreation--,this.startIterator(e)}).catch(e=>this.emit("error",e))}t&&this.isCloseable(r,!0)&&this.close()}).catch(e=>this.destroy(e))}isCloseable(e,t){return e.isEmpty()&&!this.areIteratorsRunning()}}t.LinkedRdfSourcesAsyncRdfIterator=s},5516:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryExpressionIn=void 0;const i=r(11716),a=r(97824),o=r(65697);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.IN],termFunction:!1})),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const t=await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.EQUAL,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new o.ExpressionFunctionIn(t)}}t.ActorFunctionFactoryExpressionIn=s},5518:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermMd5=void 0;const i=r(11716),a=r(97824),o=r(77621);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.MD5],termFunction:!0}))}async run(e){return new o.TermFunctionMd5}}t.ActorFunctionFactoryTermMd5=s},5557:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionCeil=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.CEIL,overloads:(0,i.declare)(i.SparqlOperator.CEIL).numericConverter(()=>e=>Math.ceil(e)).collect()})}}t.TermFunctionCeil=a},5745:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClosableTransformIterator=void 0;const n=r(72758);class i extends n.TransformIterator{constructor(e,t){super(e,t),this.onClose=t.onClose}_end(e){this.onClose(),super._end(e)}}t.ClosableTransformIterator=i},5750:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(5516),t)},5811:(e,t,r)=>{var{Buffer:n}=r(26382),i={},a=i.LEFT_BRACE=1,o=i.RIGHT_BRACE=2,s=i.LEFT_BRACKET=3,c=i.RIGHT_BRACKET=4,l=i.COLON=5,u=i.COMMA=6,d=i.TRUE=7,h=i.FALSE=8,p=i.NULL=9,f=i.STRING=10,g=i.NUMBER=11,y=i.START=17,m=i.STOP=18,v=i.TRUE1=33,b=i.TRUE2=34,_=i.TRUE3=35,w=i.FALSE1=49,x=i.FALSE2=50,S=i.FALSE3=51,T=i.FALSE4=52,O=i.NULL1=65,E=i.NULL2=66,A=i.NULL3=67,P=i.NUMBER1=81,N=i.NUMBER3=83,j=i.STRING1=97,D=i.STRING2=98,R=i.STRING3=99,I=i.STRING4=100,F=i.STRING5=101,C=i.STRING6=102,M=i.VALUE=113,k=i.KEY=114,L=i.OBJECT=129,B=i.ARRAY=130,U="\\".charCodeAt(0),V="/".charCodeAt(0),z="\b".charCodeAt(0),q="\f".charCodeAt(0),Q="\n".charCodeAt(0),G="\r".charCodeAt(0),H="\t".charCodeAt(0),W=65536;function X(e){return n.alloc?n.alloc(e):new n(e)}function K(){this.tState=y,this.value=void 0,this.string=void 0,this.stringBuffer=X(W),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=M,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:X(2),3:X(3),4:X(4)},this.offset=-1}K.toknam=function(e){for(var t=Object.keys(i),r=0,n=t.length;r<n;r++){var a=t[r];if(i[a]===e)return a}return e&&"0x"+e.toString(16)};var $=K.prototype;$.onError=function(e){throw e},$.charError=function(e,t){this.tState=m,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(e[t]))+" at position "+t+" in state "+K.toknam(this.tState)))},$.appendStringChar=function(e){this.stringBufferOffset>=W&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=e},$.appendStringBuf=function(e,t,r){var n=e.length;"number"===typeof t&&(n="number"===typeof r?r<0?e.length-t+r:r-t:e.length-t),n<0&&(n=0),this.stringBufferOffset+n>W&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),e.copy(this.stringBuffer,this.stringBufferOffset,t,r),this.stringBufferOffset+=n},$.write=function(e){var t;"string"===typeof e&&(e=new n(e));for(var r=0,i=e.length;r<i;r++)if(this.tState===y){if(t=e[r],this.offset++,123===t)this.onToken(a,"{");else if(125===t)this.onToken(o,"}");else if(91===t)this.onToken(s,"[");else if(93===t)this.onToken(c,"]");else if(58===t)this.onToken(l,":");else if(44===t)this.onToken(u,",");else if(116===t)this.tState=v;else if(102===t)this.tState=w;else if(110===t)this.tState=O;else if(34===t)this.string="",this.stringBufferOffset=0,this.tState=j;else if(45===t)this.string="-",this.tState=P;else if(t>=48&&t<64)this.string=String.fromCharCode(t),this.tState=N;else if(32!==t&&9!==t&&10!==t&&13!==t)return this.charError(e,r)}else if(this.tState===j)if(t=e[r],this.bytes_remaining>0){for(var g=0;g<this.bytes_remaining;g++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+g]=e[g];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,r=r+g-1}else if(0===this.bytes_remaining&&t>=128){if(t<=193||t>244)return this.onError(new Error("Invalid UTF-8 character at position "+r+" in state "+K.toknam(this.tState)));if(t>=194&&t<=223&&(this.bytes_in_sequence=2),t>=224&&t<=239&&(this.bytes_in_sequence=3),t>=240&&t<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+r>e.length){for(var m=0;m<=e.length-1-r;m++)this.temp_buffs[this.bytes_in_sequence][m]=e[r+m];this.bytes_remaining=r+this.bytes_in_sequence-e.length,r=e.length-1}else this.appendStringBuf(e,r,r+this.bytes_in_sequence),r=r+this.bytes_in_sequence-1}else if(34===t)this.tState=y,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(f,this.string),this.offset+=n.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===t)this.tState=D;else{if(!(t>=32))return this.charError(e,r);this.appendStringChar(t)}else if(this.tState===D)if(34===(t=e[r]))this.appendStringChar(t),this.tState=j;else if(92===t)this.appendStringChar(U),this.tState=j;else if(47===t)this.appendStringChar(V),this.tState=j;else if(98===t)this.appendStringChar(z),this.tState=j;else if(102===t)this.appendStringChar(q),this.tState=j;else if(110===t)this.appendStringChar(Q),this.tState=j;else if(114===t)this.appendStringChar(G),this.tState=j;else if(116===t)this.appendStringChar(H),this.tState=j;else{if(117!==t)return this.charError(e,r);this.unicode="",this.tState=R}else if(this.tState===R||this.tState===I||this.tState===F||this.tState===C){if(!((t=e[r])>=48&&t<64||t>64&&t<=70||t>96&&t<=102))return this.charError(e,r);if(this.unicode+=String.fromCharCode(t),this.tState++===C){var M=parseInt(this.unicode,16);this.unicode=void 0,void 0!==this.highSurrogate&&M>=56320&&M<57344?(this.appendStringBuf(new n(String.fromCharCode(this.highSurrogate,M))),this.highSurrogate=void 0):void 0===this.highSurrogate&&M>=55296&&M<56320?this.highSurrogate=M:(void 0!==this.highSurrogate&&(this.appendStringBuf(new n(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new n(String.fromCharCode(M)))),this.tState=j}}else if(this.tState===P||this.tState===N)switch(t=e[r]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(t),this.tState=N;break;default:this.tState=y;var k=this.numberReviver(this.string,e,r);if(k)return k;this.offset+=this.string.length-1,this.string=void 0,r--}else if(this.tState===v){if(114!==e[r])return this.charError(e,r);this.tState=b}else if(this.tState===b){if(117!==e[r])return this.charError(e,r);this.tState=_}else if(this.tState===_){if(101!==e[r])return this.charError(e,r);this.tState=y,this.onToken(d,!0),this.offset+=3}else if(this.tState===w){if(97!==e[r])return this.charError(e,r);this.tState=x}else if(this.tState===x){if(108!==e[r])return this.charError(e,r);this.tState=S}else if(this.tState===S){if(115!==e[r])return this.charError(e,r);this.tState=T}else if(this.tState===T){if(101!==e[r])return this.charError(e,r);this.tState=y,this.onToken(h,!1),this.offset+=4}else if(this.tState===O){if(117!==e[r])return this.charError(e,r);this.tState=E}else if(this.tState===E){if(108!==e[r])return this.charError(e,r);this.tState=A}else if(this.tState===A){if(108!==e[r])return this.charError(e,r);this.tState=y,this.onToken(p,null),this.offset+=3}},$.onToken=function(e,t){},$.parseError=function(e,t){this.tState=m,this.onError(new Error("Unexpected "+K.toknam(e)+(t?"("+JSON.stringify(t)+")":"")+" in state "+K.toknam(this.state)))},$.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},$.pop=function(){var e=this.value,t=this.stack.pop();this.value=t.value,this.key=t.key,this.mode=t.mode,this.emit(e),this.mode||(this.state=M)},$.emit=function(e){this.mode&&(this.state=u),this.onValue(e)},$.onValue=function(e){},$.onToken=function(e,t){if(this.state===M)if(e===f||e===g||e===d||e===h||e===p)this.value&&(this.value[this.key]=t),this.emit(t);else if(e===a)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=k,this.mode=L;else if(e===s)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=B,this.state=M;else if(e===o){if(this.mode!==L)return this.parseError(e,t);this.pop()}else{if(e!==c)return this.parseError(e,t);if(this.mode!==B)return this.parseError(e,t);this.pop()}else if(this.state===k)if(e===f)this.key=t,this.state=l;else{if(e!==o)return this.parseError(e,t);this.pop()}else if(this.state===l){if(e!==l)return this.parseError(e,t);this.state=M}else{if(this.state!==u)return this.parseError(e,t);if(e===u)this.mode===B?(this.key++,this.state=M):this.mode===L&&(this.state=k);else{if(!(e===c&&this.mode===B||e===o&&this.mode===L))return this.parseError(e,t);this.pop()}}},$.numberReviver=function(e,t,r){var n=Number(e);if(isNaN(n))return this.charError(t,r);e.match(/[0-9]+/)==e&&n.toString()!=e?this.onToken(f,e):this.onToken(g,n)},K.C=i,e.exports=K},5896:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<a(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,o=i>>>1;n<o;){var s=2*(n+1)-1,c=e[s],l=s+1,u=e[l];if(0>a(c,r))l<i&&0>a(u,c)?(e[n]=u,e[l]=r,n=l):(e[n]=c,e[s]=r,n=s);else{if(!(l<i&&0>a(u,r)))break e;e[n]=u,e[l]=r,n=l}}}return t}function a(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var l=[],u=[],d=1,h=null,p=3,f=!1,g=!1,y=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,b="function"===typeof clearTimeout?clearTimeout:null,_="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=n(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,r(l,t)}t=n(u)}}function x(e){if(y=!1,w(e),!g)if(null!==n(l))g=!0,T||(T=!0,S());else{var t=n(u);null!==t&&R(x,t.startTime-e)}}var S,T=!1,O=-1,E=5,A=-1;function P(){return!!m||!(t.unstable_now()-A<E)}function N(){if(m=!1,T){var e=t.unstable_now();A=e;var r=!0;try{e:{g=!1,y&&(y=!1,b(O),O=-1),f=!0;var a=p;try{t:{for(w(e),h=n(l);null!==h&&!(h.expirationTime>e&&P());){var o=h.callback;if("function"===typeof o){h.callback=null,p=h.priorityLevel;var s=o(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){h.callback=s,w(e),r=!0;break t}h===n(l)&&i(l),w(e)}else i(l);h=n(l)}if(null!==h)r=!0;else{var c=n(u);null!==c&&R(x,c.startTime-e),r=!1}}break e}finally{h=null,p=a,f=!1}r=void 0}}finally{r?S():T=!1}}}if("function"===typeof _)S=function(){_(N)};else if("undefined"!==typeof MessageChannel){var j=new MessageChannel,D=j.port2;j.port1.onmessage=N,S=function(){D.postMessage(null)}}else S=function(){v(N,0)};function R(e,r){O=v(function(){e(t.unstable_now())},r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var r=p;p=t;try{return e()}finally{p=r}},t.unstable_requestPaint=function(){m=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=p;p=e;try{return t()}finally{p=r}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:a,expirationTime:s=a+s,sortIndex:-1},a>o?(e.sortIndex=a,r(u,e),null===n(l)&&e===n(u)&&(y?(b(O),O=-1):y=!0,R(x,a-o))):(e.sortIndex=s,r(l,e),g||f||(g=!0,T||(T=!0,S()))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=p;return function(){var r=p;p=t;try{return e.apply(this,arguments)}finally{p=r}}}},6033:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermIsBlank=void 0;const i=r(11716),a=r(97824),o=r(84182);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.IS_BLANK],termFunction:!0}))}async run(e){return new o.TermFunctionIsBlank}}t.ActorFunctionFactoryTermIsBlank=s},6072:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorBindingsAggregatorFactoryAverage=void 0;const n=r(85830),i=r(52840),a=r(13953),o=r(97824),s=r(24341);class c extends n.ActorBindingsAggregatorFactory{constructor(e){super(e),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async test(e){return"avg"!==e.expr.aggregator?(0,a.failTest)("This actor only supports the 'avg' aggregator."):(0,a.passTestVoid)()}async run(e){let{context:t,expr:r}=e;return new s.AverageAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:r.expression,context:t}),r.distinct,t.getSafe(i.KeysInitQuery.dataFactory),await this.mediatorFunctionFactory.mediate({functionName:o.SparqlOperator.ADDITION,context:t,requireTermExpression:!0}),await this.mediatorFunctionFactory.mediate({functionName:o.SparqlOperator.DIVISION,context:t,requireTermExpression:!0}))}}t.ActorBindingsAggregatorFactoryAverage=c},6275:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeHandlerDefinitionFragment=void 0;const n=r(96200);class i extends n.NodeHandlerDefinitionAdapter{constructor(e,t){super("FragmentDefinition",e,t)}handle(e,t){throw new Error("Illegal state: fragment definitions must be indexed and removed before processing")}}t.NodeHandlerDefinitionFragment=i},6281:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryParseGraphql=void 0;const n=r(36747),i=r(52840),a=r(13953),o=r(1521);class s extends n.ActorQueryParse{constructor(e){super(e),this.graphqlToSparql=new o.Converter({requireContext:!0})}async test(e){var t;return"graphql"!==(null===(t=e.queryFormat)||void 0===t?void 0:t.language)?(0,a.failTest)("This actor can only parse GraphQL queries"):(0,a.passTestVoid)()}async run(e){const t=e.context.get(i.KeysInitQuery.jsonLdContext)||{},r={singularizeVariables:e.context.get(i.KeysInitQuery.graphqlSingularizeVariables)};return{operation:await this.graphqlToSparql.graphqlToSparqlAlgebra(e.query,t,r)}}}t.ActorQueryParseGraphql=s},6329:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermIsTriple=void 0;const i=r(11716),a=r(97824),o=r(13896);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.IS_TRIPLE],termFunction:!0}))}async run(e){return new o.TermFunctionIsTriple}}t.ActorFunctionFactoryTermIsTriple=s},6358:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(74705),t)},6477:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionRegex=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:[2,3],operator:i.SparqlOperator.REGEX,overloads:(0,i.declare)(i.SparqlOperator.REGEX).onBinaryTyped([i.TypeAlias.SPARQL_STRINGLY,i.TypeURL.XSD_STRING],a.regex2).onTernaryTyped([i.TypeAlias.SPARQL_STRINGLY,i.TypeURL.XSD_STRING,i.TypeURL.XSD_STRING],a.regex3).collect()})}static regex2(){return(e,t)=>(0,i.bool)(a.matches(e,t))}static regex3(){return(e,t,r)=>(0,i.bool)(a.matches(e,t,r))}static matches(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";r=a.cleanFlags(r),r.includes("x")&&(t=a.flagX(t)),r.includes("q")&&(t=a.flagQ(t));return new RegExp(t,r.replaceAll(/[qx]/g,"")).test(e)}static cleanFlags(e){var t;if(!/^[imqsx]*$/.test(e))throw new Error("Invalid flags");const r=[...e].find((e,t,r)=>r.indexOf(e)!==t);if(r)throw new Error("Duplicate flag: ".concat(r));return null!==(t=e)&&void 0!==t&&t.includes("q")&&(e=e.replaceAll(/[msx]/g,"")),"".concat(e,"u")}static flagX(e){if(!e)return e;let t=e[0];for(;["\t","\n","\r"," "].includes(t);)t=(e=e.slice(1))[0];let r="["===t;for(let n=1;n<e.length;n++){const i=e[n];["\t","\n","\r"," "].includes(i)&&!r?(e=e.slice(0,n)+e.slice(n+1),n--):"["===i&&"\\"!==t?r=!0:"]"===i&&"\\"!==t&&(r=!1),t=i}return e}static flagQ(e){return e.replaceAll(/([\(-\+\.\?\[-\]\{-\}])/g,"\\$1").replaceAll(/^\^/g,"\\^").replaceAll(/\$$/g,"\\$")}}t.TermFunctionRegex=a},6582:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermXsdToFloat=void 0;const i=r(11716),a=r(97824),o=r(19579);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.TypeURL.XSD_FLOAT],termFunction:!0}))}async run(e){return new o.TermFunctionXsdToFloat}}t.ActorFunctionFactoryTermXsdToFloat=s},6624:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathSeq=void 0;const i=r(56840),a=r(52840),o=r(89266),s=r(85160);class c extends i.ActorAbstractPath{constructor(e){super(e,s.Algebra.types.SEQ)}async runOperation(e,t){const r=t.getSafe(a.KeysInitQuery.dataFactory),i=new s.Factory(r),c=e.predicate;let l=e.subject;const u=[],d=await Promise.all(c.input.map((n,a)=>{const o=a===c.input.length-1?e.object:this.generateVariable(r,e,"b".concat(a)),s=i.createPath(l,n,o,e.graph),d=this.mediatorQueryOperation.mediate({context:t,operation:s});return l=o,a<c.input.length-1&&u.push(o),{output:d,operation:s}}).map(async e=>{let{output:t,operation:r}=e;return{output:(0,o.getSafeBindings)(await t),operation:r}})),h=(0,o.getSafeBindings)(await this.mediatorJoin.mediate({type:"inner",entries:d,context:t}));return{type:"bindings",bindingsStream:h.bindingsStream.transform({transform(e,t,r){for(const n of u)e=e.delete(n);r(e),t()}}),async metadata(){const e=await h.metadata(),t=e.variables.filter(e=>!u.some(t=>t.value===e.variable.value));return n(n({},e),{},{variables:t})}}}}t.ActorQueryOperationPathSeq=c},6673:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveNodeHandlerOptional=void 0;const n=r(64638);class i extends n.DirectiveNodeHandlerAdapter{constructor(e,t){super("optional",e,t)}handle(e,t){return{operationOverrider:e=>this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),e)}}}t.DirectiveNodeHandlerOptional=i},6802:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(78104),t)},6900:(e,t)=>{t.read=function(e,t,r,n,i){var a,o,s=8*i-n-1,c=(1<<s)-1,l=c>>1,u=-7,d=r?i-1:0,h=r?-1:1,p=e[t+d];for(d+=h,a=p&(1<<-u)-1,p>>=-u,u+=s;u>0;a=256*a+e[t+d],d+=h,u-=8);for(o=a&(1<<-u)-1,a>>=-u,u+=n;u>0;o=256*o+e[t+d],d+=h,u-=8);if(0===a)a=1-l;else{if(a===c)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),a-=l}return(p?-1:1)*o*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var o,s,c,l=8*a-i-1,u=(1<<l)-1,d=u>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,f=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,o=u):(o=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-o))<1&&(o--,c*=2),(t+=o+d>=1?h/c:h*Math.pow(2,1-d))*c>=2&&(o++,c/=2),o+d>=u?(s=0,o=u):o+d>=1?(s=(t*c-1)*Math.pow(2,i),o+=d):(s=t*Math.pow(2,d-1)*Math.pow(2,i),o=0));i>=8;e[r+p]=255&s,p+=f,s/=256,i-=8);for(o=o<<i|s,l+=i;l>0;e[r+p]=255&o,p+=f,o/=256,l-=8);e[r+p-f]|=128*g}},6939:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorHttpInvalidate=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e)}}t.ActorHttpInvalidate=i},6984:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeHandlerSelectionField=void 0;const n=r(88511);class i extends n.NodeHandlerSelectionAdapter{constructor(e,t){super("Field",e,t)}handle(e,t){return this.fieldToOperation(t,e,!0)}}t.NodeHandlerSelectionField=i},7067:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(20969),t)},7096:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WildcardCountAggregator=void 0;const n=r(85830),i=r(97824),a=r(45494);class o extends n.AggregateEvaluator{constructor(e,t,r){super(e,t,r),this.bindingValues=new Map,this.state=void 0}putTerm(e){}async putBindings(e){this.handleDistinct(e)||(void 0===this.state&&(this.state=0),this.state+=1)}emptyValueTerm(){return(0,i.typedLiteral)("0",i.TypeURL.XSD_INTEGER)}termResult(){return void 0===this.state?this.emptyValue():(0,i.typedLiteral)(String(this.state),i.TypeURL.XSD_INTEGER)}handleDistinct(e){if(this.distinct){const t=[...e];t.sort((e,t)=>e[0].value.localeCompare(t[0].value));const r=t.map(e=>{let[t]=e;return t.value}).join(","),n=t.map(e=>{let[,t]=e;return a.termToString(t)}).join(","),i=this.bindingValues.get(r),o=void 0!==i&&i.has(n);return i||this.bindingValues.set(r,new Set),this.bindingValues.get(r).add(n),o}return!1}}t.WildcardCountAggregator=o},7110:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(71733),t),i(r(97202),t)},7192:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionFunctionLogicalAnd=void 0;const n=r(11716),i=r(97824);class a extends n.ExpressionFunctionBase{constructor(){super({arity:2,operator:i.SparqlOperator.LOGICAL_AND,apply:async e=>{let{args:t,mapping:r,exprEval:n}=e;const[a,o]=t;try{const e=await n.evaluatorExpressionEvaluation(a,r);if(!e.coerceEBV())return(0,i.bool)(!1);const t=(await n.evaluatorExpressionEvaluation(o,r)).coerceEBV();return(0,i.bool)(t)}catch(s){if((await n.evaluatorExpressionEvaluation(o,r)).coerceEBV())throw s;return(0,i.bool)(!1)}}})}}t.ExpressionFunctionLogicalAnd=a},7293:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGraph=void 0;class r{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&"DefaultGraph"===e.termType}}t.DefaultGraph=r,r.INSTANCE=new r},7346:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermPredicate=void 0;const i=r(11716),a=r(97824),o=r(99141);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.PREDICATE],termFunction:!0}))}async run(e){return new o.TermFunctionPredicate}}t.ActorFunctionFactoryTermPredicate=s},7590:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(38034),t)},7848:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(42697),t)},7896:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6624),t)},7979:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(33641),t),i(r(67087),t),i(r(56729),t)},8174:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermEncodeForUri=void 0;const i=r(11716),a=r(97824),o=r(35587);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.ENCODE_FOR_URI],termFunction:!0}))}async run(e){return new o.TermFunctionEncodeForUri}}t.ActorFunctionFactoryTermEncodeForUri=s},8175:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(18846),t)},8225:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedNode=void 0;t.NamedNode=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}}},8272:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorExpressionEvaluatorFactory=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e),this.mediatorQueryOperation=e.mediatorQueryOperation,this.mediatorFunctionFactory=e.mediatorFunctionFactory,this.mediatorMergeBindingsContext=e.mediatorMergeBindingsContext}}t.ActorExpressionEvaluatorFactory=i},8601:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermStrLen=void 0;const i=r(11716),a=r(97824),o=r(58400);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.STRLEN],termFunction:!0}))}async run(e){return new o.TermFunctionStrLen}}t.ActorFunctionFactoryTermStrLen=s},8650:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermSubtraction=void 0;const i=r(11716),a=r(97824),o=r(45941);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.SUBTRACTION],termFunction:!0}))}async run(e){return new o.TermFunctionSubtraction}}t.ActorFunctionFactoryTermSubtraction=s},8833:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionXsdToTime=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.TypeURL.XSD_TIME,overloads:(0,i.declare)(i.TypeURL.XSD_TIME).onUnary(i.TypeURL.XSD_TIME,()=>e=>new i.TimeLiteral(e.typedValue,e.strValue)).onUnary(i.TypeURL.XSD_DATE_TIME,()=>e=>new i.TimeLiteral(e.typedValue)).onStringly1(()=>e=>new i.TimeLiteral((0,i.parseTime)(e.str()))).collect()})}}t.TermFunctionXsdToTime=a},8864:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralDirection=t.getLiteralLanguage=void 0;const n=r(16180);Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return n.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralDirection",{enumerable:!0,get:function(){return n.getLiteralDirection}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return n.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return n.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return n.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return n.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return n.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return n.termToString}})},8870:(e,t,r)=>{"use strict";const{ArrayIsArray:n,ArrayPrototypeIncludes:i,ArrayPrototypeJoin:a,ArrayPrototypeMap:o,NumberIsInteger:s,NumberIsNaN:c,NumberMAX_SAFE_INTEGER:l,NumberMIN_SAFE_INTEGER:u,NumberParseInt:d,ObjectPrototypeHasOwnProperty:h,RegExpPrototypeExec:p,String:f,StringPrototypeToUpperCase:g,StringPrototypeTrim:y}=r(28931),{hideStackFrames:m,codes:{ERR_SOCKET_BAD_PORT:v,ERR_INVALID_ARG_TYPE:b,ERR_INVALID_ARG_VALUE:_,ERR_OUT_OF_RANGE:w,ERR_UNKNOWN_SIGNAL:x}}=r(60056),{normalizeEncoding:S}=r(91887),{isAsyncFunction:T,isArrayBufferView:O}=r(91887).types,E={};const A=/^[0-7]+$/;const P=m(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:l;if("number"!==typeof e)throw new b(t,"number",e);if(!s(e))throw new w(t,"an integer",e);if(e<r||e>n)throw new w(t,">= ".concat(r," && <= ").concat(n),e)}),N=m(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-2147483648,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2147483647;if("number"!==typeof e)throw new b(t,"number",e);if(!s(e))throw new w(t,"an integer",e);if(e<r||e>n)throw new w(t,">= ".concat(r," && <= ").concat(n),e)}),j=m(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("number"!==typeof e)throw new b(t,"number",e);if(!s(e))throw new w(t,"an integer",e);const n=r?1:0,i=4294967295;if(e<n||e>i)throw new w(t,">= ".concat(n," && <= ").concat(i),e)});function D(e,t){if("string"!==typeof e)throw new b(t,"string",e)}const R=m((e,t,r)=>{if(!i(r,e)){const n=a(o(r,e=>"string"===typeof e?"'".concat(e,"'"):f(e)),", ");throw new _(t,e,"must be one of: "+n)}});function I(e,t){if("boolean"!==typeof e)throw new b(t,"boolean",e)}function F(e,t,r){return null!=e&&h(e,t)?e[t]:r}const C=m(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;const i=F(r,"allowArray",!1),a=F(r,"allowFunction",!1);if(!F(r,"nullable",!1)&&null===e||!i&&n(e)||"object"!==typeof e&&(!a||"function"!==typeof e))throw new b(t,"Object",e)}),M=m((e,t)=>{if(null!=e&&"object"!==typeof e&&"function"!==typeof e)throw new b(t,"a dictionary",e)}),k=m(function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(!n(e))throw new b(t,"Array",e);if(e.length<r){const n="must be longer than ".concat(r);throw new _(t,e,n)}});const L=m(function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"buffer";if(!O(e))throw new b(t,["Buffer","TypedArray","DataView"],e)});const B=m((e,t)=>{if(void 0!==e&&(null===e||"object"!==typeof e||!("aborted"in e)))throw new b(t,"AbortSignal",e)}),U=m((e,t)=>{if("function"!==typeof e)throw new b(t,"Function",e)}),V=m((e,t)=>{if("function"!==typeof e||T(e))throw new b(t,"Function",e)}),z=m((e,t)=>{if(void 0!==e)throw new b(t,"undefined",e)});const q=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function Q(e,t){if("undefined"===typeof e||!p(q,e))throw new _(t,e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}e.exports={isInt32:function(e){return e===(0|e)},isUint32:function(e){return e===e>>>0},parseFileMode:function(e,t,r){if("undefined"===typeof e&&(e=r),"string"===typeof e){if(null===p(A,e))throw new _(t,e,"must be a 32-bit unsigned integer or an octal string");e=d(e,8)}return j(e,t),e},validateArray:k,validateStringArray:function(e,t){k(e,t);for(let r=0;r<e.length;r++)D(e[r],"".concat(t,"[").concat(r,"]"))},validateBooleanArray:function(e,t){k(e,t);for(let r=0;r<e.length;r++)I(e[r],"".concat(t,"[").concat(r,"]"))},validateAbortSignalArray:function(e,t){k(e,t);for(let r=0;r<e.length;r++){const n=e[r],i="".concat(t,"[").concat(r,"]");if(null==n)throw new b(i,"AbortSignal",n);B(n,i)}},validateBoolean:I,validateBuffer:L,validateDictionary:M,validateEncoding:function(e,t){const r=S(t),n=e.length;if("hex"===r&&n%2!==0)throw new _("encoding",t,"is invalid for data of length ".concat(n))},validateFunction:U,validateInt32:N,validateInteger:P,validateNumber:function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;if("number"!==typeof e)throw new b(t,"number",e);if(null!=r&&e<r||null!=n&&e>n||(null!=r||null!=n)&&c(e))throw new w(t,"".concat(null!=r?">= ".concat(r):"").concat(null!=r&&null!=n?" && ":"").concat(null!=n?"<= ".concat(n):""),e)},validateObject:C,validateOneOf:R,validatePlainFunction:V,validatePort:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Port",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if("number"!==typeof e&&"string"!==typeof e||"string"===typeof e&&0===y(e).length||+e!==+e>>>0||e>65535||0===e&&!r)throw new v(t,e,r);return 0|e},validateSignalName:function(e){if(D(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"signal"),void 0===E[e]){if(void 0!==E[g(e)])throw new x(e+" (signals must use all capital letters)");throw new x(e)}},validateString:D,validateUint32:j,validateUndefined:z,validateUnion:function(e,t,r){if(!i(r,e))throw new b(t,"('".concat(a(r,"|"),"')"),e)},validateAbortSignal:B,validateLinkHeaderValue:function(e){if("string"===typeof e)return Q(e,"hints"),e;if(n(e)){const t=e.length;let r="";if(0===t)return r;for(let n=0;n<t;n++){const i=e[n];Q(i,"hints"),r+=i,n!==t-1&&(r+=", ")}return r}throw new _("hints",e,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}}},8941:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermIsLiteral=void 0;const i=r(11716),a=r(97824),o=r(82786);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.IS_LITERAL],termFunction:!0}))}async run(e){return new o.TermFunctionIsLiteral}}t.ActorFunctionFactoryTermIsLiteral=s},8991:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9141:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(89005),t)},9238:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Converter=void 0;const n=r(19722),i=r(4499);class a{constructor(e){(e=e||{delimiter:"_"}).prefixVariableQuestionMark=!1,this.delimiter=e.delimiter||"_",this.parser=new i.SparqlJsonParser(e),this.materializeRdfJsTerms=e.materializeRdfJsTerms}static addValueToTree(e,t,r,n,i,o){const s=t[0],c=n?n+o+s:s,l=i.singularizeVariables[c];if(1===t.length)l?e[s]||(e[s]=r):(e[s]||(e[s]=[]),e[s].push(r));else{let n;l?(e[s]||(e[s]={}),n=e[s]):(e[s]||(e[s]=[{}]),n=e[s][0]),a.addValueToTree(n,t.slice(1),r,c,i,o)}}static mergeTrees(e,t){if(typeof e!==typeof t)throw new Error("Two incompatible tree nodes were found: ".concat(typeof e," and ").concat(typeof t));if(Array.isArray(e)!==Array.isArray(t))throw new Error("Two incompatible tree nodes were found: Array?".concat(Array.isArray(e)," and Array?").concat(Array.isArray(t)));if("object"===typeof e&&"object"===typeof t){if(e.termType&&t.termType)return e.equals(t)?{valid:!0,result:e}:{valid:!1,result:e};if(Array.isArray(e)&&Array.isArray(t)){if(e.length>0){const r=[];let n=!1;for(const i of e){const e=a.mergeTrees(i,t[0]);e.valid?(n=!0,r.push(e.result)):r.push(i)}if(n)return{valid:!0,result:r}}return{valid:!0,result:e.concat(t)}}{const r={};for(const e in t)r[e]=t[e];for(const t in e)if(r[t]){const n=a.mergeTrees(e[t],r[t]);if(!n.valid)return{valid:!1,result:e};r[t]=n.result}else r[t]=e[t];return{valid:!0,result:r}}}throw new Error("Unmergable tree types: ".concat(typeof e," and ").concat(typeof t))}static materializeTree(e){if(e.termType)return(0,n.getTermRaw)(e);if(Array.isArray(e))return e.map(a.materializeTree);{const t={};for(const r in e)t[r]=a.materializeTree(e[r]);return t}}sparqlJsonResultsToTree(e,t){return this.bindingsToTree(this.parser.parseJsonResults(e),t||{singularizeVariables:{}})}bindingsToTree(e,t){const r=t&&t.singularizeVariables[""];let n=r?{}:[];for(const i of e){const e=r?{}:[{}];for(const n in i){const o=n.split(this.delimiter),s=i[n];a.addValueToTree(r?e:e[0],o,s,"",t,this.delimiter)}n=a.mergeTrees(n,e).result}return this.materializeRdfJsTerms&&(n=a.materializeTree(n)),n}}t.Converter=a},9261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionFunctionBound=void 0;const n=r(11716),i=r(52840),a=r(90355),o=r(97824);class s extends n.ExpressionFunctionBase{constructor(){super({arity:1,operator:o.SparqlOperator.BOUND,apply:async e=>{let{args:t,mapping:r,exprEval:n}=e;const s=t[0];if(s.expressionType!==a.ExpressionType.Variable)throw new o.InvalidArgumentTypes(t,o.SparqlOperator.BOUND);const c=r.has((0,o.expressionToVar)(n.context.getSafe(i.KeysInitQuery.dataFactory),s));return(0,o.bool)(c)}})}}t.ExpressionFunctionBound=s},9536:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeValueHandlerEnum=void 0;const n=r(71506);class i extends n.NodeValueHandlerAdapter{constructor(e,t){super("EnumValue",e,t)}handle(e,t,r){return{terms:[this.util.valueToNamedNode(e.value,r.context)]}}}t.NodeValueHandlerEnum=i},9657:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationProject=void 0;const i=r(52241),a=r(52840),o=r(13953),s=r(22877),c=r(89266);class l extends i.ActorQueryOperationTypedMediated{constructor(e){super(e,"project")}async testOperation(e,t){return(0,o.passTestVoid)()}async runOperation(e,t){const r=t.getSafe(a.KeysInitQuery.dataFactory),i=(0,c.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:e.input,context:t})),o=await i.metadata(),l=Object.fromEntries(o.variables.map(e=>[e.variable.value,e])),u=e.variables.map(e=>({variable:e,canBeUndef:!1})),d=Object.fromEntries(u.map(e=>[e.variable.value,e])),h=o.variables.filter(e=>!(e.variable.value in d)),p=u.map(e=>({variable:e.variable,canBeUndef:!(e.variable.value in l)||l[e.variable.value].canBeUndef}));let f=0===h.length?i.bindingsStream:i.bindingsStream.map(e=>{for(const t of h)e=e.delete(t.variable);return e}),g=0;return f=f.map(e=>{g++;const t=new Map;return e.map(e=>{if(e instanceof s.BlankNodeBindingsScoped){let n=t.get(e.value);return n||(n=r.blankNode("".concat(e.value).concat(g)),t.set(e.value,n)),n}return e})}),{type:"bindings",bindingsStream:f,metadata:async()=>n(n({},o),{},{variables:p})}}}t.ActorQueryOperationProject=l},9715:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.toSparqlJs=t.toSparql=void 0;const s=r(26298),c=r(45494),l=r(36865),u=a(r(28680)),d=o(r(21634)),h=o(r(33510)),p=u.types,f=u.expressionTypes;let g;const y=new d.default;function m(e){v();let t=b(e=function(e){return R(e,[])}(e));return"group"===t.type?t.patterns[0]:t}function v(){g={project:!1,extend:[],group:[],aggregates:[],order:[]}}function b(e){switch(e.type!==p.EXTEND&&e.type!==p.ORDER_BY&&e.type!==p.GRAPH&&(g.project=!1),e.type){case p.EXPRESSION:return _(e);case p.ASK:return A(e,p.ASK);case p.BGP:return function(e){let t=e.patterns.map(O);return 0===t.length?null:{type:"bgp",triples:t}}(e);case p.CONSTRUCT:return function(e){return{type:"query",prefixes:{},queryType:"CONSTRUCT",template:e.template.map(O),where:h.default.flatten([b(e.input)])}}(e);case p.DESCRIBE:return A(e,p.DESCRIBE);case p.DISTINCT:return function(e){let t=b(e.input);return t.patterns[0].distinct=!0,t}(e);case p.EXTEND:return function(e){if(g.project)return g.extend.push(e),b(e.input);return h.default.flatten([b(e.input),{type:"bind",variable:e.variable,expression:_(e.expression)}])}(e);case p.FROM:return function(e){const t=b(e.input);let r=t;"group"===t.type&&(r=t.patterns[0]);return r.from={default:e.default,named:e.named},t}(e);case p.FILTER:return function(e){return{type:"group",patterns:h.default.flatten([b(e.input),{type:"filter",expression:_(e.expression)}])}}(e);case p.GRAPH:return function(e){return{type:"graph",patterns:h.default.flatten([b(e.input)]),name:e.name}}(e);case p.GROUP:return function(e){const t=b(e.input),r=e.aggregates.map(T);return g.aggregates.push(...r),g.group.push(...e.variables),t}(e);case p.JOIN:return function(e){const t=h.default.flatten(e.input.map(b));return t.reduce((e,t)=>("bgp"!==t.type||0==e.length||"bgp"!==e[e.length-1].type?e.push(t):e[e.length-1].triples.push(...t.triples),e),[])}(e);case p.LEFT_JOIN:return function(e){const t={type:"optional",patterns:[b(e.input[1])]};e.expression&&t.patterns.push({type:"filter",expression:_(e.expression)});return t.patterns=h.default.flatten(t.patterns),h.default.flatten([b(e.input[0]),t])}(e);case p.MINUS:return function(e){let t=b(e.input[1]);"group"===t.type&&(t=t.patterns);Array.isArray(t)||(t=[t]);return h.default.flatten([b(e.input[0]),{type:"minus",patterns:t}])}(e);case p.NOP:return{};case p.ORDER_BY:return function(e){return g.order.push(...e.expressions),b(e.input)}(e);case p.PATH:return function(e){return{type:"bgp",triples:[{subject:e.subject,predicate:w(e.predicate),object:e.object}]}}(e);case p.PATTERN:return O(e);case p.PROJECT:return A(e,p.PROJECT);case p.REDUCED:return function(e){let t=b(e.input);return t.patterns[0].reduced=!0,t}(e);case p.SERVICE:return function(e){let t=b(e.input);"group"===t.type&&(t=t.patterns);Array.isArray(t)||(t=[t]);return{type:"service",name:e.name,silent:e.silent,patterns:t}}(e);case p.SLICE:return function(e){let t=b(e.input),r=t;t.type&&"group"===t.type&&(r=t.patterns[0]);0!==e.start&&(r.offset=e.start);void 0!==e.length&&(r.limit=e.length);return t}(e);case p.UNION:return function(e){return{type:"union",patterns:e.input.map(b).map(S)}}(e);case p.VALUES:return function(e){return{type:"values",values:e.bindings.map(t=>{let r={};for(let n of e.variables){let e="?".concat(n.value);t[e]?r[e]=t[e]:r[e]=void 0}return r})}}(e);case p.COMPOSITE_UPDATE:return function(e){const t=e.updates.map(e=>b(e).updates[0]);return{prefixes:{},type:"update",updates:t}}(e);case p.DELETE_INSERT:return function(e){var t;let r,n=e.where;if(n&&n.type===p.FROM){let e=n;n=e.input,r={default:e.default,named:e.named}}const i=[{updateType:"insertdelete",delete:D(e.delete||[]),insert:D(e.insert||[])}];r&&(i[0].using=r);if(!n||n.type===p.BGP&&0===n.patterns.length)i[0].where=[];else{const e=[];let r=b(R(n,e));if("group"===r.type?i[0].where=r.patterns:i[0].where=[r],e.length>0){if(1!==e.length)throw new Error("This is unexpected and might indicate an error in graph handling for updates.");""!==(null===(t=e[0])||void 0===t?void 0:t.value)&&(i[0].where=[{type:"graph",patterns:i[0].where,name:e[0]}])}}e.delete||e.where?e.insert||e.where?!e.insert&&e.where&&"bgp"===e.where.type&&(0,s.isomorphic)(e.delete,e.where.patterns)&&(delete i[0].where,i[0].updateType="deletewhere"):(delete i[0].insert,delete i[0].where,e.delete.some(e=>"Variable"===e.subject.termType||"Variable"===e.predicate.termType||"Variable"===e.object.termType)?i[0].updateType="deletewhere":i[0].updateType="delete"):(i[0].updateType="insert",delete i[0].delete,delete i[0].where);return{prefixes:{},type:"update",updates:i}}(e);case p.LOAD:return function(e){const t=[{type:"load",silent:Boolean(e.silent),source:e.source}];e.destination&&(t[0].destination=e.destination);return{prefixes:{},type:"update",updates:t}}(e);case p.CLEAR:return function(e){return N(e,"clear")}(e);case p.CREATE:return function(e){return N(e,"create")}(e);case p.DROP:return function(e){return N(e,"drop")}(e);case p.ADD:return function(e){return j(e,"add")}(e);case p.MOVE:return function(e){return j(e,"move")}(e);case p.COPY:return function(e){return j(e,"copy")}(e)}throw new Error("Unknown Operation type ".concat(e.type))}function _(e){switch(e.expressionType){case f.AGGREGATE:return function(e){const t={expression:_(e.expression),type:"aggregate",aggregation:e.aggregator,distinct:e.distinct};e.separator&&(t.separator=e.separator);return t}(e);case f.EXISTENCE:return function(e){return{type:"operation",operator:e.not?"notexists":"exists",args:[{type:"group",patterns:h.default.flatten([b(e.input)])}]}}(e);case f.NAMED:return function(e){return{type:"functionCall",function:e.name,args:e.args.map(_)}}(e);case f.OPERATOR:return function(e){if("desc"===e.operator){const t={expression:_(e.args[0]),descending:!0};return t}const t={type:"operation",operator:e.operator,args:e.args.map(_)};"in"!==t.operator&&"notin"!==t.operator||(t.args=[t.args[0]].concat([t.args.slice(1)]));return t}(e);case f.TERM:return function(e){return e.term}(e);case f.WILDCARD:return function(e){return e.wildcard}(e)}throw new Error("Unknown Expression Operation type ".concat(e.expressionType))}function w(e){switch(e.type){case p.ALT:return function(e){const t=e.input.map(w);if(t.every(e=>"pathType"in e&&"!"===e.pathType))return{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:h.default.flatten(t.map(e=>e.items))}]};return{type:"path",pathType:"|",items:t}}(e);case p.INV:return function(e){if(e.path.type===p.NPS){const t=e.path.iris.map(e=>({type:"path",pathType:"^",items:[e]}));return t.length<=1?{type:"path",pathType:"!",items:t}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:t}]}}return{type:"path",pathType:"^",items:[w(e.path)]}}(e);case p.LINK:return function(e){return e.iri}(e);case p.NPS:return function(e){return e.iris.length<=1?{type:"path",pathType:"!",items:e.iris}:{type:"path",pathType:"!",items:[{type:"path",pathType:"|",items:e.iris}]}}(e);case p.ONE_OR_MORE_PATH:return function(e){return{type:"path",pathType:"+",items:[w(e.path)]}}(e);case p.SEQ:return function(e){return{type:"path",pathType:"/",items:e.input.map(w)}}(e);case p.ZERO_OR_MORE_PATH:return function(e){return{type:"path",pathType:"*",items:[w(e.path)]}}(e);case p.ZERO_OR_ONE_PATH:return function(e){return{type:"path",pathType:"?",items:[w(e.path)]}}(e)}throw new Error("Unknown Path type ".concat(e.type))}function x(e){return(0,c.termToString)(e)}function S(e){return Array.isArray(e)?1===e.length?e[0]:{type:"group",patterns:e}:e}function T(e){return e}function O(e){return{subject:e.subject,predicate:e.predicate,object:e.object}}function E(e,t){let r=h.default.isSimpleTerm(e)?x(e):e;if("string"===typeof r){if(t[r])return t[r]}else if(Array.isArray(e))e=e.map(e=>E(e,t));else for(let n of Object.keys(e))e[n]=E(e[n],t);return e}function A(e,t){const r={type:"query",prefixes:{}},n=r;let i;t===p.PROJECT?(r.queryType="SELECT",i=e.variables):t===p.ASK?r.queryType="ASK":t===p.DESCRIBE&&(r.queryType="DESCRIBE",i=e.terms);const a=g.extend,o=g.group,s=g.aggregates,u=g.order;v(),g.project=!0;let d=h.default.flatten([b(e.input)]);1===d.length&&"group"===d[0].type&&(d=d[0].patterns),r.where=d;let f={};for(let c of g.aggregates)f[x(c.variable)]=_(c);let y={};for(let c=g.extend.length-1;c>=0;--c){let e=g.extend[c];y[x(e.variable)]=E(_(e.expression),f)}g.group.length>0&&(n.group=g.group.map(e=>{let t=x(e);if(y[t]){let r=y[t];return delete y[t],{variable:e,expression:r}}return{expression:e}})),g.order.length>0&&(n.order=g.order.map(b).map(e=>e.descending?e:{expression:e})),i&&(n.variables=i.map(e=>{let t=x(e);if(y[t]){let r=y[t];return delete y[t],{variable:e,expression:r}}return e}),0===n.variables.length&&(n.variables=[new l.Wildcard]));const m=Object.entries(y);if(m.length>0){n.where=n.where||[];for(const[e,t]of m)n.where.push({type:"bind",variable:(0,c.stringToTerm)(e),expression:t})}if(r.where.length>0&&"filter"===r.where[r.where.length-1].type){const e=r.where[r.where.length-1];P(e,Object.keys(f))&&(n.having=h.default.flatten([E(e.expression,f)]),r.where.splice(-1))}return g.extend=a,g.group=o,g.aggregates=s,g.order=u,{type:"group",patterns:[n]}}function P(e,t){return h.default.isSimpleTerm(e)?t.indexOf(x(e))>=0:Array.isArray(e)?e.some(e=>P(e,t)):e===Object(e)?Object.keys(e).some(r=>P(e[r],t)):t.indexOf(e)>=0}function N(e,t){const r=[{type:t,silent:Boolean(e.silent)}];return"DEFAULT"===e.source?r[0].graph={default:!0}:"NAMED"===e.source?r[0].graph={named:!0}:"ALL"===e.source?r[0].graph={all:!0}:r[0].graph={type:"graph",name:e.source},{prefixes:{},type:"update",updates:r}}function j(e,t){const r=[{type:t,silent:Boolean(e.silent)}];return r[0].source="DEFAULT"===e.source?{type:"graph",default:!0}:{type:"graph",name:e.source},r[0].destination="DEFAULT"===e.destination?{type:"graph",default:!0}:{type:"graph",name:e.destination},{prefixes:{},type:"update",updates:r}}function D(e){if(!e)return[];const t={};return e.forEach(e=>{const r=e.graph.value;t[r]||(t[r]=[]),t[r].push(e)}),Object.keys(t).map(e=>""===e?{type:"bgp",triples:t[e].map(O)}:{type:"graph",triples:t[e].map(O),name:t[e][0].graph})}function R(e,t){if(Array.isArray(e))return e.map(e=>R(e,t));if(!e.type)return e;if(e.type===p.DELETE_INSERT)return e;if((e.type===p.PATTERN||e.type===p.PATH)&&e.graph)return t.push(e.graph),""!==e.graph.name?e.type===p.PATTERN?y.createPattern(e.subject,e.predicate,e.object):y.createPath(e.subject,e.predicate,e.object):e;const r={},n={},i={};for(let o of Object.keys(e)){const t=[];if(r[o]=R(e[o],t),t.length>0){n[o]=t;for(const e of t)i[e.value]=e}}const a=Object.keys(i);if(a.length>0)if(1!==a.length||[p.PROJECT,p.SERVICE].includes(e.type)){if(e.type===p.BGP)return function(e,t){var r;const n={};for(let o=0;o<e.patterns.length;++o){const i=e.patterns[o],a=t[o].value;n[a]=null!==(r=n[a])&&void 0!==r?r:{patterns:[],graph:t[o]},n[a].patterns.push(i)}let i=[];for(const[o,{patterns:s,graph:c}]of Object.entries(n)){const e=y.createBgp(s);i.push(""===o?e:y.createGraph(e,c))}let a=i[0];for(let o=1;o<i.length;++o)a=y.createJoin([a,i[o]]);return a}(e,n.patterns);for(let e of Object.keys(n)){const t=r[e];Array.isArray(t)?r[e]=t.map((t,r)=>""===n[e][0].value?t:y.createGraph(t,n[e][r])):""!==n[e][0].value&&(r[e]=y.createGraph(t,n[e][0]))}}else t.push(i[a[0]]);return r}t.toSparql=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new l.Generator(t).stringify(m(e))},t.toSparqlJs=m},9781:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfSerialize=void 0;const n=r(82663);class i extends n.ActorAbstractMediaTyped{constructor(e){super(e)}}t.ActorRdfSerialize=i},9791:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeValueHandlerFloat=void 0;const n=r(71506);class i extends n.NodeValueHandlerAdapter{constructor(e,t){super("FloatValue",e,t),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#float")}handle(e,t,r){return{terms:[this.util.dataFactory.literal(e.value,this.datatype)]}}}t.NodeValueHandlerFloat=i},9814:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9865:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionXsdToDecimal=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.TypeURL.XSD_DECIMAL,overloads:(0,i.declare)(i.TypeURL.XSD_DECIMAL).onNumeric1(()=>e=>{const t=(0,i.parseXSDDecimal)(e.str());if(void 0===t)throw new i.CastError(e,i.TypeURL.XSD_DECIMAL);return(0,i.decimal)(t)}).onString1(()=>e=>{const t=e.str(),r=/^([\+\x2D])?([0-9]+(\.[0-9]+)?)$/.test(t)?(0,i.parseXSDDecimal)(t):void 0;if(void 0===r)throw new i.CastError(e,i.TypeURL.XSD_DECIMAL);return(0,i.decimal)(r)},!1).onBoolean1Typed(()=>e=>(0,i.decimal)(e?1:0)).collect()})}}t.TermFunctionXsdToDecimal=a},10293:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(94664),t),i(r(86231),t)},10600:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},10713:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionXsdToDatetime=void 0;const i=r(11716),a=r(97824);class o extends i.TermFunctionBase{constructor(){super({arity:1,operator:a.TypeURL.XSD_DATE_TIME,overloads:(0,a.declare)(a.TypeURL.XSD_DATE_TIME).onUnary(a.TypeURL.XSD_DATE_TIME,()=>e=>e).onUnary(a.TypeURL.XSD_STRING,()=>e=>(0,a.dateTime)((0,a.parseDateTime)(e.str()),e.str()),!1).onUnary(a.TypeURL.XSD_DATE,()=>e=>new a.DateTimeLiteral(n(n({},e.typedValue),{},{hours:0,minutes:0,seconds:0}))).collect()})}}t.TermFunctionXsdToDatetime=o},10733:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(49866),i=r(66948);t.default=function(e){const t=function(e){return Uint8Array.of((15&e[6])<<4|e[7]>>4&15,(15&e[7])<<4|(240&e[4])>>4,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,(15&e[1])<<4|(240&e[2])>>4,96|15&e[2],e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"===typeof e?(0,n.default)(e):e);return"string"===typeof e?(0,i.unsafeStringify)(t):t}},11032:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(80967),t),i(r(19398),t),i(r(21012),t),i(r(93478),t),i(r(97831),t),i(r(61536),t)},11033:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(71398),t)},11193:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingsToQuadsIterator=void 0;const n=r(72758),i=r(57078);class a extends n.MultiTransformIterator{constructor(e,t,r){super(r,{autoStart:!1}),this.dataFactory=e,this.template=t,this.blankNodeCounter=0}static bindTerm(e,t){return"Variable"===t.termType?e.get(t):t}static bindQuad(e,t){try{return(0,i.mapTermsNested)(t,t=>{const r=a.bindTerm(e,t);if(!r)throw new Error("Unbound term");return r})}catch(r){}}static localizeBlankNode(e,t,r){return"BlankNode"===r.termType?e.blankNode("".concat(r.value).concat(t)):r}static localizeQuad(e,t,r){return(0,i.mapTermsNested)(r,r=>a.localizeBlankNode(e,t,r))}bindTemplate(e,t,r){return t.map(a.localizeQuad.bind(null,this.dataFactory,r)).map(t=>a.bindQuad.bind(null,e)(t)).filter(Boolean)}_createTransformer(e){return new n.ArrayIterator(this.bindTemplate(e,this.template,this.blankNodeCounter++),{autoStart:!1})}}t.BindingsToQuadsIterator=a},11220:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(30922),t)},11441:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionFunctionBnode=void 0;const n=r(11716),i=r(52840),a=r(22877),o=r(97824);class s extends n.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:o.SparqlOperator.BNODE,apply:async e=>{const{args:t,mapping:r,exprEval:n}=e,c=1===t.length?await n.evaluatorExpressionEvaluation(t[0],r):void 0;let l;if(c){const e=s.bnodeTree.search([c],n.context.getSafe(i.KeysExpressionEvaluator.superTypeProvider),n.context.getSafe(i.KeysInitQuery.functionArgumentsCache));if(!e)throw new o.InvalidArgumentTypes(t,o.SparqlOperator.BNODE);l=e(n)([c]).str()}const u=new a.BlankNodeBindingsScoped(null!==l&&void 0!==l?l:"BNODE_".concat(s.bnodeCounter++));return new o.BlankNode(u)}})}checkArity(e){return 0===e.length||1===e.length}}t.ExpressionFunctionBnode=s,s.bnodeTree=(0,o.declare)(o.SparqlOperator.BNODE).onString1(()=>e=>e).collect(),s.bnodeCounter=0},11716:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(63091),t),i(r(75918),t),i(r(27162),t),i(r(77672),t)},11745:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(32708),t),i(r(93109),t),i(r(92222),t)},11891:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(98555),t)},12155:(e,t,r)=>{"use strict";var n=r(97643),i=r(12629),a=r(75482),o=n.rotr64_hi,s=n.rotr64_lo,c=n.shr64_hi,l=n.shr64_lo,u=n.sum64,d=n.sum64_hi,h=n.sum64_lo,p=n.sum64_4_hi,f=n.sum64_4_lo,g=n.sum64_5_hi,y=n.sum64_5_lo,m=i.BlockHash,v=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;m.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=v,this.W=new Array(160)}function _(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function w(e,t,r,n,i,a){var o=t&n^~t&a;return o<0&&(o+=4294967296),o}function x(e,t,r,n,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function S(e,t,r,n,i,a){var o=t&n^t&a^n&a;return o<0&&(o+=4294967296),o}function T(e,t){var r=o(e,t,28)^o(t,e,2)^o(t,e,7);return r<0&&(r+=4294967296),r}function O(e,t){var r=s(e,t,28)^s(t,e,2)^s(t,e,7);return r<0&&(r+=4294967296),r}function E(e,t){var r=o(e,t,14)^o(e,t,18)^o(t,e,9);return r<0&&(r+=4294967296),r}function A(e,t){var r=s(e,t,14)^s(e,t,18)^s(t,e,9);return r<0&&(r+=4294967296),r}function P(e,t){var r=o(e,t,1)^o(e,t,8)^c(e,t,7);return r<0&&(r+=4294967296),r}function N(e,t){var r=s(e,t,1)^s(e,t,8)^l(e,t,7);return r<0&&(r+=4294967296),r}function j(e,t){var r=o(e,t,19)^o(t,e,29)^c(e,t,6);return r<0&&(r+=4294967296),r}function D(e,t){var r=s(e,t,19)^s(t,e,29)^l(e,t,6);return r<0&&(r+=4294967296),r}n.inherits(b,m),e.exports=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=j(r[n-4],r[n-3]),a=D(r[n-4],r[n-3]),o=r[n-14],s=r[n-13],c=P(r[n-30],r[n-29]),l=N(r[n-30],r[n-29]),u=r[n-32],d=r[n-31];r[n]=p(i,a,o,s,c,l,u,d),r[n+1]=f(i,a,o,s,c,l,u,d)}},b.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],o=this.h[2],s=this.h[3],c=this.h[4],l=this.h[5],p=this.h[6],f=this.h[7],m=this.h[8],v=this.h[9],b=this.h[10],P=this.h[11],N=this.h[12],j=this.h[13],D=this.h[14],R=this.h[15];a(this.k.length===r.length);for(var I=0;I<r.length;I+=2){var F=D,C=R,M=E(m,v),k=A(m,v),L=_(m,v,b,P,N),B=w(m,v,b,P,N,j),U=this.k[I],V=this.k[I+1],z=r[I],q=r[I+1],Q=g(F,C,M,k,L,B,U,V,z,q),G=y(F,C,M,k,L,B,U,V,z,q);F=T(n,i),C=O(n,i),M=x(n,i,o,s,c),k=S(n,i,o,s,c,l);var H=d(F,C,M,k),W=h(F,C,M,k);D=N,R=j,N=b,j=P,b=m,P=v,m=d(p,f,Q,G),v=h(f,f,Q,G),p=c,f=l,c=o,l=s,o=n,s=i,n=d(Q,G,H,W),i=h(Q,G,H,W)}u(this.h,0,n,i),u(this.h,2,o,s),u(this.h,4,c,l),u(this.h,6,p,f),u(this.h,8,m,v),u(this.h,10,b,P),u(this.h,12,N,j),u(this.h,14,D,R)},b.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},12316:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(65952),t)},12410:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Literal=void 0;const n=r(13492);class i{constructor(e,t){this.termType="Literal",this.value=e,"string"===typeof t?(this.language=t,this.datatype=i.RDF_LANGUAGE_STRING,this.direction=""):t?"termType"in t?(this.language="",this.datatype=t,this.direction=""):(this.language=t.language,this.datatype=t.direction?i.RDF_DIRECTIONAL_LANGUAGE_STRING:i.RDF_LANGUAGE_STRING,this.direction=t.direction||""):(this.language="",this.datatype=i.XSD_STRING,this.direction="")}equals(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&(e.direction===this.direction||!e.direction&&""===this.direction)&&this.datatype.equals(e.datatype)}}t.Literal=i,i.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.RDF_DIRECTIONAL_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),i.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string")},12435:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorHashBindings=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e)}}t.ActorHashBindings=i},12629:(e,t,r)=>{"use strict";var n=r(97643),i=r(75482);function a(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}t.BlockHash=a,a.prototype.update=function(e,t){if(e=n.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=n.join32(e,0,e.length-r,this.endian);for(var i=0;i<e.length;i+=this._delta32)this._update(e,i,i+this._delta32)}return this},a.prototype.digest=function(e){return this.update(this._pad()),i(null===this.pending),this._digest(e)},a.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,a=8;a<this.padLength;a++)n[i++]=0;return n}},12653:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupsState=void 0;const n=r(52840),i=r(7979);t.GroupsState=class{constructor(e,t,r,n,i){this.pattern=e,this.mediatorBindingsAggregatorFactory=t,this.context=r,this.bindingsFactory=n,this.variables=i,this.groups=new Map,this.groupsInitializer=new Map,this.groupVariables=new Set(this.pattern.variables.map(e=>e.value)),this.waitCounter=1,this.resultHasBeenCalled=!1}consumeBindings(e){const t=this.resultCheck();if(t)return t;this.waitCounter++;const r=e.filter((e,t)=>this.groupVariables.has(t.value)),n=this.hashBindings(r);let i,a=this.groupsInitializer.get(n);if(a){const t=a;i=(async()=>{const r=await t;await Promise.all(this.pattern.aggregates.map(async t=>{const n=t.variable.value;await r.aggregators[n].putBindings(e)}))})().then(async()=>{await this.subtractWaitCounterAndCollect()})}else a=(async()=>{const t={};await Promise.all(this.pattern.aggregates.map(async r=>{const n=r.variable.value;t[n]=await this.mediatorBindingsAggregatorFactory.mediate({expr:r,context:this.context}),await t[n].putBindings(e)}));const i={aggregators:t,bindings:r};return this.groups.set(n,i),await this.subtractWaitCounterAndCollect(),i})(),this.groupsInitializer.set(n,a),i=a;return i}async subtractWaitCounterAndCollect(){0===--this.waitCounter&&await this.handleResultCollection()}async handleResultCollection(){const e=this.context.getSafe(n.KeysInitQuery.dataFactory);let t=await Promise.all([...this.groups].map(async t=>{let[r,n]=t;const{bindings:i,aggregators:a}=n;let o=i;for(const s in a){const t=await a[s].result();t&&(o=o.set(e.variable(s),t))}return o}));if(0===t.length&&0===this.groupVariables.size){const e=[];await Promise.all(this.pattern.aggregates.map(async t=>{const r=t.variable,n=await this.mediatorBindingsAggregatorFactory.mediate({expr:t,context:this.context}),i=await n.result();void 0!==i&&e.push([r,i])})),t=[this.bindingsFactory.bindings(e)]}this.waitResolver(t)}resultCheck(){if(this.resultHasBeenCalled)return Promise.reject(new Error("Calling any function after calling collectResult is invalid."))}async collectResults(){const e=this.resultCheck();if(e)return e;this.resultHasBeenCalled=!0;const t=new Promise(e=>{this.waitResolver=e});return await this.subtractWaitCounterAndCollect(),t}hashBindings(e){return(0,i.bindingsToCompactString)(e,this.variables)}}},12835:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorContextPreprocessQuerySourceSkolemize=void 0;const n=r(13859),i=r(52840),a=r(13953),o=r(94373),s=r(69924);class c extends n.ActorContextPreprocess{constructor(e){super(e)}async test(e){return(0,a.passTestVoid)()}async run(e){let t=e.context;if(t.has(i.KeysQueryOperation.querySources)){t.has(i.KeysQuerySourceIdentify.sourceIds)||(t=t.set(i.KeysQuerySourceIdentify.sourceIds,new Map));const e=t.getSafe(i.KeysQuerySourceIdentify.sourceIds);let r=t.getSafe(i.KeysQueryOperation.querySources);r=r.map(t=>({source:new o.QuerySourceSkolemized(t.source,(0,s.getSourceId)(e,t.source)),context:t.context})),t=t.set(i.KeysQueryOperation.querySources,r)}return{context:t}}}t.ActorContextPreprocessQuerySourceSkolemize=c},12897:(e,t,r)=>{var n=r(43693);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){n(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},12905:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(46764);t.default=function(e){return"string"===typeof e&&n.default.test(e)}},13104:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(70284),t)},13212:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermRand=void 0;const i=r(11716),a=r(97824),o=r(29869);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.RAND],termFunction:!0}))}async run(e){return new o.TermFunctionRand}}t.ActorFunctionFactoryTermRand=s},13243:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGraph=void 0;class r{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&"DefaultGraph"===e.termType}}t.DefaultGraph=r,r.INSTANCE=new r},13462:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveNodeHandlerSkip=void 0;const n=r(64638);class i extends n.DirectiveNodeHandlerAdapter{constructor(e,t){super("skip",e,t)}handle(e,t){const r=this.getDirectiveConditionalValue(e.directive,t);return"Literal"===r.termType&&"true"===r.value?{ignore:!0}:{}}}t.DirectiveNodeHandlerSkip=i},13492:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedNode=void 0;t.NamedNode=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}}},13641:e=>{"use strict";const{AbortController:t,AbortSignal:r}="undefined"!==typeof self?self:"undefined"!==typeof window?window:void 0;e.exports=t,e.exports.AbortSignal=r,e.exports.default=t},13715:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.promisifyEventEmitter=void 0,t.promisifyEventEmitter=function(e,t){return new Promise((r,n)=>{e.on("end",()=>r(t)),e.on("error",n)})}},13794:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i},13805:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryExpressionSameTerm=void 0;const i=r(11716),a=r(97824),o=r(71312);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.SAME_TERM],termFunction:!1}))}async run(e){return new o.ExpressionFunctionSameTerm}}t.ActorFunctionFactoryExpressionSameTerm=s},13859:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(77353),t)},13896:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionIsTriple=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.IS_TRIPLE,overloads:(0,i.declare)(i.SparqlOperator.IS_TRIPLE).onTerm1(()=>e=>(0,i.bool)("quad"===e.termType)).collect()})}}t.TermFunctionIsTriple=a},13953:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(36656),t),i(r(70923),t),i(r(54762),t),i(r(52408),t),i(r(54053),t),i(r(45536),t),i(r(26068),t),i(r(38120),t)},13993:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoin=void 0;const i=r(52840),a=r(13953),o=r(82956),s=r(66179);class c extends a.Actor{constructor(e,t){var r,n,i,a,o,s;super(e),this.includeInLogs=!0,this.logicalType=t.logicalType,this.physicalName=t.physicalName,this.limitEntries=null!==(r=t.limitEntries)&&void 0!==r?r:Number.POSITIVE_INFINITY,this.limitEntriesMin=null!==(n=t.limitEntriesMin)&&void 0!==n&&n,this.canHandleUndefs=null!==(i=t.canHandleUndefs)&&void 0!==i&&i,this.isLeaf=null===(a=t.isLeaf)||void 0===a||a,this.requiresVariableOverlap=null!==(o=t.requiresVariableOverlap)&&void 0!==o&&o,this.canHandleOperationRequired=null!==(s=t.canHandleOperationRequired)&&void 0!==s&&s}static overlappingVariables(e){const t={};for(const r of e)for(const e of r.variables){t[e.variable.value]||(t[e.variable.value]={variable:e.variable,canBeUndef:e.canBeUndef,occurrences:0});const r=t[e.variable.value];r.canBeUndef=r.canBeUndef||e.canBeUndef,r.occurrences++}return Object.values(t).filter(t=>t.occurrences===e.length).map(e=>({variable:e.variable,canBeUndef:e.canBeUndef}))}static joinVariables(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n={};let i=!0;for(const a of t){for(const e of a.variables)n[e.variable.value]=n[e.variable.value]||e.canBeUndef||!i&&r&&!(e.variable.value in n);i=!1}return Object.entries(n).map(t=>{let[r,n]=t;return{variable:e.variable(r),canBeUndef:n}})}static joinBindings(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)return null;if(1===t.length)return t[0];let n=t[0];for(const i of t.slice(1)){const e=n.merge(i);if(!e)return null;n=e}return n}static getCardinality(e){return e.cardinality}static async getMetadatas(e){return await Promise.all(e.map(e=>e.output.metadata()))}static async getEntriesWithMetadatas(e){const t=await c.getMetadatas(e);return e.map((e,r)=>n(n({},e),{},{metadata:t[r]}))}static getRequestInitialTimes(e){return e.map(e=>{var t;return e.pageSize?0:null!==(t=e.requestTime)&&void 0!==t?t:0})}static getRequestItemTimes(e){return e.map(e=>{var t;return e.pageSize?(null!==(t=e.requestTime)&&void 0!==t?t:0)/e.pageSize:0})}constructState(e){const t=new s.MetadataValidationState,r=()=>t.invalidate();for(const n of e)n.state.addInvalidateListener(r);return t}async constructResultMetadata(e,t,r){let a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},s=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(o.cardinality)a=o.cardinality;else{let n=!1;a=t.reduce((e,t)=>{const r=c.getCardinality(t);return 0===r.value&&(n=!0),{type:"estimate"===r.type?"estimate":e.type,value:e.value*(s?Math.max(1,r.value):r.value)}},{type:"exact",value:1}),n&&!s||(a.value*=(await this.mediatorJoinSelectivity.mediate({entries:e,context:r})).selectivity,0===a.value&&(a.value=Number.MIN_VALUE))}return n(n({state:this.constructState(t)},o),{},{cardinality:{type:a.type,value:a.value},variables:c.joinVariables(r.getSafe(i.KeysInitQuery.dataFactory),t,s)})}static async sortJoinEntries(e,t,r){if(t.some(e=>e.metadata.variables.some(e=>e.canBeUndef)))return(0,a.passTest)(t);const n={};for(const a of t)for(const e of a.metadata.variables){let t=n[e.variable.value];t||(t=0),n[e.variable.value]=++t}const i=[];for(const[a,o]of Object.entries(n))o>=2&&i.push(a);return 0===i.length?(0,a.failTest)("Bind join can only join entries with at least one common variable"):(0,a.passTest)((await e.mediate({entries:t,context:r})).entries)}async test(e){if(e.type!==this.logicalType)return(0,a.failTest)("".concat(this.name," can only handle logical joins of type '").concat(this.logicalType,"', while '").concat(e.type,"' was given."));if(e.entries.length<=1)return(0,a.failTest)("".concat(this.name," requires at least two join entries."));const t=e.entries.some(e=>e.operationRequired);if(!this.canHandleOperationRequired&&t)return(0,a.failTest)("".concat(this.name," does not work with operationRequired."));if(this.limitEntriesMin?e.entries.length<this.limitEntries:e.entries.length>this.limitEntries)return(0,a.failTest)("".concat(this.name," requires ").concat(this.limitEntries," join entries at ").concat(this.limitEntriesMin?"least":"most",". The input contained ").concat(e.entries.length,"."));for(const i of e.entries)if("bindings"!==i.output.type)return(0,a.failTest)("Invalid type of a join entry: Expected 'bindings' but got '".concat(i.output.type,"'"));const r=await c.getMetadatas(e.entries);let n;return!this.canHandleUndefs&&(n=c.overlappingVariables(r),n.some(e=>e.canBeUndef))?(0,a.failTest)("Actor ".concat(this.name," can not join streams containing undefs")):this.requiresVariableOverlap&&0===(null!==n&&void 0!==n?n:c.overlappingVariables(r)).length&&!t?(0,a.failTest)("Actor ".concat(this.name," can only join entries with at least one common variable")):await this.getJoinCoefficients(e,{metadatas:r})}async run(e,t){let r;e.context.has(i.KeysInitQuery.physicalQueryPlanLogger)&&(r=e.context.get(i.KeysInitQuery.physicalQueryPlanNode),e.context=e.context.set(i.KeysInitQuery.physicalQueryPlanNode,e));const n=e.context.get(i.KeysInitQuery.physicalQueryPlanLogger);let a;this.includeInLogs&&n&&(a={},n.stashChildren(r,e=>e.logicalOperator.startsWith("join")),n.logOperation("join-".concat(this.logicalType),this.physicalName,e,r,this.name,a));const{result:l,physicalPlanMetadata:u}=await this.getOutput(e,t);if(a){(0,o.instrumentIterator)(l.bindingsStream).then(t=>{n.appendMetadata(e,{cardinalityReal:t.count,timeSelf:t.timeSelf,timeLife:t.timeLife})}),Object.assign(a,u);const r=t.metadatas.map(c.getCardinality);if(a.cardinalities=r,a.joinCoefficients=(await this.getJoinCoefficients(e,t)).getOrThrow(),this.isLeaf)for(let t=0;t<e.entries.length;t++){const i=e.entries[t];n.unstashChild(i.operation,e),n.appendMetadata(i.operation,{cardinality:r[t]})}}return l.metadata=(0,s.cachifyMetadata)(l.metadata),l}}t.ActorRdfJoin=c},13994:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermEquality=void 0;const i=r(11716),a=r(97824),o=r(18995);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.EQUAL],termFunction:!0}))}async run(e){return new o.TermFunctionEquality}}t.ActorFunctionFactoryTermEquality=s},14165:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},14170:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGraph=void 0;class r{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&"DefaultGraph"===e.termType}}t.DefaultGraph=r,r.INSTANCE=new r},14176:(e,t,r)=>{"use strict";function n(e){return e.replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&")}r.d(t,{$:()=>n})},14335:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(28646),t)},14337:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionFunctionIf=void 0;const n=r(11716),i=r(97824);class a extends n.ExpressionFunctionBase{constructor(){super({arity:3,operator:i.SparqlOperator.IF,apply:async e=>{let{args:t,mapping:r,exprEval:n}=e;return(await n.evaluatorExpressionEvaluation(t[0],r)).coerceEBV()?n.evaluatorExpressionEvaluation(t[1],r):n.evaluatorExpressionEvaluation(t[2],r)}})}}t.ExpressionFunctionIf=a},14468:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AggregateEvaluator=void 0;const n=r(52840),i=r(97824),a=r(45494);t.AggregateEvaluator=class{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.evaluator=e,this.distinct=t,this.throwError=r,this.errorOccurred=!1,this.errorOccurred=!1,this.superTypeProvider=e.context.getSafe(n.KeysExpressionEvaluator.superTypeProvider),this.termTransformer=new i.TermTransformer(this.superTypeProvider),this.variableValues=new Set}emptyValueTerm(){}emptyValue(){const e=this.emptyValueTerm();if(void 0===e&&this.throwError)throw new i.EmptyAggregateError;return e}async putBindings(e){if(!this.errorOccurred)try{const t=await this.evaluator.evaluate(e);if(!t||this.errorOccurred)return;this.distinct&&this.variableValues.has(a.termToString(t))||(this.putTerm(t),this.distinct&&this.variableValues.add(a.termToString(t)))}catch(t){this.safeThrow(t)}}async result(){if(!this.errorOccurred)return this.termResult()}safeThrow(e){if(this.throwError)throw e;this.errorOccurred=!0}termToNumericOrError(e){if("Literal"!==e.termType)throw new Error("Term with value ".concat(e.value," has type ").concat(e.termType," and is not a numeric literal"));if(!i.isSubTypeOf(e.datatype.value,i.TypeAlias.SPARQL_NUMERIC,this.superTypeProvider))throw new Error("Term datatype ".concat(e.datatype.value," with value ").concat(e.value," has type ").concat(e.termType," and is not a numeric literal"));return this.termTransformer.transformLiteral(e)}}},14651:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(199),t)},14703:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(78655),t)},14805:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},14975:(e,t,r)=>{"use strict";var n=r(12897).default;function i(e){var t,r,n,i;return{day:null!==(t=e.day)&&void 0!==t?t:0,hours:null!==(r=e.hours)&&void 0!==r?r:0,minutes:null!==(n=e.minutes)&&void 0!==n?n:0,seconds:null!==(i=e.seconds)&&void 0!==i?i:0}}function a(e){var t,r;return{year:null!==(t=e.year)&&void 0!==t?t:0,month:null!==(r=e.month)&&void 0!==r?r:0}}function o(e){return n(n({},i(e)),a(e))}function s(e){var t,r,i,a,o,s;return n(n({},e),{},{day:null!==(t=e.day)&&void 0!==t?t:1,hours:null!==(r=e.hours)&&void 0!==r?r:0,month:null!==(i=e.month)&&void 0!==i?i:1,year:null!==(a=e.year)&&void 0!==a?a:0,seconds:null!==(o=e.seconds)&&void 0!==o?o:0,minutes:null!==(s=e.minutes)&&void 0!==s?s:0})}function c(e){const t=new Date(e.year,e.month-1,e.day,e.hours,e.minutes,Math.trunc(e.seconds),e.seconds%1*1e3);if(e.year>=0&&e.year<100){const e=1900;t.setFullYear(t.getFullYear()-e)}return t}Object.defineProperty(t,"__esModule",{value:!0}),t.extractTimeZone=t.extractRawTimeZone=t.dayTimeDurationsToSeconds=t.yearMonthDurationsToMonths=t.trimToDayTimeDuration=t.trimToYearMonthDuration=t.toUTCDate=t.toJSDate=t.negateDuration=t.toDateTimeRepresentation=t.defaultedDateTimeRepresentation=t.simplifyDurationRepresentation=t.defaultedDurationRepresentation=t.defaultedYearMonthDurationRepresentation=t.defaultedDayTimeDurationRepresentation=void 0,t.defaultedDayTimeDurationRepresentation=i,t.defaultedYearMonthDurationRepresentation=a,t.defaultedDurationRepresentation=o,t.simplifyDurationRepresentation=function(e){const t=o(e),r={},n=t.year+Math.trunc(t.month/12);n&&(r.year=n,t.month%=12),t.month&&(r.month=t.month);const i=t.day+Math.trunc(t.hours/24)+Math.trunc(t.minutes/1440)+Math.trunc(t.seconds/86400);i&&(r.day=i,t.hours%=24,t.minutes%=1440,t.seconds%=86400);const a=t.hours+Math.trunc(t.minutes/60)+Math.trunc(t.seconds/3600);a&&(r.hours=a,t.minutes%=60,t.seconds%=3600);const s=t.minutes+Math.trunc(t.seconds/60);return s&&(r.minutes=s,t.seconds%=60),t.seconds&&(r.seconds=t.seconds),r},t.defaultedDateTimeRepresentation=s,t.toDateTimeRepresentation=function(e){let{date:t,timeZone:r}=e;return{year:t.getFullYear(),month:t.getMonth()+1,day:t.getDate(),hours:t.getHours(),minutes:t.getMinutes(),seconds:t.getSeconds(),zoneHours:r.zoneHours,zoneMinutes:r.zoneMinutes}},t.negateDuration=function(e){return{year:void 0===e.year?void 0:-1*e.year,month:void 0===e.month?void 0:-1*e.month,day:void 0===e.day?void 0:-1*e.day,hours:void 0===e.hours?void 0:-1*e.hours,minutes:void 0===e.minutes?void 0:-1*e.minutes,seconds:void 0===e.seconds?void 0:-1*e.seconds}},t.toJSDate=c,t.toUTCDate=function(e,t){var r,n;const i=c(s(e)),a=i.getTimezoneOffset(),o=null!==(r=e.zoneHours)&&void 0!==r?r:t.zoneHours,l=null!==(n=e.zoneMinutes)&&void 0!==n?n:t.zoneMinutes;return new Date(i.getTime()-60*(a+60*o+l)*1e3)},t.trimToYearMonthDuration=function(e){return{year:e.year,month:e.month}},t.trimToDayTimeDuration=function(e){return{day:e.day,hours:e.hours,minutes:e.minutes,seconds:e.seconds}},t.yearMonthDurationsToMonths=function(e){return 12*e.year+e.month},t.dayTimeDurationsToSeconds=function(e){return 60*(60*(24*e.day+e.hours)+e.minutes)+e.seconds},t.extractRawTimeZone=function(e){return/(Z|([\+\x2D][0-9][0-9]:[0-9][0-9]))?$/.exec(e)[0]},t.extractTimeZone=function(e){return{zoneHours:e.getTimezoneOffset()/60,zoneMinutes:e.getTimezoneOffset()%60}}},15155:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=t.validate=t.v7=t.v6ToV1=t.v6=t.v5=t.v4=t.v3=t.v1ToV6=t.v1=t.stringify=t.parse=t.NIL=t.MAX=void 0;var n=r(39913);Object.defineProperty(t,"MAX",{enumerable:!0,get:function(){return n.default}});var i=r(97012);Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return i.default}});var a=r(16588);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return a.default}});var o=r(34498);Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.default}});var s=r(1194);Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return s.default}});var c=r(81859);Object.defineProperty(t,"v1ToV6",{enumerable:!0,get:function(){return c.default}});var l=r(37152);Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return l.default}});var u=r(77301);Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return u.default}});var d=r(85238);Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return d.default}});var h=r(78707);Object.defineProperty(t,"v6",{enumerable:!0,get:function(){return h.default}});var p=r(86735);Object.defineProperty(t,"v6ToV1",{enumerable:!0,get:function(){return p.default}});var f=r(89836);Object.defineProperty(t,"v7",{enumerable:!0,get:function(){return f.default}});var g=r(12905);Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return g.default}});var y=r(75339);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return y.default}})},15267:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8941),t)},15298:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextParser=void 0;const n=r(67323),i=r(20489),a=r(1400),o=r(34914),s=r(98280);class c{constructor(e){e=e||{},this.documentLoader=e.documentLoader||new a.FetchDocumentLoader,this.documentCache={},this.validateContext=!e.skipValidation,this.expandContentTypeToBase=!!e.expandContentTypeToBase,this.remoteContextsDepthLimit=e.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in e)||!!e.redirectSchemaOrgHttps}static validateLanguage(e,t,r){if("string"!==typeof e)throw new i.ErrorCoded("The value of an '@language' must be a string, got '".concat(JSON.stringify(e),"'"),r);if(!s.Util.REGEX_LANGUAGE_TAG.test(e)){if(t)throw new i.ErrorCoded("The value of an '@language' must be a valid language tag, got '".concat(JSON.stringify(e),"'"),r);return!1}return!0}static validateDirection(e,t){if("string"!==typeof e)throw new i.ErrorCoded("The value of an '@direction' must be a string, got '".concat(JSON.stringify(e),"'"),i.ERROR_CODES.INVALID_BASE_DIRECTION);if(!s.Util.REGEX_DIRECTION_TAG.test(e)){if(t)throw new i.ErrorCoded("The value of an '@direction' must be 'ltr' or 'rtl', got '".concat(JSON.stringify(e),"'"),i.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(e){for(const t of Object.keys(e)){let r=e[t];if(r&&"object"===typeof r&&r["@reverse"]&&!r["@id"]){if("string"!==typeof r["@reverse"]||s.Util.isValidKeyword(r["@reverse"]))throw new i.ErrorCoded("Invalid @reverse value, must be absolute IRI or blank node: '".concat(r["@reverse"],"'"),i.ERROR_CODES.INVALID_IRI_MAPPING);r=e[t]=Object.assign(Object.assign({},r),{"@id":r["@reverse"]}),r["@id"]=r["@reverse"],s.Util.isPotentialKeyword(r["@reverse"])?delete r["@reverse"]:r["@reverse"]=!0}}return e}expandPrefixedTerms(e,t,r){const n=e.getContextRaw();for(const a of r||Object.keys(n))if(s.Util.EXPAND_KEYS_BLACKLIST.indexOf(a)<0&&!s.Util.isReservedInternalKeyword(a)){const r=n[a];if(s.Util.isPotentialKeyword(a)&&s.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(a)>=0&&("@type"!==a||"object"===typeof n[a]&&!n[a]["@protected"]&&"@set"!==n[a]["@container"]))throw new i.ErrorCoded("Keywords can not be aliased to something else.\nTried mapping ".concat(a," to ").concat(JSON.stringify(r)),i.ERROR_CODES.KEYWORD_REDEFINITION);if(s.Util.ALIAS_RANGE_BLACKLIST.indexOf(s.Util.getContextValueId(r))>=0)throw new i.ErrorCoded("Aliasing to certain keywords is not allowed.\nTried mapping ".concat(a," to ").concat(JSON.stringify(r)),i.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(r&&s.Util.isPotentialKeyword(s.Util.getContextValueId(r))&&!0===r["@prefix"])throw new i.ErrorCoded("Tried to use keyword aliases as prefix: '".concat(a,"': '").concat(JSON.stringify(r),"'"),i.ERROR_CODES.INVALID_TERM_DEFINITION);for(;s.Util.isPrefixValue(n[a]);){const r=n[a];let i=!1;if("string"===typeof r)n[a]=e.expandTerm(r,!0),i=i||r!==n[a];else{const o=r["@id"],c=r["@type"],l=!("@prefix"in r)||s.Util.isValidIri(a);if("@id"in r)void 0!==o&&null!==o&&"string"===typeof o&&(n[a]=Object.assign(Object.assign({},n[a]),{"@id":e.expandTerm(o,!0)}),i=i||o!==n[a]["@id"]);else if(!s.Util.isPotentialKeyword(a)&&l){const t=e.expandTerm(a,!0);t!==a&&(n[a]=Object.assign(Object.assign({},n[a]),{"@id":t}),i=!0)}if(c&&"string"===typeof c&&"@vocab"!==c&&(!r["@container"]||!r["@container"]["@type"])&&l){let r=e.expandTerm(c,!0);t&&c===r&&(r=e.expandTerm(c,!1)),r!==c&&(i=!0,n[a]=Object.assign(Object.assign({},n[a]),{"@type":r}))}}if(!i)break}}}normalize(e,t){let{processingMode:r,normalizeLanguageTags:n}=t;if(n||1===r)for(const i of Object.keys(e))if("@language"===i&&"string"===typeof e[i])e[i]=e[i].toLowerCase();else{const t=e[i];if(t&&"object"===typeof t&&"string"===typeof t["@language"]){const r=t["@language"].toLowerCase();r!==t["@language"]&&(e[i]=Object.assign(Object.assign({},t),{"@language":r}))}}}containersToHash(e){for(const t of Object.keys(e)){const r=e[t];if(r&&"object"===typeof r)if("string"===typeof r["@container"])e[t]=Object.assign(Object.assign({},r),{"@container":{[r["@container"]]:!0}});else if(Array.isArray(r["@container"])){const n={};for(const e of r["@container"])n[e]=!0;e[t]=Object.assign(Object.assign({},r),{"@container":n})}}}applyScopedProtected(e,t,r){let{processingMode:n}=t;if(n&&n>=1.1&&e["@protected"]){for(const t of Object.keys(e))if(!s.Util.isReservedInternalKeyword(t)&&!s.Util.isPotentialKeyword(t)&&!s.Util.isTermProtected(e,t)){const n=e[t];n&&"object"===typeof n?"@protected"in e[t]||(e[t]=Object.assign(Object.assign({},e[t]),{"@protected":!0})):(e[t]={"@id":n,"@protected":!0},s.Util.isSimpleTermDefinitionPrefix(n,r)&&(e[t]=Object.assign(Object.assign({},e[t]),{"@prefix":!0})))}delete e["@protected"]}}validateKeywordRedefinitions(e,t,r,n){for(const a of null!==n&&void 0!==n?n:Object.keys(t))if(s.Util.isTermProtected(e,a)&&("string"===typeof t[a]?t[a]={"@id":t[a],"@protected":!0}:t[a]=Object.assign(Object.assign({},t[a]),{"@protected":!0}),!s.Util.deepEqual(e[a],t[a])))throw new i.ErrorCoded("Attempted to override the protected keyword ".concat(a," from ").concat(JSON.stringify(s.Util.getContextValueId(e[a]))," to ").concat(JSON.stringify(s.Util.getContextValueId(t[a]))),i.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(e,t){let{processingMode:r}=t;for(const n of Object.keys(e)){if(s.Util.isReservedInternalKeyword(n))continue;if(""===n)throw new i.ErrorCoded("The empty term is not allowed, got: '".concat(n,"': '").concat(JSON.stringify(e[n]),"'"),i.ERROR_CODES.INVALID_TERM_DEFINITION);const t=e[n],a=typeof t;if(s.Util.isPotentialKeyword(n)){switch(n.substr(1)){case"vocab":if(null!==t&&"string"!==a)throw new i.ErrorCoded("Found an invalid @vocab IRI: ".concat(t),i.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(null!==t&&"string"!==a)throw new i.ErrorCoded("Found an invalid @base IRI: ".concat(e[n]),i.ERROR_CODES.INVALID_BASE_IRI);break;case"language":null!==t&&c.validateLanguage(t,!0,i.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(null!==t&&"number"!==a)throw new i.ErrorCoded("Found an invalid @version number: ".concat(t),i.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":null!==t&&c.validateDirection(t,!0);break;case"propagate":if(1===r)throw new i.ErrorCoded("Found an illegal @propagate keyword: ".concat(t),i.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(null!==t&&"boolean"!==a)throw new i.ErrorCoded("Found an invalid @propagate value: ".concat(t),i.ERROR_CODES.INVALID_PROPAGATE_VALUE)}if(s.Util.isValidKeyword(n)&&s.Util.isValidKeyword(s.Util.getContextValueId(t)))throw new i.ErrorCoded("Illegal keyword alias in term value, found: '".concat(n,"': '").concat(s.Util.getContextValueId(t),"'"),i.ERROR_CODES.KEYWORD_REDEFINITION)}else if(null!==t)switch(a){case"string":if(s.Util.getPrefix(t,e)===n)throw new i.ErrorCoded("Detected cyclical IRI mapping in context entry: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.CYCLIC_IRI_MAPPING);if(s.Util.isValidIriWeak(n)){if("@type"===t)throw new i.ErrorCoded("IRIs can not be mapped to @type, found: '".concat(n,"': '").concat(t,"'"),i.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.isValidIri(t)&&t!==new o.JsonLdContextNormalized(e).expandTerm(n))throw new i.ErrorCoded("IRIs can not be mapped to other IRIs, found: '".concat(n,"': '").concat(t,"'"),i.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!s.Util.isCompactIri(n)&&!("@id"in t)&&("@id"===t["@type"]?!e["@base"]:!e["@vocab"]))throw new i.ErrorCoded("Missing @id in context entry: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_IRI_MAPPING);for(const l of Object.keys(t)){const u=t[l];if(u)switch(l){case"@id":if(s.Util.isValidKeyword(u)&&"@type"!==u&&"@id"!==u&&"@graph"!==u&&"@nest"!==u)throw new i.ErrorCoded("Illegal keyword alias in term value, found: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.isValidIriWeak(n)){if("@type"===u)throw new i.ErrorCoded("IRIs can not be mapped to @type, found: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.isValidIri(u)&&u!==new o.JsonLdContextNormalized(e).expandTerm(n))throw new i.ErrorCoded("IRIs can not be mapped to other IRIs, found: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_IRI_MAPPING)}if("string"!==typeof u)throw new i.ErrorCoded("Detected non-string @id in context entry: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.getPrefix(u,e)===n)throw new i.ErrorCoded("Detected cyclical IRI mapping in context entry: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if("@type"===t["@container"]&&"@id"!==u&&"@vocab"!==u)throw new i.ErrorCoded("@container: @type only allows @type: @id or @vocab, but got: '".concat(n,"': '").concat(u,"'"),i.ERROR_CODES.INVALID_TYPE_MAPPING);if("string"!==typeof u)throw new i.ErrorCoded("The value of an '@type' must be a string, got '".concat(JSON.stringify(a),"'"),i.ERROR_CODES.INVALID_TYPE_MAPPING);if("@id"!==u&&"@vocab"!==u&&(1===r||"@json"!==u)&&(1===r||"@none"!==u)&&("_"===u[0]||!s.Util.isValidIri(u)))throw new i.ErrorCoded("A context @type must be an absolute IRI, found: '".concat(n,"': '").concat(u,"'"),i.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if("string"===typeof u&&t["@id"]&&t["@id"]!==u)throw new i.ErrorCoded("Found non-matching @id and @reverse term values in '".concat(n,"':'").concat(u,"' and '").concat(t["@id"],"'"),i.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in t)throw new i.ErrorCoded("@nest is not allowed in the reverse property '".concat(n,"'"),i.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(1===r&&(Object.keys(u).length>1||s.Util.CONTAINERS_1_0.indexOf(Object.keys(u)[0])<0))throw new i.ErrorCoded("Invalid term @container for '".concat(n,"' ('").concat(Object.keys(u),"') in 1.0, must be only one of ").concat(s.Util.CONTAINERS_1_0.join(", ")),i.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const e of Object.keys(u)){if("@list"===e&&t["@reverse"])throw new i.ErrorCoded("Term value can not be @container: @list and @reverse at the same time on '".concat(n,"'"),i.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(s.Util.CONTAINERS.indexOf(e)<0)throw new i.ErrorCoded("Invalid term @container for '".concat(n,"' ('").concat(e,"'), must be one of ").concat(s.Util.CONTAINERS.join(", ")),i.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":c.validateLanguage(u,!0,i.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":c.validateDirection(u,!0);break;case"@prefix":if(null!==u&&"boolean"!==typeof u)throw new i.ErrorCoded("Found an invalid term @prefix boolean in: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in t)&&!s.Util.isValidIri(n))throw new i.ErrorCoded("Invalid @prefix definition for '".concat(n,"' ('").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(1===r||!t["@container"]||!t["@container"]["@index"])throw new i.ErrorCoded("Attempt to add illegal key to value object: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(s.Util.isPotentialKeyword(u)&&"@nest"!==u)throw new i.ErrorCoded("Found an invalid term @nest value in: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new i.ErrorCoded("Found an invalid term value: '".concat(n,"': '").concat(t,"'"),i.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(e,t,r){return"string"===typeof e||(r&&!("@base"in e)&&t.parentContext&&"object"===typeof t.parentContext&&"@base"in t.parentContext&&(e["@base"]=t.parentContext["@base"],t.parentContext["@__baseDocument"]&&(e["@__baseDocument"]=!0)),t.baseIRI&&!t.external&&("@base"in e?null===e["@base"]||"string"!==typeof e["@base"]||s.Util.isValidIri(e["@base"])||(e["@base"]=(0,n.resolve)(e["@base"],t.parentContext&&t.parentContext["@base"]||t.baseIRI)):(e["@base"]=t.baseIRI,e["@__baseDocument"]=!0))),e}normalizeContextIri(e,t){if(!s.Util.isValidIri(e))try{e=(0,n.resolve)(e,t)}catch(r){throw new Error("Invalid context IRI: ".concat(e))}return this.redirectSchemaOrgHttps&&e.startsWith("http://schema.org")&&(e="https://schema.org/"),e}async parseInnerContexts(e,t,r){for(const a of null!==r&&void 0!==r?r:Object.keys(e)){const r=e[a];if(r&&"object"===typeof r&&"@context"in r&&null!==r["@context"]&&!t.ignoreScopedContexts){if(this.validateContext)try{const n=Object.assign(Object.assign({},e),{[a]:Object.assign({},e[a])});delete n[a]["@context"],await this.parse(r["@context"],Object.assign(Object.assign({},t),{external:!1,parentContext:n,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(n){throw new i.ErrorCoded(n.message,i.ERROR_CODES.INVALID_SCOPED_CONTEXT)}e[a]=Object.assign(Object.assign({},r),{"@context":(await this.parse(r["@context"],Object.assign(Object.assign({},t),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:e}))).getContextRaw()})}}return e}async parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{baseIRI:n,parentContext:a,external:l,processingMode:u=c.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:d,ignoreProtection:h,minimalProcessing:p}=t,f=t.remoteContexts||{};if(Object.keys(f).length>=this.remoteContextsDepthLimit)throw new i.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(f),i.ERROR_CODES.CONTEXT_OVERFLOW);if(null===e||void 0===e){if(!h&&a&&s.Util.hasProtectedTerms(a))throw new i.ErrorCoded("Illegal context nullification when terms are protected",i.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new o.JsonLdContextNormalized(this.applyBaseEntry({},t,!1))}if("string"===typeof e){const r=this.normalizeContextIri(e,n),i=this.getOverriddenLoad(r,t);if(i)return new o.JsonLdContextNormalized(i);const a=await this.parse(await this.load(r),Object.assign(Object.assign({},t),{baseIRI:r,external:!0,remoteContexts:Object.assign(Object.assign({},f),{[r]:!0})}));return this.applyBaseEntry(a.getContextRaw(),t,!0),a}if(Array.isArray(e)){const r=[],i=await Promise.all(e.map((e,i)=>{if("string"===typeof e){const a=this.normalizeContextIri(e,n);r[i]=a;const o=this.getOverriddenLoad(a,t);return o||this.load(a)}return e}));if(p)return new o.JsonLdContextNormalized(i);const s=await i.reduce((e,n,a)=>e.then(e=>this.parse(n,Object.assign(Object.assign({},t),{baseIRI:r[a]||t.baseIRI,external:!!r[a]||t.external,parentContext:e.getContextRaw(),remoteContexts:r[a]?Object.assign(Object.assign({},f),{[r[a]]:!0}):f}),{skipValidation:a<i.length-1})),Promise.resolve(new o.JsonLdContextNormalized(a||{})));return this.applyBaseEntry(s.getContextRaw(),t,!0),s}if("object"===typeof e){if("@context"in e)return await this.parse(e["@context"],t);if(e=Object.assign({},e),l&&delete e["@base"],this.applyBaseEntry(e,t,!0),this.containersToHash(e),p)return new o.JsonLdContextNormalized(e);let f={};if("@import"in e){if(!(u>=1.1))throw new i.ErrorCoded("Context importing is not supported in JSON-LD 1.0",i.ERROR_CODES.INVALID_CONTEXT_ENTRY);if("string"!==typeof e["@import"])throw new i.ErrorCoded("An @import value must be a string, but got "+typeof e["@import"],i.ERROR_CODES.INVALID_IMPORT_VALUE);f=await this.loadImportContext(this.normalizeContextIri(e["@import"],n)),delete e["@import"]}this.applyScopedProtected(f,{processingMode:u},o.defaultExpandOptions);const g=Object.assign(f,e);this.idifyReverseTerms(g),this.normalize(g,{processingMode:u,normalizeLanguageTags:d}),this.applyScopedProtected(g,{processingMode:u},o.defaultExpandOptions);const y=Object.keys(g),m=[];if("object"===typeof a)for(const e in a)e in g?m.push(e):g[e]=a[e];await this.parseInnerContexts(g,t,y);const v=new o.JsonLdContextNormalized(g);return(g&&g["@version"]||c.DEFAULT_PROCESSING_MODE)>=1.1&&(e["@vocab"]&&"string"===typeof e["@vocab"]||""===e["@vocab"])&&(a&&"@vocab"in a&&e["@vocab"].indexOf(":")<0?g["@vocab"]=a["@vocab"]+e["@vocab"]:(s.Util.isCompactIri(e["@vocab"])||e["@vocab"]in g)&&(g["@vocab"]=v.expandTerm(e["@vocab"],!0))),this.expandPrefixedTerms(v,this.expandContentTypeToBase,y),!h&&a&&u>=1.1&&this.validateKeywordRedefinitions(a,g,o.defaultExpandOptions,m),this.validateContext&&!r.skipValidation&&this.validate(g,{processingMode:u}),v}throw new i.ErrorCoded("Tried parsing a context that is not a string, array or object, but got ".concat(e),i.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(e){const t=this.documentCache[e];if(t)return t;let r;try{r=await this.documentLoader.load(e)}catch(n){throw new i.ErrorCoded("Failed to load remote context ".concat(e,": ").concat(n.message),i.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in r))throw new i.ErrorCoded("Missing @context in remote context at ".concat(e),i.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[e]=r["@context"]}getOverriddenLoad(e,t){if(e in(t.remoteContexts||{})){if(t.ignoreRemoteScopedContexts)return e;throw new i.ErrorCoded("Detected a cyclic context inclusion of "+e,i.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(e){let t=await this.load(e);if("object"!==typeof t||Array.isArray(t))throw new i.ErrorCoded("An imported context must be a single object: "+e,i.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in t)throw new i.ErrorCoded("An imported context can not import another context: "+e,i.ERROR_CODES.INVALID_CONTEXT_ENTRY);return t=Object.assign({},t),this.containersToHash(t),t}}c.DEFAULT_PROCESSING_MODE=1.1,t.ContextParser=c},15461:(e,t,r)=>{let n=r(72758),i=n.MultiTransformIterator,a=n.SimpleTransformIterator;e.exports=class extends i{constructor(e,t,r,n){super(e,n),this.funRight=t,this.funJoin=r}_createTransformer(e){return new a(this.funRight(e),{transform:(t,r,n)=>{let i=this.funJoin(e,t);null!==i&&n(i),r()}})}}},15575:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationClear=void 0;const n=r(52241),i=r(52840),a=r(89266);class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"clear")}async testOperation(e,t){return(0,a.testReadOnly)(t)}async runOperation(e,t){const r=t.getSafe(i.KeysInitQuery.dataFactory);let n;n="DEFAULT"===e.source?r.defaultGraph():"string"===typeof e.source?e.source:[e.source];const{execute:a}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:n,requireExistence:!e.silent,dropGraphs:!1},context:t});return{type:"void",execute:a}}}t.ActorQueryOperationClear=o},15777:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8650),t)},15812:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorBindingsAggregatorFactory=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e),this.mediatorExpressionEvaluatorFactory=e.mediatorExpressionEvaluatorFactory}}t.ActorBindingsAggregatorFactory=i},16062:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermSubject=void 0;const i=r(11716),a=r(97824),o=r(3125);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.SUBJECT],termFunction:!0}))}async run(e){return new o.TermFunctionSubject}}t.ActorFunctionFactoryTermSubject=s},16082:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(66201),t)},16129:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermUnaryPlus=void 0;const i=r(11716),a=r(97824),o=r(41630);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.UPLUS],termFunction:!0}))}async run(e){return new o.TermFunctionUnaryPlus}}t.ActorFunctionFactoryTermUnaryPlus=s},16180:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=i,t.getLiteralValue=a,t.getLiteralType=o,t.getLiteralLanguage=s,t.getLiteralDirection=c,t.stringToTerm=l,t.quadToStringQuad=function(e){return{subject:i(e.subject),predicate:i(e.predicate),object:i(e.object),graph:i(e.graph)}},t.stringQuadToQuad=function(e,t){return(t=t||n).quad(l(e.subject,t),l(e.predicate,t),l(e.object,t),l(e.graph,t))};const n=new(r(88514).DataFactory);function i(e){if(e)switch(e.termType){case"NamedNode":case"DefaultGraph":return e.value;case"BlankNode":return"_:"+e.value;case"Literal":const t=e;return'"'+t.value+'"'+(t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==t.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"!==t.datatype.value?"^^"+t.datatype.value:"")+(t.language?"@"+t.language:"")+(t.direction?"--"+t.direction:"");case"Quad":return"<<".concat(i(e.subject)," ").concat(i(e.predicate)," ").concat(i(e.object)).concat("DefaultGraph"===e.graph.termType?"":" "+i(e.graph),">>");case"Variable":return"?"+e.value}}function a(e){const t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]}function o(e){const t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function s(e){const t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");if(t[1]){let e=t[1].toLowerCase();const r=e.indexOf("--");return r>=0&&(e=e.slice(0,r)),e}return""}function c(e){const t=e.indexOf("--",e.lastIndexOf('"'));if(t>=0){const r=e.slice(t+2,e.length);if("ltr"===r||"rtl"===r)return r;throw new Error(e+" is not a literal with a valid direction")}return""}function l(e,t){if(t=t||n,!e||!e.length)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":if(!t.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return t.variable(e.substr(1));case'"':const r=s(e),n=c(e),i=t.namedNode(o(e));return t.literal(a(e),r?{language:r,direction:n}:i);default:if("<"===e[0]&&e.length>4&&"<"===e[1]&&">"===e[e.length-1]&&">"===e[e.length-2]){const r=e.slice(2,-2).trim();let n=[],i=0,a=0,o=!1;for(let t=0;t<r.length;t++){const s=r[t];if("<"===s&&i++,">"===s){if(0===i)throw new Error("Found closing tag without opening tag in "+e);i--}if('"'===s){let e=!1,n=t;for(;n-- >0&&"\\"===r[n];)e=!e;e||(o=!o)}if(" "===s&&!o&&0===i){for(n.push(r.slice(a,t));" "===r[t+1];)t+=1;a=t+1}}if(0!==i)throw new Error("Found opening tag without closing tag in "+e);if(n.push(r.slice(a,r.length)),3!==n.length&&4!==n.length)throw new Error("Nested quad syntax error "+e);return n=n.map(e=>e.startsWith("<")&&!e.includes(" ")?e.slice(1,-1):e),t.quad(l(n[0]),l(n[1]),l(n[2]),n[3]?l(n[3]):void 0)}return t.namedNode(e)}}},16226:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionStrEnds=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:2,operator:i.SparqlOperator.STRENDS,overloads:(0,i.declare)(i.SparqlOperator.STRENDS).onBinaryTyped([i.TypeAlias.SPARQL_STRINGLY,i.TypeURL.XSD_STRING],()=>(e,t)=>(0,i.bool)(e.endsWith(t))).onBinary([i.TypeURL.RDF_LANG_STRING,i.TypeURL.RDF_LANG_STRING],()=>(e,t)=>{if(e.language!==t.language)throw new i.IncompatibleLanguageOperation(e,t);return(0,i.bool)(e.typedValue.endsWith(t.typedValue))}).collect()})}}t.TermFunctionStrEnds=a},16261:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(84125),t),i(r(1104),t)},16350:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionFunctionNotIn=void 0;const n=r(11716),i=r(97824);class a extends n.ExpressionFunctionBase{constructor(e){super({arity:Number.POSITIVE_INFINITY,operator:i.SparqlOperator.NOT_IN,apply:async e=>{const t=await this.inFunction.apply(e);return(0,i.bool)(!t.typedValue)}}),this.inFunction=e}checkArity(e){return e.length>0}}t.ExpressionFunctionNotIn=a},16426:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQuerySourceIdentifyHypermedia=void 0;const n=r(48304),i=r(52840),a=r(13953),o=r(7979),s=r(90083);class c extends n.ActorQuerySourceIdentify{constructor(e){super(e)}async test(e){return"string"!==typeof e.querySourceUnidentified.value?(0,a.failTest)("".concat(this.name," requires a single query source with a URL value to be present in the context.")):(0,a.passTestVoid)()}async run(e){var t,r;const n=e.context.getSafe(i.KeysInitQuery.dataFactory);return{querySource:{source:new s.QuerySourceHypermedia(this.cacheSize,e.querySourceUnidentified.value,e.querySourceUnidentified.type,this.maxIterators,this.aggregateTraversalStore&&Boolean(null===(t=e.querySourceUnidentified.context)||void 0===t?void 0:t.get(i.KeysQuerySourceIdentify.traverse)),this.emitPartialCardinalities,{mediatorMetadata:this.mediatorMetadata,mediatorMetadataExtract:this.mediatorMetadataExtract,mediatorMetadataAccumulate:this.mediatorMetadataAccumulate,mediatorDereferenceRdf:this.mediatorDereferenceRdf,mediatorQuerySourceIdentifyHypermedia:this.mediatorQuerySourceIdentifyHypermedia,mediatorRdfResolveHypermediaLinks:this.mediatorRdfResolveHypermediaLinks,mediatorRdfResolveHypermediaLinksQueue:this.mediatorRdfResolveHypermediaLinksQueue},t=>this.logWarn(e.context,t),n,await o.BindingsFactory.create(this.mediatorMergeBindingsContext,e.context,n)),context:null!==(r=e.querySourceUnidentified.context)&&void 0!==r?r:new a.ActionContext}}}}t.ActorQuerySourceIdentifyHypermedia=c},16588:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12905);t.default=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");let t;return Uint8Array.of((t=parseInt(e.slice(0,8),16))>>>24,t>>>16&255,t>>>8&255,255&t,(t=parseInt(e.slice(9,13),16))>>>8,255&t,(t=parseInt(e.slice(14,18),16))>>>8,255&t,(t=parseInt(e.slice(19,23),16))>>>8,255&t,(t=parseInt(e.slice(24,36),16))/1099511627776&255,t/4294967296&255,t>>>24&255,t>>>16&255,t>>>8&255,255&t)}},16668:(e,t,r)=>{var n=r(81756);e.exports=function(e,t){return e.get(n(e,t))},e.exports.__esModule=!0,e.exports.default=e.exports},16703:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeHandlerAdapter=void 0;t.NodeHandlerAdapter=class{constructor(e,t,r){this.targetKind=e,this.util=t,this.settings=r}getNodeQuadContextSelectionSet(e,t,r){const n={};if(e)for(const i of e.selections)if("Field"===i.kind){const e=i;this.handleNodeQuadContextField(e,r,n,"id","subject"),this.handleNodeQuadContextField(e,r,n,"graph","graph")}return n}handleNodeQuadContextField(e,t,r,n,i){if(!r[i]&&e.name.value===n){if(!r[i]){const a=this.util.getArgument(e.arguments,"_");if(a){const o=this.util.handleNodeValue(a.value,e.name.value,t);if(1!==o.terms.length)throw new Error("Only single values can be set as ".concat(n,", but got ").concat(o.terms.length," at ").concat(e.name.value));r[i]=o.terms[0],o.auxiliaryPatterns&&(r.auxiliaryPatterns||(r.auxiliaryPatterns=[]),r.auxiliaryPatterns.concat(o.auxiliaryPatterns))}}if(!r[i]){const n=this.util.nameToVariable(this.util.getFieldLabel(e),t);t.terminalVariables.push(n),r[i]=n}}}getDirectiveOutputs(e,t,r){const n=[];if(e)for(const i of e){const e=this.util.handleDirectiveNode({directive:i,fieldLabel:t},r);if(e){if(e.ignore)return null;n.push(e)}}return n}handleDirectiveOutputs(e,t){for(const r of e){if(r.ignore)return this.util.operationFactory.createBgp([]);r.operationOverrider&&(t=r.operationOverrider(t))}return t}}},16746:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(66994),t),i(r(96071),t)},17324:e=>{e.exports=function(e,t,r,n){var i=r?r.call(n,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),c=0;c<a.length;c++){var l=a[c];if(!s(l))return!1;var u=e[l],d=t[l];if(!1===(i=r?r.call(n,u,d,l):void 0)||void 0===i&&u!==d)return!1}return!0}},17522:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JsonLdSerializer=void 0;const n=r(59202),i=r(32149),a=r(56128),o=r(94051);class s extends o.Transform{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({objectMode:!0}),this.indentation=0,this.options=e,this.options.baseIRI&&!this.options.context&&(this.options.context={"@base":this.options.baseIRI}),this.options.context?(this.originalContext=this.options.context,this.context=(new n.ContextParser).parse(this.options.context,{baseIRI:this.options.baseIRI})):this.context=Promise.resolve(new n.JsonLdContextNormalized({}))}import(e){const t=new o.PassThrough({objectMode:!0});e.on("error",e=>r.emit("error",e)),e.on("data",e=>t.push(e)),e.on("end",()=>t.push(null));const r=t.pipe(new s(this.options));return r}_transform(e,t,r){this.context.then(t=>{this.transformQuad(e,t),r()}).catch(r)}async list(e){const t=await this.context;return{"@list":e.map(e=>a.Util.termToValue(e,t,this.options))}}_flush(e){return this.opened||this.pushDocumentStart(),this.lastPredicate&&this.endPredicate(),this.lastSubject&&this.endSubject(),this.lastGraph&&"DefaultGraph"!==this.lastGraph.termType&&this.endGraph(),this.endDocument(),e(null,null)}transformQuad(e,t){this.opened||this.pushDocumentStart();const r=this.lastGraph&&"DefaultGraph"!==this.lastGraph.termType&&this.lastGraph.equals(e.subject);if(!r&&(!this.lastGraph||!e.graph.equals(this.lastGraph))){let r="DefaultGraph"!==e.graph.termType&&this.lastSubject&&this.lastSubject.equals(e.graph);this.lastGraph&&("DefaultGraph"!==this.lastGraph.termType?(this.endPredicate(),this.endSubject(),this.endGraph(!0),r=!1):r?(this.endPredicate(!0),this.lastSubject=null):(this.endPredicate(),this.endSubject(!0))),"DefaultGraph"!==e.graph.termType&&(r||this.pushId(e.graph,!0,t),this.pushSeparator(this.options.space?i.SeparatorType.GRAPH_FIELD_NONCOMPACT:i.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++),this.lastGraph=e.graph}this.lastSubject&&e.subject.equals(this.lastSubject)||(r?(this.endPredicate(),this.endSubject(),this.indentation--,this.pushSeparator(i.SeparatorType.ARRAY_END_COMMA),this.lastGraph=e.graph):(this.lastSubject&&(this.endPredicate(),this.endSubject(!0)),this.pushId(e.subject,!0,t)),this.lastSubject=e.subject),this.lastPredicate&&e.predicate.equals(this.lastPredicate)||(this.lastPredicate&&this.endPredicate(!0),this.pushPredicate(e.predicate,t)),this.pushObject(e.object,t)}pushDocumentStart(){this.opened=!0,this.originalContext&&!this.options.excludeContext?(this.pushSeparator(i.SeparatorType.OBJECT_START),this.indentation++,this.pushSeparator(i.SeparatorType.CONTEXT_FIELD),this.pushIndented(JSON.stringify(this.originalContext,null,this.options.space)+","),this.pushSeparator(this.options.space?i.SeparatorType.GRAPH_FIELD_NONCOMPACT:i.SeparatorType.GRAPH_FIELD_COMPACT),this.indentation++):(this.pushSeparator(i.SeparatorType.ARRAY_START),this.indentation++)}pushId(e,t,r){if("Quad"===e.termType)this.pushNestedQuad(e,!0,r);else{const n="BlankNode"===e.termType?"_:"+e.value:r.compactIri(e.value,!1);t?this.pushSeparator(i.SeparatorType.OBJECT_START):(this.push(i.SeparatorType.OBJECT_START.label),this.options.space&&this.push("\n")),this.indentation++,this.pushIndented(this.options.space?'"@id": "'.concat(n,'",'):'"@id":"'.concat(n,'",'))}}pushPredicate(e,t){let r=e.value;this.options.useRdfType||r!==a.Util.RDF_TYPE||(r="@type",this.objectOptions=Object.assign(Object.assign({},this.options),{compactIds:!0,vocab:!0}));const n=t.compactIri(r,!0);this.pushIndented(this.options.space?'"'.concat(n,'": ['):'"'.concat(n,'":[')),this.indentation++,this.lastPredicate=e}pushObject(e,t){if(this.hadObjectForPredicate?this.pushSeparator(i.SeparatorType.COMMA):this.hadObjectForPredicate=!0,"Quad"===e.termType){const r=this.lastSubject,n=this.lastPredicate;return this.hadObjectForPredicate=!1,this.pushNestedQuad(e,!1,t),this.endSubject(!1),this.hadObjectForPredicate=!0,this.lastPredicate=n,void(this.lastSubject=r)}let r;try{r=e["@list"]?e:a.Util.termToValue(e,t,this.objectOptions||this.options)}catch(n){return this.emit("error",n)}this.pushIndented(JSON.stringify(r,null,this.options.space))}pushNestedQuad(e,t,r){this.pushSeparator(i.SeparatorType.OBJECT_START),this.indentation++,this.pushIndented(this.options.space?'"@id": ':'"@id":',!1),"DefaultGraph"!==e.graph.termType&&this.emit("error",new Error("Found a nested quad with the non-default graph: ".concat(e.graph.value))),this.pushId(e.subject,!1,r),this.pushPredicate(e.predicate,r),this.pushObject(e.object,r),this.endPredicate(!1),this.endSubject(t)}endDocument(){this.opened=!1,this.originalContext&&!this.options.excludeContext?(this.indentation--,this.pushSeparator(i.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(i.SeparatorType.OBJECT_END)):(this.indentation--,this.pushSeparator(i.SeparatorType.ARRAY_END))}endPredicate(e){this.indentation--,this.pushSeparator(e?i.SeparatorType.ARRAY_END_COMMA:i.SeparatorType.ARRAY_END),this.hadObjectForPredicate=!1,this.objectOptions=null,this.lastPredicate=null}endSubject(e){this.indentation--,this.pushSeparator(e?i.SeparatorType.OBJECT_END_COMMA:i.SeparatorType.OBJECT_END),this.lastSubject=null}endGraph(e){this.indentation--,this.pushSeparator(i.SeparatorType.ARRAY_END),this.indentation--,this.pushSeparator(e?i.SeparatorType.OBJECT_END_COMMA:i.SeparatorType.OBJECT_END),this.lastGraph=null}pushSeparator(e){this.pushIndented(e.label)}pushIndented(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=this.getIndentPrefix(),n=e.split("\n").map(e=>r+e).join("\n");this.push(n),this.options.space&&t&&this.push("\n")}getIndentPrefix(){return this.options.space?this.options.space.repeat(this.indentation):""}}t.JsonLdSerializer=s},17582:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.indents=0,this.write=e.write,this.end=e.end}indent(){return this.indents+=1,this}deindent(){if(this.indents<1)throw new Error("Trying to deindent when indent is only ".concat(this.indents));return this.indents-=1,this}add(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.write(t?"\n".concat("\t".repeat(this.indents)).concat(e):e,"utf-8"),this}newLine(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2;return this.write("\n".repeat(e)+"\t".repeat(this.indents),"utf-8"),this}}},17800:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorContextPreprocessSetDefaults=void 0;const n=r(13859),i=r(52840),a=r(13953),o=r(92832);class s extends n.ActorContextPreprocess{constructor(e){super(e),this.defaultFunctionArgumentsCache={}}async test(e){return(0,a.passTestVoid)()}async run(e){let t=e.context;if(e.initialize){t=t.setDefault(i.KeysInitQuery.queryTimestamp,new Date).setDefault(i.KeysInitQuery.queryTimestampHighResolution,performance.now()).setDefault(i.KeysQuerySourceIdentify.sourceIds,new Map).setDefault(i.KeysCore.log,this.logger).setDefault(i.KeysInitQuery.functionArgumentsCache,this.defaultFunctionArgumentsCache).setDefault(i.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores,new Map).setDefault(i.KeysInitQuery.dataFactory,new o.DataFactory);let e={language:"sparql",version:"1.1"};t.has(i.KeysInitQuery.queryFormat)?(e=t.get(i.KeysInitQuery.queryFormat),"graphql"===e.language&&(t=t.setDefault(i.KeysInitQuery.graphqlSingularizeVariables,{}))):t=t.set(i.KeysInitQuery.queryFormat,e),t.has(i.KeysInitQuery.extensionFunctionsAlwaysPushdown)||t.has(i.KeysInitQuery.extensionFunctions)||(t=t.set(i.KeysInitQuery.extensionFunctionsAlwaysPushdown,!0))}return{context:t}}}t.ActorContextPreprocessSetDefaults=s},17860:e=>{!function(){var t;function r(e,n){var i=this instanceof r?this:t;if(i.reset(n),"string"===typeof e&&e.length>0&&i.hash(e),i!==this)return i}r.prototype.hash=function(e){var t,r,n,i,a;switch(a=e.length,this.len+=a,r=this.k1,n=0,this.rem){case 0:r^=a>n?65535&e.charCodeAt(n++):0;case 1:r^=a>n?(65535&e.charCodeAt(n++))<<8:0;case 2:r^=a>n?(65535&e.charCodeAt(n++))<<16:0;case 3:r^=a>n?(255&e.charCodeAt(n))<<24:0,r^=a>n?(65280&e.charCodeAt(n++))>>8:0}if(this.rem=a+this.rem&3,(a-=this.rem)>0){for(t=this.h1;t=5*(t=(t^=r=13715*(r=(r=11601*r+3432906752*(65535&r)&4294967295)<<15|r>>>17)+461832192*(65535&r)&4294967295)<<13|t>>>19)+3864292196&4294967295,!(n>=a);)r=65535&e.charCodeAt(n++)^(65535&e.charCodeAt(n++))<<8^(65535&e.charCodeAt(n++))<<16,r^=(255&(i=e.charCodeAt(n++)))<<24^(65280&i)>>8;switch(r=0,this.rem){case 3:r^=(65535&e.charCodeAt(n+2))<<16;case 2:r^=(65535&e.charCodeAt(n+1))<<8;case 1:r^=65535&e.charCodeAt(n)}this.h1=t}return this.k1=r,this},r.prototype.result=function(){var e,t;return e=this.k1,t=this.h1,e>0&&(t^=e=13715*(e=(e=11601*e+3432906752*(65535&e)&4294967295)<<15|e>>>17)+461832192*(65535&e)&4294967295),t^=this.len,t=51819*(t^=t>>>16)+2246770688*(65535&t)&4294967295,t=44597*(t^=t>>>13)+3266445312*(65535&t)&4294967295,(t^=t>>>16)>>>0},r.prototype.reset=function(e){return this.h1="number"===typeof e?e:0,this.rem=this.k1=this.len=0,this},t=new r,e.exports=r}()},17949:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionFloor=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.FLOOR,overloads:(0,i.declare)(i.SparqlOperator.FLOOR).numericConverter(()=>e=>Math.floor(e)).collect()})}}t.TermFunctionFloor=a},17959:(e,t)=>{"use strict";function r(e){return e>=65&&e<=90||95===e||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}Object.defineProperty(t,"__esModule",{value:!0}),t.NC_NAME_START_CHAR="A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c-\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NC_NAME_CHAR="-"+t.NC_NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.NC_NAME_START_CHAR_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]$","u"),t.NC_NAME_CHAR_RE=new RegExp("^["+t.NC_NAME_CHAR+"]$","u"),t.NC_NAME_RE=new RegExp("^["+t.NC_NAME_START_CHAR+"]["+t.NC_NAME_CHAR+"]*$","u"),t.isNCNameStartChar=r,t.isNCNameChar=function(e){return r(e)||45===e||46===e||e>=48&&e<=57||183===e||e>=768&&e<=879||e>=8255&&e<=8256}},18179:function(e,t,r){"use strict";var n=r(12897).default,i=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&i(t,e,r);return a(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const c=r(93139),l=r(45494),u=o(r(28680)),d=s(r(21634)),h=s(r(33510)),p=r(36865).Parser,f=u.types;let g,y=new Set,m=0,v=!1;function b(e,t,r){if(y=new Set,m=0,v=Boolean(t),!e.type)return g.createNop();if("query"!==e.type&&"update"!==e.type)throw new Error("Translate only works on complete query or update objects.");let n;if(x(e),"query"===e.type){n=T({type:"group",patterns:e.where||[]}),n=function(e,t){const r=e,n=[],i={};if(r.variables=r.variables&&r.variables.map(e=>M(e,i)),r.having=r.having&&r.having.map(e=>M(e,i)),r.order=r.order&&r.order.map(e=>M(e,i)),r.group||Object.keys(i).length>0){const e=Object.keys(i).map(e=>function(e,t){if("aggregate"!==e.type||!e.aggregation)throw new Error("Unexpected input: ".concat(JSON.stringify(e)));const r=O(e);return r.variable=t,r}(i[e],g.createTerm(e))),n=[];if(r.group)for(const i of r.group)if(h.default.isSimpleTerm(i.expression))n.push(i.expression);else{const e="variable"in i?i.variable:N();t=g.createExtend(t,e,O(i.expression)),n.push(e)}t=g.createGroup(t,n,e)}if(r.having)for(let o of r.having)t=g.createFilter(t,O(o));e.values&&(t=g.createJoin([t,C(e)]));let a=[];if("SELECT"===e.queryType||"DESCRIBE"===e.queryType)if(e.variables.some(e=>e&&h.default.isWildcard(e)))a=Object.values(S(e)).sort((e,t)=>e.value.localeCompare(t.value));else for(let o of e.variables)w(o)||!("variable"in o)?a.push(o):o.variable&&(a.push(o.variable),n.push(o));for(let o of n)t=g.createExtend(t,o.variable,O(o.expression));r.order&&(t=g.createOrderBy(t,r.order.map(e=>{let t=O(e.expression);return e.descending&&(t=g.createOperatorExpression("desc",[t])),t})));"SELECT"===e.queryType&&(t=g.createProject(t,a));r.distinct&&(t=g.createDistinct(t));r.reduced&&(t=g.createReduced(t));"CONSTRUCT"===e.queryType?t=g.createConstruct(t,(e.template||[]).map(j)):"ASK"===e.queryType?t=g.createAsk(t):"DESCRIBE"===e.queryType&&(t=g.createDescribe(t,a));(r.offset||r.limit)&&(t=g.createSlice(t,r.offset||0,r.limit));r.from&&(t=g.createFrom(t,r.from.default,r.from.named));return t}(e,n)}else"update"===e.type&&(n=1===(i=e).updates.length?k(i.updates[0]):g.createCompositeUpdate(i.updates.map(k)));var i;return r&&(n=B(n)),n}function _(e){return Boolean(null===e||void 0===e?void 0:e.termType)}function w(e){return"Variable"===(null===e||void 0===e?void 0:e.termType)}function x(e){if(_(e))w(e)&&y.add("?".concat(e.value));else if(Array.isArray(e))for(const t of e)x(t);else if(e&&"object"===typeof e)for(let t of Object.keys(e))t.startsWith("?")?y.add(t):t.startsWith("$")&&y.add("?".concat(t.slice(1))),x(e[t])}function S(e){let t={};if((r=e).subject&&r.predicate&&r.object){const r=[S(e.subject),S(e.predicate),S(e.object),e.graph?S(e.graph):{}];Object.assign(t,...r)}else if(_(e))w(e)&&(t[e.value]=e);else if("bgp"===e.type){const r=e.triples;Object.assign(t,...r.map(S))}else if("path"===e.type)Object.assign(t,...e.items.map(S));else if("group"===e.type||"union"===e.type||"optional"===e.type)Object.assign(t,...e.patterns.map(S));else if("service"===e.type||"graph"===e.type)Object.assign(t,S(e.name)),Object.assign(t,...e.patterns.map(S));else if("bind"===e.type)Object.assign(t,S(e.variable));else if("values"===e.type){if(e.values.length>0){const r=Object.keys(e.values[0]).map(e=>g.createTerm(e));Object.assign(t,...r.map(S))}}else if("query"===e.type&&("SELECT"===e.queryType||"DESCRIBE"===e.queryType)){e.where&&e.variables.some(h.default.isWildcard)&&Object.assign(t,...e.where.map(S));for(const r of e.variables)w(r)?Object.assign(t,S(r)):r.variable&&Object.assign(t,S(r.variable));if("SELECT"===e.queryType){if(e.group)for(const r of e.group)r.variable&&Object.assign(t,S(r.variable));if(e.values){const r={type:"values",values:e.values};Object.assign(t,S(r))}}}var r;return t}function T(e){if("bgp"===e.type)return function(e){let t=[],r=[];for(let n of e.triples)if("pathType"in n.predicate){let e=E(n);for(let n of e)n.type===f.PATH?(t.length>0&&r.push(g.createBgp(t)),t=[],r.push(n)):t.push(n)}else t.push(j(n));t.length>0&&r.push(g.createBgp(t));return 1===r.length?r[0]:g.createJoin(r)}(e);if("union"===e.type)return g.createUnion(e.patterns.map(e=>("group"!==e.type&&(e={type:"group",patterns:[e]}),T(e))));if("graph"===e.type){let t=T({type:"group",patterns:e.patterns});return t=v?R(t,e.name):g.createGraph(t,e.name),t}if("values"===e.type)return C(e);if("query"===e.type)return b(e,v,!1);if("group"===e.type){let t=[],r=[];for(let a of e.patterns)("filter"===a.type?t:r).push(a);let n=r.reduce(I,g.createBgp([])),i=t.map(e=>O(e.expression));return i.length>0&&(n=g.createFilter(n,i.reduce((e,t)=>g.createOperatorExpression("&&",[e,t])))),n}throw new Error("Unexpected type: ".concat(e.type))}function O(e){if(h.default.isSimpleTerm(e))return g.createTermExpression(e);if(h.default.isQuad(e))return h.default.hasQuadVariables(e)?g.createOperatorExpression("triple",[O(e.subject),O(e.predicate),O(e.object)]):g.createTermExpression(e);if(h.default.isWildcard(e))return g.createWildcardExpression();if("aggregation"in e)return g.createAggregateExpression(e.aggregation,O(e.expression),Boolean(e.distinct),e.separator);if("function"in e)return g.createNamedExpression(e.function,e.args.map(O));if("operator"in e)return"exists"===e.operator||"notexists"===e.operator?g.createExistenceExpression("notexists"===e.operator,T(e.args[0])):("in"!==e.operator&&"notin"!==e.operator||(e.args=[e.args[0]].concat(e.args[1])),g.createOperatorExpression(e.operator,e.args.map(O)));throw new Error("Unknown expression: ".concat(JSON.stringify(e)))}function E(e){return P(e.subject,A(e.predicate),e.object)}function A(e){if(h.default.isSimpleTerm(e)){if("NamedNode"===e.termType)return g.createLink(e);throw new Error("Path predicate should be a NamedNode, got ".concat(JSON.stringify(e)))}if("^"===e.pathType)return g.createInv(A(e.items[0]));if("!"===e.pathType){let t,r=[],n=[];t="pathType"in e.items[0]&&"|"===e.items[0].pathType?e.items[0].items:e.items;for(let e of t)if(h.default.isSimpleTerm(e))r.push(e);else{if("^"!==e.pathType)throw new Error("Unexpected item: ".concat(JSON.stringify(e)));n.push(e.items[0])}let i=g.createNps(r),a=g.createInv(g.createNps(n));return 0===n.length?i:0===r.length?a:g.createAlt([i,a])}if("/"===e.pathType)return g.createSeq(e.items.map(A));if("|"===e.pathType)return g.createAlt(e.items.map(A));if("*"===e.pathType)return g.createZeroOrMorePath(A(e.items[0]));if("+"===e.pathType)return g.createOneOrMorePath(A(e.items[0]));if("?"===e.pathType)return g.createZeroOrOnePath(A(e.items[0]));throw new Error("Unable to translate path expression ".concat(JSON.stringify(e)))}function P(e,t,r){if(t.type===f.LINK)return[g.createPattern(e,t.iri,r)];if(t.type===f.INV)return P(r,t.path,e);if(t.type===f.SEQ){let n=e;return h.default.flatten(t.input.map((e,i)=>{const a=i===t.input.length-1?r:N(),o=P(n,e,a);return"Variable"===a.termType&&(n=a),o}))}return[g.createPath(e,t,r)]}function N(){let e="?var".concat(m++);return y.has(e)?N():(y.add(e),g.createTerm(e))}function j(e){if("pathType"in e.predicate)throw new Error("Trying to translate property path to quad.");return g.createPattern(e.subject,e.predicate,e.object,e.graph)}t.default=function(e,t){let r;if(t=t||{},g=new d.default(t.dataFactory),"string"===typeof e){let n=new p(t);n._resetBlanks(),r=n.parse(e)}else r=e;return b(r,t.quads,t.blankToVariable)};let D=Object.values(f);function R(e,t,r){if(e.type===f.GRAPH){if(r)throw new Error("Recursing through nested GRAPH statements with a replacement is impossible.");e=R(e.input,e.name)}else if(e.type===f.SERVICE);else if(e.type===f.BGP)e.patterns=e.patterns.map(e=>(r&&(e.subject.equals(t)&&(e.subject=r),e.predicate.equals(t)&&(e.predicate=r),e.object.equals(t)&&(e.object=r)),"DefaultGraph"===e.graph.termType&&(e.graph=t),e));else if(e.type===f.PATH)r&&(e.subject.equals(t)&&(e.subject=r),e.object.equals(t)&&(e.object=r)),"DefaultGraph"===e.graph.termType&&(e.graph=t);else if(e.type!==f.PROJECT||r)if(e.type!==f.EXTEND||r)for(let n of Object.keys(e))Array.isArray(e[n])?e[n]=e[n].map(e=>R(e,t,r)):D.indexOf(e[n].type)>=0?e[n]=R(e[n],t,r):r&&w(e[n])&&e[n].equals(t)&&(e[n]=r);else e.variable.equals(t)&&(r=N()),e.input=R(e.input,t,r);else e.variables.some(e=>e.equals(t))||(r=N()),e.input=R(e.input,t,r);return e}function I(e,t){if("optional"===t.type){const r=T({type:"group",patterns:t.patterns});e=r.type===f.FILTER?g.createLeftJoin(e,r.input,r.expression):g.createLeftJoin(e,r)}else if("minus"===t.type){const r=T({type:"group",patterns:t.patterns});e=g.createMinus(e,r)}else if("bind"===t.type)e=g.createExtend(e,t.variable,O(t.expression));else if("service"===t.type){const r={type:"group",patterns:t.patterns};e=F(e,g.createService(T(r),t.name,t.silent))}else{e=F(e,T(t))}return e}function F(e,t){return e.type===f.BGP&&t.type===f.BGP?e=g.createBgp([...e.patterns,...t.patterns]):e.type===f.BGP&&0===e.patterns.length?e=t:t.type===f.BGP&&0===t.patterns.length||(e=g.createJoin([e,t])),e}function C(e){let t=(0===e.values.length?[]:Object.keys(e.values[0])).map(g.createTerm.bind(g)),r=e.values.map(e=>{let t=Object.keys(e);t=t.filter(t=>void 0!==e[t]);let r={};for(let n of t)r[n]=e[n];return r});return g.createValues(t,r)}function M(e,t){if("type"in e&&"aggregate"===e.type){let r,n=!1;for(let i of Object.keys(t))if(c(t[i],e)){r=g.createTerm(i),n=!0;break}return n||(r=N(),t[(0,l.termToString)(r)]=e),r}return"expression"in e&&e.expression?n(n({},e),{},{expression:M(e.expression,t)}):"args"in e&&e.args?n(n({},e),{},{args:e.args.map(e=>M(e,t))}):e}function k(e){if("type"in e){if("load"===e.type)return function(e){return g.createLoad(e.source,e.destination,e.silent)}(e);if("clear"===e.type||"create"===e.type||"drop"===e.type)return function(e){let t;t=h.default.isSimpleTerm(e.graph)?e.graph:e.graph.all?"ALL":e.graph.default?"DEFAULT":e.graph.named?"NAMED":e.graph.name;switch(e.type){case"clear":return g.createClear(t,e.silent);case"create":return g.createCreate(t,e.silent);case"drop":return g.createDrop(t,e.silent)}}(e);if("add"===e.type||"copy"===e.type||"move"===e.type)return function(e){const t=e.source.default?"DEFAULT":e.source.name,r=e.destination.default?"DEFAULT":e.destination.name;switch(e.type){case"copy":return g.createCopy(t,r,e.silent);case"move":return g.createMove(t,r,e.silent);case"add":return g.createAdd(t,r,e.silent)}}(e)}else if("insertdelete"===e.updateType||"deletewhere"===e.updateType||"delete"===e.updateType||"insert"===e.updateType)return function(e){if(!v)throw new Error("INSERT/DELETE operations are only supported with quads option enabled");let t,r=[],n=[];e.delete&&(r=h.default.flatten(e.delete.map(t=>L(t,e.graph))));e.insert&&(n=h.default.flatten(e.insert.map(t=>L(t,e.graph))));if(e.where&&e.where.length>0){t=T({type:"group",patterns:e.where});const r=e.using;r?t=g.createFrom(t,r.default,r.named):e.graph&&(t=R(t,e.graph))}else"deletewhere"===e.updateType&&r.length>0&&(t=g.createBgp(r));return g.createDeleteInsert(r.length>0?r:void 0,n.length>0?n:void 0,t)}(e);throw new Error("Unknown update type ".concat(JSON.stringify(e)))}function L(e,t){let r=t;"graph"===e.type&&(r=e.name);let n=e.triples;return r&&(n=n.map(e=>Object.assign(e,{graph:r}))),n.map(j)}function B(e){const t={},r=Array.from(y).reduce((e,t)=>(e[t]=!0,e),{});return h.default.mapOperation(e,{[u.types.DELETE_INSERT]:e=>({result:g.createDeleteInsert(e.delete,e.insert,e.where&&B(e.where)),recurse:!1}),[u.types.PATH]:(e,t)=>({result:t.createPath(n(e.subject),e.predicate,n(e.object),n(e.graph)),recurse:!1}),[u.types.PATTERN]:(e,t)=>({result:t.createPattern(n(e.subject),n(e.predicate),n(e.object),n(e.graph)),recurse:!1}),[u.types.CONSTRUCT]:e=>({result:g.createConstruct(B(e.input),e.template),recurse:!1})});function n(e){if("BlankNode"===e.termType){let n=t[e.value];return n||(n=h.default.createUniqueVariable(e.value,r,g.dataFactory),r[n.value]=!0,t[e.value]=n),n}return e}}},18241:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeValueHandlerVariable=void 0;const n=r(71506);class i extends n.NodeValueHandlerAdapter{constructor(e,t){super("Variable",e,t)}handle(e,t,r){const n=e.name.value,i=r.variablesDict[n],a=r.variablesMetaDict[n];if(!i){if(r.ignoreUnknownVariables||a&&!a.mandatory){const e=this.util.dataFactory.variable(n);return r.terminalVariables.map(e=>e.value).indexOf(n)<0&&r.terminalVariables.push(e),{terms:[e]}}throw new Error("Undefined variable: ".concat(n))}if("Variable"===i.kind)throw new Error("Variable refers to another variable: ".concat(n));if(a)if(a.list){if("ListValue"!==i.kind)throw new Error("Expected a list, but got ".concat(i.kind," for ").concat(n));if(a.type){const e=i;for(const t of e.values)if(t.kind!==a.type)throw new Error("Expected ".concat(a.type,", but got ").concat(t.kind," for ").concat(n))}}else a.type;return this.util.handleNodeValue(i,t,r)}}t.NodeValueHandlerVariable=i},18254:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermXsdToString=void 0;const i=r(11716),a=r(97824),o=r(40081);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.TypeURL.XSD_STRING],termFunction:!0}))}async run(e){return new o.TermFunctionXsdToString}}t.ActorFunctionFactoryTermXsdToString=s},18280:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQuerySourceIdentify=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e)}}t.ActorQuerySourceIdentify=i},18310:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Quad=void 0;t.Quad=class{constructor(e,t,r,n){this.termType="Quad",this.value="",this.subject=e,this.predicate=t,this.object=r,this.graph=n}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}},18667:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=t.stringToBytes=void 0;const n=r(49866),i=r(66948);function a(e){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r);return t}t.stringToBytes=a,t.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",t.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",t.default=function(e,t,r,o,s,c){var l;const u="string"===typeof r?a(r):r,d="string"===typeof o?(0,n.default)(o):o;if("string"===typeof o&&(o=(0,n.default)(o)),16!==(null===(l=o)||void 0===l?void 0:l.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+u.length);if(h.set(d),h.set(u,d.length),h=t(h),h[6]=15&h[6]|e,h[8]=63&h[8]|128,s){c=c||0;for(let e=0;e<16;++e)s[c+e]=h[e];return s}return(0,i.unsafeStringify)(h)}},18846:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermReplace=void 0;const i=r(11716),a=r(97824),o=r(73729);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.REPLACE],termFunction:!0}))}async run(e){return new o.TermFunctionReplace}}t.ActorFunctionFactoryTermReplace=s},18922:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46780),t)},18995:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionEquality=void 0;const n=r(11716),i=r(52840),a=r(97824);class o extends n.TermFunctionBase{constructor(){super({arity:2,operator:a.SparqlOperator.EQUAL,overloads:(0,a.declare)(a.SparqlOperator.EQUAL).numberTest(()=>(e,t)=>e===t).stringTest(()=>(e,t)=>0===e.localeCompare(t)).set([a.TypeURL.RDF_LANG_STRING,a.TypeURL.RDF_LANG_STRING],()=>e=>{let[t,r]=e;return(0,a.bool)(t.str()===r.str()&&t.language===r.language)}).set([a.TypeAlias.SPARQL_STRINGLY,a.TypeAlias.SPARQL_STRINGLY],()=>()=>(0,a.bool)(!1)).booleanTest(()=>(e,t)=>e===t).dateTimeTest(e=>(t,r)=>(0,a.toUTCDate)(t,e.context.getSafe(i.KeysExpressionEvaluator.defaultTimeZone)).getTime()===(0,a.toUTCDate)(r,e.context.getSafe(i.KeysExpressionEvaluator.defaultTimeZone)).getTime()).copy({from:[a.TypeURL.XSD_DATE_TIME,a.TypeURL.XSD_DATE_TIME],to:[a.TypeURL.XSD_DATE,a.TypeURL.XSD_DATE]}).set(["quad","quad"],e=>t=>{let[r,n]=t;return(0,a.bool)(this.applyOnTerms([r.subject,n.subject],e).coerceEBV()&&this.applyOnTerms([r.predicate,n.predicate],e).coerceEBV()&&this.applyOnTerms([r.object,n.object],e).coerceEBV()&&this.applyOnTerms([r.graph,n.graph],e).coerceEBV())},!1).set(["term","term"],e=>t=>{let[r,n]=t;const o=r.toRDF(e.context.getSafe(i.KeysInitQuery.dataFactory)),s=n.toRDF(e.context.getSafe(i.KeysInitQuery.dataFactory)),c=o.equals(s);if(!c&&"Literal"===o.termType&&"Literal"===s.termType)throw new a.RDFEqualTypeError([r,n]);return(0,a.bool)(c)},!1).set([a.TypeURL.XSD_DURATION,a.TypeURL.XSD_DURATION],()=>e=>{let[t,r]=e;return(0,a.bool)((0,a.yearMonthDurationsToMonths)((0,a.defaultedYearMonthDurationRepresentation)(t.typedValue))===(0,a.yearMonthDurationsToMonths)((0,a.defaultedYearMonthDurationRepresentation)(r.typedValue))&&(0,a.dayTimeDurationsToSeconds)((0,a.defaultedDayTimeDurationRepresentation)(t.typedValue))===(0,a.dayTimeDurationsToSeconds)((0,a.defaultedDayTimeDurationRepresentation)(r.typedValue)))}).set([a.TypeURL.XSD_TIME,a.TypeURL.XSD_TIME],e=>t=>{let[r,n]=t;return(0,a.bool)((0,a.toUTCDate)((0,a.defaultedDateTimeRepresentation)(r.typedValue),e.context.getSafe(i.KeysExpressionEvaluator.defaultTimeZone)).getTime()===(0,a.toUTCDate)((0,a.defaultedDateTimeRepresentation)(n.typedValue),e.context.getSafe(i.KeysExpressionEvaluator.defaultTimeZone)).getTime())}).collect()})}}t.TermFunctionEquality=o},19198:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(82090),t)},19260:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinHash=void 0;const i=r(1140),a=r(13953),o=r(11745),s=r(82956),c=r(72758),l=r(66492),u=r(45494);class d extends i.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"hash-".concat(e.canHandleUndefs?"undef":"def"),limitEntries:2,requiresVariableOverlap:!0,canHandleUndefs:e.canHandleUndefs})}async getOutput(e,t){const r=t.metadatas;let n;const a=i.ActorRdfJoin.overlappingVariables(r);if(this.canHandleUndefs){const e=t.entriesSorted[0].output,r=t.entriesSorted[1].output;n=new s.ClosableTransformIterator(async()=>{const t=new o.BindingsIndexUndef(a,e=>e&&"Variable"!==e.termType?(0,u.termToString)(e):"",!0);return await new Promise(r=>{e.bindingsStream.on("data",e=>{var r;(null!==(r=t.getFirst(e,!1))&&void 0!==r?r:t.put(e,[])).push(e)}),e.bindingsStream.on("end",r),e.bindingsStream.on("error",e=>{n.emit("error",e)})}),new c.MultiTransformIterator(r.bindingsStream,{multiTransform:e=>new c.ArrayIterator(t.get(e).flat().map(t=>i.ActorRdfJoin.joinBindings(e,t)).filter(e=>null!==e),{autoStart:!1}),autoStart:!1})},{autoStart:!1,onClose(){e.bindingsStream.destroy(),r.bindingsStream.destroy()}})}else{const{hashFunction:r}=await this.mediatorHashBindings.mediate({context:e.context}),o=a.map(e=>e.variable);n=new l.HashJoin(t.entriesSorted[0].output.bindingsStream,t.entriesSorted[1].output.bindingsStream,e=>r(e,o),i.ActorRdfJoin.joinBindings)}return{result:{type:"bindings",bindingsStream:n,metadata:async()=>await this.constructResultMetadata(t.entriesSorted,r,e.context)}}}async getJoinCoefficients(e,t){let r=e.entries;t.metadatas[1].cardinality.value<t.metadatas[0].cardinality.value&&(t.metadatas=[t.metadatas[1],t.metadatas[0]],r=[e.entries[1],e.entries[0]]);const{metadatas:o}=t,s=i.ActorRdfJoin.getRequestInitialTimes(o),c=i.ActorRdfJoin.getRequestItemTimes(o);let l=o[0].cardinality.value+o[1].cardinality.value;return this.canHandleUndefs||(l*=.8),(0,a.passTestWithSideData)({iterations:l,persistedItems:o[0].cardinality.value,blockingItems:o[0].cardinality.value,requestTime:s[0]+o[0].cardinality.value*c[0]+s[1]+o[1].cardinality.value*c[1]},n(n({},t),{},{entriesSorted:r}))}}t.ActorRdfJoinHash=d},19362:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);t.default={randomUUID:r}},19398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;const n=r(90355);t.Variable=class{constructor(e){this.expressionType=n.ExpressionType.Variable,this.name=e}}},19435:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNode=void 0;t.BlankNode=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}},19496:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationBgpJoin=void 0;const n=r(52241),i=r(52840),a=r(13953),o=r(85160);class s extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"bgp")}async testOperation(e,t){return(0,a.passTestVoid)()}async runOperation(e,t){const r=t.getSafe(i.KeysInitQuery.dataFactory),n=new o.Factory(r);return this.mediatorQueryOperation.mediate({operation:n.createJoin(e.patterns),context:t})}}t.ActorQueryOperationBgpJoin=s},19579:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionXsdToFloat=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.TypeURL.XSD_FLOAT,overloads:(0,i.declare)(i.TypeURL.XSD_FLOAT).onNumeric1(()=>e=>(0,i.float)(e.typedValue)).onBoolean1Typed(()=>e=>(0,i.float)(e?1:0)).onUnary(i.TypeURL.XSD_STRING,()=>e=>{const t=(0,i.parseXSDFloat)(e.str());if(void 0===t)throw new i.CastError(e,i.TypeURL.XSD_FLOAT);return(0,i.float)(t)},!1).collect()})}}t.TermFunctionXsdToFloat=a},19632:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperationBgpToJoin=void 0;const n=r(49065),i=r(52840),a=r(13953),o=r(85160);class s extends n.ActorOptimizeQueryOperation{async test(e){return(0,a.passTestVoid)()}async run(e){const t=e.context.getSafe(i.KeysInitQuery.dataFactory),r=new o.Factory(t);return{operation:o.Util.mapOperation(e.operation,{bgp:(e,t)=>({recurse:!1,result:t.createJoin(e.patterns)})},r),context:e.context}}}t.ActorOptimizeQueryOperationBgpToJoin=s},19722:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.getSupportedJavaScriptPrimitives=t.getSupportedRdfDatatypes=t.getTermRaw=t.toRdf=t.fromRdf=void 0;const a=r(92832),o=r(39985),s=r(3326);i(r(39985),t),i(r(14805),t),i(r(3326),t);const c=new a.DataFactory,l=new s.Translator;function u(e,t){return l.fromRdf(e,t)}l.registerHandler(new o.TypeHandlerString,o.TypeHandlerString.TYPES.map(e=>c.namedNode(e)),["string"]),l.registerHandler(new o.TypeHandlerBoolean,[o.TypeHandlerBoolean.TYPE].map(e=>c.namedNode(e)),["boolean"]),l.registerHandler(new o.TypeHandlerNumberDouble,o.TypeHandlerNumberDouble.TYPES.map(e=>c.namedNode(e)),["number"]),l.registerHandler(new o.TypeHandlerNumberInteger,o.TypeHandlerNumberInteger.TYPES.map(e=>c.namedNode(e)),["number"]),l.registerHandler(new o.TypeHandlerDate,o.TypeHandlerDate.TYPES.map(e=>c.namedNode(e)),["object"]),t.fromRdf=u,t.toRdf=function(e,t){return t&&"namedNode"in t&&(t={dataFactory:t}),(t=t||{})&&!t.dataFactory&&(t.dataFactory=c),l.toRdf(e,t)},t.getTermRaw=function(e,t){return"Literal"===e.termType?u(e,t):e.value},t.getSupportedRdfDatatypes=function(){return l.getSupportedRdfDatatypes()},t.getSupportedJavaScriptPrimitives=function(){return l.getSupportedJavaScriptPrimitives()}},19895:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(96413),t)},19901:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ClosableIterator=void 0;const n=r(72758);class i extends n.AsyncIterator{constructor(e,t){super(),this.onClose=t.onClose,this._source=e,this._source[n.DESTINATION]=this,this._source.on("end",s),this._source.on("error",o),this._source.on("readable",a),this.readable=this._source.readable}read(){const e=this._source.read();return e||(this.readable=!1,this._source.done&&this.close()),e}_end(e){this.onClose(),this._source.removeListener("end",s),this._source.removeListener("error",o),this._source.removeListener("readable",a),delete this._source[n.DESTINATION],this._source.destroy(),super._end(e)}}function a(){this[n.DESTINATION].readable=!0}function o(e){this[n.DESTINATION].emit("error",e)}function s(){this[n.DESTINATION].close()}t.ClosableIterator=i},19958:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,uniqueLang:!0,equals:!0,disjoint:!0,lessThan:!0,lessThanOrEquals:!0,qualifiedValueShape:!0,qualifiedMinCount:!0,qualifiedMaxCount:!0,qualifiedValueShapesDisjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0,node:!0}},19977:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedExtension=void 0;const n=r(77672),i=r(52840),a=r(97824);class o extends n.ExpressionFunctionBase{constructor(e){let{operator:t,functionDefinition:r}=e;super({arity:Number.POSITIVE_INFINITY,operator:t,apply:async e=>{let{args:t,exprEval:n,mapping:o}=e;const s=await Promise.all(t.map(e=>n.evaluatorExpressionEvaluation(e,o)));try{return new a.TermTransformer(n.context.getSafe(i.KeysExpressionEvaluator.superTypeProvider)).transformRDFTermUnsafe(await r(s.map(e=>e.toRDF(n.context.getSafe(i.KeysInitQuery.dataFactory)))))}catch(c){throw new a.ExtensionFunctionError(this.operator,c)}}})}}t.NamedExtension=o},20227:(e,t,r)=>{"use strict";const n=r(62285),{AbortError:i,codes:a}=r(60056),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_PREMATURE_CLOSE:s}=a,{kEmptyObject:c,once:l}=r(91887),{validateAbortSignal:u,validateFunction:d,validateObject:h,validateBoolean:p}=r(8870),{Promise:f,PromisePrototypeThen:g,SymbolDispose:y}=r(28931),{isClosed:m,isReadable:v,isReadableNodeStream:b,isReadableStream:_,isReadableFinished:w,isReadableErrored:x,isWritable:S,isWritableNodeStream:T,isWritableStream:O,isWritableFinished:E,isWritableErrored:A,isNodeStream:P,willEmitClose:N,kIsClosedPromise:j}=r(60782);let D;const R=()=>{};function I(e,t,a){var p,f;if(2===arguments.length?(a=t,t=c):null==t?t=c:h(t,"options"),d(a,"callback"),u(t.signal,"options.signal"),a=l(a),_(e)||O(e))return function(e,t,a){let o=!1,s=R;if(t.signal)if(s=()=>{o=!0,a.call(e,new i(void 0,{cause:t.signal.reason}))},t.signal.aborted)n.nextTick(s);else{D=D||r(91887).addAbortListener;const n=D(t.signal,s),i=a;a=l(function(){n[y]();for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];i.apply(e,r)})}const c=function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];o||n.nextTick(()=>a.apply(e,r))};return g(e[j].promise,c,c),R}(e,t,a);if(!P(e))throw new o("stream",["ReadableStream","WritableStream","Stream"],e);const I=null!==(p=t.readable)&&void 0!==p?p:b(e),F=null!==(f=t.writable)&&void 0!==f?f:T(e),C=e._writableState,M=e._readableState,k=()=>{e.writable||U()};let L=N(e)&&b(e)===I&&T(e)===F,B=E(e,!1);const U=()=>{B=!0,e.destroyed&&(L=!1),(!L||e.readable&&!I)&&(I&&!V||a.call(e))};let V=w(e,!1);const z=()=>{V=!0,e.destroyed&&(L=!1),(!L||e.writable&&!F)&&(F&&!B||a.call(e))},q=t=>{a.call(e,t)};let Q=m(e);const G=()=>{Q=!0;const t=A(e)||x(e);return t&&"boolean"!==typeof t?a.call(e,t):I&&!V&&b(e,!0)&&!w(e,!1)?a.call(e,new s):!F||B||E(e,!1)?void a.call(e):a.call(e,new s)},H=()=>{Q=!0;const t=A(e)||x(e);if(t&&"boolean"!==typeof t)return a.call(e,t);a.call(e)},W=()=>{e.req.on("finish",U)};!function(e){return e.setHeader&&"function"===typeof e.abort}(e)?F&&!C&&(e.on("end",k),e.on("close",k)):(e.on("complete",U),L||e.on("abort",G),e.req?W():e.on("request",W)),L||"boolean"!==typeof e.aborted||e.on("aborted",G),e.on("end",z),e.on("finish",U),!1!==t.error&&e.on("error",q),e.on("close",G),Q?n.nextTick(G):null!==C&&void 0!==C&&C.errorEmitted||null!==M&&void 0!==M&&M.errorEmitted?L||n.nextTick(H):(I||L&&!v(e)||!B&&!1!==S(e))&&(F||L&&!S(e)||!V&&!1!==v(e))?M&&e.req&&e.aborted&&n.nextTick(H):n.nextTick(H);const X=()=>{a=R,e.removeListener("aborted",G),e.removeListener("complete",U),e.removeListener("abort",G),e.removeListener("request",W),e.req&&e.req.removeListener("finish",U),e.removeListener("end",k),e.removeListener("close",k),e.removeListener("finish",U),e.removeListener("end",z),e.removeListener("error",q),e.removeListener("close",G)};if(t.signal&&!Q){const o=()=>{const r=a;X(),r.call(e,new i(void 0,{cause:t.signal.reason}))};if(t.signal.aborted)n.nextTick(o);else{D=D||r(91887).addAbortListener;const n=D(t.signal,o),i=a;a=l(function(){n[y]();for(var t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];i.apply(e,r)})}}return X}e.exports=I,e.exports.finished=function(e,t){var r;let n=!1;return null===t&&(t=c),null!==(r=t)&&void 0!==r&&r.cleanup&&(p(t.cleanup,"cleanup"),n=t.cleanup),new f((r,i)=>{const a=I(e,t,e=>{n&&a(),e?i(e):r()})})}},20489:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_CODES=t.ErrorCoded=void 0;class r extends Error{constructor(e,t){super(e),this.code=t}}t.ErrorCoded=r,function(e){e.COLLIDING_KEYWORDS="colliding keywords",e.CONFLICTING_INDEXES="conflicting indexes",e.CYCLIC_IRI_MAPPING="cyclic IRI mapping",e.INVALID_ID_VALUE="invalid @id value",e.INVALID_INDEX_VALUE="invalid @index value",e.INVALID_NEST_VALUE="invalid @nest value",e.INVALID_PREFIX_VALUE="invalid @prefix value",e.INVALID_PROPAGATE_VALUE="invalid @propagate value",e.INVALID_REVERSE_VALUE="invalid @reverse value",e.INVALID_IMPORT_VALUE="invalid @import value",e.INVALID_VERSION_VALUE="invalid @version value",e.INVALID_BASE_IRI="invalid base IRI",e.INVALID_CONTAINER_MAPPING="invalid container mapping",e.INVALID_CONTEXT_ENTRY="invalid context entry",e.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",e.INVALID_DEFAULT_LANGUAGE="invalid default language",e.INVALID_INCLUDED_VALUE="invalid @included value",e.INVALID_IRI_MAPPING="invalid IRI mapping",e.INVALID_JSON_LITERAL="invalid JSON literal",e.INVALID_KEYWORD_ALIAS="invalid keyword alias",e.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",e.INVALID_LANGUAGE_MAPPING="invalid language mapping",e.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",e.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",e.INVALID_LOCAL_CONTEXT="invalid local context",e.INVALID_REMOTE_CONTEXT="invalid remote context",e.INVALID_REVERSE_PROPERTY="invalid reverse property",e.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",e.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",e.INVALID_SCOPED_CONTEXT="invalid scoped context",e.INVALID_SCRIPT_ELEMENT="invalid script element",e.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",e.INVALID_TERM_DEFINITION="invalid term definition",e.INVALID_TYPE_MAPPING="invalid type mapping",e.INVALID_TYPE_VALUE="invalid type value",e.INVALID_TYPED_VALUE="invalid typed value",e.INVALID_VALUE_OBJECT="invalid value object",e.INVALID_VALUE_OBJECT_VALUE="invalid value object value",e.INVALID_VOCAB_MAPPING="invalid vocab mapping",e.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",e.KEYWORD_REDEFINITION="keyword redefinition",e.LOADING_DOCUMENT_FAILED="loading document failed",e.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",e.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",e.PROCESSING_MODE_CONFLICT="processing mode conflict",e.PROTECTED_TERM_REDEFINITION="protected term redefinition",e.CONTEXT_OVERFLOW="context overflow",e.INVALID_BASE_DIRECTION="invalid base direction",e.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",e.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",e.INVALID_EMBEDDED_NODE="invalid embedded node",e.INVALID_ANNOTATION="invalid annotation"}(t.ERROR_CODES||(t.ERROR_CODES={}))},20492:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(52744),t),i(r(92549),t)},20549:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Quad=void 0;t.Quad=class{constructor(e,t,r,n){this.termType="Quad",this.value="",this.subject=e,this.predicate=t,this.object=r,this.graph=n}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}},20694:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermLesserThanEqual=void 0;const i=r(11716),a=r(97824),o=r(42405);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.LTE],termFunction:!0})),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const t=await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.EQUAL,requireTermExpression:!0,context:e.context,arguments:e.arguments}),r=await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.LT,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new o.TermFunctionLesserThanEqual(t,r)}}t.ActorFunctionFactoryTermLesserThanEqual=s},20717:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationValues=void 0;const n=r(52241),i=r(52840),a=r(13953),o=r(7979),s=r(66179),c=r(72758);class l extends n.ActorQueryOperationTyped{constructor(e){super(e,"values")}async testOperation(e,t){return(0,a.passTestVoid)()}async runOperation(e,t){const r=t.getSafe(i.KeysInitQuery.dataFactory),n=await o.BindingsFactory.create(this.mediatorMergeBindingsContext,t,r);return{type:"bindings",bindingsStream:new c.ArrayIterator(e.bindings.map(e=>n.bindings(Object.entries(e).map(e=>{let[t,n]=e;return[r.variable(t.slice(1)),n]})))),metadata:()=>Promise.resolve({state:new s.MetadataValidationState,cardinality:{type:"exact",value:e.bindings.length},variables:e.variables.map(t=>({variable:t,canBeUndef:e.bindings.some(e=>!("?".concat(t.value)in e))}))})}}}t.ActorQueryOperationValues=l},20874:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XmlSerializer=void 0;class r{constructor(){this.stack=[]}open(e,t){const r="".concat(this.identation()+this.formatTag(e,t,"open"),"\n");return this.stack.push(e),r}close(){const e=this.stack.pop();if(void 0===e)throw new Error("There is no tag left to close");return"".concat(this.identation()+this.formatTag(e,{},"close"),"\n")}serializeNode(e){if(void 0===e.children)return"".concat(this.identation()+this.formatTag(e.name,e.attributes,"self-closing"),"\n");if("string"===typeof e.children)return"".concat(this.identation()+this.formatTag(e.name,e.attributes,"open")+this.escape(e.children)+this.formatTag(e.name,{},"close"),"\n");const t=[];t.push("".concat(this.identation()+this.formatTag(e.name,e.attributes,"open"),"\n")),this.stack.push(e.name);for(const r of e.children)t.push(this.serializeNode(r));return this.stack.pop(),t.push("".concat(this.identation()+this.formatTag(e.name,{},"close"),"\n")),t.join("")}identation(){return this.stack.map(e=>"  ").join("")}formatTag(e,t,r){return"<".concat("close"===r?"/":"").concat(e).concat(Object.entries(null!==t&&void 0!==t?t:{}).map(e=>" ".concat(e[0],'="').concat(this.escape(e[1]),'"'))).concat("self-closing"===r?"/":"",">")}escape(e){return e.replaceAll(/["&'<>]/g,e=>{switch(e){case"<":return"&lt;";case">":return"&gt;";case"&":return"&amp;";case"'":return"&apos;";case'"':return"&quot;"}})}}t.XmlSerializer=r,r.header='<?xml version="1.0" encoding="UTF-8"?>\n'},20892:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(15575),t)},20969:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoggerVoid=void 0;const n=r(90355);class i extends n.Logger{debug(){}error(){}fatal(){}info(){}trace(){}warn(){}}t.LoggerVoid=i},20981:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(40905),t)},21012:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNonLexicalLiteral=t.NonLexicalLiteral=t.YearMonthDurationLiteral=t.DayTimeDurationLiteral=t.DurationLiteral=t.DateLiteral=t.TimeLiteral=t.DateTimeLiteral=t.StringLiteral=t.LangStringLiteral=t.BooleanLiteral=t.DoubleLiteral=t.FloatLiteral=t.DecimalLiteral=t.IntegerLiteral=t.NumericLiteral=t.Literal=t.isLiteralTermExpression=t.DefaultGraph=t.Quad=t.BlankNode=t.NamedNode=t.Term=void 0;const n=r(90355),i=r(89465),a=r(89465),o=r(48526),s=r(35233),c=r(124);class l{constructor(){this.expressionType=n.ExpressionType.Term}str(){throw new o.InvalidArgumentTypes([this],i.SparqlOperator.STR)}coerceEBV(){throw new o.EBVCoercionError(this)}}t.Term=l;t.NamedNode=class extends l{constructor(e){super(),this.value=e,this.termType="namedNode"}toRDF(e){return e.namedNode(this.value)}str(){return this.value}};t.BlankNode=class extends l{constructor(e){super(),this.termType="blankNode",this.value=e}toRDF(e){return"string"===typeof this.value?e.blankNode(this.value):this.value}};t.Quad=class extends l{constructor(e,t,r,n){super(),this.subject=e,this.predicate=t,this.object=r,this.graph=n,this.termType="quad"}toRDF(e){return e.quad(this.subject.toRDF(e),this.predicate.toRDF(e),this.object.toRDF(e),this.graph.toRDF(e))}str(){return"Quad: [".concat(this.subject.str(),", ").concat(this.predicate.str(),", ").concat(this.object.str(),", ").concat(this.graph.str(),"]")}};t.DefaultGraph=class extends l{constructor(){super(),this.termType="defaultGraph"}toRDF(e){return e.defaultGraph()}str(){return"DefaultGraph"}},t.isLiteralTermExpression=function(e){if("literal"===e.termType)return e};class u extends l{constructor(e,t,r,n){super(),this.typedValue=e,this.dataType=t,this.strValue=r,this.language=n,this.termType="literal"}toRDF(e){var t,r;return e.literal(null!==(t=this.strValue)&&void 0!==t?t:this.str(),null!==(r=this.language)&&void 0!==r?r:e.namedNode(this.dataType))}str(){var e;return null!==(e=this.strValue)&&void 0!==e?e:this.typedValue.toString()}}t.Literal=u;class d extends u{constructor(e,t,r,n){super(e,t,r,n),this.typedValue=e,this.strValue=r,this.language=n}coerceEBV(){return Boolean(this.typedValue)}toRDF(e){const t=super.toRDF(e);return Number.isFinite(this.typedValue)||(t.value=t.value.replace("Infinity","INF")),t}str(){var e;return null!==(e=this.strValue)&&void 0!==e?e:this.specificFormatter(this.typedValue)}}t.NumericLiteral=d;t.IntegerLiteral=class extends d{constructor(e,t,r,n){super(e,null!==t&&void 0!==t?t:a.TypeURL.XSD_INTEGER,r,n),this.typedValue=e,this.strValue=r,this.language=n}specificFormatter(e){return e.toFixed(0)}};t.DecimalLiteral=class extends d{constructor(e,t,r,n){super(e,null!==t&&void 0!==t?t:a.TypeURL.XSD_DECIMAL,r,n),this.typedValue=e,this.strValue=r,this.language=n}specificFormatter(e){return e.toString()}};t.FloatLiteral=class extends d{constructor(e,t,r,n){super(e,null!==t&&void 0!==t?t:a.TypeURL.XSD_FLOAT,r,n),this.typedValue=e,this.strValue=r,this.language=n}specificFormatter(e){return e.toString()}};t.DoubleLiteral=class extends d{constructor(e,t,r,n){super(e,null!==t&&void 0!==t?t:a.TypeURL.XSD_DOUBLE,r,n),this.typedValue=e,this.strValue=r,this.language=n}specificFormatter(e){if(!Number.isFinite(e))return e>0?"INF":e<0?"-INF":"NaN";const t=e.toExponential(),[r,n]=t.split("e"),i=n.replace(/\+/,""),a=r.includes(".")?r:"".concat(r,".0");return"".concat(a,"E").concat(i)}};t.BooleanLiteral=class extends u{constructor(e,t,r){super(e,null!==r&&void 0!==r?r:a.TypeURL.XSD_BOOLEAN,t),this.typedValue=e,this.strValue=t}coerceEBV(){return this.typedValue}};t.LangStringLiteral=class extends u{constructor(e,t,r){super(e,null!==r&&void 0!==r?r:a.TypeURL.RDF_LANG_STRING,e,t),this.typedValue=e,this.language=t}coerceEBV(){return this.str().length>0}};t.StringLiteral=class extends u{constructor(e,t){super(e,null!==t&&void 0!==t?t:a.TypeURL.XSD_STRING,e),this.typedValue=e}coerceEBV(){return this.str().length>0}};t.DateTimeLiteral=class extends u{constructor(e,t,r){super(e,null!==r&&void 0!==r?r:a.TypeURL.XSD_DATE_TIME,t),this.typedValue=e,this.strValue=t}str(){return(0,s.serializeDateTime)(this.typedValue)}};t.TimeLiteral=class extends u{constructor(e,t,r){super(e,null!==r&&void 0!==r?r:a.TypeURL.XSD_TIME,t),this.typedValue=e,this.strValue=t}str(){return(0,s.serializeTime)(this.typedValue)}};t.DateLiteral=class extends u{constructor(e,t,r){super(e,null!==r&&void 0!==r?r:a.TypeURL.XSD_DATE,t),this.typedValue=e,this.strValue=t}str(){return(0,s.serializeDate)(this.typedValue)}};class h extends u{constructor(e,t,r){super(e,null!==r&&void 0!==r?r:a.TypeURL.XSD_DURATION,t),this.typedValue=e,this.strValue=t}str(){return(0,s.serializeDuration)(this.typedValue)}}t.DurationLiteral=h;t.DayTimeDurationLiteral=class extends h{constructor(e,t,r){super(e,t,null!==r&&void 0!==r?r:a.TypeURL.XSD_DAY_TIME_DURATION),this.typedValue=e,this.strValue=t}};t.YearMonthDurationLiteral=class extends u{constructor(e,t,r){super(e,null!==r&&void 0!==r?r:a.TypeURL.XSD_YEAR_MONTH_DURATION,t),this.typedValue=e,this.strValue=t}str(){return(0,s.serializeDuration)(this.typedValue,"P0M")}};class p extends u{constructor(e,t,r,n,i){super({toString:()=>"undefined"},t,n,i),this.openWorldType=r}coerceEBV(){if((0,c.isSubTypeOf)(this.dataType,a.TypeURL.XSD_BOOLEAN,this.openWorldType)||(0,c.isSubTypeOf)(this.dataType,a.TypeAlias.SPARQL_NUMERIC,this.openWorldType))return!1;throw new o.EBVCoercionError(this)}toRDF(e){var t;return e.literal(this.str(),null!==(t=this.language)&&void 0!==t?t:e.namedNode(this.dataType))}str(){var e;return null!==(e=this.strValue)&&void 0!==e?e:""}}t.NonLexicalLiteral=p,t.isNonLexicalLiteral=function(e){if(e instanceof p)return e}},21123:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedNode=void 0;t.NamedNode=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}}},21208:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorCombineUnion=void 0;const i=r(13953);class a extends i.Mediator{constructor(e){super(e),this.combiner=this.createCombiner()}async mediate(e){let t;try{t=this.publish(e)}catch(i){t=[]}if(this.filterFailures){const e=[];for(const r of t){(await r.reply).isPassed()&&e.push(r)}t=e}const r=[];await Promise.all(t.map(async(e,t)=>{let{reply:n}=e;const i=await n,a=i.getOrThrow();return r[t]=i.getSideData(),a}));const n=await Promise.all(t.map((t,n)=>t.actor.runObservable(e,r[n])));return this.combiner(n)}mediateWith(){throw new Error("Method not supported.")}createCombiner(){return e=>{const t={};return t[this.field]={},[{}].concat(e.map(e=>e[this.field])).forEach(e=>{t[this.field]=n(n({},e),t[this.field])}),t}}}t.MediatorCombineUnion=a},21239:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(69050),t)},21364:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(25021),t),i(r(7096),t)},21383:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ContextParser=void 0;const n=r(67323),i=r(30962),a=r(29933),o=r(28971),s=r(4071);class c{constructor(e){e=e||{},this.documentLoader=e.documentLoader||new a.FetchDocumentLoader,this.documentCache={},this.validateContext=!e.skipValidation,this.expandContentTypeToBase=!!e.expandContentTypeToBase,this.remoteContextsDepthLimit=e.remoteContextsDepthLimit||32,this.redirectSchemaOrgHttps=!("redirectSchemaOrgHttps"in e)||!!e.redirectSchemaOrgHttps}static validateLanguage(e,t,r){if("string"!==typeof e)throw new i.ErrorCoded("The value of an '@language' must be a string, got '".concat(JSON.stringify(e),"'"),r);if(!s.Util.REGEX_LANGUAGE_TAG.test(e)){if(t)throw new i.ErrorCoded("The value of an '@language' must be a valid language tag, got '".concat(JSON.stringify(e),"'"),r);return!1}return!0}static validateDirection(e,t){if("string"!==typeof e)throw new i.ErrorCoded("The value of an '@direction' must be a string, got '".concat(JSON.stringify(e),"'"),i.ERROR_CODES.INVALID_BASE_DIRECTION);if(!s.Util.REGEX_DIRECTION_TAG.test(e)){if(t)throw new i.ErrorCoded("The value of an '@direction' must be 'ltr' or 'rtl', got '".concat(JSON.stringify(e),"'"),i.ERROR_CODES.INVALID_BASE_DIRECTION);return!1}return!0}idifyReverseTerms(e){for(const t of Object.keys(e)){let r=e[t];if(r&&"object"===typeof r&&r["@reverse"]&&!r["@id"]){if("string"!==typeof r["@reverse"]||s.Util.isValidKeyword(r["@reverse"]))throw new i.ErrorCoded("Invalid @reverse value, must be absolute IRI or blank node: '".concat(r["@reverse"],"'"),i.ERROR_CODES.INVALID_IRI_MAPPING);r=e[t]=Object.assign(Object.assign({},r),{"@id":r["@reverse"]}),r["@id"]=r["@reverse"],s.Util.isPotentialKeyword(r["@reverse"])?delete r["@reverse"]:r["@reverse"]=!0}}return e}expandPrefixedTerms(e,t,r){const n=e.getContextRaw();for(const a of r||Object.keys(n))if(s.Util.EXPAND_KEYS_BLACKLIST.indexOf(a)<0&&!s.Util.isReservedInternalKeyword(a)){const r=n[a];if(s.Util.isPotentialKeyword(a)&&s.Util.ALIAS_DOMAIN_BLACKLIST.indexOf(a)>=0&&("@type"!==a||"object"===typeof n[a]&&!n[a]["@protected"]&&"@set"!==n[a]["@container"]))throw new i.ErrorCoded("Keywords can not be aliased to something else.\nTried mapping ".concat(a," to ").concat(JSON.stringify(r)),i.ERROR_CODES.KEYWORD_REDEFINITION);if(s.Util.ALIAS_RANGE_BLACKLIST.indexOf(s.Util.getContextValueId(r))>=0)throw new i.ErrorCoded("Aliasing to certain keywords is not allowed.\nTried mapping ".concat(a," to ").concat(JSON.stringify(r)),i.ERROR_CODES.INVALID_KEYWORD_ALIAS);if(r&&s.Util.isPotentialKeyword(s.Util.getContextValueId(r))&&!0===r["@prefix"])throw new i.ErrorCoded("Tried to use keyword aliases as prefix: '".concat(a,"': '").concat(JSON.stringify(r),"'"),i.ERROR_CODES.INVALID_TERM_DEFINITION);for(;s.Util.isPrefixValue(n[a]);){const r=n[a];let i=!1;if("string"===typeof r)n[a]=e.expandTerm(r,!0),i=i||r!==n[a];else{const o=r["@id"],c=r["@type"],l=!("@prefix"in r)||s.Util.isValidIri(a);if("@id"in r)void 0!==o&&null!==o&&"string"===typeof o&&(n[a]=Object.assign(Object.assign({},n[a]),{"@id":e.expandTerm(o,!0)}),i=i||o!==n[a]["@id"]);else if(!s.Util.isPotentialKeyword(a)&&l){const t=e.expandTerm(a,!0);t!==a&&(n[a]=Object.assign(Object.assign({},n[a]),{"@id":t}),i=!0)}if(c&&"string"===typeof c&&"@vocab"!==c&&(!r["@container"]||!r["@container"]["@type"])&&l){let r=e.expandTerm(c,!0);t&&c===r&&(r=e.expandTerm(c,!1)),r!==c&&(i=!0,n[a]=Object.assign(Object.assign({},n[a]),{"@type":r}))}}if(!i)break}}}normalize(e,t){let{processingMode:r,normalizeLanguageTags:n}=t;if(n||1===r)for(const i of Object.keys(e))if("@language"===i&&"string"===typeof e[i])e[i]=e[i].toLowerCase();else{const t=e[i];if(t&&"object"===typeof t&&"string"===typeof t["@language"]){const r=t["@language"].toLowerCase();r!==t["@language"]&&(e[i]=Object.assign(Object.assign({},t),{"@language":r}))}}}containersToHash(e){for(const t of Object.keys(e)){const r=e[t];if(r&&"object"===typeof r)if("string"===typeof r["@container"])e[t]=Object.assign(Object.assign({},r),{"@container":{[r["@container"]]:!0}});else if(Array.isArray(r["@container"])){const n={};for(const e of r["@container"])n[e]=!0;e[t]=Object.assign(Object.assign({},r),{"@container":n})}}}applyScopedProtected(e,t,r){let{processingMode:n}=t;if(n&&n>=1.1&&e["@protected"]){for(const t of Object.keys(e))if(!s.Util.isReservedInternalKeyword(t)&&!s.Util.isPotentialKeyword(t)&&!s.Util.isTermProtected(e,t)){const n=e[t];n&&"object"===typeof n?"@protected"in e[t]||(e[t]=Object.assign(Object.assign({},e[t]),{"@protected":!0})):(e[t]={"@id":n,"@protected":!0},s.Util.isSimpleTermDefinitionPrefix(n,r)&&(e[t]=Object.assign(Object.assign({},e[t]),{"@prefix":!0})))}delete e["@protected"]}}validateKeywordRedefinitions(e,t,r,n){for(const a of null!==n&&void 0!==n?n:Object.keys(t))if(s.Util.isTermProtected(e,a)&&("string"===typeof t[a]?t[a]={"@id":t[a],"@protected":!0}:t[a]=Object.assign(Object.assign({},t[a]),{"@protected":!0}),!s.Util.deepEqual(e[a],t[a])))throw new i.ErrorCoded("Attempted to override the protected keyword ".concat(a," from ").concat(JSON.stringify(s.Util.getContextValueId(e[a]))," to ").concat(JSON.stringify(s.Util.getContextValueId(t[a]))),i.ERROR_CODES.PROTECTED_TERM_REDEFINITION)}validate(e,t){let{processingMode:r}=t;for(const n of Object.keys(e)){if(s.Util.isReservedInternalKeyword(n))continue;if(""===n)throw new i.ErrorCoded("The empty term is not allowed, got: '".concat(n,"': '").concat(JSON.stringify(e[n]),"'"),i.ERROR_CODES.INVALID_TERM_DEFINITION);const t=e[n],a=typeof t;if(s.Util.isPotentialKeyword(n)){switch(n.substr(1)){case"vocab":if(null!==t&&"string"!==a)throw new i.ErrorCoded("Found an invalid @vocab IRI: ".concat(t),i.ERROR_CODES.INVALID_VOCAB_MAPPING);break;case"base":if(null!==t&&"string"!==a)throw new i.ErrorCoded("Found an invalid @base IRI: ".concat(e[n]),i.ERROR_CODES.INVALID_BASE_IRI);break;case"language":null!==t&&c.validateLanguage(t,!0,i.ERROR_CODES.INVALID_DEFAULT_LANGUAGE);break;case"version":if(null!==t&&"number"!==a)throw new i.ErrorCoded("Found an invalid @version number: ".concat(t),i.ERROR_CODES.INVALID_VERSION_VALUE);break;case"direction":null!==t&&c.validateDirection(t,!0);break;case"propagate":if(1===r)throw new i.ErrorCoded("Found an illegal @propagate keyword: ".concat(t),i.ERROR_CODES.INVALID_CONTEXT_ENTRY);if(null!==t&&"boolean"!==a)throw new i.ErrorCoded("Found an invalid @propagate value: ".concat(t),i.ERROR_CODES.INVALID_PROPAGATE_VALUE)}if(s.Util.isValidKeyword(n)&&s.Util.isValidKeyword(s.Util.getContextValueId(t)))throw new i.ErrorCoded("Illegal keyword alias in term value, found: '".concat(n,"': '").concat(s.Util.getContextValueId(t),"'"),i.ERROR_CODES.KEYWORD_REDEFINITION)}else if(null!==t)switch(a){case"string":if(s.Util.getPrefix(t,e)===n)throw new i.ErrorCoded("Detected cyclical IRI mapping in context entry: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.CYCLIC_IRI_MAPPING);if(s.Util.isValidIriWeak(n)){if("@type"===t)throw new i.ErrorCoded("IRIs can not be mapped to @type, found: '".concat(n,"': '").concat(t,"'"),i.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.isValidIri(t)&&t!==new o.JsonLdContextNormalized(e).expandTerm(n))throw new i.ErrorCoded("IRIs can not be mapped to other IRIs, found: '".concat(n,"': '").concat(t,"'"),i.ERROR_CODES.INVALID_IRI_MAPPING)}break;case"object":if(!s.Util.isCompactIri(n)&&!("@id"in t)&&("@id"===t["@type"]?!e["@base"]:!e["@vocab"]))throw new i.ErrorCoded("Missing @id in context entry: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_IRI_MAPPING);for(const l of Object.keys(t)){const u=t[l];if(u)switch(l){case"@id":if(s.Util.isValidKeyword(u)&&"@type"!==u&&"@id"!==u&&"@graph"!==u&&"@nest"!==u)throw new i.ErrorCoded("Illegal keyword alias in term value, found: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.isValidIriWeak(n)){if("@type"===u)throw new i.ErrorCoded("IRIs can not be mapped to @type, found: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.isValidIri(u)&&u!==new o.JsonLdContextNormalized(e).expandTerm(n))throw new i.ErrorCoded("IRIs can not be mapped to other IRIs, found: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_IRI_MAPPING)}if("string"!==typeof u)throw new i.ErrorCoded("Detected non-string @id in context entry: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_IRI_MAPPING);if(s.Util.getPrefix(u,e)===n)throw new i.ErrorCoded("Detected cyclical IRI mapping in context entry: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.CYCLIC_IRI_MAPPING);break;case"@type":if("@type"===t["@container"]&&"@id"!==u&&"@vocab"!==u)throw new i.ErrorCoded("@container: @type only allows @type: @id or @vocab, but got: '".concat(n,"': '").concat(u,"'"),i.ERROR_CODES.INVALID_TYPE_MAPPING);if("string"!==typeof u)throw new i.ErrorCoded("The value of an '@type' must be a string, got '".concat(JSON.stringify(a),"'"),i.ERROR_CODES.INVALID_TYPE_MAPPING);if("@id"!==u&&"@vocab"!==u&&(1===r||"@json"!==u)&&(1===r||"@none"!==u)&&("_"===u[0]||!s.Util.isValidIri(u)))throw new i.ErrorCoded("A context @type must be an absolute IRI, found: '".concat(n,"': '").concat(u,"'"),i.ERROR_CODES.INVALID_TYPE_MAPPING);break;case"@reverse":if("string"===typeof u&&t["@id"]&&t["@id"]!==u)throw new i.ErrorCoded("Found non-matching @id and @reverse term values in '".concat(n,"':'").concat(u,"' and '").concat(t["@id"],"'"),i.ERROR_CODES.INVALID_REVERSE_PROPERTY);if("@nest"in t)throw new i.ErrorCoded("@nest is not allowed in the reverse property '".concat(n,"'"),i.ERROR_CODES.INVALID_REVERSE_PROPERTY);break;case"@container":if(1===r&&(Object.keys(u).length>1||s.Util.CONTAINERS_1_0.indexOf(Object.keys(u)[0])<0))throw new i.ErrorCoded("Invalid term @container for '".concat(n,"' ('").concat(Object.keys(u),"') in 1.0, must be only one of ").concat(s.Util.CONTAINERS_1_0.join(", ")),i.ERROR_CODES.INVALID_CONTAINER_MAPPING);for(const e of Object.keys(u)){if("@list"===e&&t["@reverse"])throw new i.ErrorCoded("Term value can not be @container: @list and @reverse at the same time on '".concat(n,"'"),i.ERROR_CODES.INVALID_REVERSE_PROPERTY);if(s.Util.CONTAINERS.indexOf(e)<0)throw new i.ErrorCoded("Invalid term @container for '".concat(n,"' ('").concat(e,"'), must be one of ").concat(s.Util.CONTAINERS.join(", ")),i.ERROR_CODES.INVALID_CONTAINER_MAPPING)}break;case"@language":c.validateLanguage(u,!0,i.ERROR_CODES.INVALID_LANGUAGE_MAPPING);break;case"@direction":c.validateDirection(u,!0);break;case"@prefix":if(null!==u&&"boolean"!==typeof u)throw new i.ErrorCoded("Found an invalid term @prefix boolean in: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_PREFIX_VALUE);if(!("@id"in t)&&!s.Util.isValidIri(n))throw new i.ErrorCoded("Invalid @prefix definition for '".concat(n,"' ('").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@index":if(1===r||!t["@container"]||!t["@container"]["@index"])throw new i.ErrorCoded("Attempt to add illegal key to value object: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_TERM_DEFINITION);break;case"@nest":if(s.Util.isPotentialKeyword(u)&&"@nest"!==u)throw new i.ErrorCoded("Found an invalid term @nest value in: '".concat(n,"': '").concat(JSON.stringify(t),"'"),i.ERROR_CODES.INVALID_NEST_VALUE)}}break;default:throw new i.ErrorCoded("Found an invalid term value: '".concat(n,"': '").concat(t,"'"),i.ERROR_CODES.INVALID_TERM_DEFINITION)}}}applyBaseEntry(e,t,r){return"string"===typeof e||(r&&!("@base"in e)&&t.parentContext&&"object"===typeof t.parentContext&&"@base"in t.parentContext&&(e["@base"]=t.parentContext["@base"],t.parentContext["@__baseDocument"]&&(e["@__baseDocument"]=!0)),t.baseIRI&&!t.external&&("@base"in e?null===e["@base"]||"string"!==typeof e["@base"]||s.Util.isValidIri(e["@base"])||(e["@base"]=(0,n.resolve)(e["@base"],t.parentContext&&t.parentContext["@base"]||t.baseIRI)):(e["@base"]=t.baseIRI,e["@__baseDocument"]=!0))),e}normalizeContextIri(e,t){if(!s.Util.isValidIri(e))try{e=(0,n.resolve)(e,t)}catch(r){throw new Error("Invalid context IRI: ".concat(e))}return this.redirectSchemaOrgHttps&&e.startsWith("http://schema.org")&&(e="https://schema.org/"),e}async parseInnerContexts(e,t,r){for(const a of null!==r&&void 0!==r?r:Object.keys(e)){const r=e[a];if(r&&"object"===typeof r&&"@context"in r&&null!==r["@context"]&&!t.ignoreScopedContexts){if(this.validateContext)try{const n=Object.assign(Object.assign({},e),{[a]:Object.assign({},e[a])});delete n[a]["@context"],await this.parse(r["@context"],Object.assign(Object.assign({},t),{external:!1,parentContext:n,ignoreProtection:!0,ignoreRemoteScopedContexts:!0,ignoreScopedContexts:!0}))}catch(n){throw new i.ErrorCoded(n.message,i.ERROR_CODES.INVALID_SCOPED_CONTEXT)}e[a]=Object.assign(Object.assign({},r),{"@context":(await this.parse(r["@context"],Object.assign(Object.assign({},t),{external:!1,minimalProcessing:!0,ignoreRemoteScopedContexts:!0,parentContext:e}))).getContextRaw()})}}return e}async parse(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{baseIRI:n,parentContext:a,external:l,processingMode:u=c.DEFAULT_PROCESSING_MODE,normalizeLanguageTags:d,ignoreProtection:h,minimalProcessing:p}=t,f=t.remoteContexts||{};if(Object.keys(f).length>=this.remoteContextsDepthLimit)throw new i.ErrorCoded("Detected an overflow in remote context inclusions: "+Object.keys(f),i.ERROR_CODES.CONTEXT_OVERFLOW);if(null===e||void 0===e){if(!h&&a&&s.Util.hasProtectedTerms(a))throw new i.ErrorCoded("Illegal context nullification when terms are protected",i.ERROR_CODES.INVALID_CONTEXT_NULLIFICATION);return new o.JsonLdContextNormalized(this.applyBaseEntry({},t,!1))}if("string"===typeof e){const r=this.normalizeContextIri(e,n),i=this.getOverriddenLoad(r,t);if(i)return new o.JsonLdContextNormalized(i);const a=await this.parse(await this.load(r),Object.assign(Object.assign({},t),{baseIRI:r,external:!0,remoteContexts:Object.assign(Object.assign({},f),{[r]:!0})}));return this.applyBaseEntry(a.getContextRaw(),t,!0),a}if(Array.isArray(e)){const r=[],i=await Promise.all(e.map((e,i)=>{if("string"===typeof e){const a=this.normalizeContextIri(e,n);r[i]=a;const o=this.getOverriddenLoad(a,t);return o||this.load(a)}return e}));if(p)return new o.JsonLdContextNormalized(i);const s=await i.reduce((e,n,a)=>e.then(e=>this.parse(n,Object.assign(Object.assign({},t),{baseIRI:r[a]||t.baseIRI,external:!!r[a]||t.external,parentContext:e.getContextRaw(),remoteContexts:r[a]?Object.assign(Object.assign({},f),{[r[a]]:!0}):f}),{skipValidation:a<i.length-1})),Promise.resolve(new o.JsonLdContextNormalized(a||{})));return this.applyBaseEntry(s.getContextRaw(),t,!0),s}if("object"===typeof e){if("@context"in e)return await this.parse(e["@context"],t);if(e=Object.assign({},e),l&&delete e["@base"],this.applyBaseEntry(e,t,!0),this.containersToHash(e),p)return new o.JsonLdContextNormalized(e);let f={};if("@import"in e){if(!(u>=1.1))throw new i.ErrorCoded("Context importing is not supported in JSON-LD 1.0",i.ERROR_CODES.INVALID_CONTEXT_ENTRY);if("string"!==typeof e["@import"])throw new i.ErrorCoded("An @import value must be a string, but got "+typeof e["@import"],i.ERROR_CODES.INVALID_IMPORT_VALUE);f=await this.loadImportContext(this.normalizeContextIri(e["@import"],n)),delete e["@import"]}this.applyScopedProtected(f,{processingMode:u},o.defaultExpandOptions);const g=Object.assign(f,e);this.idifyReverseTerms(g),this.normalize(g,{processingMode:u,normalizeLanguageTags:d}),this.applyScopedProtected(g,{processingMode:u},o.defaultExpandOptions);const y=Object.keys(g),m=[];if("object"===typeof a)for(const e in a)e in g?m.push(e):g[e]=a[e];await this.parseInnerContexts(g,t,y);const v=new o.JsonLdContextNormalized(g);return(g&&g["@version"]||c.DEFAULT_PROCESSING_MODE)>=1.1&&(e["@vocab"]&&"string"===typeof e["@vocab"]||""===e["@vocab"])&&(a&&"@vocab"in a&&e["@vocab"].indexOf(":")<0?g["@vocab"]=a["@vocab"]+e["@vocab"]:(s.Util.isCompactIri(e["@vocab"])||e["@vocab"]in g)&&(g["@vocab"]=v.expandTerm(e["@vocab"],!0))),this.expandPrefixedTerms(v,this.expandContentTypeToBase,y),!h&&a&&u>=1.1&&this.validateKeywordRedefinitions(a,g,o.defaultExpandOptions,m),this.validateContext&&!r.skipValidation&&this.validate(g,{processingMode:u}),v}throw new i.ErrorCoded("Tried parsing a context that is not a string, array or object, but got ".concat(e),i.ERROR_CODES.INVALID_LOCAL_CONTEXT)}async load(e){const t=this.documentCache[e];if(t)return t;let r;try{r=await this.documentLoader.load(e)}catch(n){throw new i.ErrorCoded("Failed to load remote context ".concat(e,": ").concat(n.message),i.ERROR_CODES.LOADING_REMOTE_CONTEXT_FAILED)}if(!("@context"in r))throw new i.ErrorCoded("Missing @context in remote context at ".concat(e),i.ERROR_CODES.INVALID_REMOTE_CONTEXT);return this.documentCache[e]=r["@context"]}getOverriddenLoad(e,t){if(e in(t.remoteContexts||{})){if(t.ignoreRemoteScopedContexts)return e;throw new i.ErrorCoded("Detected a cyclic context inclusion of "+e,i.ERROR_CODES.RECURSIVE_CONTEXT_INCLUSION)}return null}async loadImportContext(e){let t=await this.load(e);if("object"!==typeof t||Array.isArray(t))throw new i.ErrorCoded("An imported context must be a single object: "+e,i.ERROR_CODES.INVALID_REMOTE_CONTEXT);if("@import"in t)throw new i.ErrorCoded("An imported context can not import another context: "+e,i.ERROR_CODES.INVALID_CONTEXT_ENTRY);return t=Object.assign({},t),this.containersToHash(t),t}}c.DEFAULT_PROCESSING_MODE=1.1,t.ContextParser=c},21634:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=a(r(28680)),s=r(92832),c=r(45494),l=r(36865);t.default=class{constructor(e){this.dataFactory=e||new s.DataFactory,this.stringType=this.createTerm("http://www.w3.org/2001/XMLSchema#string")}createAlt(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.flattenMulti({type:o.types.ALT,input:e},t)}createAsk(e){return{type:o.types.ASK,input:e}}createBoundAggregate(e,t,r,n,i){const a=this.createAggregateExpression(t,r,n,i);return a.variable=e,a}createBgp(e){return{type:o.types.BGP,patterns:e}}createConstruct(e,t){return{type:o.types.CONSTRUCT,input:e,template:t}}createDescribe(e,t){return{type:o.types.DESCRIBE,input:e,terms:t}}createDistinct(e){return{type:o.types.DISTINCT,input:e}}createExtend(e,t,r){return{type:o.types.EXTEND,input:e,variable:t,expression:r}}createFrom(e,t,r){return{type:o.types.FROM,input:e,default:t,named:r}}createFilter(e,t){return{type:o.types.FILTER,input:e,expression:t}}createGraph(e,t){return{type:o.types.GRAPH,input:e,name:t}}createGroup(e,t,r){return{type:o.types.GROUP,input:e,variables:t,aggregates:r}}createInv(e){return{type:o.types.INV,path:e}}createJoin(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.flattenMulti({type:o.types.JOIN,input:e},t)}createLeftJoin(e,t,r){return r?{type:o.types.LEFT_JOIN,input:[e,t],expression:r}:{type:o.types.LEFT_JOIN,input:[e,t]}}createLink(e){return{type:o.types.LINK,iri:e}}createMinus(e,t){return{type:o.types.MINUS,input:[e,t]}}createNop(){return{type:o.types.NOP}}createNps(e){return{type:o.types.NPS,iris:e}}createOneOrMorePath(e){return{type:o.types.ONE_OR_MORE_PATH,path:e}}createOrderBy(e,t){return{type:o.types.ORDER_BY,input:e,expressions:t}}createPath(e,t,r,n){return n?{type:o.types.PATH,subject:e,predicate:t,object:r,graph:n}:{type:o.types.PATH,subject:e,predicate:t,object:r,graph:this.dataFactory.defaultGraph()}}createPattern(e,t,r,n){const i=this.dataFactory.quad(e,t,r,n);return i.type=o.types.PATTERN,i}createProject(e,t){return{type:o.types.PROJECT,input:e,variables:t}}createReduced(e){return{type:o.types.REDUCED,input:e}}createSeq(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.flattenMulti({type:o.types.SEQ,input:e},t)}createService(e,t,r){return{type:o.types.SERVICE,input:e,name:t,silent:Boolean(r)}}createSlice(e,t,r){return t=t||0,void 0!==r?{type:o.types.SLICE,input:e,start:t,length:r}:{type:o.types.SLICE,input:e,start:t}}createUnion(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.flattenMulti({type:o.types.UNION,input:e},t)}createValues(e,t){return{type:o.types.VALUES,variables:e,bindings:t}}createZeroOrMorePath(e){return{type:o.types.ZERO_OR_MORE_PATH,path:e}}createZeroOrOnePath(e){return{type:o.types.ZERO_OR_ONE_PATH,path:e}}createAggregateExpression(e,t,r,n){return n?{type:o.types.EXPRESSION,expressionType:o.expressionTypes.AGGREGATE,aggregator:e,expression:t,separator:n,distinct:r}:{type:o.types.EXPRESSION,expressionType:o.expressionTypes.AGGREGATE,aggregator:e,expression:t,distinct:r}}createExistenceExpression(e,t){return{type:o.types.EXPRESSION,expressionType:o.expressionTypes.EXISTENCE,not:e,input:t}}createNamedExpression(e,t){return{type:o.types.EXPRESSION,expressionType:o.expressionTypes.NAMED,name:e,args:t}}createOperatorExpression(e,t){return{type:o.types.EXPRESSION,expressionType:o.expressionTypes.OPERATOR,operator:e,args:t}}createTermExpression(e){return{type:o.types.EXPRESSION,expressionType:o.expressionTypes.TERM,term:e}}createWildcardExpression(){return{type:o.types.EXPRESSION,expressionType:o.expressionTypes.WILDCARD,wildcard:new l.Wildcard}}createTerm(e){return"$"===e[0]&&(e=e.replace("$","?")),(0,c.stringToTerm)(e,this.dataFactory)}createCompositeUpdate(e){return{type:o.types.COMPOSITE_UPDATE,updates:e}}createDeleteInsert(e,t,r){const n={type:o.types.DELETE_INSERT};return e&&(n.delete=e),t&&(n.insert=t),r&&(n.where=r),n}createLoad(e,t,r){const n={type:o.types.LOAD,source:e};return t&&(n.destination=t),this.addSilent(n,Boolean(r))}createClear(e,t){return this.addSilent({type:o.types.CLEAR,source:e},Boolean(t))}createCreate(e,t){return this.addSilent({type:o.types.CREATE,source:e},Boolean(t))}createDrop(e,t){return this.addSilent({type:o.types.DROP,source:e},Boolean(t))}createAdd(e,t,r){return this.addSilent({type:o.types.ADD,source:e,destination:t},Boolean(r))}createMove(e,t,r){return this.addSilent({type:o.types.MOVE,source:e,destination:t},Boolean(r))}createCopy(e,t,r){return this.addSilent({type:o.types.COPY,source:e,destination:t},Boolean(r))}addSilent(e,t){return t&&(e.silent=t),e}flattenMulti(e,t){if(!t)return e;const r=e.type,n=e.input;let i=[];for(const a of n)a.type===r?i.push(...a.input):i.push(a);return e.input=i,e}}},21691:(e,t,r)=>{"use strict";var n=r(12897).default,i=r(91847).default,a=r(93312).default,o=r(42459).default,s=r(37088).default,c=r(81756).default,l=r(16668).default,u=r(43693).default;const d=["context","forceRefresh"];Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;const h="object"===typeof performance&&performance&&"function"===typeof performance.now?performance:Date,p=new Set,f="object"===typeof process&&process?process:{},g=(e,t,r,n)=>{"function"===typeof f.emitWarning?f.emitWarning(e,t,r,n):console.error("[".concat(r,"] ").concat(t,": ").concat(e))};let y=globalThis.AbortController,m=globalThis.AbortSignal;if("undefined"===typeof y){var v;m=class{constructor(){u(this,"onabort",void 0),u(this,"_onabort",[]),u(this,"reason",void 0),u(this,"aborted",!1)}addEventListener(e,t){this._onabort.push(t)}},y=class{constructor(){u(this,"signal",new m),t()}abort(e){var t,r;if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);null===(t=(r=this.signal).onabort)||void 0===t||t.call(r,e)}}};let e="1"!==(null===(v=f.env)||void 0===v?void 0:v.LRU_CACHE_IGNORE_AC_WARNING);const t=()=>{e&&(e=!1,g("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const b=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),_=e=>b(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?w:null:null;class w extends Array{constructor(e){super(e),this.fill(0)}}class x{static create(e){const t=_(e);if(!t)return[];S._=!0;const r=new x(e,t);return S._=!1,r}constructor(e,t){if(u(this,"heap",void 0),u(this,"length",void 0),!S._)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}var S={_:!1},T=new WeakMap,O=new WeakMap,E=new WeakMap,A=new WeakMap,P=new WeakMap,N=new WeakMap,j=new WeakMap,D=new WeakMap,R=new WeakMap,I=new WeakMap,F=new WeakMap,C=new WeakMap,M=new WeakMap,k=new WeakMap,L=new WeakMap,B=new WeakMap,U=new WeakMap,V=new WeakMap,z=new WeakMap,q=new WeakMap,Q=new WeakMap,G=new WeakMap,H=new WeakMap,W=new WeakSet,X=new WeakMap,K=new WeakMap,$=new WeakMap,Y=new WeakMap,J=new WeakMap,Z=new WeakMap,ee=new WeakMap;class te{static unsafeExposeInternals(e){return{starts:l(z,e),ttls:l(q,e),sizes:l(V,e),keyMap:l(R,e),keyList:l(I,e),valList:l(F,e),next:l(C,e),prev:l(M,e),get head(){return l(k,e)},get tail(){return l(L,e)},free:l(B,e),isBackgroundFetch:t=>c(W,e,le).call(e,t),backgroundFetch:(t,r,n,i)=>c(W,e,ce).call(e,t,r,n,i),moveToTail:t=>c(W,e,de).call(e,t),indexes:t=>c(W,e,ie).call(e,t),rindexes:t=>c(W,e,ae).call(e,t),isStale:t=>l(Y,e).call(e,t)}}get max(){return l(T,this)}get maxSize(){return l(O,this)}get calculatedSize(){return l(D,this)}get size(){return l(j,this)}get fetchMethod(){return l(P,this)}get memoMethod(){return l(N,this)}get dispose(){return l(E,this)}get disposeAfter(){return l(A,this)}constructor(e){a(this,W),o(this,T,void 0),o(this,O,void 0),o(this,E,void 0),o(this,A,void 0),o(this,P,void 0),o(this,N,void 0),u(this,"ttl",void 0),u(this,"ttlResolution",void 0),u(this,"ttlAutopurge",void 0),u(this,"updateAgeOnGet",void 0),u(this,"updateAgeOnHas",void 0),u(this,"allowStale",void 0),u(this,"noDisposeOnSet",void 0),u(this,"noUpdateTTL",void 0),u(this,"maxEntrySize",void 0),u(this,"sizeCalculation",void 0),u(this,"noDeleteOnFetchRejection",void 0),u(this,"noDeleteOnStaleGet",void 0),u(this,"allowStaleOnFetchAbort",void 0),u(this,"allowStaleOnFetchRejection",void 0),u(this,"ignoreFetchAbort",void 0),o(this,j,void 0),o(this,D,void 0),o(this,R,void 0),o(this,I,void 0),o(this,F,void 0),o(this,C,void 0),o(this,M,void 0),o(this,k,void 0),o(this,L,void 0),o(this,B,void 0),o(this,U,void 0),o(this,V,void 0),o(this,z,void 0),o(this,q,void 0),o(this,Q,void 0),o(this,G,void 0),o(this,H,void 0),o(this,X,()=>{}),o(this,K,()=>{}),o(this,$,()=>{}),o(this,Y,()=>!1),o(this,J,e=>{}),o(this,Z,(e,t,r)=>{}),o(this,ee,(e,t,r,n)=>{if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0}),u(this,Symbol.toStringTag,"LRUCache");const{max:t=0,ttl:r,ttlResolution:n=1,ttlAutopurge:i,updateAgeOnGet:d,updateAgeOnHas:h,allowStale:f,dispose:y,disposeAfter:m,noDisposeOnSet:v,noUpdateTTL:w,maxSize:S=0,maxEntrySize:ie=0,sizeCalculation:ae,fetchMethod:oe,memoMethod:se,noDeleteOnFetchRejection:ce,noDeleteOnStaleGet:le,allowStaleOnFetchRejection:ue,allowStaleOnFetchAbort:de,ignoreFetchAbort:he}=e;if(0!==t&&!b(t))throw new TypeError("max option must be a nonnegative integer");const pe=t?_(t):Array;if(!pe)throw new Error("invalid max value: "+t);if(s(T,this,t),s(O,this,S),this.maxEntrySize=ie||l(O,this),this.sizeCalculation=ae,this.sizeCalculation){if(!l(O,this)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!==typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==se&&"function"!==typeof se)throw new TypeError("memoMethod must be a function if defined");if(s(N,this,se),void 0!==oe&&"function"!==typeof oe)throw new TypeError("fetchMethod must be a function if specified");if(s(P,this,oe),s(G,this,!!oe),s(R,this,new Map),s(I,this,new Array(t).fill(void 0)),s(F,this,new Array(t).fill(void 0)),s(C,this,new pe(t)),s(M,this,new pe(t)),s(k,this,0),s(L,this,0),s(B,this,x.create(t)),s(j,this,0),s(D,this,0),"function"===typeof y&&s(E,this,y),"function"===typeof m?(s(A,this,m),s(U,this,[])):(s(A,this,void 0),s(U,this,void 0)),s(Q,this,!!l(E,this)),s(H,this,!!l(A,this)),this.noDisposeOnSet=!!v,this.noUpdateTTL=!!w,this.noDeleteOnFetchRejection=!!ce,this.allowStaleOnFetchRejection=!!ue,this.allowStaleOnFetchAbort=!!de,this.ignoreFetchAbort=!!he,0!==this.maxEntrySize){if(0!==l(O,this)&&!b(l(O,this)))throw new TypeError("maxSize must be a positive integer if specified");if(!b(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");c(W,this,ne).call(this)}if(this.allowStale=!!f,this.noDeleteOnStaleGet=!!le,this.updateAgeOnGet=!!d,this.updateAgeOnHas=!!h,this.ttlResolution=b(n)||0===n?n:1,this.ttlAutopurge=!!i,this.ttl=r||0,this.ttl){if(!b(this.ttl))throw new TypeError("ttl must be a positive integer if specified");c(W,this,re).call(this)}if(0===l(T,this)&&0===this.ttl&&0===l(O,this))throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!l(T,this)&&!l(O,this)){const e="LRU_CACHE_UNBOUNDED";if((e=>!p.has(e))(e)){p.add(e);g("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,te)}}}getRemainingTTL(e){return l(R,this).has(e)?1/0:0}*entries(){for(const e of c(W,this,ie).call(this))void 0===l(F,this)[e]||void 0===l(I,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield[l(I,this)[e],l(F,this)[e]])}*rentries(){for(const e of c(W,this,ae).call(this))void 0===l(F,this)[e]||void 0===l(I,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield[l(I,this)[e],l(F,this)[e]])}*keys(){for(const e of c(W,this,ie).call(this)){const t=l(I,this)[e];void 0===t||c(W,this,le).call(this,l(F,this)[e])||(yield t)}}*rkeys(){for(const e of c(W,this,ae).call(this)){const t=l(I,this)[e];void 0===t||c(W,this,le).call(this,l(F,this)[e])||(yield t)}}*values(){for(const e of c(W,this,ie).call(this)){void 0===l(F,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield l(F,this)[e])}}*rvalues(){for(const e of c(W,this,ae).call(this)){void 0===l(F,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield l(F,this)[e])}}[Symbol.iterator](){return this.entries()}find(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const r of c(W,this,ie).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;if(void 0!==i&&e(i,l(I,this)[r],this))return this.get(l(I,this)[r],t)}}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;for(const r of c(W,this,ie).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,l(I,this)[r],this)}}rforEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;for(const r of c(W,this,ae).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,l(I,this)[r],this)}}purgeStale(){let e=!1;for(const t of c(W,this,ae).call(this,{allowStale:!0}))l(Y,this).call(this,t)&&(c(W,this,he).call(this,l(I,this)[t],"expire"),e=!0);return e}info(e){const t=l(R,this).get(e);if(void 0===t)return;const r=l(F,this)[t],n=c(W,this,le).call(this,r)?r.__staleWhileFetching:r;if(void 0===n)return;const i={value:n};if(l(q,this)&&l(z,this)){const e=l(q,this)[t],r=l(z,this)[t];if(e&&r){const t=e-(h.now()-r);i.ttl=t,i.start=Date.now()}}return l(V,this)&&(i.size=l(V,this)[t]),i}dump(){const e=[];for(const t of c(W,this,ie).call(this,{allowStale:!0})){const r=l(I,this)[t],n=l(F,this)[t],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;if(void 0===i||void 0===r)continue;const a={value:i};if(l(q,this)&&l(z,this)){a.ttl=l(q,this)[t];const e=h.now()-l(z,this)[t];a.start=Math.floor(Date.now()-e)}l(V,this)&&(a.size=l(V,this)[t]),e.unshift([r,a])}return e}load(e){this.clear();for(const[t,r]of e){if(r.start){const e=Date.now()-r.start;r.start=h.now()-e}this.set(t,r.value,r)}}set(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===t)return this.delete(e),this;const{ttl:n=this.ttl,start:i,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:u}=r;let{noUpdateTTL:d=this.noUpdateTTL}=r;const h=l(ee,this).call(this,e,t,r.size||0,o);if(this.maxEntrySize&&h>this.maxEntrySize)return u&&(u.set="miss",u.maxEntrySizeExceeded=!0),c(W,this,he).call(this,e,"set"),this;let p=0===l(j,this)?void 0:l(R,this).get(e);if(void 0===p){var f;p=0===l(j,this)?l(L,this):0!==l(B,this).length?l(B,this).pop():l(j,this)===l(T,this)?c(W,this,se).call(this,!1):l(j,this),l(I,this)[p]=e,l(F,this)[p]=t,l(R,this).set(e,p),l(C,this)[l(L,this)]=p,l(M,this)[p]=l(L,this),s(L,this,p),s(j,this,(f=l(j,this),f++,f)),l(Z,this).call(this,p,h,u),u&&(u.set="add"),d=!1}else{c(W,this,de).call(this,p);const r=l(F,this)[p];if(t!==r){if(l(G,this)&&c(W,this,le).call(this,r)){r.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:t}=r;if(void 0!==t&&!a){var g,y;if(l(Q,this))null===(g=l(E,this))||void 0===g||g.call(this,t,e,"set");if(l(H,this))null===(y=l(U,this))||void 0===y||y.push([t,e,"set"])}}else if(!a){var m,v;if(l(Q,this))null===(m=l(E,this))||void 0===m||m.call(this,r,e,"set");if(l(H,this))null===(v=l(U,this))||void 0===v||v.push([r,e,"set"])}if(l(J,this).call(this,p),l(Z,this).call(this,p,h,u),l(F,this)[p]=t,u){u.set="replace";const e=r&&c(W,this,le).call(this,r)?r.__staleWhileFetching:r;void 0!==e&&(u.oldValue=e)}}else u&&(u.set="update")}if(0===n||l(q,this)||c(W,this,re).call(this),l(q,this)&&(d||l($,this).call(this,p,n,i),u&&l(K,this).call(this,u,p)),!a&&l(H,this)&&l(U,this)){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var b;null===(b=l(A,this))||void 0===b||b.call(this,...t)}}return this}pop(){try{for(;l(j,this);){const e=l(F,this)[l(k,this)];if(c(W,this,se).call(this,!0),c(W,this,le).call(this,e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(l(H,this)&&l(U,this)){const t=l(U,this);let r;for(;r=null===t||void 0===t?void 0:t.shift();){var e;null===(e=l(A,this))||void 0===e||e.call(this,...r)}}}}has(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=t,i=l(R,this).get(e);if(void 0!==i){const e=l(F,this)[i];if(c(W,this,le).call(this,e)&&void 0===e.__staleWhileFetching)return!1;if(!l(Y,this).call(this,i))return r&&l(X,this).call(this,i),n&&(n.has="hit",l(K,this).call(this,n,i)),!0;n&&(n.has="stale",l(K,this).call(this,n,i))}else n&&(n.has="miss");return!1}peek(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale}=t,n=l(R,this).get(e);if(void 0===n||!r&&l(Y,this).call(this,n))return;const i=l(F,this)[n];return c(W,this,le).call(this,i)?i.__staleWhileFetching:i}async fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:s=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:y,forceRefresh:m=!1,status:v,signal:b}=t;if(!l(G,this))return v&&(v.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,status:v});const _={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:a,noDisposeOnSet:o,size:s,sizeCalculation:u,noUpdateTTL:d,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:g,ignoreFetchAbort:f,status:v,signal:b};let w=l(R,this).get(e);if(void 0===w){v&&(v.fetch="miss");const t=c(W,this,ce).call(this,e,w,_,y);return t.__returned=t}{const t=l(F,this)[w];if(c(W,this,le).call(this,t)){const e=r&&void 0!==t.__staleWhileFetching;return v&&(v.fetch="inflight",e&&(v.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const i=l(Y,this).call(this,w);if(!m&&!i)return v&&(v.fetch="hit"),c(W,this,de).call(this,w),n&&l(X,this).call(this,w),v&&l(K,this).call(this,v,w),t;const a=c(W,this,ce).call(this,e,w,_,y),o=void 0!==a.__staleWhileFetching&&r;return v&&(v.fetch=i?"stale":"refresh",o&&i&&(v.returnedStale=!0)),o?a.__staleWhileFetching:a.__returned=a}}async forceFetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await this.fetch(e,t);if(void 0===r)throw new Error("fetch() returned undefined");return r}memo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=l(N,this);if(!r)throw new Error("no memoMethod provided to constructor");const{context:n,forceRefresh:a}=t,o=i(t,d),s=this.get(e,o);if(!a&&void 0!==s)return s;const c=r(e,s,{options:o,context:n});return this.set(e,c,o),c}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:a}=t,o=l(R,this).get(e);if(void 0!==o){const t=l(F,this)[o],s=c(W,this,le).call(this,t);return a&&l(K,this).call(this,a,o),l(Y,this).call(this,o)?(a&&(a.get="stale"),s?(a&&r&&void 0!==t.__staleWhileFetching&&(a.returnedStale=!0),r?t.__staleWhileFetching:void 0):(i||c(W,this,he).call(this,e,"expire"),a&&r&&(a.returnedStale=!0),r?t:void 0)):(a&&(a.get="hit"),s?t.__staleWhileFetching:(c(W,this,de).call(this,o),n&&l(X,this).call(this,o),t))}a&&(a.get="miss")}delete(e){return c(W,this,he).call(this,e,"delete")}clear(){return c(W,this,pe).call(this,"delete")}}function re(){var e=this;const t=new w(l(T,this)),r=new w(l(T,this));s(q,this,t),s(z,this,r),s($,this,function(n,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.now();if(r[n]=0!==i?a:0,t[n]=i,0!==i&&e.ttlAutopurge){const t=setTimeout(()=>{l(Y,e).call(e,n)&&c(W,e,he).call(e,l(I,e)[n],"expire")},i+1);t.unref&&t.unref()}}),s(X,this,e=>{r[e]=0!==t[e]?h.now():0}),s(K,this,(e,a)=>{if(t[a]){const o=t[a],s=r[a];if(!o||!s)return;e.ttl=o,e.start=s,e.now=n||i();const c=e.now-s;e.remainingTTL=o-c}});let n=0;const i=()=>{const e=h.now();if(this.ttlResolution>0){n=e;const t=setTimeout(()=>n=0,this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=e=>{const a=l(R,this).get(e);if(void 0===a)return 0;const o=t[a],s=r[a];if(!o||!s)return 1/0;return o-((n||i())-s)},s(Y,this,e=>{const a=r[e],o=t[e];return!!o&&!!a&&(n||i())-a>o})}function ne(){const e=new w(l(T,this));s(D,this,0),s(V,this,e),s(J,this,t=>{s(D,this,l(D,this)-e[t]),e[t]=0}),s(ee,this,(e,t,r,n)=>{if(c(W,this,le).call(this,t))return 0;if(!b(r)){if(!n)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!==typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(t,e),!b(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r}),s(Z,this,(t,r,n)=>{if(e[t]=r,l(O,this)){const r=l(O,this)-e[t];for(;l(D,this)>r;)c(W,this,se).call(this,!0)}s(D,this,l(D,this)+e[t]),n&&(n.entrySize=r,n.totalCalculatedSize=l(D,this))})}function ie(){var e=this;let{allowStale:t=this.allowStale}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){if(l(j,e))for(let r=l(L,e);c(W,e,oe).call(e,r)&&(!t&&l(Y,e).call(e,r)||(yield r),r!==l(k,e));)r=l(M,e)[r]}()}function ae(){var e=this;let{allowStale:t=this.allowStale}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){if(l(j,e))for(let r=l(k,e);c(W,e,oe).call(e,r)&&(!t&&l(Y,e).call(e,r)||(yield r),r!==l(L,e));)r=l(C,e)[r]}()}function oe(e){return void 0!==e&&l(R,this).get(l(I,this)[e])===e}function se(e){var t;const r=l(k,this),n=l(I,this)[r],i=l(F,this)[r];if(l(G,this)&&c(W,this,le).call(this,i))i.__abortController.abort(new Error("evicted"));else if(l(Q,this)||l(H,this)){var a,o;if(l(Q,this))null===(a=l(E,this))||void 0===a||a.call(this,i,n,"evict");if(l(H,this))null===(o=l(U,this))||void 0===o||o.push([i,n,"evict"])}return l(J,this).call(this,r),e&&(l(I,this)[r]=void 0,l(F,this)[r]=void 0,l(B,this).push(r)),1===l(j,this)?(s(k,this,s(L,this,0)),l(B,this).length=0):s(k,this,l(C,this)[r]),l(R,this).delete(n),s(j,this,(t=l(j,this),t--,t)),r}function ce(e,t,r,i){var a=this;const o=void 0===t?void 0:l(F,this)[t];if(c(W,this,le).call(this,o))return o;const s=new y,{signal:u}=r;null===u||void 0===u||u.addEventListener("abort",()=>s.abort(u.reason),{signal:s.signal});const d={signal:s.signal,options:r,context:i},h=function(n){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{aborted:o}=s.signal,u=r.ignoreFetchAbort&&void 0!==n;if(r.status&&(o&&!i?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,u&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),o&&!u&&!i)return p(s.signal.reason);const h=f;return l(F,a)[t]===f&&(void 0===n?h.__staleWhileFetching?l(F,a)[t]=h.__staleWhileFetching:c(W,a,he).call(a,e,"fetch"):(r.status&&(r.status.fetchUpdated=!0),a.set(e,n,d.options))),n},p=n=>{const{aborted:i}=s.signal,a=i&&r.allowStaleOnFetchAbort,o=a||r.allowStaleOnFetchRejection,u=o||r.noDeleteOnFetchRejection,d=f;if(l(F,this)[t]===f){!u||void 0===d.__staleWhileFetching?c(W,this,he).call(this,e,"fetch"):a||(l(F,this)[t]=d.__staleWhileFetching)}if(o)return r.status&&void 0!==d.__staleWhileFetching&&(r.status.returnedStale=!0),d.__staleWhileFetching;if(d.__returned===d)throw n};r.status&&(r.status.fetchDispatched=!0);const f=new Promise((t,n)=>{var i;const a=null===(i=l(P,this))||void 0===i?void 0:i.call(this,e,o,d);a&&a instanceof Promise&&a.then(e=>t(void 0===e?void 0:e),n),s.signal.addEventListener("abort",()=>{r.ignoreFetchAbort&&!r.allowStaleOnFetchAbort||(t(void 0),r.allowStaleOnFetchAbort&&(t=e=>h(e,!0)))})}).then(h,e=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=e),p(e))),g=Object.assign(f,{__abortController:s,__staleWhileFetching:o,__returned:void 0});return void 0===t?(this.set(e,g,n(n({},d.options),{},{status:void 0})),t=l(R,this).get(e)):l(F,this)[t]=g,g}function le(e){if(!l(G,this))return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof y}function ue(e,t){l(M,this)[t]=e,l(C,this)[e]=t}function de(e){e!==l(L,this)&&(e===l(k,this)?s(k,this,l(C,this)[e]):c(W,this,ue).call(this,l(M,this)[e],l(C,this)[e]),c(W,this,ue).call(this,l(L,this),e),s(L,this,e))}function he(e,t){var r;let n=!1;if(0!==l(j,this)){const r=l(R,this).get(e);if(void 0!==r)if(n=!0,1===l(j,this))c(W,this,pe).call(this,t);else{var i;l(J,this).call(this,r);const n=l(F,this)[r];if(c(W,this,le).call(this,n))n.__abortController.abort(new Error("deleted"));else if(l(Q,this)||l(H,this)){var a,o;if(l(Q,this))null===(a=l(E,this))||void 0===a||a.call(this,n,e,t);if(l(H,this))null===(o=l(U,this))||void 0===o||o.push([n,e,t])}if(l(R,this).delete(e),l(I,this)[r]=void 0,l(F,this)[r]=void 0,r===l(L,this))s(L,this,l(M,this)[r]);else if(r===l(k,this))s(k,this,l(C,this)[r]);else{const e=l(M,this)[r];l(C,this)[e]=l(C,this)[r];const t=l(C,this)[r];l(M,this)[t]=l(M,this)[r]}s(j,this,(i=l(j,this),i--,i)),l(B,this).push(r)}}if(l(H,this)&&null!==(r=l(U,this))&&void 0!==r&&r.length){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var u;null===(u=l(A,this))||void 0===u||u.call(this,...t)}}return n}function pe(e){for(const i of c(W,this,ae).call(this,{allowStale:!0})){const n=l(F,this)[i];if(c(W,this,le).call(this,n))n.__abortController.abort(new Error("deleted"));else{const a=l(I,this)[i];var t,r;if(l(Q,this))null===(t=l(E,this))||void 0===t||t.call(this,n,a,e);if(l(H,this))null===(r=l(U,this))||void 0===r||r.push([n,a,e])}}if(l(R,this).clear(),l(F,this).fill(void 0),l(I,this).fill(void 0),l(q,this)&&l(z,this)&&(l(q,this).fill(0),l(z,this).fill(0)),l(V,this)&&l(V,this).fill(0),s(k,this,0),s(L,this,0),l(B,this).length=0,s(D,this,0),s(j,this,0),l(H,this)&&l(U,this)){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var n;null===(n=l(A,this))||void 0===n||n.call(this,...t)}}}t.LRUCache=te},21750:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeHandlerDefinitionOperation=void 0;const n=r(96200);class i extends n.NodeHandlerDefinitionAdapter{constructor(e,t){super("OperationDefinition",e,t)}handle(e,t){if("query"!==e.operation)throw new Error("Unsupported definition operation: "+e.operation);if(e.variableDefinitions)for(const i of e.variableDefinitions){const e=i.variable.name.value;i.defaultValue&&(t.variablesDict[e]||(t.variablesDict[e]=i.defaultValue));let r=i.type;const n="NonNullType"===r.kind;n&&(r=r.type);const a="ListType"===r.kind;a&&(r=r.type);const o=r.name.value;t.variablesMetaDict[e]={mandatory:n,list:a,type:o}}const r=this.getDirectiveOutputs(e.directives,e.name?e.name.value:"",t);if(!r)return this.util.operationFactory.createBgp([]);const n=this.util.joinOperations(e.selectionSet.selections.map(e=>this.util.handleNode(e,t)));return this.handleDirectiveOutputs(r,n)}}t.NodeHandlerDefinitionOperation=i},21943:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SparqlJsonParser=void 0;const n=r(92832),i=r(94051),a=r(5811);t.SparqlJsonParser=class{constructor(e){var t;e=e||{},this.dataFactory=e.dataFactory||new n.DataFactory,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=null===(t=e.suppressMissingStreamResultsError)||void 0===t||t}parseJsonResults(e){return e.results.bindings.map(e=>this.parseJsonBindings(e))}parseJsonResultsStream(e){const t=e=>s.emit("error",e);e.on("error",t);const r=new a;r.onError=t;let n=!1,o=!1;r.onValue=e=>{if("vars"===r.key&&2===r.stack.length&&"head"===r.stack[1].key)s.emit("variables",e.map(e=>this.dataFactory.variable(e))),n=!0;else if("results"===r.key&&1===r.stack.length)o=!0;else if("number"===typeof r.key&&3===r.stack.length&&"results"===r.stack[1].key&&"bindings"===r.stack[2].key)try{s.push(this.parseJsonBindings(e))}catch(t){s.emit("error",t)}else"metadata"===r.key&&1===r.stack.length&&s.emit("metadata",e)};const s=e.on("end",e=>{o||this.suppressMissingStreamResultsError?n||s.emit("variables",[]):s.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new i.Transform({objectMode:!0,transform(e,t,n){r.write(e),n()}}));return s}parseJsonBindings(e){const t={};for(const r in e){const n=e[r];t[this.prefixVariableQuestionMark?"?"+r:r]=this.parseJsonValue(n)}return t}parseJsonValue(e){let t;switch(e.type){case"bnode":t=this.dataFactory.blankNode(e.value);break;case"literal":t=e["xml:lang"]?this.dataFactory.literal(e.value,e["xml:lang"]):e.datatype?this.dataFactory.literal(e.value,this.dataFactory.namedNode(e.datatype)):this.dataFactory.literal(e.value);break;case"typed-literal":t=this.dataFactory.literal(e.value,this.dataFactory.namedNode(e.datatype));break;case"triple":const r=e.value;if(!r||!r.subject||!r.predicate||!r.object)throw new Error("Invalid quoted triple: "+JSON.stringify(e));t=this.dataFactory.quad(this.parseJsonValue(r.subject),this.parseJsonValue(r.predicate),this.parseJsonValue(r.object));break;default:t=this.dataFactory.namedNode(e.value)}return t}parseJsonBoolean(e){if("boolean"in e)return e.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(e){return new Promise((t,r)=>{const n=new a;n.onError=r,n.onValue=e=>{"boolean"===n.key&&"boolean"===typeof e&&1===n.stack.length&&t(e)},e.on("error",r).on("data",e=>n.write(e)).on("end",()=>r(new Error("No valid ASK response was found.")))})}}},22123:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(71429),t)},22169:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(45541),t)},22260:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(18254),t)},22273:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorInitQueryBase=void 0;const n=r(56417),i=r(13953);class a extends n.ActorInit{async test(e){return(0,i.passTestVoid)()}async run(e){throw new Error("ActorInitSparql#run is not supported in the browser.")}}t.ActorInitQueryBase=a},22347:(e,t,r)=>{"use strict";var n=r(12897).default,i=r(91847).default,a=r(93312).default,o=r(42459).default,s=r(37088).default,c=r(81756).default,l=r(16668).default,u=r(43693).default;const d=["context","forceRefresh"];Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;const h="object"===typeof performance&&performance&&"function"===typeof performance.now?performance:Date,p=new Set,f="object"===typeof process&&process?process:{},g=(e,t,r,n)=>{"function"===typeof f.emitWarning?f.emitWarning(e,t,r,n):console.error("[".concat(r,"] ").concat(t,": ").concat(e))};let y=globalThis.AbortController,m=globalThis.AbortSignal;if("undefined"===typeof y){var v;m=class{constructor(){u(this,"onabort",void 0),u(this,"_onabort",[]),u(this,"reason",void 0),u(this,"aborted",!1)}addEventListener(e,t){this._onabort.push(t)}},y=class{constructor(){u(this,"signal",new m),t()}abort(e){var t,r;if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);null===(t=(r=this.signal).onabort)||void 0===t||t.call(r,e)}}};let e="1"!==(null===(v=f.env)||void 0===v?void 0:v.LRU_CACHE_IGNORE_AC_WARNING);const t=()=>{e&&(e=!1,g("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const b=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),_=e=>b(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?w:null:null;class w extends Array{constructor(e){super(e),this.fill(0)}}class x{static create(e){const t=_(e);if(!t)return[];S._=!0;const r=new x(e,t);return S._=!1,r}constructor(e,t){if(u(this,"heap",void 0),u(this,"length",void 0),!S._)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}var S={_:!1},T=new WeakMap,O=new WeakMap,E=new WeakMap,A=new WeakMap,P=new WeakMap,N=new WeakMap,j=new WeakMap,D=new WeakMap,R=new WeakMap,I=new WeakMap,F=new WeakMap,C=new WeakMap,M=new WeakMap,k=new WeakMap,L=new WeakMap,B=new WeakMap,U=new WeakMap,V=new WeakMap,z=new WeakMap,q=new WeakMap,Q=new WeakMap,G=new WeakMap,H=new WeakMap,W=new WeakSet,X=new WeakMap,K=new WeakMap,$=new WeakMap,Y=new WeakMap,J=new WeakMap,Z=new WeakMap,ee=new WeakMap;class te{static unsafeExposeInternals(e){return{starts:l(z,e),ttls:l(q,e),sizes:l(V,e),keyMap:l(R,e),keyList:l(I,e),valList:l(F,e),next:l(C,e),prev:l(M,e),get head(){return l(k,e)},get tail(){return l(L,e)},free:l(B,e),isBackgroundFetch:t=>c(W,e,le).call(e,t),backgroundFetch:(t,r,n,i)=>c(W,e,ce).call(e,t,r,n,i),moveToTail:t=>c(W,e,de).call(e,t),indexes:t=>c(W,e,ie).call(e,t),rindexes:t=>c(W,e,ae).call(e,t),isStale:t=>l(Y,e).call(e,t)}}get max(){return l(T,this)}get maxSize(){return l(O,this)}get calculatedSize(){return l(D,this)}get size(){return l(j,this)}get fetchMethod(){return l(P,this)}get memoMethod(){return l(N,this)}get dispose(){return l(E,this)}get disposeAfter(){return l(A,this)}constructor(e){a(this,W),o(this,T,void 0),o(this,O,void 0),o(this,E,void 0),o(this,A,void 0),o(this,P,void 0),o(this,N,void 0),u(this,"ttl",void 0),u(this,"ttlResolution",void 0),u(this,"ttlAutopurge",void 0),u(this,"updateAgeOnGet",void 0),u(this,"updateAgeOnHas",void 0),u(this,"allowStale",void 0),u(this,"noDisposeOnSet",void 0),u(this,"noUpdateTTL",void 0),u(this,"maxEntrySize",void 0),u(this,"sizeCalculation",void 0),u(this,"noDeleteOnFetchRejection",void 0),u(this,"noDeleteOnStaleGet",void 0),u(this,"allowStaleOnFetchAbort",void 0),u(this,"allowStaleOnFetchRejection",void 0),u(this,"ignoreFetchAbort",void 0),o(this,j,void 0),o(this,D,void 0),o(this,R,void 0),o(this,I,void 0),o(this,F,void 0),o(this,C,void 0),o(this,M,void 0),o(this,k,void 0),o(this,L,void 0),o(this,B,void 0),o(this,U,void 0),o(this,V,void 0),o(this,z,void 0),o(this,q,void 0),o(this,Q,void 0),o(this,G,void 0),o(this,H,void 0),o(this,X,()=>{}),o(this,K,()=>{}),o(this,$,()=>{}),o(this,Y,()=>!1),o(this,J,e=>{}),o(this,Z,(e,t,r)=>{}),o(this,ee,(e,t,r,n)=>{if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0}),u(this,Symbol.toStringTag,"LRUCache");const{max:t=0,ttl:r,ttlResolution:n=1,ttlAutopurge:i,updateAgeOnGet:d,updateAgeOnHas:h,allowStale:f,dispose:y,disposeAfter:m,noDisposeOnSet:v,noUpdateTTL:w,maxSize:S=0,maxEntrySize:ie=0,sizeCalculation:ae,fetchMethod:oe,memoMethod:se,noDeleteOnFetchRejection:ce,noDeleteOnStaleGet:le,allowStaleOnFetchRejection:ue,allowStaleOnFetchAbort:de,ignoreFetchAbort:he}=e;if(0!==t&&!b(t))throw new TypeError("max option must be a nonnegative integer");const pe=t?_(t):Array;if(!pe)throw new Error("invalid max value: "+t);if(s(T,this,t),s(O,this,S),this.maxEntrySize=ie||l(O,this),this.sizeCalculation=ae,this.sizeCalculation){if(!l(O,this)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!==typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==se&&"function"!==typeof se)throw new TypeError("memoMethod must be a function if defined");if(s(N,this,se),void 0!==oe&&"function"!==typeof oe)throw new TypeError("fetchMethod must be a function if specified");if(s(P,this,oe),s(G,this,!!oe),s(R,this,new Map),s(I,this,new Array(t).fill(void 0)),s(F,this,new Array(t).fill(void 0)),s(C,this,new pe(t)),s(M,this,new pe(t)),s(k,this,0),s(L,this,0),s(B,this,x.create(t)),s(j,this,0),s(D,this,0),"function"===typeof y&&s(E,this,y),"function"===typeof m?(s(A,this,m),s(U,this,[])):(s(A,this,void 0),s(U,this,void 0)),s(Q,this,!!l(E,this)),s(H,this,!!l(A,this)),this.noDisposeOnSet=!!v,this.noUpdateTTL=!!w,this.noDeleteOnFetchRejection=!!ce,this.allowStaleOnFetchRejection=!!ue,this.allowStaleOnFetchAbort=!!de,this.ignoreFetchAbort=!!he,0!==this.maxEntrySize){if(0!==l(O,this)&&!b(l(O,this)))throw new TypeError("maxSize must be a positive integer if specified");if(!b(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");c(W,this,ne).call(this)}if(this.allowStale=!!f,this.noDeleteOnStaleGet=!!le,this.updateAgeOnGet=!!d,this.updateAgeOnHas=!!h,this.ttlResolution=b(n)||0===n?n:1,this.ttlAutopurge=!!i,this.ttl=r||0,this.ttl){if(!b(this.ttl))throw new TypeError("ttl must be a positive integer if specified");c(W,this,re).call(this)}if(0===l(T,this)&&0===this.ttl&&0===l(O,this))throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!l(T,this)&&!l(O,this)){const e="LRU_CACHE_UNBOUNDED";if((e=>!p.has(e))(e)){p.add(e);g("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,te)}}}getRemainingTTL(e){return l(R,this).has(e)?1/0:0}*entries(){for(const e of c(W,this,ie).call(this))void 0===l(F,this)[e]||void 0===l(I,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield[l(I,this)[e],l(F,this)[e]])}*rentries(){for(const e of c(W,this,ae).call(this))void 0===l(F,this)[e]||void 0===l(I,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield[l(I,this)[e],l(F,this)[e]])}*keys(){for(const e of c(W,this,ie).call(this)){const t=l(I,this)[e];void 0===t||c(W,this,le).call(this,l(F,this)[e])||(yield t)}}*rkeys(){for(const e of c(W,this,ae).call(this)){const t=l(I,this)[e];void 0===t||c(W,this,le).call(this,l(F,this)[e])||(yield t)}}*values(){for(const e of c(W,this,ie).call(this)){void 0===l(F,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield l(F,this)[e])}}*rvalues(){for(const e of c(W,this,ae).call(this)){void 0===l(F,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield l(F,this)[e])}}[Symbol.iterator](){return this.entries()}find(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const r of c(W,this,ie).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;if(void 0!==i&&e(i,l(I,this)[r],this))return this.get(l(I,this)[r],t)}}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;for(const r of c(W,this,ie).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,l(I,this)[r],this)}}rforEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;for(const r of c(W,this,ae).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,l(I,this)[r],this)}}purgeStale(){let e=!1;for(const t of c(W,this,ae).call(this,{allowStale:!0}))l(Y,this).call(this,t)&&(c(W,this,he).call(this,l(I,this)[t],"expire"),e=!0);return e}info(e){const t=l(R,this).get(e);if(void 0===t)return;const r=l(F,this)[t],n=c(W,this,le).call(this,r)?r.__staleWhileFetching:r;if(void 0===n)return;const i={value:n};if(l(q,this)&&l(z,this)){const e=l(q,this)[t],r=l(z,this)[t];if(e&&r){const t=e-(h.now()-r);i.ttl=t,i.start=Date.now()}}return l(V,this)&&(i.size=l(V,this)[t]),i}dump(){const e=[];for(const t of c(W,this,ie).call(this,{allowStale:!0})){const r=l(I,this)[t],n=l(F,this)[t],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;if(void 0===i||void 0===r)continue;const a={value:i};if(l(q,this)&&l(z,this)){a.ttl=l(q,this)[t];const e=h.now()-l(z,this)[t];a.start=Math.floor(Date.now()-e)}l(V,this)&&(a.size=l(V,this)[t]),e.unshift([r,a])}return e}load(e){this.clear();for(const[t,r]of e){if(r.start){const e=Date.now()-r.start;r.start=h.now()-e}this.set(t,r.value,r)}}set(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===t)return this.delete(e),this;const{ttl:n=this.ttl,start:i,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:u}=r;let{noUpdateTTL:d=this.noUpdateTTL}=r;const h=l(ee,this).call(this,e,t,r.size||0,o);if(this.maxEntrySize&&h>this.maxEntrySize)return u&&(u.set="miss",u.maxEntrySizeExceeded=!0),c(W,this,he).call(this,e,"set"),this;let p=0===l(j,this)?void 0:l(R,this).get(e);if(void 0===p){var f;p=0===l(j,this)?l(L,this):0!==l(B,this).length?l(B,this).pop():l(j,this)===l(T,this)?c(W,this,se).call(this,!1):l(j,this),l(I,this)[p]=e,l(F,this)[p]=t,l(R,this).set(e,p),l(C,this)[l(L,this)]=p,l(M,this)[p]=l(L,this),s(L,this,p),s(j,this,(f=l(j,this),f++,f)),l(Z,this).call(this,p,h,u),u&&(u.set="add"),d=!1}else{c(W,this,de).call(this,p);const r=l(F,this)[p];if(t!==r){if(l(G,this)&&c(W,this,le).call(this,r)){r.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:t}=r;if(void 0!==t&&!a){var g,y;if(l(Q,this))null===(g=l(E,this))||void 0===g||g.call(this,t,e,"set");if(l(H,this))null===(y=l(U,this))||void 0===y||y.push([t,e,"set"])}}else if(!a){var m,v;if(l(Q,this))null===(m=l(E,this))||void 0===m||m.call(this,r,e,"set");if(l(H,this))null===(v=l(U,this))||void 0===v||v.push([r,e,"set"])}if(l(J,this).call(this,p),l(Z,this).call(this,p,h,u),l(F,this)[p]=t,u){u.set="replace";const e=r&&c(W,this,le).call(this,r)?r.__staleWhileFetching:r;void 0!==e&&(u.oldValue=e)}}else u&&(u.set="update")}if(0===n||l(q,this)||c(W,this,re).call(this),l(q,this)&&(d||l($,this).call(this,p,n,i),u&&l(K,this).call(this,u,p)),!a&&l(H,this)&&l(U,this)){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var b;null===(b=l(A,this))||void 0===b||b.call(this,...t)}}return this}pop(){try{for(;l(j,this);){const e=l(F,this)[l(k,this)];if(c(W,this,se).call(this,!0),c(W,this,le).call(this,e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(l(H,this)&&l(U,this)){const t=l(U,this);let r;for(;r=null===t||void 0===t?void 0:t.shift();){var e;null===(e=l(A,this))||void 0===e||e.call(this,...r)}}}}has(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=t,i=l(R,this).get(e);if(void 0!==i){const e=l(F,this)[i];if(c(W,this,le).call(this,e)&&void 0===e.__staleWhileFetching)return!1;if(!l(Y,this).call(this,i))return r&&l(X,this).call(this,i),n&&(n.has="hit",l(K,this).call(this,n,i)),!0;n&&(n.has="stale",l(K,this).call(this,n,i))}else n&&(n.has="miss");return!1}peek(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale}=t,n=l(R,this).get(e);if(void 0===n||!r&&l(Y,this).call(this,n))return;const i=l(F,this)[n];return c(W,this,le).call(this,i)?i.__staleWhileFetching:i}async fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:s=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:y,forceRefresh:m=!1,status:v,signal:b}=t;if(!l(G,this))return v&&(v.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,status:v});const _={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:a,noDisposeOnSet:o,size:s,sizeCalculation:u,noUpdateTTL:d,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:g,ignoreFetchAbort:f,status:v,signal:b};let w=l(R,this).get(e);if(void 0===w){v&&(v.fetch="miss");const t=c(W,this,ce).call(this,e,w,_,y);return t.__returned=t}{const t=l(F,this)[w];if(c(W,this,le).call(this,t)){const e=r&&void 0!==t.__staleWhileFetching;return v&&(v.fetch="inflight",e&&(v.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const i=l(Y,this).call(this,w);if(!m&&!i)return v&&(v.fetch="hit"),c(W,this,de).call(this,w),n&&l(X,this).call(this,w),v&&l(K,this).call(this,v,w),t;const a=c(W,this,ce).call(this,e,w,_,y),o=void 0!==a.__staleWhileFetching&&r;return v&&(v.fetch=i?"stale":"refresh",o&&i&&(v.returnedStale=!0)),o?a.__staleWhileFetching:a.__returned=a}}async forceFetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await this.fetch(e,t);if(void 0===r)throw new Error("fetch() returned undefined");return r}memo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=l(N,this);if(!r)throw new Error("no memoMethod provided to constructor");const{context:n,forceRefresh:a}=t,o=i(t,d),s=this.get(e,o);if(!a&&void 0!==s)return s;const c=r(e,s,{options:o,context:n});return this.set(e,c,o),c}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:a}=t,o=l(R,this).get(e);if(void 0!==o){const t=l(F,this)[o],s=c(W,this,le).call(this,t);return a&&l(K,this).call(this,a,o),l(Y,this).call(this,o)?(a&&(a.get="stale"),s?(a&&r&&void 0!==t.__staleWhileFetching&&(a.returnedStale=!0),r?t.__staleWhileFetching:void 0):(i||c(W,this,he).call(this,e,"expire"),a&&r&&(a.returnedStale=!0),r?t:void 0)):(a&&(a.get="hit"),s?t.__staleWhileFetching:(c(W,this,de).call(this,o),n&&l(X,this).call(this,o),t))}a&&(a.get="miss")}delete(e){return c(W,this,he).call(this,e,"delete")}clear(){return c(W,this,pe).call(this,"delete")}}function re(){var e=this;const t=new w(l(T,this)),r=new w(l(T,this));s(q,this,t),s(z,this,r),s($,this,function(n,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.now();if(r[n]=0!==i?a:0,t[n]=i,0!==i&&e.ttlAutopurge){const t=setTimeout(()=>{l(Y,e).call(e,n)&&c(W,e,he).call(e,l(I,e)[n],"expire")},i+1);t.unref&&t.unref()}}),s(X,this,e=>{r[e]=0!==t[e]?h.now():0}),s(K,this,(e,a)=>{if(t[a]){const o=t[a],s=r[a];if(!o||!s)return;e.ttl=o,e.start=s,e.now=n||i();const c=e.now-s;e.remainingTTL=o-c}});let n=0;const i=()=>{const e=h.now();if(this.ttlResolution>0){n=e;const t=setTimeout(()=>n=0,this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=e=>{const a=l(R,this).get(e);if(void 0===a)return 0;const o=t[a],s=r[a];if(!o||!s)return 1/0;return o-((n||i())-s)},s(Y,this,e=>{const a=r[e],o=t[e];return!!o&&!!a&&(n||i())-a>o})}function ne(){const e=new w(l(T,this));s(D,this,0),s(V,this,e),s(J,this,t=>{s(D,this,l(D,this)-e[t]),e[t]=0}),s(ee,this,(e,t,r,n)=>{if(c(W,this,le).call(this,t))return 0;if(!b(r)){if(!n)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!==typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(t,e),!b(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r}),s(Z,this,(t,r,n)=>{if(e[t]=r,l(O,this)){const r=l(O,this)-e[t];for(;l(D,this)>r;)c(W,this,se).call(this,!0)}s(D,this,l(D,this)+e[t]),n&&(n.entrySize=r,n.totalCalculatedSize=l(D,this))})}function ie(){var e=this;let{allowStale:t=this.allowStale}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){if(l(j,e))for(let r=l(L,e);c(W,e,oe).call(e,r)&&(!t&&l(Y,e).call(e,r)||(yield r),r!==l(k,e));)r=l(M,e)[r]}()}function ae(){var e=this;let{allowStale:t=this.allowStale}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){if(l(j,e))for(let r=l(k,e);c(W,e,oe).call(e,r)&&(!t&&l(Y,e).call(e,r)||(yield r),r!==l(L,e));)r=l(C,e)[r]}()}function oe(e){return void 0!==e&&l(R,this).get(l(I,this)[e])===e}function se(e){var t;const r=l(k,this),n=l(I,this)[r],i=l(F,this)[r];if(l(G,this)&&c(W,this,le).call(this,i))i.__abortController.abort(new Error("evicted"));else if(l(Q,this)||l(H,this)){var a,o;if(l(Q,this))null===(a=l(E,this))||void 0===a||a.call(this,i,n,"evict");if(l(H,this))null===(o=l(U,this))||void 0===o||o.push([i,n,"evict"])}return l(J,this).call(this,r),e&&(l(I,this)[r]=void 0,l(F,this)[r]=void 0,l(B,this).push(r)),1===l(j,this)?(s(k,this,s(L,this,0)),l(B,this).length=0):s(k,this,l(C,this)[r]),l(R,this).delete(n),s(j,this,(t=l(j,this),t--,t)),r}function ce(e,t,r,i){var a=this;const o=void 0===t?void 0:l(F,this)[t];if(c(W,this,le).call(this,o))return o;const s=new y,{signal:u}=r;null===u||void 0===u||u.addEventListener("abort",()=>s.abort(u.reason),{signal:s.signal});const d={signal:s.signal,options:r,context:i},h=function(n){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{aborted:o}=s.signal,u=r.ignoreFetchAbort&&void 0!==n;if(r.status&&(o&&!i?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,u&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),o&&!u&&!i)return p(s.signal.reason);const h=f;return l(F,a)[t]===f&&(void 0===n?h.__staleWhileFetching?l(F,a)[t]=h.__staleWhileFetching:c(W,a,he).call(a,e,"fetch"):(r.status&&(r.status.fetchUpdated=!0),a.set(e,n,d.options))),n},p=n=>{const{aborted:i}=s.signal,a=i&&r.allowStaleOnFetchAbort,o=a||r.allowStaleOnFetchRejection,u=o||r.noDeleteOnFetchRejection,d=f;if(l(F,this)[t]===f){!u||void 0===d.__staleWhileFetching?c(W,this,he).call(this,e,"fetch"):a||(l(F,this)[t]=d.__staleWhileFetching)}if(o)return r.status&&void 0!==d.__staleWhileFetching&&(r.status.returnedStale=!0),d.__staleWhileFetching;if(d.__returned===d)throw n};r.status&&(r.status.fetchDispatched=!0);const f=new Promise((t,n)=>{var i;const a=null===(i=l(P,this))||void 0===i?void 0:i.call(this,e,o,d);a&&a instanceof Promise&&a.then(e=>t(void 0===e?void 0:e),n),s.signal.addEventListener("abort",()=>{r.ignoreFetchAbort&&!r.allowStaleOnFetchAbort||(t(void 0),r.allowStaleOnFetchAbort&&(t=e=>h(e,!0)))})}).then(h,e=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=e),p(e))),g=Object.assign(f,{__abortController:s,__staleWhileFetching:o,__returned:void 0});return void 0===t?(this.set(e,g,n(n({},d.options),{},{status:void 0})),t=l(R,this).get(e)):l(F,this)[t]=g,g}function le(e){if(!l(G,this))return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof y}function ue(e,t){l(M,this)[t]=e,l(C,this)[e]=t}function de(e){e!==l(L,this)&&(e===l(k,this)?s(k,this,l(C,this)[e]):c(W,this,ue).call(this,l(M,this)[e],l(C,this)[e]),c(W,this,ue).call(this,l(L,this),e),s(L,this,e))}function he(e,t){var r;let n=!1;if(0!==l(j,this)){const r=l(R,this).get(e);if(void 0!==r)if(n=!0,1===l(j,this))c(W,this,pe).call(this,t);else{var i;l(J,this).call(this,r);const n=l(F,this)[r];if(c(W,this,le).call(this,n))n.__abortController.abort(new Error("deleted"));else if(l(Q,this)||l(H,this)){var a,o;if(l(Q,this))null===(a=l(E,this))||void 0===a||a.call(this,n,e,t);if(l(H,this))null===(o=l(U,this))||void 0===o||o.push([n,e,t])}if(l(R,this).delete(e),l(I,this)[r]=void 0,l(F,this)[r]=void 0,r===l(L,this))s(L,this,l(M,this)[r]);else if(r===l(k,this))s(k,this,l(C,this)[r]);else{const e=l(M,this)[r];l(C,this)[e]=l(C,this)[r];const t=l(C,this)[r];l(M,this)[t]=l(M,this)[r]}s(j,this,(i=l(j,this),i--,i)),l(B,this).push(r)}}if(l(H,this)&&null!==(r=l(U,this))&&void 0!==r&&r.length){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var u;null===(u=l(A,this))||void 0===u||u.call(this,...t)}}return n}function pe(e){for(const i of c(W,this,ae).call(this,{allowStale:!0})){const n=l(F,this)[i];if(c(W,this,le).call(this,n))n.__abortController.abort(new Error("deleted"));else{const a=l(I,this)[i];var t,r;if(l(Q,this))null===(t=l(E,this))||void 0===t||t.call(this,n,a,e);if(l(H,this))null===(r=l(U,this))||void 0===r||r.push([n,a,e])}}if(l(R,this).clear(),l(F,this).fill(void 0),l(I,this).fill(void 0),l(q,this)&&l(z,this)&&(l(q,this).fill(0),l(z,this).fill(0)),l(V,this)&&l(V,this).fill(0),s(k,this,0),s(L,this,0),l(B,this).length=0,s(D,this,0),s(j,this,0),l(H,this)&&l(U,this)){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var n;null===(n=l(A,this))||void 0===n||n.call(this,...t)}}}t.LRUCache=te},22379:(e,t,r)=>{let n=r(72758).AsyncIterator;e.exports=class extends n{constructor(e){super(),Array.isArray(e)||(e=Array.prototype.slice.call(arguments)),this.streams=e;for(let t of e)t.on("readable",()=>this.emit("readable")),t.on("end",()=>this._removeStream(t));0===this.streams.length&&this.close(),this.idx=this.streams.length-1}_removeStream(e){let t=this.streams.indexOf(e);t<0||(this.streams.splice(t,1),this.idx>=this.streams.length&&--this.idx,0===this.streams.length&&this._end())}close(){super.close();for(let e of this.streams)e.close()}read(){for(let e=0;e<this.streams.length;++e){this.idx=(this.idx+1)%this.streams.length;let e=this.streams[this.idx].read();if(null!==e)return e}return null}}},22409:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={targetNode:!0,targetObjectsOf:!0,targetSubjectsOf:!0,deactivated:!0,severity:!0,message:!0,class:!0,datatype:!0,nodeKind:!0,minExclusive:!0,minInclusive:!0,maxExclusive:!0,maxInclusive:!0,minLength:!0,maxLength:!0,pattern:!0,flags:!0,languageIn:!0,equals:!0,disjoint:!0,closed:!0,ignoredProperties:!0,hasValue:!0,in:!0}},22423:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(21383),t),i(r(30962),t),i(r(29933),t),i(r(57062),t),i(r(80874),t),i(r(28971),t),i(r(4071),t)},22710:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(76759),t)},22799:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function i(e,t,n){var i=null;if(void 0!==n&&(i=""+n),void 0!==t.key&&(i=""+t.key),"key"in t)for(var a in n={},t)"key"!==a&&(n[a]=t[a]);else n=t;return t=n.ref,{$$typeof:r,type:e,key:i,ref:void 0!==t?t:null,props:n}}t.Fragment=n,t.jsx=i,t.jsxs=i},22853:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionLangmatches=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:2,operator:i.SparqlOperator.LANG_MATCHES,overloads:(0,i.declare)(i.SparqlOperator.LANG_MATCHES).onBinaryTyped([i.TypeURL.XSD_STRING,i.TypeURL.XSD_STRING],()=>(e,t)=>(0,i.bool)(a.langMatches(e,t))).collect()})}static langMatches(e,t){const r=e.split("-"),n=t.split("-");if(!a.matchLangTag(n[0],r[0])&&!a.isWildCard(r[0]))return!1;let i=1,o=1;for(;o<n.length;)if(a.isWildCard(n[o]))o++;else{if(i===r.length)return!1;if(a.matchLangTag(n[o],r[i]))i++,o++;else{if(1===r[i].length)return!1;i++}}return!0}static isWildCard(e){return"*"===e}static matchLangTag(e,t){return new RegExp("/".concat(e,"/"),"iu").test("/".concat(t,"/"))}}t.TermFunctionLangmatches=a},22877:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(45327),t),i(r(40629),t)},22984:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},23584:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46673),t)},23634:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(83435),t)},23695:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.lookupAllPrefixes=void 0;const i=r(54343);t.lookupAllPrefixes=function(e){return n(this,void 0,void 0,function*(){return(0,i.fetchContext)("https://prefix.cc/context",e)})}},23827:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6939),t),i(r(83504),t)},23976:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorAbstractMediaTyped=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e)}async run(e){if("handle"in e){const t=e;return{handle:await this.runHandle(t.handle,t.handleMediaType,e.context)}}if("mediaTypes"in e)return{mediaTypes:await this.getMediaTypes(e.context)};if("mediaTypeFormats"in e)return{mediaTypeFormats:await this.getMediaTypeFormats(e.context)};throw new Error("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}async test(e){if("handle"in e){const t=e;return(await this.testHandle(t.handle,t.handleMediaType,e.context)).map(e=>({handle:e}))}return"mediaTypes"in e?(await this.testMediaType(e.context)).map(e=>({mediaTypes:e})):"mediaTypeFormats"in e?(await this.testMediaTypeFormats(e.context)).map(e=>({mediaTypeFormats:e})):(0,n.failTest)("Either a handle, mediaTypes or mediaTypeFormats action needs to be provided")}}t.ActorAbstractMediaTyped=i},24209:(e,t,r)=>{"use strict";r.d(t,{Ay:()=>l,FL:()=>m,PB:()=>p,Yo:()=>d,iN:()=>y,kO:()=>v,n7:()=>v,rT:()=>f,uS:()=>h,x1:()=>u,yV:()=>g});var n=r(57103);const{rdf:i,xsd:a}=n.A;let o,s=0;const c={namedNode:b,blankNode:_,variable:x,literal:w,defaultGraph:function(){return o},quad:S,triple:S,fromTerm:T,fromQuad:O},l=c;class u{constructor(e){this.id=e}get value(){return this.id}equals(e){return e instanceof u?this.id===e.id:!!e&&this.termType===e.termType&&this.value===e.value}hashCode(){return 0}toJSON(){return{termType:this.termType,value:this.value}}}class d extends u{get termType(){return"NamedNode"}}class h extends u{get termType(){return"Literal"}get value(){return this.id.substring(1,this.id.lastIndexOf('"'))}get language(){const e=this.id;let t=e.lastIndexOf('"')+1;return t<e.length&&"@"===e[t++]?e.substr(t).toLowerCase():""}get datatype(){return new d(this.datatypeString)}get datatypeString(){const e=this.id,t=e.lastIndexOf('"')+1,r=t<e.length?e[t]:"";return"^"===r?e.substr(t+2):"@"!==r?a.string:i.langString}equals(e){return e instanceof h?this.id===e.id:!!e&&!!e.datatype&&this.termType===e.termType&&this.value===e.value&&this.language===e.language&&this.datatype.value===e.datatype.value}toJSON(){return{termType:this.termType,value:this.value,language:this.language,datatype:{termType:"NamedNode",value:this.datatypeString}}}}class p extends u{constructor(e){super("_:".concat(e))}get termType(){return"BlankNode"}get value(){return this.id.substr(2)}}class f extends u{constructor(e){super("?".concat(e))}get termType(){return"Variable"}get value(){return this.id.substr(1)}}class g extends u{constructor(){return super(""),o||this}get termType(){return"DefaultGraph"}equals(e){return this===e||!!e&&this.termType===e.termType}}function y(e,t,r){if(t=t||c,!e)return t.defaultGraph();switch(e[0]){case"?":return t.variable(e.substr(1));case"_":return t.blankNode(e.substr(2));case'"':if(t===c)return new h(e);if('"'===e[e.length-1])return t.literal(e.substr(1,e.length-2));const n=e.lastIndexOf('"',e.length-1);return t.literal(e.substr(1,n-1),"@"===e[n+1]?e.substr(n+2):t.namedNode(e.substr(n+3)));case"[":e=JSON.parse(e);break;default:if(!r||!Array.isArray(e))return t.namedNode(e)}return t.quad(y(e[0],t,!0),y(e[1],t,!0),y(e[2],t,!0),e[3]&&y(e[3],t,!0))}function m(e,t){if("string"===typeof e)return e;if(e instanceof u&&"Quad"!==e.termType)return e.id;if(!e)return o.id;switch(e.termType){case"NamedNode":return e.value;case"BlankNode":return"_:".concat(e.value);case"Variable":return"?".concat(e.value);case"DefaultGraph":return"";case"Literal":return'"'.concat(e.value,'"').concat(e.language?"@".concat(e.language):e.datatype&&e.datatype.value!==a.string?"^^".concat(e.datatype.value):"");case"Quad":const r=[m(e.subject,!0),m(e.predicate,!0),m(e.object,!0)];return e.graph&&"DefaultGraph"!==e.graph.termType&&r.push(m(e.graph,!0)),t?r:JSON.stringify(r);default:throw new Error("Unexpected termType: ".concat(e.termType))}}o=new g;class v extends u{constructor(e,t,r,n){super(""),this._subject=e,this._predicate=t,this._object=r,this._graph=n||o}get termType(){return"Quad"}get subject(){return this._subject}get predicate(){return this._predicate}get object(){return this._object}get graph(){return this._graph}toJSON(){return{termType:this.termType,subject:this._subject.toJSON(),predicate:this._predicate.toJSON(),object:this._object.toJSON(),graph:this._graph.toJSON()}}equals(e){return!!e&&this._subject.equals(e.subject)&&this._predicate.equals(e.predicate)&&this._object.equals(e.object)&&this._graph.equals(e.graph)}}function b(e){return new d(e)}function _(e){return new p(e||"n3-".concat(s++))}function w(e,t){if("string"===typeof t)return new h('"'.concat(e,'"@').concat(t.toLowerCase()));let r=t?t.value:"";return""===r&&("boolean"===typeof e?r=a.boolean:"number"===typeof e&&(Number.isFinite(e)?r=Number.isInteger(e)?a.integer:a.double:(r=a.double,Number.isNaN(e)||(e=e>0?"INF":"-INF")))),""===r||r===a.string?new h('"'.concat(e,'"')):new h('"'.concat(e,'"^^').concat(r))}function x(e){return new f(e)}function S(e,t,r,n){return new v(e,t,r,n)}function T(e){if(e instanceof u)return e;switch(e.termType){case"NamedNode":return b(e.value);case"BlankNode":return _(e.value);case"Variable":return x(e.value);case"DefaultGraph":return o;case"Literal":return w(e.value,e.language||e.datatype);case"Quad":return O(e);default:throw new Error("Unexpected termType: ".concat(e.termType))}}function O(e){if(e instanceof v)return e;if("Quad"!==e.termType)throw new Error("Unexpected termType: ".concat(e.termType));return S(T(e.subject),T(e.predicate),T(e.object),T(e.graph))}},24341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AverageAggregator=void 0;const n=r(85830),i=r(97824);class a extends n.AggregateEvaluator{constructor(e,t,r,n,i,a){super(e,t,a),this.dataFactory=r,this.additionFunction=n,this.divisionFunction=i,this.state=void 0}emptyValueTerm(){return i.typedLiteral("0",i.TypeURL.XSD_INTEGER)}putTerm(e){if(void 0===this.state){const t=this.termToNumericOrError(e);this.state={sum:t,count:1}}else{const t=this.termToNumericOrError(e);this.state.sum=this.additionFunction.applyOnTerms([this.state.sum,t],this.evaluator),this.state.count++}}termResult(){if(void 0===this.state)return this.emptyValue();const e=new i.IntegerLiteral(this.state.count);return this.divisionFunction.applyOnTerms([this.state.sum,e],this.evaluator).toRDF(this.dataFactory)}}t.AverageAggregator=a},24349:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionXsdToYearMonthDuration=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.TypeURL.XSD_YEAR_MONTH_DURATION,overloads:(0,i.declare)(i.TypeURL.XSD_YEAR_MONTH_DURATION).onUnary(i.TypeURL.XSD_DURATION,()=>e=>new i.YearMonthDurationLiteral((0,i.trimToYearMonthDuration)(e.typedValue))).onStringly1(()=>e=>new i.YearMonthDurationLiteral((0,i.parseYearMonthDuration)(e.str()))).collect()})}}t.TermFunctionXsdToYearMonthDuration=a},24380:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinNone=void 0;const n=r(1140),i=r(52840),a=r(13953),o=r(7979),s=r(66179),c=r(72758);class l extends n.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"none",limitEntries:0})}async test(e){return e.entries.length>0?(0,a.failTest)("Actor ".concat(this.name," can only join zero entries")):await this.getJoinCoefficients(e,void 0)}async getOutput(e){const t=e.context.getSafe(i.KeysInitQuery.dataFactory),r=await o.BindingsFactory.create(this.mediatorMergeBindingsContext,e.context,t);return{result:{bindingsStream:new c.ArrayIterator([r.bindings()],{autoStart:!1}),metadata:()=>Promise.resolve({state:new s.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]}),type:"bindings"}}}async getJoinCoefficients(e,t){return(0,a.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},t)}}t.ActorRdfJoinNone=l},24636:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(3612),t)},24825:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(48905),t)},24910:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(80337),t),i(r(55852),t)},25021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorBindingsAggregatorFactoryWildcardCount=void 0;const n=r(85830),i=r(13953),a=r(7096);class o extends n.ActorBindingsAggregatorFactory{constructor(e){super(e)}async test(e){return"count"!==e.expr.aggregator||"wildcard"!==e.expr.expression.expressionType?(0,i.failTest)("This actor only supports the 'count' aggregator with wildcard."):(0,i.passTestVoid)()}async run(e){let{context:t,expr:r}=e;return new a.WildcardCountAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:r.expression,context:t}),r.distinct)}}t.ActorBindingsAggregatorFactoryWildcardCount=o},25056:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(17800),t)},25128:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorBindingsAggregatorFactoryCount=void 0;const n=r(85830),i=r(13953),a=r(85160),o=r(45253);class s extends n.ActorBindingsAggregatorFactory{constructor(e){super(e)}async test(e){return"count"!==e.expr.aggregator||e.expr.expression.expressionType===a.Algebra.expressionTypes.WILDCARD?(0,i.failTest)("This actor only supports the 'count' aggregator without wildcard."):(0,i.passTestVoid)()}async run(e){let{context:t,expr:r}=e;return new o.CountAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:r.expression,context:t}),r.distinct)}}t.ActorBindingsAggregatorFactoryCount=s},25172:e=>{e.exports=function(e,t){this.v=e,this.k=t},e.exports.__esModule=!0,e.exports.default=e.exports},25218:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(94737),t)},25509:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryParseSparql=void 0;const n=r(36747),i=r(52840),a=r(13953),o=r(85160),s=r(36865);class c extends n.ActorQueryParse{constructor(e){super(e),this.prefixes=Object.freeze(this.prefixes)}async test(e){return e.queryFormat&&"sparql"!==e.queryFormat.language?(0,a.failTest)("This actor can only parse SPARQL queries"):(0,a.passTestVoid)()}async run(e){const t=e.context.getSafe(i.KeysInitQuery.dataFactory),r=new s.Parser({prefixes:this.prefixes,baseIRI:e.baseIRI,sparqlStar:!0,factory:t}).parse(e.query);return{baseIRI:"query"===r.type?r.base:void 0,operation:(0,o.translate)(r,{quads:!0,prefixes:this.prefixes,blankToVariable:!0,baseIRI:e.baseIRI,dataFactory:t})}}}t.ActorQueryParseSparql=c},25957:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.estimateNpsCardinality=t.estimateJoinCardinality=t.estimateUnionCardinality=t.estimateSliceCardinality=t.estimateMinusCardinality=t.estimateCardinality=void 0;const n=r(92832),i=r(85160),a=new n.DataFactory,o=new i.Factory(a);function s(e,t){const r=t.getCardinality(e);if(r)return r;switch(e.type){case i.Algebra.types.ASK:return{type:"exact",value:1,dataset:t.uri};case i.Algebra.types.LOAD:case i.Algebra.types.DELETE_INSERT:case i.Algebra.types.ADD:case i.Algebra.types.COMPOSITE_UPDATE:case i.Algebra.types.CLEAR:case i.Algebra.types.NOP:case i.Algebra.types.DROP:case i.Algebra.types.CREATE:case i.Algebra.types.MOVE:case i.Algebra.types.COPY:return{type:"exact",value:0,dataset:t.uri};case i.Algebra.types.PROJECT:case i.Algebra.types.FILTER:case i.Algebra.types.ORDER_BY:case i.Algebra.types.GROUP:case i.Algebra.types.CONSTRUCT:case i.Algebra.types.DISTINCT:case i.Algebra.types.REDUCED:case i.Algebra.types.EXTEND:case i.Algebra.types.FROM:case i.Algebra.types.GRAPH:return s(e.input,t);case i.Algebra.types.ZERO_OR_ONE_PATH:case i.Algebra.types.ZERO_OR_MORE_PATH:case i.Algebra.types.ONE_OR_MORE_PATH:case i.Algebra.types.INV:return s(e.path,t);case i.Algebra.types.PATH:return s(e.predicate,t);case i.Algebra.types.NPS:return h(e,t);case i.Algebra.types.LINK:return s(o.createPattern(a.variable("s"),e.iri,a.variable("o")),t);case i.Algebra.types.UNION:case i.Algebra.types.SEQ:case i.Algebra.types.ALT:return u(e.input,t);case i.Algebra.types.BGP:return d(e.patterns,t);case i.Algebra.types.JOIN:case i.Algebra.types.LEFT_JOIN:return d(e.input,t);case i.Algebra.types.SLICE:return l(e,t);case i.Algebra.types.MINUS:return c(e,t);case i.Algebra.types.VALUES:return{type:"exact",value:e.bindings.length,dataset:t.uri};case i.Algebra.types.SERVICE:case i.Algebra.types.DESCRIBE:case i.Algebra.types.EXPRESSION:case i.Algebra.types.PATTERN:return{type:"estimate",value:Number.POSITIVE_INFINITY,dataset:t.uri}}}function c(e,t){const r=s(e.input[0],t),n=s(e.input[1],t);return{type:"estimate",value:Math.max(r.value-n.value,0),dataset:t.uri}}function l(e,t){const r=s(e.input,t);return r.value>0&&(r.value=Math.max(r.value-e.start,0),void 0!==e.length&&(r.value=Math.min(r.value,e.length))),r}function u(e,t){const r={type:"exact",value:0,dataset:t.uri};for(const n of e){const e=s(n,t);"estimate"===e.type&&"exact"===r.type&&(r.type=e.type),e.value>0&&(r.value+=e.value)}return r}function d(e,t){const r=[];for(const n of e){const e=i.Util.inScopeVariables(n).map(e=>e.value),t=r.find(t=>e.some(e=>t.vars.has(e)));if(t){t.ops.push(n);for(const r of e)t.vars.add(r)}else r.push({ops:[n],vars:new Set(e)})}return{type:"estimate",value:r.map(e=>Math.min(...e.ops.map(e=>s(e,t).value))).reduce((e,t)=>e*t,1),dataset:t.uri}}function h(e,t){const r=s(o.createSeq([...e.iris].reverse().map(e=>o.createLink(e))),t),n=s(o.createPattern(a.variable("s"),a.variable("p"),a.variable("o")),t);return{type:"estimate",value:Math.max(0,n.value-r.value),dataset:t.uri}}t.estimateCardinality=s,t.estimateMinusCardinality=c,t.estimateSliceCardinality=l,t.estimateUnionCardinality=u,t.estimateJoinCardinality=d,t.estimateNpsCardinality=h},25985:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryResultSerializeSparqlTsv=void 0;const n=r(16746),i=r(13953),a=r(57655),o=r(94051);class s extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToTsvBindings(e){return e?(0,a.termToString)(e).replaceAll("\t","\\t").replaceAll("\n","\\n").replaceAll("\r","\\r"):""}async testHandleChecked(e,t){return"bindings"!==e.type?(0,i.failTest)("This actor can only handle bindings streams."):(0,i.passTestVoid)()}async runHandle(e,t,r){const n=e,i=new o.Readable,a=await n.metadata();return i.push("".concat(a.variables.map(e=>e.variable.value).join("\t"),"\n")),i.wrap(n.bindingsStream.map(e=>"".concat(a.variables.map(t=>s.bindingToTsvBindings(e.get(t.variable))).join("\t"),"\n"))),{data:i}}}t.ActorQueryResultSerializeSparqlTsv=s},26068:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Mediator=void 0;class r{constructor(e){Object.assign(this,e)}publish(e){const t=this.bus.publish(e);if(0===t.length)throw new Error("No actors are able to reply to a message in the bus ".concat(this.bus.name));return t}async mediateActor(e){return await this.mediateWith(e,this.publish(e))}async mediateTestable(e){return(await this.mediateActor(e)).mapAsync((t,r)=>t.runObservable(e,r))}async mediate(e){return(await this.mediateTestable(e)).getOrThrow()}constructFailureMessage(e,t){const n="\n        ",i=this.bus.failMessage.replaceAll(/\$\{((?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*?)\}/g,(t,n)=>r.getObjectValue({action:e},n.split("."))||t);return"".concat(i,"\n    Error messages of failing actors:").concat(n).concat(t.join(n))}static getObjectValue(e,t){return 0===t.length?e:e?r.getObjectValue(e[t[0]],t.slice(1)):void 0}}t.Mediator=r},26298:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(31519),t)},26382:(e,t,r)=>{"use strict";const n=r(34445),i=r(6900),a="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){+e!=e&&(e=0);return c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const o=2147483647;function s(e){if(e>o)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,r)}function l(e,t,r){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|g(e,t);let n=s(r);const i=n.write(e,t);i!==r&&(n=n.slice(0,i));return n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(K(e,Uint8Array)){const t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return h(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(K(e,ArrayBuffer)||e&&K(e.buffer,ArrayBuffer))return p(e,t,r);if("undefined"!==typeof SharedArrayBuffer&&(K(e,SharedArrayBuffer)||e&&K(e.buffer,SharedArrayBuffer)))return p(e,t,r);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|f(e.length),r=s(t);return 0===r.length||e.copy(r,0,0,t),r}if(void 0!==e.length)return"number"!==typeof e.length||$(e.length)?s(0):h(e);if("Buffer"===e.type&&Array.isArray(e.data))return h(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),s(e<0?0:0|f(e))}function h(e){const t=e.length<0?0:0|f(e.length),r=s(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function p(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function f(e){if(e>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return 0|e}function g(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||K(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return H(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return W(e).length;default:if(i)return n?-1:H(e).length;t=(""+t).toLowerCase(),i=!0}}function y(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return j(this,t,r);case"utf8":case"utf-8":return E(this,t,r);case"ascii":return P(this,t,r);case"latin1":case"binary":return N(this,t,r);case"base64":return O(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function m(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return-1;if("string"===typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),$(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"===typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:b(e,t,r,n,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):b(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function b(e,t,r,n,i){let a,o=1,s=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,s/=2,c/=2,r/=2}function l(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){let n=-1;for(a=r;a<s;a++)if(l(e,a)===l(t,-1===n?0:a-n)){if(-1===n&&(n=a),a-n+1===c)return n*o}else-1!==n&&(a-=a-n),n=-1}else for(r+c>s&&(r=s-c),a=r;a>=0;a--){let r=!0;for(let n=0;n<c;n++)if(l(e,a+n)!==l(t,n)){r=!1;break}if(r)return a}return-1}function _(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const a=t.length;let o;for(n>a/2&&(n=a/2),o=0;o<n;++o){const n=parseInt(t.substr(2*o,2),16);if($(n))return o;e[r+o]=n}return o}function w(e,t,r,n){return X(H(t,e.length-r),e,r,n)}function x(e,t,r,n){return X(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function S(e,t,r,n){return X(W(t),e,r,n)}function T(e,t,r,n){return X(function(e,t){let r,n,i;const a=[];for(let o=0;o<e.length&&!((t-=2)<0);++o)r=e.charCodeAt(o),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function O(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function E(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let a=null,o=t>239?4:t>223?3:t>191?2:1;if(i+o<=r){let r,n,s,c;switch(o){case 1:t<128&&(a=t);break;case 2:r=e[i+1],128===(192&r)&&(c=(31&t)<<6|63&r,c>127&&(a=c));break;case 3:r=e[i+1],n=e[i+2],128===(192&r)&&128===(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],128===(192&r)&&128===(192&n)&&128===(192&s)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s,c>65535&&c<1114112&&(a=c))}}null===a?(a=65533,o=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=o}return function(e){const t=e.length;if(t<=A)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=A));return r}(n)}t.kMaxLength=o,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return u(e),e<=0?s(e):void 0!==t?"string"===typeof r?s(e).fill(t,r):s(e).fill(t):s(e)}(e,t,r)},c.allocUnsafe=function(e){return d(e)},c.allocUnsafeSlow=function(e){return d(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(K(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),K(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(K(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=g,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?E(this,0,e):y.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(K(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let a=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0);const s=Math.min(a,o),l=this.slice(n,i),u=e.slice(t,r);for(let c=0;c<s;++c)if(l[c]!==u[c]){a=l[c],o=u[c];break}return a<o?-1:o<a?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"===typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let a=!1;for(;;)switch(n){case"hex":return _(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":case"latin1":case"binary":return x(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const A=4096;function P(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function N(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function j(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let a=t;a<r;++a)i+=Y[e[a]];return i}function D(e,t,r){const n=e.slice(t,r);let i="";for(let a=0;a<n.length-1;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function R(e,t,r){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function F(e,t,r,n,i){z(t,n,i,e,r,7);let a=Number(t&BigInt(4294967295));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,r}function C(e,t,r,n,i){z(t,n,i,e,r,7);let a=Number(t&BigInt(4294967295));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;let o=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=o,o>>=8,e[r+2]=o,o>>=8,e[r+1]=o,o>>=8,e[r]=o,r+8}function M(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function k(e,t,r,n,a){return t=+t,r>>>=0,a||M(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function L(e,t,r,n,a){return t=+t,r>>>=0,a||M(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=J(function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Q(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))}),c.prototype.readBigUInt64BE=J(function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Q(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);let n=t,i=1,a=this[e+--n];for(;n>0&&(i*=256);)a+=this[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=J(function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Q(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)}),c.prototype.readBigInt64BE=J(function(e){q(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||Q(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)}),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){I(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){I(this,e,t,r,Math.pow(2,8*r)-1,0)}let i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=J(function(e){return F(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeBigUInt64BE=J(function(e){return C(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,BigInt(0),BigInt("0xffffffffffffffff"))}),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);I(this,e,t,r,n-1,-n)}let i=0,a=1,o=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===o&&0!==this[t+i-1]&&(o=1),this[t+i]=(e/a|0)-o&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);I(this,e,t,r,n-1,-n)}let i=r-1,a=1,o=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===o&&0!==this[t+i+1]&&(o=1),this[t+i]=(e/a|0)-o&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=J(function(e){return F(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeBigInt64BE=J(function(e){return C(this,e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),c.prototype.writeFloatLE=function(e,t,r){return k(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return k(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return L(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return L(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"===typeof e){if("string"===typeof t?(n=t,t=0,r=this.length):"string"===typeof r&&(n=r,r=this.length),void 0!==n&&"string"!==typeof n)throw new TypeError("encoding must be a string");if("string"===typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"===typeof e)for(i=t;i<r;++i)this[i]=e;else{const a=c.isBuffer(e)?e:c.from(e,n),o=a.length;if(0===o)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%o]}return this};const B={};function U(e,t,r){B[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(e,"]"),this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}}function V(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function z(e,t,r,n,i,a){if(e>r||e<t){const n="bigint"===typeof t?"n":"";let i;throw i=a>3?0===t||t===BigInt(0)?">= 0".concat(n," and < 2").concat(n," ** ").concat(8*(a+1)).concat(n):">= -(2".concat(n," ** ").concat(8*(a+1)-1).concat(n,") and < 2 ** ")+"".concat(8*(a+1)-1).concat(n):">= ".concat(t).concat(n," and <= ").concat(r).concat(n),new B.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){q(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||Q(t,e.length-(r+1))}(n,i,a)}function q(e,t){if("number"!==typeof e)throw new B.ERR_INVALID_ARG_TYPE(t,"number",e)}function Q(e,t,r){if(Math.floor(e)!==e)throw q(e,r),new B.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new B.ERR_BUFFER_OUT_OF_BOUNDS;throw new B.ERR_OUT_OF_RANGE(r||"offset",">= ".concat(r?1:0," and <= ").concat(t),e)}U("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?"".concat(e," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),U("ERR_INVALID_ARG_TYPE",function(e,t){return'The "'.concat(e,'" argument must be of type number. Received type ').concat(typeof t)},TypeError),U("ERR_OUT_OF_RANGE",function(e,t,r){let n='The value of "'.concat(e,'" is out of range.'),i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=V(String(r)):"bigint"===typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=V(i)),i+="n"),n+=" It must be ".concat(t,". Received ").concat(i),n},RangeError);const G=/[^+/0-9A-Za-z-_]/g;function H(e,t){let r;t=t||1/0;const n=e.length;let i=null;const a=[];for(let o=0;o<n;++o){if(r=e.charCodeAt(o),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function W(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(G,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function X(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function K(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function $(e){return e!==e}const Y=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function J(e){return"undefined"===typeof BigInt?Z:e}function Z(){throw new Error("BigInt not supported")}},26549:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(35178),t)},26597:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryParse=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e)}}t.ActorQueryParse=i},26638:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(59948),t)},26817:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationAsk=void 0;const n=r(52241),i=r(13953),a=r(89266);class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"ask")}async testOperation(e,t){return(0,i.passTestVoid)()}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),{bindingsStream:n}=(0,a.getSafeBindings)(r);return{type:"boolean",execute:async()=>1===(await n.take(1).toArray()).length}}}t.ActorQueryOperationAsk=o},27162:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BusFunctionFactory=void 0;const i=r(13953);class a extends i.BusIndexed{constructor(e){super(n(n({},e),{},{actorIdentifierFields:["functionNames"],actionIdentifierFields:["functionName"]}))}}t.BusFunctionFactory=a},27284:e=>{"use strict";var t,r="object"===typeof Reflect?Reflect:null,n=r&&"function"===typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!==e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise(function(r,n){function i(r){e.removeListener(t,a),n(r)}function a(){"function"===typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}g(e,t,a,{once:!0}),"error"!==t&&function(e,t,r){"function"===typeof e.on&&g(e,"error",t,r)}(e,i,{once:!0})})},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var o=10;function s(e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function l(e,t,r,n){var i,a,o,l;if(s(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),o=a[t]),void 0===o)o=a[t]=r,++e._eventsCount;else if("function"===typeof o?o=a[t]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=c(e))>0&&o.length>i&&!o.warned){o.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=t,u.count=o.length,l=u,console&&console.warn&&console.warn(l)}return e}function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function d(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=u.bind(n);return i.listener=r,n.wrapFn=i,i}function h(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"===typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):f(i,i.length)}function p(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"===typeof r)return 1;if(void 0!==r)return r.length}return 0}function f(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function g(e,t,r,n){if("function"===typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!==typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,function i(a){n.once&&e.removeEventListener(t,i),r(a)})}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!==typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var s=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw s.context=o,s}var c=a[e];if(void 0===c)return!1;if("function"===typeof c)n(c,this,t);else{var l=c.length,u=f(c,l);for(r=0;r<l;++r)n(u[r],this,t)}return!0},a.prototype.addListener=function(e,t){return l(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return l(this,e,t,!0)},a.prototype.once=function(e,t){return s(t),this.on(e,d(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return s(t),this.prependListener(e,d(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,a,o;if(s(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0===--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!==typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){o=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0===--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"===typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return h(this,e,!0)},a.prototype.rawListeners=function(e){return h(this,e,!1)},a.listenerCount=function(e,t){return"function"===typeof e.listenerCount?e.listenerCount(t):p.call(e,t)},a.prototype.listenerCount=p,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},27546:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermRegex=void 0;const i=r(11716),a=r(97824),o=r(6477);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.REGEX],termFunction:!0}))}async run(e){return new o.TermFunctionRegex}}t.ActorFunctionFactoryTermRegex=s},27560:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.QueryEngineBase=void 0,i(r(22273),t),i(r(48713),t);var a=r(71282);Object.defineProperty(t,"QueryEngineBase",{enumerable:!0,get:function(){return a.QueryEngineBase}})},27644:(e,t,r)=>{"use strict";r.d(t,{A:()=>g});var n=r(57103),i=r(24209),a=r(44539),o=r(3191),s=r(14176);const c=i.Ay.defaultGraph(),{rdf:l,xsd:u}=n.A,d=/["\\\t\n\r\b\f\u0000-\u0019\ud800-\udbff]/,h=/["\\\t\n\r\b\f\u0000-\u0019]|[\ud800-\udbff][\udc00-\udfff]/g,p={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};class f extends i.x1{equals(e){return e===this}}class g{constructor(e,t){if(this._prefixRegex=/$0^/,e&&"function"!==typeof e.write&&(t=e,e=null),t=t||{},this._lists=t.lists,e)this._outputStream=e,this._endStream=void 0===t.end||!!t.end;else{let e="";this._outputStream={write(t,r,n){e+=t,n&&n()},end:t=>{t&&t(null,e)}},this._endStream=!0}this._subject=null,/triple|quad/i.test(t.format)?(this._lineMode=!0,this._writeQuad=this._writeQuadLine):(this._lineMode=!1,this._graph=c,this._prefixIRIs=Object.create(null),t.prefixes&&this.addPrefixes(t.prefixes),t.baseIRI&&(this._baseIri=new o.A(t.baseIRI)))}get _inDefaultGraph(){return c.equals(this._graph)}_write(e,t){this._outputStream.write(e,"utf8",t)}_writeQuad(e,t,r,n,i){try{n.equals(this._graph)||(this._write((null===this._subject?"":this._inDefaultGraph?".\n":"\n}\n")+(c.equals(n)?"":"".concat(this._encodeIriOrBlank(n)," {\n"))),this._graph=n,this._subject=null),e.equals(this._subject)?t.equals(this._predicate)?this._write(", ".concat(this._encodeObject(r)),i):this._write(";\n    ".concat(this._encodePredicate(this._predicate=t)," ").concat(this._encodeObject(r)),i):this._write("".concat((null===this._subject?"":".\n")+this._encodeSubject(this._subject=e)," ").concat(this._encodePredicate(this._predicate=t)," ").concat(this._encodeObject(r)),i)}catch(a){i&&i(a)}}_writeQuadLine(e,t,r,n,i){delete this._prefixMatch,this._write(this.quadToString(e,t,r,n),i)}quadToString(e,t,r,n){return"".concat(this._encodeSubject(e)," ").concat(this._encodeIriOrBlank(t)," ").concat(this._encodeObject(r)).concat(n&&n.value?" ".concat(this._encodeIriOrBlank(n)," .\n"):" .\n")}quadsToString(e){let t="";for(const r of e)t+=this.quadToString(r.subject,r.predicate,r.object,r.graph);return t}_encodeSubject(e){return"Quad"===e.termType?this._encodeQuad(e):this._encodeIriOrBlank(e)}_encodeIriOrBlank(e){if("NamedNode"!==e.termType)return this._lists&&e.value in this._lists&&(e=this.list(this._lists[e.value])),"id"in e?e.id:"_:".concat(e.value);let t=e.value;this._baseIri&&(t=this._baseIri.toRelative(t)),d.test(t)&&(t=t.replace(h,y));const r=this._prefixRegex.exec(t);return r?r[1]?this._prefixIRIs[r[1]]+r[2]:t:"<".concat(t,">")}_encodeLiteral(e){let t=e.value;if(d.test(t)&&(t=t.replace(h,y)),e.language)return'"'.concat(t,'"@').concat(e.language);if(this._lineMode){if(e.datatype.value===u.string)return'"'.concat(t,'"')}else switch(e.datatype.value){case u.string:return'"'.concat(t,'"');case u.boolean:if("true"===t||"false"===t)return t;break;case u.integer:if(/^[+-]?\d+$/.test(t))return t;break;case u.decimal:if(/^[+-]?\d*\.\d+$/.test(t))return t;break;case u.double:if(/^[+-]?(?:\d+\.\d*|\.?\d+)[eE][+-]?\d+$/.test(t))return t}return'"'.concat(t,'"^^').concat(this._encodeIriOrBlank(e.datatype))}_encodePredicate(e){return e.value===l.type?"a":this._encodeIriOrBlank(e)}_encodeObject(e){switch(e.termType){case"Quad":return this._encodeQuad(e);case"Literal":return this._encodeLiteral(e);default:return this._encodeIriOrBlank(e)}}_encodeQuad(e){let{subject:t,predicate:r,object:n,graph:i}=e;return"<<".concat(this._encodeSubject(t)," ").concat(this._encodePredicate(r)," ").concat(this._encodeObject(n)).concat((0,a.isDefaultGraph)(i)?"":" ".concat(this._encodeIriOrBlank(i)),">>")}_blockedWrite(){throw new Error("Cannot write because the writer has been closed.")}addQuad(e,t,r,n,i){void 0===r?this._writeQuad(e.subject,e.predicate,e.object,e.graph,t):"function"===typeof n?this._writeQuad(e,t,r,c,n):this._writeQuad(e,t,r,n||c,i)}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}addPrefix(e,t,r){const n={};n[e]=t,this.addPrefixes(n,r)}addPrefixes(e,t){if(!this._prefixIRIs)return t&&t();let r=!1;for(let n in e){let t=e[n];"string"!==typeof t&&(t=t.value),r=!0,null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null,this._graph=""),this._prefixIRIs[t]=n+=":",this._write("@prefix ".concat(n," <").concat(t,">.\n"))}if(r){let e="",t="";for(const r in this._prefixIRIs)e+=e?"|".concat(r):r,t+=(t?"|":"")+this._prefixIRIs[r];e=(0,s.$)(e,/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&"),this._prefixRegex=new RegExp("^(?:".concat(t,")[^/]*$|")+"^(".concat(e,")([_a-zA-Z0-9][\\-_a-zA-Z0-9]*)$"))}this._write(r?"\n":"",t)}blank(e,t){let r,n,i=e;switch(void 0===e?i=[]:e.termType?i=[{predicate:e,object:t}]:"length"in e||(i=[e]),n=i.length){case 0:return new f("[]");case 1:if(r=i[0],!(r.object instanceof f))return new f("[ ".concat(this._encodePredicate(r.predicate)," ").concat(this._encodeObject(r.object)," ]"));default:let t="[";for(let a=0;a<n;a++)r=i[a],r.predicate.equals(e)?t+=", ".concat(this._encodeObject(r.object)):(t+="".concat((a?";\n  ":"\n  ")+this._encodePredicate(r.predicate)," ").concat(this._encodeObject(r.object)),e=r.predicate);return new f("".concat(t,"\n]"))}}list(e){const t=e&&e.length||0,r=new Array(t);for(let n=0;n<t;n++)r[n]=this._encodeObject(e[n]);return new f("(".concat(r.join(" "),")"))}end(e){null!==this._subject&&(this._write(this._inDefaultGraph?".\n":"\n}\n"),this._subject=null),this._write=this._blockedWrite;let t=e&&((r,n)=>{t=null,e(r,n)});if(this._endStream)try{return this._outputStream.end(t)}catch(r){}t&&t()}}function y(e){let t=p[e];return void 0===t&&(1===e.length?(t=e.charCodeAt(0).toString(16),t="\\u0000".substr(0,6-t.length)+t):(t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16),t="\\U00000000".substr(0,10-t.length)+t)),t}},27650:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(41474),t)},27817:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.parseDayTimeDuration=t.parseYearMonthDuration=t.parseDuration=t.parseTime=t.parseDate=t.parseDateTime=t.parseXSDDecimal=t.parseXSDFloat=void 0;const i=r(14975),a=r(48526),o=r(37492);function s(e){if(""===e)return{zoneHours:void 0,zoneMinutes:void 0};if("Z"===e)return{zoneHours:0,zoneMinutes:0};const t=e.replaceAll(/^([\+\x2D\|])([0-9][0-9]):([0-9][0-9])$/g,"$11!$2!$3").split("!").map(Number);return{zoneHours:t[0]*t[1],zoneMinutes:t[0]*t[2]}}function c(e){const t=e.replaceAll(/^(-)?([1-9]*[0-9]{4})-([0-9][0-9])-([0-9][0-9])(Z|([\+\x2D][0-9][0-9]:[0-9][0-9]))?$/g,"$11!$2!$3!$4!$5");if(t===e)throw new a.ParseError(e,"date");const r=t.split("!"),i=r.slice(0,-1).map(Number),c=n({year:i[0]*i[1],month:i[2],day:i[3]},s(r[4]));if(!(c.month>=1&&c.month<=12)||!(c.day>=1&&c.day<=(0,o.maximumDayInMonthFor)(c.year,c.month)))throw new a.ParseError(e,"date");return c}function l(e){const t=e.replaceAll(/^([0-9][0-9]):([0-9][0-9]):([0-9][0-9](\.[0-9]+)?)(Z|([\+\x2D][0-9][0-9]:[0-9][0-9]))?$/g,"$1!$2!$3!$5");if(t===e)throw new a.ParseError(e,"time");const r=t.split("!"),i=r.slice(0,-1).map(Number),o=n({hours:i[0],minutes:i[1],seconds:i[2]},s(r[3]));if(o.seconds>=60||o.minutes>=60||o.hours>24||24===o.hours&&(0!==o.minutes||0!==o.seconds))throw new a.ParseError(e,"time");return o}function u(e){const[t,r]=e.split("T"),n=t.replaceAll(/^(-)?P([0-9]+Y)?([0-9]+M)?([0-9]+D)?$/g,"$11S!$2!$3!$4");if(n===t)throw new a.ParseError(e,"duration");const o=n.split("!");if(void 0!==r){const t=r.replaceAll(/^([0-9]+H)?([0-9]+M)?([0-9]+(\.[0-9]+)?S)?$/g,"$1!$2!$3");if(""===r||r===t)throw new a.ParseError(e,"duration");o.push(...t.split("!"))}const s=o.map(e=>e.slice(0,-1));if(!s.slice(1).some(Boolean))throw new a.ParseError(e,"duration");const c=Number(s[0]);return(0,i.simplifyDurationRepresentation)({year:s[1]?c*Number(s[1]):void 0,month:s[2]?c*Number(s[2]):void 0,day:s[3]?c*Number(s[3]):void 0,hours:s[4]?c*Number(s[4]):void 0,minutes:s[5]?c*Number(s[5]):void 0,seconds:s[6]?c*Number(s[6]):void 0})}t.parseXSDFloat=function(e){const t=Number(e);return Number.isNaN(t)?"NaN"===e?Number.NaN:"INF"===e||"+INF"===e?Number.POSITIVE_INFINITY:"-INF"===e?Number.NEGATIVE_INFINITY:void 0:t},t.parseXSDDecimal=function(e){const t=Number(e);return Number.isNaN(t)?void 0:t},t.parseDateTime=function(e){const[t,r]=e.split("T");if(void 0===r)throw new a.ParseError(e,"dateTime");return n(n({},c(t)),l(r))},t.parseDate=c,t.parseTime=function(e){const t=l(e);return t.hours%=24,t},t.parseDuration=u,t.parseYearMonthDuration=function(e){const t=u(e);if(["hours","minutes","seconds","day"].some(e=>Boolean(t[e])))throw new a.ParseError(e,"yearMonthDuration");return t},t.parseDayTimeDuration=function(e){const t=u(e);if(["year","month"].some(e=>Boolean(t[e])))throw new a.ParseError(e,"dayTimeDuration");return t}},27855:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationDrop=void 0;const n=r(52241),i=r(52840),a=r(89266);class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"drop")}async testOperation(e,t){return(0,a.testReadOnly)(t)}async runOperation(e,t){const r=t.getSafe(i.KeysInitQuery.dataFactory);let n;n="DEFAULT"===e.source?r.defaultGraph():"string"===typeof e.source?e.source:[e.source];const{execute:a}=await this.mediatorUpdateQuads.mediate({deleteGraphs:{graphs:n,requireExistence:!e.silent,dropGraphs:!0},context:t});return{type:"void",execute:a}}}t.ActorQueryOperationDrop=o},28094:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},28132:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(93830),t),i(r(75740),t),i(r(81838),t),i(r(34381),t)},28215:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Literal=void 0;const n=r(34017);class i{constructor(e,t){this.termType="Literal",this.value=e,"string"===typeof t?(this.language=t,this.datatype=i.RDF_LANGUAGE_STRING,this.direction=""):t?"termType"in t?(this.language="",this.datatype=t,this.direction=""):(this.language=t.language,this.datatype=t.direction?i.RDF_DIRECTIONAL_LANGUAGE_STRING:i.RDF_LANGUAGE_STRING,this.direction=t.direction||""):(this.language="",this.datatype=i.XSD_STRING,this.direction="")}equals(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&(e.direction===this.direction||!e.direction&&""===this.direction)&&this.datatype.equals(e.datatype)}}t.Literal=i,i.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.RDF_DIRECTIONAL_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),i.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string")},28217:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperationDescribeToConstructsSubject=void 0;const n=r(49065),i=r(52840),a=r(13953),o=r(85160);class s extends n.ActorOptimizeQueryOperation{constructor(e){super(e)}async test(e){return e.operation.type!==o.Algebra.types.DESCRIBE?(0,a.failTest)("Actor ".concat(this.name," only supports describe operations, but got ").concat(e.operation.type)):(0,a.passTest)(!0)}async run(e){const t=e.context.getSafe(i.KeysInitQuery.dataFactory),r=new o.Factory(t),n=e.operation,a=n.terms.filter(e=>"Variable"!==e.termType).map(e=>{const r=[t.quad(e,t.variable("__predicate"),t.variable("__object"))];r.forEach(e=>e.type="pattern");return{input:{type:o.Algebra.types.BGP,patterns:r},template:r,type:"construct"}});if(a.length!==n.terms.length){let e=[];n.terms.filter(e=>"Variable"===e.termType).forEach((r,n)=>{const i=[t.quad(r,t.variable("__predicate".concat(n)),t.variable("__object".concat(n)))];i.forEach(e=>e.type="pattern"),e=[...e,...i]}),a.push({input:{type:o.Algebra.types.JOIN,input:[n.input,{type:o.Algebra.types.BGP,patterns:e}]},template:e,type:o.Algebra.types.CONSTRUCT})}return{operation:r.createUnion(a,!1),context:e.context}}}t.ActorOptimizeQueryOperationDescribeToConstructsSubject=s},28303:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(30626),t)},28404:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationFromQuad=void 0;const n=r(52241),i=r(52840),a=r(13953),o=r(85160);class s extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"from")}static copyOperation(e,t){const r={};for(const n of Object.keys(e))Array.isArray(e[n])&&"template"!==n?r[n]="variables"===n?e[n]:e[n].map(t):s.ALGEBRA_TYPES.includes(e[n].type)?r[n]=t(e[n]):r[n]=e[n];return r}static applyOperationDefaultGraph(e,t,r){if("bgp"===t.type&&t.patterns.length>0||"path"===t.type||"pattern"===t.type){if("bgp"===t.type)return s.joinOperations(e,t.patterns.map(t=>{if("DefaultGraph"!==t.graph.termType)return e.createBgp([t]);const n=r.map(r=>e.createBgp([Object.assign(e.createPattern(t.subject,t.predicate,t.object,r),{metadata:t.metadata})]));return s.unionOperations(e,n)}));if("DefaultGraph"!==t.graph.termType)return t;const n=r.map(r=>"path"===t.type?e.createPath(t.subject,t.predicate,t.object,r):Object.assign(e.createPattern(t.subject,t.predicate,t.object,r),{metadata:t.metadata}));return s.unionOperations(e,n)}return s.copyOperation(t,t=>this.applyOperationDefaultGraph(e,t,r))}static applyOperationNamedGraph(e,t,r,n){if("bgp"===t.type&&t.patterns.length>0||"path"===t.type||"pattern"===t.type){const i="bgp"===t.type?t.patterns[0].graph:t.graph;if("DefaultGraph"===i.termType)return{type:o.Algebra.types.BGP,patterns:[]};if("Variable"===i.termType){if(1===r.length){const n=r[0],a={};a["?".concat(i.value)]=n;const o=e.createValues([i],[a]);let s;return s="bgp"===t.type?e.createBgp(t.patterns.map(t=>e.createPattern(t.subject,t.predicate,t.object,n))):"path"===t.type?e.createPath(t.subject,t.predicate,t.object,n):e.createPattern(t.subject,t.predicate,t.object,n),e.createJoin([o,s])}return s.unionOperations(e,r.map(r=>s.applyOperationNamedGraph(e,t,[r],n)))}return[...r,...n].some(e=>e.equals(i))?t:{type:o.Algebra.types.BGP,patterns:[]}}return s.copyOperation(t,t=>this.applyOperationNamedGraph(e,t,r,n))}static joinOperations(e,t){if(1===t.length)return t[0];if(t.length>1)return e.createJoin(t);throw new Error("A join can only be applied on at least one operation")}static unionOperations(e,t){if(1===t.length)return t[0];if(t.length>1)return e.createUnion(t);throw new Error("A union can only be applied on at least one operation")}static createOperation(e,t){let r=t.input;return t.default.length>0&&(r=s.applyOperationDefaultGraph(e,r,t.default)),(t.named.length>0||t.default.length>0)&&(r=s.applyOperationNamedGraph(e,r,t.named,t.default)),r}async testOperation(e,t){return(0,a.passTestVoid)()}async runOperation(e,t){const r=t.getSafe(i.KeysInitQuery.dataFactory),n=new o.Factory(r),a=s.createOperation(n,e);return this.mediatorQueryOperation.mediate({operation:a,context:t})}}t.ActorQueryOperationFromQuad=s,s.ALGEBRA_TYPES=Object.keys(o.Algebra.types).map(e=>o.Algebra.types[e])},28646:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermTz=void 0;const i=r(11716),a=r(97824),o=r(72519);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.TZ],termFunction:!0}))}async run(e){return new o.TermFunctionTz}}t.ActorFunctionFactoryTermTz=s},28680:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expressionTypes=t.types=void 0,function(e){e.ALT="alt",e.ASK="ask",e.BGP="bgp",e.CONSTRUCT="construct",e.DESCRIBE="describe",e.DISTINCT="distinct",e.EXPRESSION="expression",e.EXTEND="extend",e.FILTER="filter",e.FROM="from",e.GRAPH="graph",e.GROUP="group",e.INV="inv",e.JOIN="join",e.LEFT_JOIN="leftjoin",e.LINK="link",e.MINUS="minus",e.NOP="nop",e.NPS="nps",e.ONE_OR_MORE_PATH="OneOrMorePath",e.ORDER_BY="orderby",e.PATH="path",e.PATTERN="pattern",e.PROJECT="project",e.REDUCED="reduced",e.SEQ="seq",e.SERVICE="service",e.SLICE="slice",e.UNION="union",e.VALUES="values",e.ZERO_OR_MORE_PATH="ZeroOrMorePath",e.ZERO_OR_ONE_PATH="ZeroOrOnePath",e.COMPOSITE_UPDATE="compositeupdate",e.DELETE_INSERT="deleteinsert",e.LOAD="load",e.CLEAR="clear",e.CREATE="create",e.DROP="drop",e.ADD="add",e.MOVE="move",e.COPY="copy"}(t.types||(t.types={})),function(e){e.AGGREGATE="aggregate",e.EXISTENCE="existence",e.NAMED="named",e.OPERATOR="operator",e.TERM="term",e.WILDCARD="wildcard"}(t.expressionTypes||(t.expressionTypes={}))},28776:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermSha384=void 0;const i=r(11716),a=r(97824),o=r(90933);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.SHA384],termFunction:!0}))}async run(e){return new o.TermFunctionSha384}}t.ActorFunctionFactoryTermSha384=s},28909:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.materializeOperation=t.materializeTerm=void 0;const i=r(45494),a=r(57078),o=r(85160);function s(e,t){if("Variable"===e.termType){const r=t.get(e);if(r)return r}return"Quad"===e.termType&&(0,a.someTermsNested)(e,e=>"Variable"===e.termType)?(0,a.mapTermsNested)(e,e=>s(e,t)):e}function c(e,t,r){const n=[];for(const[a,o]of t)if(!r||r.some(e=>e.equals(a))){const t={[(0,i.termToString)(a)]:o};n.push(e.createValues([a],[t]))}return n}t.materializeTerm=s,t.materializeOperation=function e(t,r,a,l){let u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return u={strictTargetVariables:"strictTargetVariables"in u&&u.strictTargetVariables,bindFilter:!("bindFilter"in u)||u.bindFilter,originalBindings:"originalBindings"in u?u.originalBindings:r},o.Util.mapOperation(t,{path:(e,t)=>({recurse:!1,result:Object.assign(t.createPath(s(e.subject,r),e.predicate,s(e.object,r),s(e.graph,r)),{metadata:e.metadata})}),pattern:(e,t)=>({recurse:!1,result:Object.assign(t.createPattern(s(e.subject,r),s(e.predicate,r),s(e.object,r),s(e.graph,r)),{metadata:e.metadata})}),join:(t,n)=>({recurse:!1,result:n.createJoin(t.input.map(t=>e(t,r,a,l,u)),t.input.every(e=>!e.metadata))}),extend(t){if(r.has(t.variable)){if(u.strictTargetVariables)throw new Error("Tried to bind variable ".concat((0,i.termToString)(t.variable)," in a BIND operator."));return{recurse:!0,result:e(t.input,r,a,l,u)}}return{recurse:!0,result:t}},group(e,t){if(u.strictTargetVariables){for(const t of e.variables)if(r.has(t))throw new Error("Tried to bind variable ".concat((0,i.termToString)(t)," in a GROUP BY operator."));return{recurse:!0,result:e}}const n=e.variables.filter(e=>!r.has(e));return{recurse:!0,result:t.createGroup(e.input,n,e.aggregates)}},filter(t,n){const i=u.originalBindings;if("operator"!==t.expression.expressionType||0===i.size)return{recurse:!1,result:t};const o=c(n,i),s=e(t.expression,r,a,l,u);let d=e(t.input,r,a,l,u);return o.length>0&&(d=n.createJoin([...o,d])),{recurse:!1,result:n.createFilter(d,s)}},project(t,n){const i=c(n,u.originalBindings,t.variables);let o=e(t.input,r,a,l,u);return i.length>0&&(o=n.createJoin([...i,o])),{recurse:!1,result:n.createProject(o,t.variables)}},values(e,t){if(!u.strictTargetVariables){const a=e.variables.filter(e=>!r.has(e)),o=e.bindings.map(e=>{const t=n({},e);let a=!0;return r.forEach((e,r)=>{const n=(0,i.termToString)(r);n in t&&(e.equals(t[n])||(a=!1),delete t[n])}),a?t:void 0}).filter(Boolean);return{recurse:!0,result:t.createValues(a,o)}}for(const n of e.variables)if(r.has(n))throw new Error("Tried to bind variable ".concat((0,i.termToString)(n)," in a VALUES operator."));return{recurse:!1,result:e}},expression(e,t){if(!u.bindFilter)return{recurse:!1,result:e};if("term"===e.expressionType)return{recurse:!1,result:t.createTermExpression(s(e.term,r))};if("operator"===e.expressionType)return"bound"===e.operator&&1===e.args.length&&"term"===e.args[0].expressionType&&[...r.keys()].some(t=>e.args[0].term.equals(t))?{recurse:!1,result:t.createTermExpression(t.dataFactory.literal("true",t.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")))}:{recurse:!0,result:e};if("aggregate"===e.expressionType&&"variable"in e&&r.has(e.variable)){if(u.strictTargetVariables)throw new Error("Tried to bind ".concat((0,i.termToString)(e.variable)," in a ").concat(e.aggregator," aggregate."));return{recurse:!0,result:e}}return{recurse:!0,result:e}}},a)}},28930:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(92748),t)},28931:e=>{"use strict";class t extends Error{constructor(e){if(!Array.isArray(e))throw new TypeError("Expected input to be an Array, got ".concat(typeof e));let t="";for(let r=0;r<e.length;r++)t+="    ".concat(e[r].stack,"\n");super(t),this.name="AggregateError",this.errors=e}}e.exports={AggregateError:t,ArrayIsArray:e=>Array.isArray(e),ArrayPrototypeIncludes:(e,t)=>e.includes(t),ArrayPrototypeIndexOf:(e,t)=>e.indexOf(t),ArrayPrototypeJoin:(e,t)=>e.join(t),ArrayPrototypeMap:(e,t)=>e.map(t),ArrayPrototypePop:(e,t)=>e.pop(t),ArrayPrototypePush:(e,t)=>e.push(t),ArrayPrototypeSlice:(e,t,r)=>e.slice(t,r),Error:Error,FunctionPrototypeCall(e,t){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i];return e.call(t,...n)},FunctionPrototypeSymbolHasInstance:(e,t)=>Function.prototype[Symbol.hasInstance].call(e,t),MathFloor:Math.floor,Number:Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties:(e,t)=>Object.defineProperties(e,t),ObjectDefineProperty:(e,t,r)=>Object.defineProperty(e,t,r),ObjectGetOwnPropertyDescriptor:(e,t)=>Object.getOwnPropertyDescriptor(e,t),ObjectKeys:e=>Object.keys(e),ObjectSetPrototypeOf:(e,t)=>Object.setPrototypeOf(e,t),Promise:Promise,PromisePrototypeCatch:(e,t)=>e.catch(t),PromisePrototypeThen:(e,t,r)=>e.then(t,r),PromiseReject:e=>Promise.reject(e),PromiseResolve:e=>Promise.resolve(e),ReflectApply:Reflect.apply,RegExpPrototypeTest:(e,t)=>e.test(t),SafeSet:Set,String:String,StringPrototypeSlice:(e,t,r)=>e.slice(t,r),StringPrototypeToLowerCase:e=>e.toLowerCase(),StringPrototypeToUpperCase:e=>e.toUpperCase(),StringPrototypeTrim:e=>e.trim(),Symbol:Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet:(e,t,r)=>e.set(t,r),Boolean:Boolean,Uint8Array:Uint8Array}},28971:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultExpandOptions=t.JsonLdContextNormalized=void 0;const n=r(67323),i=r(30962),a=r(4071);t.JsonLdContextNormalized=class{constructor(e){this.contextRaw=e}getContextRaw(){return this.contextRaw}expandTerm(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.defaultExpandOptions;const s=this.contextRaw[e];if(null===s||s&&null===s["@id"])return null;let c=!0;if(s&&r){const t=a.Util.getContextValueId(s);if(t&&t!==e){if("string"===typeof t&&(a.Util.isValidIri(t)||a.Util.isValidKeyword(t)))return t;a.Util.isPotentialKeyword(t)||(c=!1)}}const l=a.Util.getPrefix(e,this.contextRaw),u=this.contextRaw["@vocab"],d=(!!u||""===u)&&u.indexOf(":")<0,h=this.contextRaw["@base"],p=a.Util.isPotentialKeyword(e);if(l){const t=this.contextRaw[l],r=a.Util.getContextValueId(t);if(r){if("string"!==typeof t&&o.allowPrefixForcing){if("_"!==r[0]&&!p&&!t["@prefix"]&&!(e in this.contextRaw))return e}else if(!a.Util.isSimpleTermDefinitionPrefix(r,o))return e;return r+e.substr(l.length+1)}}else{if(r&&(u||""===u||o.allowVocabRelativeToBase&&h&&d)&&!p&&!a.Util.isCompactIri(e)){if(d){if(o.allowVocabRelativeToBase)return(u||h?(0,n.resolve)(u,h):"")+e;throw new i.ErrorCoded("Relative vocab expansion for term '".concat(e,"' with vocab '").concat(u,"' is not allowed."),i.ERROR_CODES.INVALID_VOCAB_MAPPING)}return u+e}if(!r&&h&&!p&&!a.Util.isCompactIri(e))return(0,n.resolve)(e,h)}if(c)return e;throw new i.ErrorCoded("Invalid IRI mapping found for context entry '".concat(e,"': '").concat(JSON.stringify(s),"'"),i.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(e,t){if(t&&this.contextRaw["@vocab"]&&e.startsWith(this.contextRaw["@vocab"]))return e.substr(this.contextRaw["@vocab"].length);if(!t&&this.contextRaw["@base"]&&e.startsWith(this.contextRaw["@base"]))return e.substr(this.contextRaw["@base"].length);const r={prefix:"",suffix:e};for(const n in this.contextRaw){const i=this.contextRaw[n];if(i&&!a.Util.isPotentialKeyword(n)){const o=a.Util.getContextValueId(i);if(e.startsWith(o)){const i=e.substr(o.length);if(i)i.length<r.suffix.length&&(r.prefix=n,r.suffix=i);else if(t)return n}}}return r.prefix?r.prefix+":"+r.suffix:e}},t.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},29091:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermUnaryMinus=void 0;const i=r(11716),a=r(97824),o=r(73266);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.UMINUS],termFunction:!0}))}async run(e){return new o.TermFunctionUnaryMinus}}t.ActorFunctionFactoryTermUnaryMinus=s},29221:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(73645),t)},29326:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(34196),t)},29390:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6033),t)},29448:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(19362),i=r(43480),a=r(66948);t.default=function(e,t,r){var o,s,c,l;if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const u=null!==(o=null!==(s=(e=e||{}).random)&&void 0!==s?s:null===(c=(l=e).rng)||void 0===c?void 0:c.call(l))&&void 0!==o?o:(0,i.default)();if(u.length<16)throw new Error("Random bytes length must be >= 16");if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,t){if((r=r||0)<0||r+16>t.length)throw new RangeError("UUID byte range ".concat(r,":").concat(r+15," is out of buffer bounds"));for(let e=0;e<16;++e)t[r+e]=u[e];return t}return(0,a.unsafeStringify)(u)}},29548:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorExpressionEvaluatorFactoryDefault=void 0;const n=r(47902),i=r(52840),a=r(13953),o=r(7979),s=r(97824),c=r(51272),l=r(31088);class u extends n.ActorExpressionEvaluatorFactory{constructor(e){super(e)}async test(e){return(0,a.passTestVoid)()}async run(e){const t=(0,s.prepareEvaluatorActionContext)(e.context);return new l.ExpressionEvaluator(t,await new c.AlgebraTransformer(t,this.mediatorFunctionFactory).transformAlgebra(e.algExpr),this.mediatorFunctionFactory,this.mediatorQueryOperation,await o.BindingsFactory.create(this.mediatorMergeBindingsContext,e.context,e.context.getSafe(i.KeysInitQuery.dataFactory)))}}t.ActorExpressionEvaluatorFactoryDefault=u},29551:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(92662),t)},29646:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionStrStarts=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:2,operator:i.SparqlOperator.STRSTARTS,overloads:(0,i.declare)(i.SparqlOperator.STRSTARTS).onBinaryTyped([i.TypeAlias.SPARQL_STRINGLY,i.TypeURL.XSD_STRING],()=>(e,t)=>(0,i.bool)(e.startsWith(t))).onBinary([i.TypeURL.RDF_LANG_STRING,i.TypeURL.RDF_LANG_STRING],()=>(e,t)=>{if(e.language!==t.language)throw new i.IncompatibleLanguageOperation(e,t);return(0,i.bool)(e.typedValue.startsWith(t.typedValue))}).collect()})}}t.TermFunctionStrStarts=a},29829:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(35138),t)},29869:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionRand=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:0,operator:i.SparqlOperator.RAND,overloads:(0,i.declare)(i.SparqlOperator.RAND).set([],()=>()=>(0,i.double)(Math.random())).collect()})}}t.TermFunctionRand=a},29908:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getShaclName=void 0,t.getShaclName=function(e){if("NamedNode"!==e.termType||!e.value.startsWith("http://www.w3.org/ns/shacl#"))throw new Error("Term ".concat(e.value," is not part of the SHACL namespace"));return e.value.slice(27)}},29933:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FetchDocumentLoader=void 0;const n=r(30962),i=r(76915),a=r(67323);t.FetchDocumentLoader=class{constructor(e){this.fetcher=e}async load(e){const t=await(this.fetcher||fetch)(e,{headers:new Headers({accept:"application/ld+json"})});if(t.ok&&t.headers){let r=t.headers.get("Content-Type");if(r){const e=r.indexOf(";");e>0&&(r=r.substr(0,e))}if("application/ld+json"===r)return await t.json();if(t.headers.has("Link")){let r;if(t.headers.forEach((t,n)=>{if("link"===n){const n=(0,i.parse)(t);for(const t of n.get("type","application/ld+json"))if("alternate"===t.rel){if(r)throw new Error("Multiple JSON-LD alternate links were found on "+e);r=(0,a.resolve)(t.uri,e)}}}),r)return this.load(r)}throw new n.ErrorCoded("Unsupported JSON-LD media type ".concat(r),n.ERROR_CODES.LOADING_DOCUMENT_FAILED)}throw new Error(t.statusText||"Status code: ".concat(t.status))}}},30006:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermXsdToDuration=void 0;const i=r(11716),a=r(97824),o=r(48237);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.TypeURL.XSD_DURATION],termFunction:!0}))}async run(e){return new o.TermFunctionXsdToDuration}}t.ActorFunctionFactoryTermXsdToDuration=s},30187:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(60463),t)},30199:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(25985),t)},30234:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermIri=void 0;const i=r(11716),a=r(97824),o=r(31161);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.IRI,a.SparqlOperator.URI],termFunction:!0}))}async run(e){return new o.TermFunctionIri}}t.ActorFunctionFactoryTermIri=s},30336:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r="undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);t.default={randomUUID:r}},30406:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(28776),t)},30537:(e,t,r)=>{var n=r(42958).default,i=r(53344).default,a=r(93513).default,o=r(82881).default;const s=r(62285),{ArrayIsArray:c,Promise:l,SymbolAsyncIterator:u,SymbolDispose:d}=r(28931),h=r(20227),{once:p}=r(91887),f=r(36725),g=r(82781),{aggregateTwoErrors:y,codes:{ERR_INVALID_ARG_TYPE:m,ERR_INVALID_RETURN_VALUE:v,ERR_MISSING_ARGS:b,ERR_STREAM_DESTROYED:_,ERR_STREAM_PREMATURE_CLOSE:w},AbortError:x}=r(60056),{validateFunction:S,validateAbortSignal:T}=r(8870),{isIterable:O,isReadable:E,isReadableNodeStream:A,isNodeStream:P,isTransformStream:N,isWebStream:j,isReadableStream:D,isReadableFinished:R}=r(60782),I=globalThis.AbortController||r(13641).AbortController;let F,C,M;function k(e,t,r){let n=!1;e.on("close",()=>{n=!0});return{destroy:t=>{n||(n=!0,f.destroyer(e,t||new _("pipe")))},cleanup:h(e,{readable:t,writable:r},e=>{n=!e})}}function L(e){if(O(e))return e;if(A(e))return function(e){return B.apply(this,arguments)}(e);throw new m("val",["Readable","Iterable","AsyncIterable"],e)}function B(){return(B=n(function*(e){C||(C=r(87091)),yield*a(o(C.prototype[u].call(e)),i)})).apply(this,arguments)}async function U(e,t,r,n){let i,{end:a}=n,s=null;const c=e=>{if(e&&(i=e),s){const e=s;s=null,e()}},u=()=>new l((e,t)=>{i?t(i):s=()=>{i?t(i):e()}});t.on("drain",c);const d=h(t,{readable:!1},c);try{t.writableNeedDrain&&await u();var p,f=!1,g=!1;try{for(var m,v=o(e);f=!(m=await v.next()).done;f=!1){const e=m.value;t.write(e)||await u()}}catch(b){g=!0,p=b}finally{try{f&&null!=v.return&&await v.return()}finally{if(g)throw p}}a&&(t.end(),await u()),r()}catch(b){r(i!==b?y(i,b):b)}finally{d(),t.off("drain",c)}}async function V(e,t,r,n){let{end:i}=n;N(t)&&(t=t.writable);const a=t.getWriter();try{var s,c=!1,l=!1;try{for(var u,d=o(e);c=!(u=await d.next()).done;c=!1){const e=u.value;await a.ready,a.write(e).catch(()=>{})}}catch(h){l=!0,s=h}finally{try{c&&null!=d.return&&await d.return()}finally{if(l)throw s}}await a.ready,i&&await a.close(),r()}catch(h){try{await a.abort(h),r(h)}catch(h){r(h)}}}function z(e,t,n){if(1===e.length&&c(e[0])&&(e=e[0]),e.length<2)throw new b("streams");const i=new I,a=i.signal,o=null===n||void 0===n?void 0:n.signal,l=[];function u(){R(new x)}let h,p,f;T(o,"options.signal"),M=M||r(91887).addAbortListener,o&&(h=M(o,u));const y=[];let _,w=0;function S(e){R(e,0===--w)}function R(e,r){var n;if(!e||p&&"ERR_STREAM_PREMATURE_CLOSE"!==p.code||(p=e),p||r){for(;y.length;)y.shift()(p);null===(n=h)||void 0===n||n[d](),i.abort(),r&&(p||l.forEach(e=>e()),s.nextTick(t,p,f))}}for(let Q=0;Q<e.length;Q++){const G=e[Q],H=Q<e.length-1,W=Q>0,X=H||!1!==(null===n||void 0===n?void 0:n.end),K=Q===e.length-1;if(P(G)){if(X){const{destroy:$,cleanup:Y}=k(G,H,W);y.push($),E(G)&&K&&l.push(Y)}function C(e){e&&"AbortError"!==e.name&&"ERR_STREAM_PREMATURE_CLOSE"!==e.code&&S(e)}G.on("error",C),E(G)&&K&&l.push(()=>{G.removeListener("error",C)})}if(0===Q)if("function"===typeof G){if(_=G({signal:a}),!O(_))throw new v("Iterable, AsyncIterable or Stream","source",_)}else _=O(G)||A(G)||N(G)?G:g.from(G);else if("function"===typeof G){var B;if(N(_))_=L(null===(B=_)||void 0===B?void 0:B.readable);else _=L(_);if(_=G(_,{signal:a}),H){if(!O(_,!0))throw new v("AsyncIterable","transform[".concat(Q-1,"]"),_)}else{var z;F||(F=r(46361));const J=new F({objectMode:!0}),Z=null===(z=_)||void 0===z?void 0:z.then;if("function"===typeof Z)w++,Z.call(_,e=>{f=e,null!=e&&J.write(e),X&&J.end(),s.nextTick(S)},e=>{J.destroy(e),s.nextTick(S,e)});else if(O(_,!0))w++,U(_,J,S,{end:X});else{if(!D(_)&&!N(_))throw new v("AsyncIterable or Promise","destination",_);{const re=_.readable||_;w++,U(re,J,S,{end:X})}}_=J;const{destroy:ee,cleanup:te}=k(_,!1,!0);y.push(ee),K&&l.push(te)}}else if(P(G)){if(A(_)){w+=2;const ne=q(_,G,S,{end:X});E(G)&&K&&l.push(ne)}else if(N(_)||D(_)){const ie=_.readable||_;w++,U(ie,G,S,{end:X})}else{if(!O(_))throw new m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],_);w++,U(_,G,S,{end:X})}_=G}else if(j(G)){if(A(_))w++,V(L(_),G,S,{end:X});else if(D(_)||O(_))w++,V(_,G,S,{end:X});else{if(!N(_))throw new m("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],_);w++,V(_.readable,G,S,{end:X})}_=G}else _=g.from(G)}return(null!==a&&void 0!==a&&a.aborted||null!==o&&void 0!==o&&o.aborted)&&s.nextTick(u),_}function q(e,t,r,n){let{end:i}=n,a=!1;if(t.on("close",()=>{a||r(new w)}),e.pipe(t,{end:!1}),i){function o(){a=!0,t.end()}R(e)?s.nextTick(o):e.once("end",o)}else r();return h(e,{readable:!0,writable:!1},t=>{const n=e._readableState;t&&"ERR_STREAM_PREMATURE_CLOSE"===t.code&&n&&n.ended&&!n.errored&&!n.errorEmitted?e.once("end",r).once("error",r):r(t)}),h(t,{readable:!1,writable:!0},r)}e.exports={pipelineImpl:z,pipeline:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return z(t,p(function(e){return S(e[e.length-1],"streams[stream.length - 1]"),e.pop()}(t)))}}},30594:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(9238),t)},30626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryExpressionExtensions=void 0;const n=r(11716),i=r(52840),a=r(13953),o=r(92832),s=r(19977);class c extends n.ActorFunctionFactory{constructor(e){super(e)}async test(e){let{context:t,functionName:r}=e;const n=t.getSafe(i.KeysExpressionEvaluator.extensionFunctionCreator);return await n((new o.DataFactory).namedNode(r))?(0,a.passTestVoid)():(0,a.failTest)("Actor ".concat(this.name," can only provide non-termExpression implementations for functions that are provided through config entries like: ").concat(i.KeysInitQuery.extensionFunctionCreator.name," or ").concat(i.KeysInitQuery.extensionFunctions.name))}async run(e){let{context:t,functionName:r}=e;const n=t.getSafe(i.KeysExpressionEvaluator.extensionFunctionCreator),a=await n((new o.DataFactory).namedNode(r));return new s.NamedExtension({operator:r,functionDefinition:a})}}t.ActorFunctionFactoryExpressionExtensions=c},30922:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermStr=void 0;const i=r(11716),a=r(97824),o=r(64717);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.STR],termFunction:!0}))}async run(e){return new o.TermFunctionStr}}t.ActorFunctionFactoryTermStr=s},30962:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_CODES=t.ErrorCoded=void 0;class r extends Error{constructor(e,t){super(e),this.code=t}}t.ErrorCoded=r,function(e){e.COLLIDING_KEYWORDS="colliding keywords",e.CONFLICTING_INDEXES="conflicting indexes",e.CYCLIC_IRI_MAPPING="cyclic IRI mapping",e.INVALID_ID_VALUE="invalid @id value",e.INVALID_INDEX_VALUE="invalid @index value",e.INVALID_NEST_VALUE="invalid @nest value",e.INVALID_PREFIX_VALUE="invalid @prefix value",e.INVALID_PROPAGATE_VALUE="invalid @propagate value",e.INVALID_REVERSE_VALUE="invalid @reverse value",e.INVALID_IMPORT_VALUE="invalid @import value",e.INVALID_VERSION_VALUE="invalid @version value",e.INVALID_BASE_IRI="invalid base IRI",e.INVALID_CONTAINER_MAPPING="invalid container mapping",e.INVALID_CONTEXT_ENTRY="invalid context entry",e.INVALID_CONTEXT_NULLIFICATION="invalid context nullification",e.INVALID_DEFAULT_LANGUAGE="invalid default language",e.INVALID_INCLUDED_VALUE="invalid @included value",e.INVALID_IRI_MAPPING="invalid IRI mapping",e.INVALID_JSON_LITERAL="invalid JSON literal",e.INVALID_KEYWORD_ALIAS="invalid keyword alias",e.INVALID_LANGUAGE_MAP_VALUE="invalid language map value",e.INVALID_LANGUAGE_MAPPING="invalid language mapping",e.INVALID_LANGUAGE_TAGGED_STRING="invalid language-tagged string",e.INVALID_LANGUAGE_TAGGED_VALUE="invalid language-tagged value",e.INVALID_LOCAL_CONTEXT="invalid local context",e.INVALID_REMOTE_CONTEXT="invalid remote context",e.INVALID_REVERSE_PROPERTY="invalid reverse property",e.INVALID_REVERSE_PROPERTY_MAP="invalid reverse property map",e.INVALID_REVERSE_PROPERTY_VALUE="invalid reverse property value",e.INVALID_SCOPED_CONTEXT="invalid scoped context",e.INVALID_SCRIPT_ELEMENT="invalid script element",e.INVALID_SET_OR_LIST_OBJECT="invalid set or list object",e.INVALID_TERM_DEFINITION="invalid term definition",e.INVALID_TYPE_MAPPING="invalid type mapping",e.INVALID_TYPE_VALUE="invalid type value",e.INVALID_TYPED_VALUE="invalid typed value",e.INVALID_VALUE_OBJECT="invalid value object",e.INVALID_VALUE_OBJECT_VALUE="invalid value object value",e.INVALID_VOCAB_MAPPING="invalid vocab mapping",e.IRI_CONFUSED_WITH_PREFIX="IRI confused with prefix",e.KEYWORD_REDEFINITION="keyword redefinition",e.LOADING_DOCUMENT_FAILED="loading document failed",e.LOADING_REMOTE_CONTEXT_FAILED="loading remote context failed",e.MULTIPLE_CONTEXT_LINK_HEADERS="multiple context link headers",e.PROCESSING_MODE_CONFLICT="processing mode conflict",e.PROTECTED_TERM_REDEFINITION="protected term redefinition",e.CONTEXT_OVERFLOW="context overflow",e.INVALID_BASE_DIRECTION="invalid base direction",e.RECURSIVE_CONTEXT_INCLUSION="recursive context inclusion",e.INVALID_STREAMING_KEY_ORDER="invalid streaming key order",e.INVALID_EMBEDDED_NODE="invalid embedded node",e.INVALID_ANNOTATION="invalid annotation"}(t.ERROR_CODES||(t.ERROR_CODES={}))},30977:(e,t,r)=>{let n=r(72758).AsyncIterator;e.exports=class extends n{constructor(e,t,r,n){super(),this.addedDataListener=!1,this.left=e,this.right=t,this.funHash=r,this.funJoin=n,this.leftMap=new Map,this.match=null,this.matches=[],this.matchIdx=0,this.left.on("error",e=>this.destroy(e)),this.right.on("error",e=>this.destroy(e)),this.readable=!1,this.left.on("end",function(){this.readable=!0,this.right.on("readable",()=>this.readable=!0),this.right.on("end",()=>{this.hasResults()||this._end()})}.bind(this)),this.on("newListener",e=>{"data"===e&&this._addDataListenerIfNeeded()}),this.left.readable&&this._addDataListenerIfNeeded(),this.left.on("readable",()=>this._addDataListenerIfNeeded())}hasResults(){return!this.right.ended||this.matchIdx<this.matches.length}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(this._addDataListenerIfNeeded();;){if(this.ended||!this.readable)return null;for(;this.matchIdx<this.matches.length;){let e=this.matches[this.matchIdx++],t=this.funJoin(e,this.match);if(null!==t)return t}if(this.hasResults()||this._end(),this.match=this.right.read(),null===this.match)return this.readable=!1,null;let e=this.funHash(this.match);this.matches=this.leftMap.get(e)||[],this.matchIdx=0}}_addDataListenerIfNeeded(){this.addedDataListener||(this.addedDataListener=!0,this._addDataListener())}_addDataListener(){this.left.on("data",function(e){let t=this.funHash(e),r=this.leftMap.get(t);r||(r=[],this.leftMap.set(t,r));r.push(e)}.bind(this))}}},30978:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(63147),t)},31088:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionEvaluator=void 0;const n=r(52840),i=r(58441);t.ExpressionEvaluator=class{constructor(e,t,r,n,a){this.context=e,this.expr=t,this.mediatorFunctionFactory=r,this.mediatorQueryOperation=n,this.bindingsFactory=a,this.internalEvaluator=new i.InternalEvaluator(e,r,n,a)}async evaluate(e){return(await this.internalEvaluator.evaluatorExpressionEvaluation(this.expr,e)).toRDF(this.context.getSafe(n.KeysInitQuery.dataFactory))}async evaluateAsEBV(e){return(await this.internalEvaluator.evaluatorExpressionEvaluation(this.expr,e)).coerceEBV()}evaluateAsEvaluatorExpression(e){return this.evaluatorExpressionEvaluation(this.expr,e)}evaluatorExpressionEvaluation(e,t){return this.internalEvaluator.evaluatorExpressionEvaluation(e,t)}}},31161:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionIri=void 0;const n=r(11716),i=r(52840),a=r(97824),o=r(67323);class s extends n.TermFunctionBase{constructor(){super({arity:1,operator:a.SparqlOperator.IRI,overloads:(0,a.declare)(a.SparqlOperator.IRI).set(["namedNode"],e=>t=>{var r;const n=t[0],s=(0,o.resolve)(n.str(),null!==(r=e.context.get(i.KeysInitQuery.baseIRI))&&void 0!==r?r:"");return new a.NamedNode(s)}).onString1(e=>t=>{var r;const n=(0,o.resolve)(t.str(),null!==(r=e.context.get(i.KeysInitQuery.baseIRI))&&void 0!==r?r:"");return new a.NamedNode(n)}).collect()})}}t.TermFunctionIri=s},31200:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(84765),t)},31519:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTermGrounded=t.termToSignature=t.quadToSignature=t.sha1hex=t.hashTerm=t.hashTerms=t.getGraphBlankNodes=t.uniqGraph=t.deindexGraph=t.indexGraph=t.getQuadsWithoutBlankNodes=t.getQuadsWithBlankNodes=t.hasValue=t.hashValues=t.getBijectionInner=t.getBijection=t.isomorphic=void 0;const n=r(73697),i=r(45494),a=r(57078);function o(e,t){const r=p(h(e)),n=p(h(t));if(Object.keys(r).length!==Object.keys(n).length)return null;for(const i in r)if(r[i]!==n[i])return null;return s(g(d(e)),g(d(t)),y(e),y(t))}function s(e,t,r,n,a,o){a||(a={}),o||(o={});const[d,h]=m(e,r,a),[p,f]=m(t,n,o);if(Object.keys(d).length!==Object.keys(p).length)return null;for(const i in d)if(!u(p,d[i]))return null;let g={};for(const s of r){const e=i.termToString(s),t=h[e];for(const r in f)if(f[r]===t){g[e]=r,delete f[r];break}}if(!c(Object.keys(g).sort(),r.map(i.termToString).sort())||!c(l(g).sort(),n.map(i.termToString).sort())){g=null;for(const a of r){const o=i.termToString(a);if(!d[o])for(const a of n){const c=i.termToString(a);if(!p[c]&&h[o]===f[c]){const i=b(o);g=s(e,t,r,n,Object.assign(Object.assign({},d),{[o]:i}),Object.assign(Object.assign({},p),{[c]:i}))}}}}return g}function c(e,t){if(e.length!==t.length)return!1;for(let r=e.length;r--;)if(e[r]!==t[r])return!1;return!0}function l(e){const t=[];for(const r in e)t.push(e[r]);return t}function u(e,t){for(const r in e)if(e[r]===t)return!0;return!1}function d(e){return e.filter(e=>a.someTerms(e,e=>"BlankNode"===e.termType||"Quad"===e.termType&&a.getTermsNested(e).some(e=>"BlankNode"===e.termType)))}function h(e){return e.filter(e=>a.everyTerms(e,e=>"BlankNode"!==e.termType&&!("Quad"===e.termType&&a.getTermsNested(e).some(e=>"BlankNode"===e.termType))))}function p(e){const t={};for(const r of e)t[JSON.stringify(i.quadToStringQuad(r))]=!0;return t}function f(e){return Object.keys(e).map(e=>i.stringQuadToQuad(JSON.parse(e)))}function g(e){return f(p(e))}function y(e){return a.uniqTerms(e.map(e=>a.getBlankNodes(a.getTermsNested(e))).reduce((e,t)=>e.concat(t),[]))}function m(e,t,r){const n=Object.assign({},r),a={};let o=!0;for(;o;){const r=Object.keys(n).length;for(const o of t){const t=i.termToString(o);if(!n[t]){const[r,i]=v(o,e,n);r&&(n[t]=i),a[t]=i}}const s={};for(const e in a){const t=a[e];void 0===s[t]?s[t]=e:s[t]=!1}for(const e in s){const t=s[e];t&&(n[t]=e)}o=r!==Object.keys(n).length}return[n,a]}function v(e,t,r){const n=[];let i=!0;for(const o of t){const t=a.getTermsNested(o);if(t.some(t=>t.equals(e))){n.push(_(o,r,e));for(const n of t)x(n,r)||n.equals(e)||(i=!1)}}return[i,b(n.sort().join(""))]}function b(e){return n.sha1().update(e).digest("hex")}function _(e,t,r){return a.getTerms(e).map(e=>w(e,t,r)).join("|")}function w(e,t,r){return e.equals(r)?"@self":"BlankNode"===e.termType?t[i.termToString(e)]||"@blank":"Quad"===e.termType?"<".concat(_(e,t,r),">"):i.termToString(e)}function x(e,t){return"BlankNode"!==e.termType&&!("Quad"===e.termType&&a.getTermsNested(e).some(e=>!x(e,t)))||!!t[i.termToString(e)]}t.isomorphic=function(e,t){return!!o(e,t)},t.getBijection=o,t.getBijectionInner=s,t.hashValues=l,t.hasValue=u,t.getQuadsWithBlankNodes=d,t.getQuadsWithoutBlankNodes=h,t.indexGraph=p,t.deindexGraph=f,t.uniqGraph=g,t.getGraphBlankNodes=y,t.hashTerms=m,t.hashTerm=v,t.sha1hex=b,t.quadToSignature=_,t.termToSignature=w,t.isTermGrounded=x},31619:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},31969:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SparqlXmlParser=void 0;const n=r(80736),i=r(240),a=r(94051);t.SparqlXmlParser=class{constructor(e){e=e||{},this.dataFactory=e.dataFactory||new n.DataFactory,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark}parseXmlResultsStream(e){const t=e=>g.emit("error",e);e.on("error",t);const r=new i.SaxesParser,n=[];let o=!1,s=!1;const c=[];let l,u={},d="",h="",p="",f=[];r.on("error",t),r.on("opentag",e=>{"variable"===e.name&&this.stackEquals(n,["sparql","head"])?c.push(this.dataFactory.variable(e.attributes.name)):"results"===e.name&&this.stackEquals(n,["sparql"])?s=!0:"result"===e.name&&this.stackEquals(n,["sparql","results"])?u={}:"binding"===e.name&&this.stackEquals(n,["sparql","results","result"])?(d=e.attributes.name||"",h="",l=void 0,p="",f=[]):"triple"===e.name&&this.stackBeginsWith(n,["sparql","results","result"])?f.push({components:{}}):"triple"===n[n.length-1]&&this.stackBeginsWith(n,["sparql","results","result","binding"])?(h="",l=void 0,p="",["subject","predicate","object"].includes(e.name)?f[f.length-1].currentComponent=e.name:t(new Error("Illegal quoted triple component '".concat(e.name,"' found on line ").concat(r.line+1)))):this.stackBeginsWith(n,["sparql","results","result","binding"])?(h=e.name,l="xml:lang"in e.attributes?{language:e.attributes["xml:lang"],direction:e.attributes["its:dir"]}:"datatype"in e.attributes?this.dataFactory.namedNode(e.attributes.datatype):void 0):"sparql"===e.name&&e.attributes.version&&g.emit("version",e.attributes.version),n.push(e.name)}),r.on("closetag",e=>{if(this.stackEquals(n,["sparql","head"])&&(g.emit("variables",c),o=!0),this.stackEquals(n,["sparql","results","result"])&&g.push(u),this.stackBeginsWith(n,["sparql","results","result","binding"])){let e;if(!d&&h)t(new Error("Terms should have a name on line ".concat(r.line+1)));else if("uri"===h)e=this.dataFactory.namedNode(p);else if("bnode"===h)e=this.dataFactory.blankNode(p);else if("literal"===h)e=this.dataFactory.literal(p,l);else if("triple"===n[n.length-1]){const n=f.pop();n&&n.components.subject&&n.components.predicate&&n.components.object?e=this.dataFactory.quad(n.components.subject,n.components.predicate,n.components.object):t(new Error("Incomplete quoted triple on line ".concat(r.line+1)))}else h&&t(new Error("Invalid term type '".concat(h,"' on line ").concat(r.line+1)));if(e)if(f.length>0){const n=f[f.length-1];n.components[n.currentComponent]&&t(new Error("The ".concat(n.currentComponent," in a quoted triple on line ").concat(r.line+1," was already defined before"))),n.components[n.currentComponent]=e}else{const t=this.prefixVariableQuestionMark?"?"+d:d;u[t]=e}h=void 0}n.pop()}),r.on("text",e=>{this.stackBeginsWith(n,["sparql","results","result","binding"])&&n[n.length-1]===h&&(p=e)});const g=e.on("end",e=>{s?o||g.emit("variables",[]):g.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new a.Transform({objectMode:!0,transform(e,t,n){r.write(e),n()}}));return g}parseXmlBooleanStream(e){return new Promise((t,r)=>{const n=new i.SaxesParser,a=[];n.on("error",r),n.on("opentag",e=>{a.push(e.name)}),n.on("closetag",e=>{a.pop()}),n.on("text",e=>{this.stackEquals(a,["sparql","boolean"])&&t("true"===e)}),e.on("error",r).on("data",e=>n.write(e)).on("end",()=>r(new Error("No valid ASK response was found.")))})}stackEquals(e,t){return e.length===t.length&&e.every((e,r)=>t[r]===e)}stackBeginsWith(e,t){return e.length>=t.length&&t.every((t,r)=>e[r]===t)}}},32128:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(46482),t)},32149:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SeparatorType=void 0;class r{constructor(e){this.label=e}}t.SeparatorType=r,r.COMMA=new r(","),r.OBJECT_START=new r("{"),r.OBJECT_END=new r("}"),r.OBJECT_END_COMMA=new r("},"),r.ARRAY_START=new r("["),r.ARRAY_END=new r("]"),r.ARRAY_END_COMMA=new r("],"),r.GRAPH_FIELD_NONCOMPACT=new r('"@graph": ['),r.GRAPH_FIELD_COMPACT=new r('"@graph":['),r.CONTEXT_FIELD=new r('"@context":')},32300:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorAbstractPath=void 0;const n=r(52241),i=r(52840),a=r(13953),o=r(89266),s=r(72758),c=r(45494),l=r(85160),u=r(59208);class d extends n.ActorQueryOperationTypedMediated{constructor(e,t){super(e,"path"),this.predicateType=t}async testOperation(e,t){return e.predicate.type!==this.predicateType?(0,a.failTest)("This Actor only supports ".concat(this.predicateType," Path operations.")):(0,a.passTestVoid)()}generateVariable(e,t,r){return r?!t||t.subject.value!==r&&t.object.value!==r?e.variable(r):this.generateVariable(e,t,"".concat(r,"b")):this.generateVariable(e,t,"b")}async isPathArbitraryLengthDistinct(e,t,r){return t.get(i.KeysQueryOperation.isPathArbitraryLengthDistinctKey)?{context:t=t.set(i.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!1),operation:void 0}:{context:t=t.set(i.KeysQueryOperation.isPathArbitraryLengthDistinctKey,!0),operation:(0,o.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:e.createDistinct(r),context:t}))}}async predicateStarGraphVariable(e,t,r,n,i,a,c){const l=this.getPathSources(r),u=this.generateVariable(a.dataFactory,a.createPath(e,r,t,n)),d=a.createUnion([this.assignPatternSources(a,a.createPattern(e,u,t,n),l),this.assignPatternSources(a,a.createPattern(t,u,e,n),l)]),h=(0,o.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:i,operation:d})),p=new Set;return{bindingsStream:new s.MultiTransformIterator(h.bindingsStream,{multiTransform:o=>{const l=o.get(n);return p.has(l.value)?new s.EmptyIterator:(p.add(l.value),new s.TransformIterator(async()=>{const o=new s.BufferedIterator;return await this.getObjectsPredicateStar(a,e,r,l,i,{},o,{count:0}),o.map(e=>c.bindings([[t,e],[n,l]]))},{maxBufferSize:128}))},autoStart:!1}),metadata:h.metadata}}async getObjectsPredicateStarEval(e,t,r,n,i,a,o,s){if("Variable"===n.termType)return this.predicateStarGraphVariable(e,r,t,n,i,o,s);const c=new u.PathVariableObjectIterator(o,e,t,n,i,this.mediatorQueryOperation,a);return{bindingsStream:c.map(e=>s.bindings([[r,e]])),async metadata(){const e=await new Promise(e=>{c.getProperty("metadata",t=>e(t()))});return e.cardinality.value++,e}}}async getObjectsPredicateStar(e,t,r,n,i,a,s,l){const u=(0,c.termToString)(t);if(a[u])return;s._push(t),a[u]=t,l.count++;const d=this.generateVariable(e.dataFactory),h=e.createPath(t,r,d,n),p=(0,o.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:h,context:i}));return p.bindingsStream.on("data",async t=>{const o=t.get(d);await this.getObjectsPredicateStar(e,o,r,n,i,a,s,l)}),p.bindingsStream.on("end",()=>{0===--l.count&&s.close()}),p.metadata}async getSubjectAndObjectBindingsPredicateStar(e,t,r,n,i,a,s,l,u,d,h,p,f){const g=(0,c.termToString)(n)+(0,c.termToString)(a);if(u[g])return;if(h.count++,u[g]=!0,d._push(f.bindings([[e,r],[t,n]])),g in l){const n=await l[g];for(const o of n)await this.getSubjectAndObjectBindingsPredicateStar(e,t,r,o,i,a,s,l,u,d,h,p,f);return void(0===--h.count&&d.close())}const y=new Promise(async(c,g)=>{const y=[],m=this.generateVariable(p.dataFactory),v=p.createPath(n,i,m,a),b=(0,o.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:v,context:s}));b.bindingsStream.on("data",async n=>{const o=n.get(m);y.push(o),await this.getSubjectAndObjectBindingsPredicateStar(e,t,r,o,i,a,s,l,u,d,h,p,f)}),b.bindingsStream.on("error",g),b.bindingsStream.on("end",()=>{0===--h.count&&d.close(),c(y)})});l[g]=y}getPathSources(e){switch(e.type){case l.Algebra.types.ALT:case l.Algebra.types.SEQ:return e.input.flatMap(e=>this.getPathSources(e));case l.Algebra.types.INV:case l.Algebra.types.ONE_OR_MORE_PATH:case l.Algebra.types.ZERO_OR_MORE_PATH:case l.Algebra.types.ZERO_OR_ONE_PATH:return this.getPathSources(e.path);case l.Algebra.types.LINK:case l.Algebra.types.NPS:{const t=(0,o.getOperationSource)(e);if(!t)throw new Error("Could not find a required source on a link path operation");return[t]}}}assignPatternSources(e,t,r){if(0===r.length)throw new Error("Attempted to assign zero sources to a pattern during property path handling");return 1===r.length?(0,o.assignOperationSource)(t,r[0]):e.createUnion(r.map(e=>(0,o.assignOperationSource)(t,e)),!0)}}t.ActorAbstractPath=d},32538:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermNow=void 0;const i=r(11716),a=r(97824),o=r(4961);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.NOW],termFunction:!0}))}async run(e){return new o.TermFunctionNow}}t.ActorFunctionFactoryTermNow=s},32582:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(51264),t),i(r(86240),t),i(r(16703),t),i(r(96200),t),i(r(6275),t),i(r(21750),t),i(r(51199),t),i(r(88511),t),i(r(6984),t),i(r(97957),t),i(r(82991),t)},32655:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JoinTypes=t.ActorRdfJoinSelectivityVariableCounting=void 0;const n=r(59644),i=r(13953),a=r(85160);class o extends n.ActorRdfJoinSelectivity{constructor(e){super(e)}async test(e){return(0,i.passTest)({accuracy:.5})}static getPatternCost(e){let t=1;return"Variable"===e.subject.termType&&(t+=4),"Variable"!==e.predicate.termType&&e.type!==a.Algebra.types.PATH||(t+=1),"Variable"===e.object.termType&&(t+=2),"Variable"===e.graph.termType&&(t+=1),t/9}static getJoinTypes(e,t){const r=[];return"Variable"===e.subject.termType?(e.subject.equals(t.subject)&&r.push(s.unboundSS),"pattern"===t.type&&e.subject.equals(t.predicate)&&r.push(s.unboundSP),e.subject.equals(t.object)&&r.push(s.unboundSO),e.subject.equals(t.graph)&&r.push(s.unboundSG)):(e.subject.equals(t.subject)&&r.push(s.boundSS),"pattern"===t.type&&e.subject.equals(t.predicate)&&r.push(s.boundSP),e.subject.equals(t.object)&&r.push(s.boundSO),e.subject.equals(t.graph)&&r.push(s.boundSG)),"pattern"===e.type&&("Variable"===e.predicate.termType?(e.predicate.equals(t.subject)&&r.push(s.unboundPS),"pattern"===t.type&&e.predicate.equals(t.predicate)&&r.push(s.unboundPP),e.predicate.equals(t.object)&&r.push(s.unboundPO),e.predicate.equals(t.graph)&&r.push(s.unboundPG)):(e.predicate.equals(t.subject)&&r.push(s.boundPS),"pattern"===t.type&&e.predicate.equals(t.predicate)&&r.push(s.boundPP),e.predicate.equals(t.object)&&r.push(s.boundPO),e.predicate.equals(t.graph)&&r.push(s.boundPG))),"Variable"===e.object.termType?(e.object.equals(t.subject)&&r.push(s.unboundOS),"pattern"===t.type&&e.object.equals(t.predicate)&&r.push(s.unboundOP),e.object.equals(t.object)&&r.push(s.unboundOO),e.object.equals(t.graph)&&r.push(s.unboundOG)):(e.object.equals(t.subject)&&r.push(s.boundOS),"pattern"===t.type&&e.object.equals(t.predicate)&&r.push(s.boundOP),e.object.equals(t.object)&&r.push(s.boundOO),e.object.equals(t.graph)&&r.push(s.boundOG)),"Variable"===e.graph.termType?(e.graph.equals(t.subject)&&r.push(s.unboundGS),"pattern"===t.type&&e.graph.equals(t.predicate)&&r.push(s.unboundGP),e.graph.equals(t.object)&&r.push(s.unboundGO),e.graph.equals(t.graph)&&r.push(s.unboundGG)):(e.graph.equals(t.subject)&&r.push(s.boundGS),"pattern"===t.type&&e.graph.equals(t.predicate)&&r.push(s.boundGP),e.graph.equals(t.object)&&r.push(s.boundGO),e.graph.equals(t.graph)&&r.push(s.boundGG)),r}static getOperationsPairwiseJoinCost(e,t){let r=o.MAX_PAIRWISE_COST;for(const n of o.getJoinTypes(e,t))switch(n){case s.boundSS:r-=4;break;case s.boundSP:r-=6;break;case s.boundSO:r-=2;break;case s.boundSG:case s.boundPS:r-=6;break;case s.boundPP:return 1;case s.boundPO:case s.boundPG:r-=6;break;case s.boundOS:r-=2;break;case s.boundOP:r-=6;break;case s.boundOO:r-=2;break;case s.boundOG:case s.boundGS:case s.boundGP:case s.boundGO:case s.boundGG:r-=6;break;case s.unboundSS:r-=2;break;case s.unboundSP:r-=3;break;case s.unboundSO:r-=1;break;case s.unboundSG:case s.unboundPS:case s.unboundPP:case s.unboundPO:case s.unboundPG:r-=3;break;case s.unboundOS:r-=1;break;case s.unboundOP:r-=3;break;case s.unboundOO:r-=1;break;case s.unboundOG:case s.unboundGS:case s.unboundGP:case s.unboundGO:case s.unboundGG:r-=3}return r/o.MAX_PAIRWISE_COST}static getOperationsJoinCost(e){const t=[];for(const i of e)a.Util.recurseOperation(i,{[a.Algebra.types.PATTERN]:e=>(t.push(e),!1),[a.Algebra.types.PATH]:e=>(t.push(e),!1)});let r=0,n=0;for(const i of t)for(const e of t)i!==e&&(r+=o.getOperationsPairwiseJoinCost(i,e),n++);return 0===n?1:r/n*t.reduce((e,t)=>e*o.getPatternCost(t),1)}async run(e){return e.entries.length<=1?{selectivity:1}:{selectivity:o.getOperationsJoinCost(e.entries.map(e=>e.operation))}}}var s;t.ActorRdfJoinSelectivityVariableCounting=o,o.MAX_PAIRWISE_COST=82,function(e){e[e.boundSS=0]="boundSS",e[e.boundSP=1]="boundSP",e[e.boundSO=2]="boundSO",e[e.boundSG=3]="boundSG",e[e.boundPS=4]="boundPS",e[e.boundPP=5]="boundPP",e[e.boundPO=6]="boundPO",e[e.boundPG=7]="boundPG",e[e.boundOS=8]="boundOS",e[e.boundOP=9]="boundOP",e[e.boundOO=10]="boundOO",e[e.boundOG=11]="boundOG",e[e.boundGS=12]="boundGS",e[e.boundGP=13]="boundGP",e[e.boundGO=14]="boundGO",e[e.boundGG=15]="boundGG",e[e.unboundSS=16]="unboundSS",e[e.unboundSP=17]="unboundSP",e[e.unboundSO=18]="unboundSO",e[e.unboundSG=19]="unboundSG",e[e.unboundPS=20]="unboundPS",e[e.unboundPP=21]="unboundPP",e[e.unboundPO=22]="unboundPO",e[e.unboundPG=23]="unboundPG",e[e.unboundOS=24]="unboundOS",e[e.unboundOP=25]="unboundOP",e[e.unboundOO=26]="unboundOO",e[e.unboundOG=27]="unboundOG",e[e.unboundGS=28]="unboundGS",e[e.unboundGP=29]="unboundGP",e[e.unboundGO=30]="unboundGO",e[e.unboundGG=31]="unboundGG"}(s||(t.JoinTypes=s={}))},32708:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingsIndexDef=void 0;t.BindingsIndexDef=class{constructor(e,t){this.keys=e.map(e=>e.variable),this.hashFn=t,this.index={}}put(e,t){return this.index[this.hashFn(e,this.keys)]=t}get(e){const t=this.getFirst(e);return t?[t]:[]}getFirst(e){return this.index[this.hashFn(e,this.keys)]}values(){return Object.values(this.index)}}},32838:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermLcase=void 0;const i=r(11716),a=r(97824),o=r(80021);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.LCASE],termFunction:!0}))}async run(e){return new o.TermFunctionLcase}}t.ActorFunctionFactoryTermLcase=s},33192:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(86962),t)},33213:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(21208),t)},33293:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(94934),t)},33446:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionStrAfter=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:2,operator:i.SparqlOperator.STRAFTER,overloads:(0,i.declare)(i.SparqlOperator.STRAFTER).onBinaryTyped([i.TypeURL.XSD_STRING,i.TypeURL.XSD_STRING],()=>(e,t)=>(0,i.string)(e.slice(e.indexOf(t)).slice(t.length))).onBinary([i.TypeURL.RDF_LANG_STRING,i.TypeURL.XSD_STRING],()=>(e,t)=>{const[r,n]=[e.typedValue,t.typedValue],a=r.slice(r.indexOf(n)).slice(n.length);return a||!n?(0,i.langString)(a,e.language):(0,i.string)(a)}).onBinary([i.TypeURL.RDF_LANG_STRING,i.TypeURL.RDF_LANG_STRING],()=>(e,t)=>{if(e.language!==t.language)throw new i.IncompatibleLanguageOperation(e,t);const[r,n]=[e.typedValue,t.typedValue],a=r.slice(r.indexOf(n)).slice(n.length);return a||!n?(0,i.langString)(a,e.language):(0,i.string)(a)}).collect()})}}t.TermFunctionStrAfter=a},33501:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfUpdateQuadsRdfJsStore=void 0;const n=r(28132),i=r(52840),a=r(13953),o=r(98775);class s extends n.ActorRdfUpdateQuadsDestination{constructor(e){super(e)}async test(e){var t;const r=(0,n.getContextDestination)(e.context);return r&&"string"!==typeof r&&("remove"in r||!("value"in r)||null!==(t=r.value)&&void 0!==t&&t.remove)?(0,a.passTestVoid)():(0,a.failTest)("".concat(this.name," received an invalid rdfjsStore."))}async getDestination(e){const t=(0,n.getContextDestination)(e);return new o.RdfJsQuadDestination(e.getSafe(i.KeysInitQuery.dataFactory),"remove"in t?t:t.value)}}t.ActorRdfUpdateQuadsRdfJsStore=s},33510:function(e,t,r){"use strict";var n=r(12897).default,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(28680),o=i(r(21634)),s=r(57078);class c{static flatten(e){return Array.prototype.concat(...e).filter(e=>e)}static objectify(e){if(e.termType){if("Quad"===e.termType)return{type:"pattern",termType:"Quad",subject:c.objectify(e.subject),predicate:c.objectify(e.predicate),object:c.objectify(e.object),graph:c.objectify(e.graph)};{let t={termType:e.termType,value:e.value};return e.language&&(t.language=e.language),e.datatype&&(t.datatype=c.objectify(e.datatype)),t}}if(Array.isArray(e))return e.map(e=>c.objectify(e));if(e===Object(e)){let t={};for(let r of Object.keys(e))t[r]=c.objectify(e[r]);return t}return e}static inScopeVariables(e){const t=[];function r(e){t.find(t=>e.value===t.value)||t.push(e)}function n(e){"Variable"===e.subject.termType&&r(e.subject),"Variable"===e.predicate.termType&&r(e.predicate),"Variable"===e.object.termType&&r(e.object),"Variable"===e.graph.termType&&r(e.graph),"Quad"===e.subject.termType&&n(e.subject),"Quad"===e.predicate.termType&&n(e.predicate),"Quad"===e.object.termType&&n(e.object),"Quad"===e.graph.termType&&n(e.graph)}return c.recurseOperation(e,{[a.types.EXPRESSION]:e=>(e.expressionType===a.expressionTypes.AGGREGATE&&e.variable&&r(e.variable),!0),[a.types.EXTEND]:e=>(r(e.variable),!0),[a.types.GRAPH]:e=>("Variable"===e.name.termType&&r(e.name),!0),[a.types.GROUP]:e=>(e.variables.forEach(r),!0),[a.types.PATH]:e=>("Variable"===e.subject.termType&&r(e.subject),"Variable"===e.object.termType&&r(e.object),"Variable"===e.graph.termType&&r(e.graph),"Quad"===e.subject.termType&&n(e.subject),"Quad"===e.object.termType&&n(e.object),"Quad"===e.graph.termType&&n(e.graph),!0),[a.types.PATTERN]:e=>(n(e),!0),[a.types.PROJECT]:e=>(e.variables.forEach(r),!1),[a.types.SERVICE]:e=>("Variable"===e.name.termType&&r(e.name),!0),[a.types.VALUES]:e=>(e.variables.forEach(r),!0)}),t}static recurseOperation(e,t){let r=e,n=!0;const i=t[e.type];if(i&&(n=i(e)),!n)return;let o=e=>c.recurseOperation(e,t);switch(r.type){case a.types.ALT:r.input.map(o);break;case a.types.ASK:o(r.input);break;case a.types.BGP:r.patterns.forEach(o);break;case a.types.CONSTRUCT:o(r.input),r.template.map(o);break;case a.types.DESCRIBE:case a.types.DISTINCT:o(r.input);break;case a.types.EXPRESSION:r.expressionType===a.expressionTypes.EXISTENCE&&o(r.input);break;case a.types.EXTEND:case a.types.FILTER:o(r.input),o(r.expression);break;case a.types.FROM:case a.types.GRAPH:o(r.input);break;case a.types.GROUP:o(r.input),r.aggregates.forEach(o);break;case a.types.INV:o(r.path);break;case a.types.JOIN:r.input.map(o);break;case a.types.LEFT_JOIN:r.input.map(o),r.expression&&o(r.expression);break;case a.types.LINK:break;case a.types.MINUS:r.input.map(o);break;case a.types.NOP:case a.types.NPS:break;case a.types.ONE_OR_MORE_PATH:o(r.path);break;case a.types.ORDER_BY:o(r.input),r.expressions.forEach(o);break;case a.types.PATH:o(r.predicate);break;case a.types.PATTERN:break;case a.types.PROJECT:case a.types.REDUCED:o(r.input);break;case a.types.SEQ:r.input.map(o);break;case a.types.SERVICE:case a.types.SLICE:o(r.input);break;case a.types.UNION:r.input.map(o);break;case a.types.VALUES:break;case a.types.ZERO_OR_MORE_PATH:case a.types.ZERO_OR_ONE_PATH:o(r.path);break;case a.types.COMPOSITE_UPDATE:r.updates.forEach(e=>o(e));break;case a.types.DELETE_INSERT:r.delete&&r.delete.forEach(e=>o(e)),r.insert&&r.insert.forEach(e=>o(e)),r.where&&o(r.where);break;case a.types.LOAD:case a.types.CLEAR:case a.types.CREATE:case a.types.DROP:case a.types.ADD:case a.types.MOVE:case a.types.COPY:break;default:throw new Error("Unknown Operation type ".concat(r.type))}}static mapOperation(e,t,r){let i=e,s=!0,l=!0;r=r||new o.default;const u=t[e.type];if(u){const t=u(e,r);i=t.result,s=t.recurse,l=!1!==t.copyMetadata}let d;if(l&&(i.metadata||e.metadata)&&(d=n(n({},i.metadata),e.metadata)),!s)return d&&(i.metadata=d),i;let h=e=>c.mapOperation(e,t,r);switch(i.type){case a.types.ALT:i=r.createAlt(i.input.map(h));break;case a.types.ASK:i=r.createAsk(h(i.input));break;case a.types.BGP:i=r.createBgp(i.patterns.map(h));break;case a.types.CONSTRUCT:i=r.createConstruct(h(i.input),i.template.map(h));break;case a.types.DESCRIBE:i=r.createDescribe(h(i.input),i.terms);break;case a.types.DISTINCT:i=r.createDistinct(h(i.input));break;case a.types.EXPRESSION:i=c.mapExpression(i,t,r);break;case a.types.EXTEND:i=r.createExtend(h(i.input),i.variable,h(i.expression));break;case a.types.FILTER:i=r.createFilter(h(i.input),h(i.expression));break;case a.types.FROM:i=r.createFrom(h(i.input),[...i.default],[...i.named]);break;case a.types.GRAPH:i=r.createGraph(h(i.input),i.name);break;case a.types.GROUP:i=r.createGroup(h(i.input),[].concat(i.variables),i.aggregates.map(h));break;case a.types.INV:i=r.createInv(h(i.path));break;case a.types.JOIN:i=r.createJoin(i.input.map(h));break;case a.types.LEFT_JOIN:i=r.createLeftJoin(h(i.input[0]),h(i.input[1]),i.expression?h(i.expression):void 0);break;case a.types.LINK:i=r.createLink(i.iri);break;case a.types.MINUS:i=r.createMinus(h(i.input[0]),h(i.input[1]));break;case a.types.NOP:i=r.createNop();break;case a.types.NPS:i=r.createNps([].concat(i.iris));break;case a.types.ONE_OR_MORE_PATH:i=r.createOneOrMorePath(h(i.path));break;case a.types.ORDER_BY:i=r.createOrderBy(h(i.input),i.expressions.map(h));break;case a.types.PATH:i=r.createPath(i.subject,h(i.predicate),i.object,i.graph);break;case a.types.PATTERN:i=r.createPattern(i.subject,i.predicate,i.object,i.graph);break;case a.types.PROJECT:i=r.createProject(h(i.input),[...i.variables]);break;case a.types.REDUCED:i=r.createReduced(h(i.input));break;case a.types.SEQ:i=r.createSeq(i.input.map(h));break;case a.types.SERVICE:i=r.createService(h(i.input),i.name,i.silent);break;case a.types.SLICE:i=r.createSlice(h(i.input),i.start,i.length);break;case a.types.UNION:i=r.createUnion(i.input.map(h));break;case a.types.VALUES:i=r.createValues([].concat(i.variables),i.bindings.map(e=>Object.assign({},e)));break;case a.types.ZERO_OR_MORE_PATH:i=r.createZeroOrMorePath(h(i.path));break;case a.types.ZERO_OR_ONE_PATH:i=r.createZeroOrOnePath(h(i.path));break;case a.types.COMPOSITE_UPDATE:i=r.createCompositeUpdate(i.updates.map(h));break;case a.types.DELETE_INSERT:i=r.createDeleteInsert(i.delete?i.delete.map(h):void 0,i.insert?i.insert.map(h):void 0,i.where?h(i.where):void 0);break;case a.types.LOAD:i=r.createLoad(i.source,i.destination,i.silent);break;case a.types.CLEAR:i=r.createClear(i.source,i.silent);break;case a.types.CREATE:i=r.createCreate(i.source,i.silent);break;case a.types.DROP:i=r.createDrop(i.source,i.silent);break;case a.types.ADD:i=r.createAdd(i.source,i.destination);break;case a.types.MOVE:i=r.createMove(i.source,i.destination);break;case a.types.COPY:i=r.createCopy(i.source,i.destination);break;default:throw new Error("Unknown Operation type ".concat(i.type))}return d&&(i.metadata=d),i}static mapExpression(e,t,r){let n=e,i=!0;r=r||new o.default;const s=t[e.expressionType];if(s&&({result:n,recurse:i}=s(e,r)),!i)return n;let l=e=>c.mapOperation(e,t,r);switch(e.expressionType){case a.expressionTypes.AGGREGATE:return e.variable?r.createBoundAggregate(e.variable,e.aggregator,l(e.expression),e.distinct,e.separator):r.createAggregateExpression(e.aggregator,l(e.expression),e.distinct,e.separator);case a.expressionTypes.EXISTENCE:return r.createExistenceExpression(e.not,l(e.input));case a.expressionTypes.NAMED:return r.createNamedExpression(e.name,e.args.map(l));case a.expressionTypes.OPERATOR:return r.createOperatorExpression(e.operator,e.args.map(l));case a.expressionTypes.TERM:return r.createTermExpression(e.term);case a.expressionTypes.WILDCARD:return r.createWildcardExpression();default:throw new Error("Unknown Expression type ".concat(e.expressionType))}}static cloneOperation(e){return c.mapOperation(e,{})}static cloneExpression(e){return c.mapExpression(e,{})}static createUniqueVariable(e,t,r){let n=0,i=e;for(;t[i];)i="".concat(e).concat(n++);return r.variable(i)}static isSimpleTerm(e){return void 0!==e.termType&&"Quad"!==e.termType&&"Wildcard"!==e.termType}static isQuad(e){return"Quad"===e.termType}static hasQuadVariables(e){return(0,s.someTermsNested)(e,e=>"Variable"===e.termType)}static isWildcard(e){return"Wildcard"===e.termType}}t.default=c},33625:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionHours=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.HOURS,overloads:(0,i.declare)(i.SparqlOperator.HOURS).onDateTime1(()=>e=>(0,i.integer)(e.typedValue.hours)).set([i.TypeURL.XSD_TIME],()=>e=>{let[t]=e;return(0,i.integer)(t.typedValue.hours)}).collect()})}}t.TermFunctionHours=a},33641:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Bindings=void 0;const n=r(13953),i=r(92119),a=r(56729);class o{constructor(e,t,r){this.type="bindings",this.dataFactory=e,this.entries=t,this.contextHolder=r}has(e){return this.entries.has("string"===typeof e?e:e.value)}get(e){return this.entries.get("string"===typeof e?e:e.value)}set(e,t){return new o(this.dataFactory,this.entries.set("string"===typeof e?e:e.value,t),this.contextHolder)}delete(e){return new o(this.dataFactory,this.entries.delete("string"===typeof e?e:e.value),this.contextHolder)}keys(){return this.mapIterable(this.iteratorToIterable(this.entries.keys()),e=>this.dataFactory.variable(e))}values(){return this.iteratorToIterable(this.entries.values())}forEach(e){for(const[t,r]of this.entries.entries())e(r,this.dataFactory.variable(t))}get size(){return this.entries.size}[Symbol.iterator](){return this.mapIterable(this.iteratorToIterable(this.entries.entries()),e=>{let[t,r]=e;return[this.dataFactory.variable(t),r]})[Symbol.iterator]()}equals(e){if(!e)return!1;if(this===e)return!0;if(this.size!==e.size)return!1;for(const r of this.keys()){var t;if(null===(t=this.get(r))||void 0===t||!t.equals(e.get(r)))return!1}return!0}filter(e){return new o(this.dataFactory,(0,i.Map)(this.entries.filter((t,r)=>e(t,this.dataFactory.variable(r)))),this.contextHolder)}map(e){return new o(this.dataFactory,(0,i.Map)(this.entries.map((t,r)=>e(t,this.dataFactory.variable(r)))),this.contextHolder)}merge(e){if(this.size<e.size&&e instanceof o)return e.merge(this);let t=this.entries;if(e instanceof o)for(const[r,n]of e.entries){const e=this.entries.get(r);if(e&&!e.equals(n))return;t=t.set(r,n)}else for(const[r,n]of e){const e=this.entries.get(r.value);if(e&&!e.equals(n))return;t=t.set(r.value,n)}return this.createBindingsWithContexts(t,e)}mergeWith(e,t){if(this.size<t.size&&t instanceof o)return t.mergeWith(e,this);let r=this.entries;if(t instanceof o)for(const[n,i]of t.entries){const t=this.entries.get(n);let a;a=t&&!t.equals(i)?e(t,i,this.dataFactory.variable(n)):i,r=r.set(n,a)}else for(const[n,i]of t){const t=this.entries.get(n.value);let a;a=t&&!t.equals(i)?e(t,i,n):i,r=r.set(n.value,a)}return this.createBindingsWithContexts(r,t)}createBindingsWithContexts(e,t){if(this.contextHolder&&this.contextHolder.context){let r=this.contextHolder.context;return"contextHolder"in t&&t.contextHolder&&t.contextHolder.context&&(r=o.mergeContext(this.contextHolder.contextMergeHandlers,r,t.contextHolder.context)),new o(this.dataFactory,e,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:r})}return new o(this.dataFactory,e,t.contextHolder)}static mergeContext(e,t,r){const i=[...t.keys(),...r.keys()],a={},o={},s=new Set(r.keys().map(e=>e.name)),c=t.keys().filter(e=>s.has(e.name));for(const n of i){if(1===o[n.name])continue;o[n.name]=1;const i=c.some(e=>e.name===n.name);e[n.name]&&i?a[n.name]=e[n.name].run(t.get(n),r.get(n)):!e[n.name]&&i||(t.get(n)?r.get(n)||(a[n.name]=t.get(n)):a[n.name]=r.get(n))}return new n.ActionContext(a)}setContextEntry(e,t){return this.setContextEntryRaw(e,t)}setContextEntryRaw(e,t){var r,i;return this.contextHolder&&this.contextHolder.context?new o(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:this.contextHolder.context.set(e,t)}):new o(this.dataFactory,this.entries,{contextMergeHandlers:null!==(r=null===(i=this.contextHolder)||void 0===i?void 0:i.contextMergeHandlers)&&void 0!==r?r:{},context:(new n.ActionContext).set(e,t)})}deleteContextEntry(e){return this.deleteContextEntryRaw(e)}deleteContextEntryRaw(e){var t;return this.contextHolder?new o(this.dataFactory,this.entries,{contextMergeHandlers:this.contextHolder.contextMergeHandlers,context:null===(t=this.contextHolder.context)||void 0===t?void 0:t.delete(e)}):new o(this.dataFactory,this.entries)}getContext(){var e;return null===(e=this.contextHolder)||void 0===e?void 0:e.context}getContextEntry(e){var t;return null===(t=this.getContext())||void 0===t?void 0:t.get(e)}toString(){return(0,a.bindingsToString)(this)}*mapIterable(e,t){for(const r of e)yield t(r)}iteratorToIterable(e){return{[Symbol.iterator]:()=>e}}}t.Bindings=o},33910:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(63630),t),i(r(72627),t)},34017:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NamedNode=void 0;t.NamedNode=class{constructor(e){this.termType="NamedNode",this.value=e}equals(e){return!!e&&"NamedNode"===e.termType&&e.value===this.value}}},34196:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationDistinctIdentity=void 0;const n=r(52241),i=r(13953),a=r(89266),o=r(8864);class s extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"distinct")}async testOperation(e,t){return(0,i.passTestVoid)()}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t});if("quads"===r.type){const e=(0,a.getSafeQuads)(r);return{type:"quads",quadStream:e.quadStream.filter(await this.newIdentityFilterQuads()),metadata:e.metadata}}const n=(0,a.getSafeBindings)(r),i=(await n.metadata()).variables.map(e=>e.variable);return{type:"bindings",bindingsStream:n.bindingsStream.filter(await this.newIdentityFilter(i)),metadata:n.metadata}}async newIdentityFilter(e){const t={};return r=>{const n=e.map(e=>o.termToString(r.get(e))).join("-");return!(n in t)&&(t[n]=!0)}}async newIdentityFilterQuads(){const e={};return t=>{const r=Object.values(o.quadToStringQuad(t)).join(" ");return!(r in e)&&(e[r]=!0)}}}t.ActorQueryOperationDistinctIdentity=s},34311:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.numberToString=t.MemoryPhysicalQueryPlanLogger=void 0;const i=r(45494);function a(e){return e.toLocaleString("en-US",{minimumFractionDigits:0,maximumFractionDigits:3})}t.MemoryPhysicalQueryPlanLogger=class{constructor(){this.planNodes=new Map}logOperation(e,t,r,n,i,a){const o={actor:i,logicalOperator:e,physicalOperator:t,rawNode:r,children:[],metadata:a};if(this.planNodes.set(r,o),this.rootNode){if(!n)throw new Error("Detected more than one parent-less node");const e=this.planNodes.get(n);if(!e)throw new Error("Could not find parent node");e.children.push(o)}else{if(n)throw new Error("No root node has been set yet, while a parent is being referenced");this.rootNode=o}}stashChildren(e,t){const r=this.planNodes.get(e);if(!r)throw new Error("Could not find plan node");r.children=t?r.children.filter(t):[]}unstashChild(e,t){const r=this.planNodes.get(e);if(r){const e=this.planNodes.get(t);if(!e)throw new Error("Could not find plan parent node");e.children.push(r)}}appendMetadata(e,t){const r=this.planNodes.get(e);r&&(r.metadata=n(n({},r.metadata),t))}toJson(){return this.rootNode?this.planNodeToJson(this.rootNode):{}}planNodeToJson(e){const t=n(n({logical:e.logicalOperator,physical:e.physicalOperator},this.getLogicalMetadata(e.rawNode)),this.compactMetadata(e.metadata));if(e.children.length>0&&(t.children=e.children.map(e=>this.planNodeToJson(e))),"bind"===t.physical&&t.children){const e={};for(const a of t.children){var r,i;const t=null!==(r=null===(i=a.children)||void 0===i?void 0:i.at(-1))&&void 0!==r?r:a,n=this.getPlanHash(t).join(",");e[n]||(e[n]=[]),e[n].push(a)}const n=[];for(const t of Object.values(e))n.push({occurrences:t.length,firstOccurrence:t[0]});t.childrenCompact=n,delete t.children}return t}getPlanHash(e){let t=["".concat(e.logical,"-").concat(e.physical)];return e.children?t=[...t,...e.children.flatMap(e=>this.getPlanHash(e))]:e.childrenCompact&&(t=[...t,...e.childrenCompact.flatMap(e=>this.getPlanHash(e.firstOccurrence))]),t}compactMetadata(e){return Object.fromEntries(Object.entries(e).map(e=>{let[t,r]=e;return[t,this.compactMetadataValue(r)]}))}compactMetadataValue(e){return e&&"object"===typeof e&&"termType"in e?this.getLogicalMetadata(e):e}getLogicalMetadata(e){const t={};if("type"in e){var r;const n=e;switch(null!==(r=n.metadata)&&void 0!==r&&r.scopedSource&&(t.source=n.metadata.scopedSource.source.toString()),n.type){case"pattern":t.pattern=this.quadToString(n);break;case"project":t.variables=n.variables.map(e=>e.value)}}return t}quadToString(e){return"".concat((0,i.termToString)(e.subject)," ").concat((0,i.termToString)(e.predicate)," ").concat((0,i.termToString)(e.object)).concat("DefaultGraph"===e.graph.termType?"":" ".concat((0,i.termToString)(e.graph)))}toCompactString(){const e=this.toJson(),t=[],r=new Map;if("logical"in e?this.nodeToCompactString(t,r,"",e):t.push("Empty"),r.size>0){t.push(""),t.push("sources:");for(const[e,n]of r.entries())t.push("  ".concat(n,": ").concat(e))}return t.join("\n")}nodeToCompactString(e,t,r,n,i){let o;n.source&&(o=t.get(n.source),void 0===o&&(o=t.size,t.set(n.source,o))),e.push("".concat(r).concat(n.logical).concat(n.physical?"(".concat(n.physical,")"):"").concat(n.pattern?" (".concat(n.pattern,")"):"").concat(n.variables?" (".concat(n.variables.join(","),")"):"").concat(n.bindOperation?" bindOperation:(".concat(n.bindOperation.pattern,") bindCardEst:").concat("estimate"===n.bindOperationCardinality.type?"~":"").concat(a(n.bindOperationCardinality.value)):"").concat(n.cardinality?" cardEst:".concat("estimate"===n.cardinality.type?"~":"").concat(a(n.cardinality.value)):"").concat(n.source?" src:".concat(o):"").concat(n.cardinalityReal?" cardReal:".concat(n.cardinalityReal):"").concat(n.timeSelf?" timeSelf:".concat(a(n.timeSelf),"ms"):"").concat(n.timeLife?" timeLife:".concat(a(n.timeLife),"ms"):"").concat(i?" ".concat(i):""));for(const a of null!==(s=n.children)&&void 0!==s?s:[]){var s;this.nodeToCompactString(e,t,"".concat(r,"  "),a)}for(const a of null!==(c=n.childrenCompact)&&void 0!==c?c:[]){var c;this.nodeToCompactString(e,t,"".concat(r,"  "),a.firstOccurrence,"compacted-occurrences:".concat(a.occurrences))}}},t.numberToString=a},34360:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[];return r=e.on("data",e=>t.push(e)),n=t,new Promise((e,t)=>{r.on("end",()=>e(n)),r.on("error",t)});var r,n}},34381:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getContextDestinationUrl=t.getContextDestination=t.getDataDestinationContext=t.getDataDestinationValue=t.getDataDestinationType=t.isDataDestinationRawType=void 0;const n=r(52840);function i(e){return"string"===typeof e||"remove"in e}function a(e){return i(e)?e:e.value}t.isDataDestinationRawType=i,t.getDataDestinationType=function(e){return"string"===typeof e?"":"remove"in e?"rdfjsStore":e.type},t.getDataDestinationValue=a,t.getDataDestinationContext=function(e,t){return"string"===typeof e||"remove"in e||!e.context?t:t.merge(e.context)},t.getContextDestination=function(e){return e.get(n.KeysRdfUpdateQuads.destination)},t.getContextDestinationUrl=function(e){if(e){let t=a(e);if("string"===typeof t){const e=t.indexOf("#");return e>=0&&(t=t.slice(0,e)),t}}}},34445:(e,t)=>{"use strict";t.byteLength=function(e){var t=s(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,a=s(e),o=a[0],c=a[1],l=new i(function(e,t,r){return 3*(t+r)/4-r}(0,o,c)),u=0,d=c>0?o-4:o;for(r=0;r<d;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],l[u++]=t>>16&255,l[u++]=t>>8&255,l[u++]=255&t;2===c&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,l[u++]=255&t);1===c&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,l[u++]=t>>8&255,l[u++]=255&t);return l},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],o=16383,s=0,c=n-i;s<c;s+=o)a.push(l(e,s,s+o>c?c:s+o));1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"="));return a.join("")};for(var r=[],n=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0;o<64;++o)r[o]=a[o],n[a.charCodeAt(o)]=o;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function c(e){return r[e>>18&63]+r[e>>12&63]+r[e>>6&63]+r[63&e]}function l(e,t,r){for(var n,i=[],a=t;a<r;a+=3)n=(e[a]<<16&16711680)+(e[a+1]<<8&65280)+(255&e[a+2]),i.push(c(n));return i.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},34498:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsafeStringify=void 0;const n=r(12905),i=[];for(let o=0;o<256;++o)i.push((o+256).toString(16).slice(1));function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}t.unsafeStringify=a,t.default=function(e){const t=a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!(0,n.default)(t))throw TypeError("Stringified UUID is invalid");return t}},34672:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermGreaterThanEqual=void 0;const i=r(11716),a=r(97824),o=r(71805);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.GTE],termFunction:!0})),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const t=await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.LTE,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new o.TermFunctionGreaterThanEqual(t)}}t.ActorFunctionFactoryTermGreaterThanEqual=s},34914:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultExpandOptions=t.JsonLdContextNormalized=void 0;const n=r(67323),i=r(20489),a=r(98280);t.JsonLdContextNormalized=class{constructor(e){this.contextRaw=e}getContextRaw(){return this.contextRaw}expandTerm(e,r){let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.defaultExpandOptions;const s=this.contextRaw[e];if(null===s||s&&null===s["@id"])return null;let c=!0;if(s&&r){const t=a.Util.getContextValueId(s);if(t&&t!==e){if("string"===typeof t&&(a.Util.isValidIri(t)||a.Util.isValidKeyword(t)))return t;a.Util.isPotentialKeyword(t)||(c=!1)}}const l=a.Util.getPrefix(e,this.contextRaw),u=this.contextRaw["@vocab"],d=(!!u||""===u)&&u.indexOf(":")<0,h=this.contextRaw["@base"],p=a.Util.isPotentialKeyword(e);if(l){const t=this.contextRaw[l],r=a.Util.getContextValueId(t);if(r){if("string"!==typeof t&&o.allowPrefixForcing){if("_"!==r[0]&&!p&&!t["@prefix"]&&!(e in this.contextRaw))return e}else if(!a.Util.isSimpleTermDefinitionPrefix(r,o))return e;return r+e.substr(l.length+1)}}else{if(r&&(u||""===u||o.allowVocabRelativeToBase&&h&&d)&&!p&&!a.Util.isCompactIri(e)){if(d){if(o.allowVocabRelativeToBase)return(u||h?(0,n.resolve)(u,h):"")+e;throw new i.ErrorCoded("Relative vocab expansion for term '".concat(e,"' with vocab '").concat(u,"' is not allowed."),i.ERROR_CODES.INVALID_VOCAB_MAPPING)}return u+e}if(!r&&h&&!p&&!a.Util.isCompactIri(e))return(0,n.resolve)(e,h)}if(c)return e;throw new i.ErrorCoded("Invalid IRI mapping found for context entry '".concat(e,"': '").concat(JSON.stringify(s),"'"),i.ERROR_CODES.INVALID_IRI_MAPPING)}compactIri(e,t){if(t&&this.contextRaw["@vocab"]&&e.startsWith(this.contextRaw["@vocab"]))return e.substr(this.contextRaw["@vocab"].length);if(!t&&this.contextRaw["@base"]&&e.startsWith(this.contextRaw["@base"]))return e.substr(this.contextRaw["@base"].length);const r={prefix:"",suffix:e};for(const n in this.contextRaw){const i=this.contextRaw[n];if(i&&!a.Util.isPotentialKeyword(n)){const o=a.Util.getContextValueId(i);if(e.startsWith(o)){const i=e.substr(o.length);if(i)i.length<r.suffix.length&&(r.prefix=n,r.suffix=i);else if(t)return n}}}return r.prefix?r.prefix+":"+r.suffix:e}},t.defaultExpandOptions={allowPrefixForcing:!0,allowPrefixNonGenDelims:!1,allowVocabRelativeToBase:!0}},35138:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermDatatype=void 0;const i=r(11716),a=r(97824),o=r(57251);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.DATATYPE],termFunction:!0}))}async run(e){return new o.TermFunctionDatatype}}t.ActorFunctionFactoryTermDatatype=s},35178:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermMonth=void 0;const i=r(11716),a=r(97824),o=r(82653);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.MONTH],termFunction:!0}))}async run(e){return new o.TermFunctionMonth}}t.ActorFunctionFactoryTermMonth=s},35233:(e,t)=>{"use strict";function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;return e.toLocaleString(void 0,{minimumIntegerDigits:t,useGrouping:!1})}function n(e){return void 0===e.zoneHours||void 0===e.zoneMinutes?"":0===e.zoneHours&&0===e.zoneMinutes?"Z":"".concat(e.zoneHours>=0?"+".concat(r(e.zoneHours)):r(e.zoneHours),":").concat(r(Math.abs(e.zoneMinutes)))}function i(e){return"".concat(r(e.year,4),"-").concat(r(e.month),"-").concat(r(e.day)).concat(n(e))}function a(e){return"".concat(r(e.hours),":").concat(r(e.minutes),":").concat(r(e.seconds)).concat(n(e))}Object.defineProperty(t,"__esModule",{value:!0}),t.serializeDuration=t.serializeTime=t.serializeDate=t.serializeDateTime=void 0,t.serializeDateTime=function(e){return"".concat(i({year:e.year,month:e.month,day:e.day}),"T").concat(a(e))},t.serializeDate=i,t.serializeTime=a,t.serializeDuration=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PT0S";if(!Object.values(e).some(e=>0!==(e||0)))return t;const r=Object.values(e).some(e=>(e||0)<0)?"-":"",n=e.year?"".concat(Math.abs(e.year),"Y"):"",i=e.month?"".concat(Math.abs(e.month),"M"):"",a=e.day?"".concat(Math.abs(e.day),"D"):"",o="".concat(r,"P").concat(n).concat(i).concat(a);if(!(e.hours||e.minutes||e.seconds))return o;const s=e.hours?"".concat(Math.abs(e.hours),"H"):"",c=e.minutes?"".concat(Math.abs(e.minutes),"M"):"",l=e.seconds?"".concat(Math.abs(e.seconds),"S"):"";return"".concat(o,"T").concat(s).concat(c).concat(l)}},35276:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinMultiBindSource=void 0;const i=r(1140),a=r(52840),o=r(13953),s=r(82956),c=r(89266),l=r(72758),u=r(85160);class d extends i.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"bind-source",canHandleUndefs:!0})}async getOutput(e,t){const r=e.context.getSafe(a.KeysInitQuery.dataFactory),n=new u.Factory(r),i=t.entriesSorted;this.logDebug(e.context,"First entry for Bind Join Source: ",()=>({entry:i[0].operation,cardinality:i[0].metadata.cardinality,order:i[0].metadata.order,availableOrders:i[0].metadata.availableOrders}));for(const[a,s]of i.entries())0!==a&&s.output.bindingsStream.close();const o=i[0].output,d=i[0].metadata,h=[...i];h.splice(0,1);const p=(0,c.getOperationSource)(h[0].operation),f=this.createOperationFromEntries(n,h),g=new s.ChunkedIterator(o.bindingsStream,this.blockSize,{autoStart:!1});return{result:{type:"bindings",bindingsStream:new l.UnionIterator(g.map(t=>p.source.queryBindings(f,p.context?e.context.merge(p.context):e.context,{joinBindings:{bindings:t,metadata:d}}))),metadata:()=>this.constructResultMetadata(i,i.map(e=>e.metadata),e.context)},physicalPlanMetadata:{bindIndex:t.entriesUnsorted.indexOf(i[0])}}}async sortJoinEntries(e,t){const r=await i.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,e,t);return r.isFailed()?r:(e=(e=r.get()).sort((e,t)=>e.operationModified&&!t.operationModified?-1:0),(0,o.passTest)(e))}async getJoinCoefficients(e,t){let{metadatas:r}=t;const s=e.context.getSafe(a.KeysInitQuery.dataFactory),l=new u.Factory(s),d=e.entries.map((e,t)=>n(n({},e),{},{metadata:r[t]})),h=await this.sortJoinEntries(d,e.context);if(h.isFailed())return h;const p=h.get();r=p.map(e=>e.metadata);const f=i.ActorRdfJoin.getRequestInitialTimes(r),g=i.ActorRdfJoin.getRequestItemTimes(r),y=[...p],m=[...f],v=[...g];y.splice(0,1),m.splice(0,1),v.splice(0,1);const b=y.map(e=>(0,c.getOperationSource)(e.operation));if(b.some(e=>!e))return(0,o.failTest)("Actor ".concat(this.name," can not bind on remaining operations without source annotation"));if(b.some(e=>e!==b[0]))return(0,o.failTest)("Actor ".concat(this.name," can not bind on remaining operations with non-equal source annotation"));const _=b[0],w=this.createOperationFromEntries(l,y),x=await _.source.getSelectorShape(e.context),S=e.context.get(a.KeysInitQuery.extensionFunctionsAlwaysPushdown);if(!(0,c.doesShapeAcceptOperation)(x,w,{joinBindings:!0,wildcardAcceptAllExtensionFunctions:S}))return(0,o.failTest)("Actor ".concat(this.name," detected a source that can not handle passing down join bindings"));const T=await Promise.all(y.map(async t=>(await this.mediatorJoinSelectivity.mediate({entries:[p[0],t],context:e.context})).selectivity*this.selectivityModifier)),O=y.map((e,t)=>e.metadata.cardinality.value*T[t]).reduce((e,t)=>e+t,0);return(0,o.passTestWithSideData)({iterations:1,persistedItems:r[0].cardinality.value,blockingItems:r[0].cardinality.value,requestTime:f[0]+r[0].cardinality.value*g[0]+f[1]+O*g[1]},n(n({},t),{},{entriesUnsorted:d,entriesSorted:p}))}createOperationFromEntries(e,t){return 1===t.length?t[0].operation:e.createJoin(t.map(e=>e.operation),!0)}}t.ActorRdfJoinMultiBindSource=d},35399:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(60285),t)},35587:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionEncodeForUri=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.ENCODE_FOR_URI,overloads:(0,i.declare)(i.SparqlOperator.ENCODE_FOR_URI).onStringly1Typed(()=>e=>(0,i.string)(encodeURI(e))).collect()})}}t.TermFunctionEncodeForUri=a},35639:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveNodeHandlerPlural=void 0;const n=r(68676),i=r(64638);class a extends i.DirectiveNodeHandlerAdapter{constructor(e,t){super("plural",e,t)}handle(e,t){return this.isDirectiveScopeAll(e.directive)&&(t.singularizeState=n.SingularizeState.PLURAL),delete t.singularizeVariables[this.util.nameToVariable(e.fieldLabel,t).value],{}}}t.DirectiveNodeHandlerPlural=a},35661:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getExpressionVariables=void 0;const n=r(57078),i=r(85160);t.getExpressionVariables=function e(t){switch(t.expressionType){case i.Algebra.expressionTypes.AGGREGATE:case i.Algebra.expressionTypes.WILDCARD:throw new Error("Getting expression variables is not supported for ".concat(t.expressionType));case i.Algebra.expressionTypes.EXISTENCE:return i.Util.inScopeVariables(t.input);case i.Algebra.expressionTypes.NAMED:return[];case i.Algebra.expressionTypes.OPERATOR:return(0,n.uniqTerms)(t.args.flatMap(t=>e(t)));case i.Algebra.expressionTypes.TERM:return"Variable"===t.term.termType?[t.term]:[]}}},36333:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionInequality=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(e){super({arity:2,operator:i.SparqlOperator.NOT_EQUAL,overloads:(0,i.declare)(i.SparqlOperator.NOT_EQUAL).set(["term","term"],e=>t=>{let[r,n]=t;return(0,i.bool)(!this.equalityFunction.applyOnTerms([r,n],e).typedValue)}).collect()}),this.equalityFunction=e}}t.TermFunctionInequality=a},36393:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.filterMatchingQuotedQuads=t.quadsOrderToBindingsOrder=t.quadsMetadataToBindingsMetadata=t.setMetadata=t.getDuplicateElementLinks=t.getVariables=t.isTermVariable=t.quadsToBindings=void 0;const i=r(82956),a=r(66179),o=r(45494),s=r(57078),c=r(82421);function l(e){return"Variable"===e.termType}function u(e){return(0,s.uniqTerms)((0,s.getTermsNested)(e).filter(l))}function d(e){const t={};let r=!1;if((0,s.forEachTermsNested)(e,(e,n)=>{if("Variable"===e.termType){const i=(0,o.termToString)(e),a=(t[i]||(t[i]=[])).push(n);r=r||a>1}}),!r)return;const n={};for(const i in t){const e=t[i],r=e.slice(1);r.length>0&&(n[e[0].join("_")]=r)}return n}function h(e,t,r,n,i,o){const s=s=>{o&&(s.cardinality.type="estimate"),t.setProperty("metadata",p(e,(0,a.validateMetadataQuads)(s),n,i)),s.state&&s.state.addInvalidateListener(()=>{h(e,t,r,n,i,o)})},c=r.getProperty("metadata");c?s(c):r.getProperty("metadata",s)}function p(e,t,r,i){return n(n({},t),{},{order:t.order?f(e,t.order,r):void 0,availableOrders:t.availableOrders?t.availableOrders.map(t=>({cost:t.cost,terms:f(e,t.terms,r)})):void 0,variables:i.map(e=>({variable:e,canBeUndef:!1}))})}function f(e,t,r){const n={};return t.map(t=>{const i=r[t.term];if(i&&!n[i])return n[i]=!0,{term:e.variable(i),direction:t.direction}}).filter(Boolean)}t.quadsToBindings=function(e,t,r,n,a){const o=u(t),c="Variable"===t.graph.termType&&!a,l=d(t),p=(0,s.reduceTermsNested)(t,(e,t,r)=>("Variable"===t.termType&&(e[r.join("_")]=t.value),e),{});let f=e;c&&(f=f.filter(e=>"DefaultGraph"!==e.graph.termType)),l&&(f=f.filter(e=>{for(const t in l){const r=t.split("_"),n=(0,s.getValueNestedPath)(e,r);for(const i of l[t])if(!n.equals((0,s.getValueNestedPath)(e,i)))return!1}return!0}));const g=new i.ClosableIterator(f.map(e=>n.bindings(Object.keys(p).map(t=>{const n=t.split("_"),i=p[t],a=(0,s.getValueNestedPath)(e,n);return[r.variable(i),a]}))),{onClose:()=>e.destroy()});return h(r,g,e,p,o,c||Boolean(l)),g},t.isTermVariable=l,t.getVariables=u,t.getDuplicateElementLinks=d,t.setMetadata=h,t.quadsMetadataToBindingsMetadata=p,t.quadsOrderToBindingsOrder=f,t.filterMatchingQuotedQuads=function(e,t){return(0,s.someTerms)(e,e=>"Quad"===e.termType)&&(t=t.filter(t=>(0,c.matchPatternMappings)(t,e))),t}},36540:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorCombinePipeline=void 0;const i=r(13953);class a extends i.Mediator{constructor(e){super(e)}async mediate(e){let t;try{t=this.publish(e)}catch(o){return e}if(this.filterFailures){const e=[];for(const r of t){(await r.reply).isPassed()&&e.push(r)}t=e}const r=[];if(t=await Promise.all(t.map(async(t,n)=>{let{actor:i,reply:a}=t;try{const e=await a,t=e.getOrThrow();return r[n]=e.getSideData(),{actor:i,reply:t}}catch(o){throw new Error(this.constructFailureMessage(e,[o.message]))}})),this.order){const e=e=>{const t=this.field?e[this.field]:e;if("number"!==typeof t)throw new TypeError("Cannot order elements that are not numbers.");return t};t=t.sort((t,r)=>("increasing"===this.order?1:-1)*(e(t.reply)-e(r.reply)))}let i=e,a=0;for(const{actor:s}of t)i=n(n({},i),await s.runObservable(i,r[a++]));return i}mediateWith(){throw new Error("Method not supported.")}}t.MediatorCombinePipeline=a},36656:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionContextKey=t.ActionContext=void 0;const n=r(92119);class i{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.map=(0,n.Map)(e)}setDefault(e,t){return this.has(e)?this:this.set(e,t)}set(e,t){return this.setRaw(e.name,t)}setRaw(e,t){return new i(this.map.set(e,t))}delete(e){return new i(this.map.delete(e.name))}get(e){return this.getRaw(e.name)}getRaw(e){return this.map.get(e)}getSafe(e){if(!this.has(e))throw new Error("Context entry ".concat(e.name," is required but not available"));return this.get(e)}has(e){return this.hasRaw(e.name)}hasRaw(e){return this.map.has(e)}merge(){let e=this;for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];for(const i of r)for(const t of i.keys())e=e.set(t,i.get(t));return e}keys(){return[...this.map.keys()].map(e=>new a(e))}toJS(){return this.map.toJS()}toString(){return"ActionContext(".concat(JSON.stringify(this.map.toJS()),")")}[Symbol.for("nodejs.util.inspect.custom")](){return"ActionContext(".concat(JSON.stringify(this.map.toJS(),null,"  "),")")}static ensureActionContext(e){return e instanceof i?e:new i((0,n.Map)(null!==e&&void 0!==e?e:{}))}}t.ActionContext=i;class a{constructor(e){this.name=e}}t.ActionContextKey=a},36725:(e,t,r)=>{"use strict";const n=r(62285),{aggregateTwoErrors:i,codes:{ERR_MULTIPLE_CALLBACK:a},AbortError:o}=r(60056),{Symbol:s}=r(28931),{kIsDestroyed:c,isDestroyed:l,isFinished:u,isServerRequest:d}=r(60782),h=s("kDestroy"),p=s("kConstruct");function f(e,t,r){e&&(e.stack,t&&!t.errored&&(t.errored=e),r&&!r.errored&&(r.errored=e))}function g(e,t,r){let i=!1;function a(t){if(i)return;i=!0;const a=e._readableState,o=e._writableState;f(t,o,a),o&&(o.closed=!0),a&&(a.closed=!0),"function"===typeof r&&r(t),t?n.nextTick(y,e,t):n.nextTick(m,e)}try{e._destroy(t||null,a)}catch(t){a(t)}}function y(e,t){v(e,t),m(e)}function m(e){const t=e._readableState,r=e._writableState;r&&(r.closeEmitted=!0),t&&(t.closeEmitted=!0),(null!==r&&void 0!==r&&r.emitClose||null!==t&&void 0!==t&&t.emitClose)&&e.emit("close")}function v(e,t){const r=e._readableState,n=e._writableState;null!==n&&void 0!==n&&n.errorEmitted||null!==r&&void 0!==r&&r.errorEmitted||(n&&(n.errorEmitted=!0),r&&(r.errorEmitted=!0),e.emit("error",t))}function b(e,t,r){const i=e._readableState,a=e._writableState;if(null!==a&&void 0!==a&&a.destroyed||null!==i&&void 0!==i&&i.destroyed)return this;null!==i&&void 0!==i&&i.autoDestroy||null!==a&&void 0!==a&&a.autoDestroy?e.destroy(t):t&&(t.stack,a&&!a.errored&&(a.errored=t),i&&!i.errored&&(i.errored=t),r?n.nextTick(v,e,t):v(e,t))}function _(e){let t=!1;function r(r){if(t)return void b(e,null!==r&&void 0!==r?r:new a);t=!0;const i=e._readableState,o=e._writableState,s=o||i;i&&(i.constructed=!0),o&&(o.constructed=!0),s.destroyed?e.emit(h,r):r?b(e,r,!0):n.nextTick(w,e)}try{e._construct(e=>{n.nextTick(r,e)})}catch(i){n.nextTick(r,i)}}function w(e){e.emit(p)}function x(e){return(null===e||void 0===e?void 0:e.setHeader)&&"function"===typeof e.abort}function S(e){e.emit("close")}function T(e,t){e.emit("error",t),n.nextTick(S,e)}e.exports={construct:function(e,t){if("function"!==typeof e._construct)return;const r=e._readableState,i=e._writableState;r&&(r.constructed=!1),i&&(i.constructed=!1),e.once(p,t),e.listenerCount(p)>1||n.nextTick(_,e)},destroyer:function(e,t){e&&!l(e)&&(t||u(e)||(t=new o),d(e)?(e.socket=null,e.destroy(t)):x(e)?e.abort():x(e.req)?e.req.abort():"function"===typeof e.destroy?e.destroy(t):"function"===typeof e.close?e.close():t?n.nextTick(T,e,t):n.nextTick(S,e),e.destroyed||(e[c]=!0))},destroy:function(e,t){const r=this._readableState,n=this._writableState,a=n||r;return null!==n&&void 0!==n&&n.destroyed||null!==r&&void 0!==r&&r.destroyed?("function"===typeof t&&t(),this):(f(e,n,r),n&&(n.destroyed=!0),r&&(r.destroyed=!0),a.constructed?g(this,e,t):this.once(h,function(r){g(this,i(r,e),t)}),this)},undestroy:function(){const e=this._readableState,t=this._writableState;e&&(e.constructed=!0,e.closed=!1,e.closeEmitted=!1,e.destroyed=!1,e.errored=null,e.errorEmitted=!1,e.reading=!1,e.ended=!1===e.readable,e.endEmitted=!1===e.readable),t&&(t.constructed=!0,t.destroyed=!1,t.closed=!1,t.closeEmitted=!1,t.errored=null,t.errorEmitted=!1,t.finalCalled=!1,t.prefinished=!1,t.ended=!1===t.writable,t.ending=!1===t.writable,t.finished=!1===t.writable)},errorOrDestroy:b}},36747:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(26597),t)},36865:(e,t,r)=>{const{Parser:n}=r(64662),{Generator:i}=r(39452),{Wildcard:a}=r(94206),{DataFactory:o}=r(92832);e.exports={Parser:function(){let{prefixes:e,baseIRI:t,factory:r,pathOnly:i,sparqlStar:a,skipValidation:s,skipUngroupedVariableCheck:c}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const l={};for(const n in null!==e&&void 0!==e?e:{})l[n]=e[n];const u=new n;return u.parse=function(){return n.base=t||"",n.prefixes=Object.create(l),n.factory=r||new o,n.sparqlStar=Boolean(a),n.pathOnly=Boolean(i),n.skipValidation=Boolean(s)||Boolean(c),n.prototype.parse.apply(u,arguments)},u._resetBlanks=n._resetBlanks,u},Generator:i,Wildcard:a}},37067:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermLesserThan=void 0;const i=r(11716),a=r(97824),o=r(79182);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.LT],termFunction:!0})),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const t=await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.EQUAL,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new o.TermFunctionLesserThan(t)}}t.ActorFunctionFactoryTermLesserThan=s},37088:(e,t,r)=>{var n=r(81756);e.exports=function(e,t,r){return e.set(n(e,t),r),r},e.exports.__esModule=!0,e.exports.default=e.exports},37150:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinNestedLoop=void 0;const n=r(1140),i=r(13953),a=r(66492);class o extends n.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){return{result:{type:"bindings",bindingsStream:new a.NestedLoopJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,n.ActorRdfJoin.joinBindings,{autoStart:!1}),metadata:async()=>await this.constructResultMetadata(e.entries,await n.ActorRdfJoin.getMetadatas(e.entries),e.context)}}}async getJoinCoefficients(e,t){const{metadatas:r}=t,a=n.ActorRdfJoin.getRequestInitialTimes(r),o=n.ActorRdfJoin.getRequestItemTimes(r);return(0,i.passTestWithSideData)({iterations:r[0].cardinality.value*r[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:a[0]+r[0].cardinality.value*o[0]+a[1]+r[1].cardinality.value*o[1]},t)}}t.ActorRdfJoinNestedLoop=o},37152:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0;const n=r(87083),i=r(43485);var a=r(43485);function o(e,t,r,a){return(0,i.default)(48,n.default,e,t,r,a)}Object.defineProperty(t,"DNS",{enumerable:!0,get:function(){return a.DNS}}),Object.defineProperty(t,"URL",{enumerable:!0,get:function(){return a.URL}}),o.DNS=i.DNS,o.URL=i.URL,t.default=o},37212:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(88783),t)},37294:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGraph=void 0;class r{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&"DefaultGraph"===e.termType}}t.DefaultGraph=r,r.INSTANCE=new r},37301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionYear=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.YEAR,overloads:(0,i.declare)(i.SparqlOperator.YEAR).onDateTime1(()=>e=>(0,i.integer)(e.typedValue.year)).set([i.TypeURL.XSD_DATE],()=>e=>{let[t]=e;return(0,i.integer)(t.typedValue.year)}).collect()})}}t.TermFunctionYear=a},37440:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeValueHandlerString=void 0;const n=r(71506);class i extends n.NodeValueHandlerAdapter{constructor(e,t){super("StringValue",e,t)}handle(e,t,r){const n=r.context.getContextRaw()[t];let i,a;return n&&"string"!==typeof n&&(n["@language"]?i=n["@language"]:n["@type"]&&(a=this.util.dataFactory.namedNode(n["@type"]))),{terms:[this.util.dataFactory.literal(e.value,i||a)]}}}t.NodeValueHandlerString=i},37492:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.elapsedDuration=t.addDurationToDateTime=t.maximumDayInMonthFor=void 0;const i=r(14975);function a(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=e-r,i=t-r,a=Math.floor(n/i);return{intDiv:a,remainder:e-a*i}}function o(e,t){const{intDiv:r,remainder:n}=a(t,13,1),i=e+r;return[1,3,5,7,8,10,12].includes(n)?31:[4,6,9,11].includes(n)?30:2===n&&(0===a(i,400).remainder||0!==a(i,100).remainder&&0===a(i,4).remainder)?29:28}t.maximumDayInMonthFor=o,t.addDurationToDateTime=function(e,t){const r=n({},e);let i=a(e.month+t.month,13,1);for(r.month=i.remainder,r.year=e.year+t.year+i.intDiv,i=a(e.seconds+t.seconds,60),r.seconds=i.remainder,i=a(e.minutes+t.minutes+i.intDiv,60),r.minutes=i.remainder,i=a(e.hours+t.hours+i.intDiv,24),r.hours=i.remainder,r.day=e.day+t.day+i.intDiv;;){let e;if(r.day<1)r.day+=o(r.year,r.month-1),e=-1;else{if(!(r.day>o(r.year,r.month)))break;r.day-=o(r.year,r.month),e=1}i=a(r.month+e,13,1),r.month=i.remainder,r.year+=i.intDiv}return r},t.elapsedDuration=function(e,t,r){const n=(0,i.toUTCDate)(e,r),a=(0,i.toUTCDate)(t,r),o=n.getTime()-a.getTime();return{day:Math.floor(o/864e5),hours:Math.floor(o%864e5/36e5),minutes:Math.floor(o%36e5/6e4),seconds:o%6e4}}},37640:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(75065),t)},38034:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermMinutes=void 0;const i=r(11716),a=r(97824),o=r(53421);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.MINUTES],termFunction:!0}))}async run(e){return new o.TermFunctionMinutes}}t.ActorFunctionFactoryTermMinutes=s},38120:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TestResultFailed=t.TestResultPassed=t.failTest=t.passTestVoidWithSideData=t.passTestWithSideData=t.passTestVoid=t.passTest=void 0,t.passTest=function(e){return new r(e,void 0)},t.passTestVoid=function(){return new r(!0,void 0)},t.passTestWithSideData=function(e,t){return new r(e,t)},t.passTestVoidWithSideData=function(e){return new r(!0,e)},t.failTest=function(e){return new n(e)};class r{constructor(e,t){this.value=e,this.sideData=t}isPassed(){return!0}isFailed(){return!1}get(){return this.value}getOrThrow(){return this.value}getSideData(){return this.sideData}getFailMessage(){}map(e){return new r(e(this.value,this.sideData),this.sideData)}async mapAsync(e){return new r(await e(this.value,this.sideData),this.sideData)}}t.TestResultPassed=r;class n{constructor(e){this.failMessage=e}isPassed(){return!1}isFailed(){return!0}get(){}getOrThrow(){throw new Error(this.getFailMessage())}getSideData(){throw new Error(this.getFailMessage())}getFailMessage(){return this.failMessage}map(){return this}async mapAsync(){return this}}t.TestResultFailed=n},38193:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionDay=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.DAY,overloads:(0,i.declare)(i.SparqlOperator.DAY).onDateTime1(()=>e=>(0,i.integer)(e.typedValue.day)).set([i.TypeURL.XSD_DATE],()=>e=>{let[t]=e;return(0,i.integer)(t.typedValue.day)}).collect()})}}t.TermFunctionDay=a},38240:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(71188),t)},38550:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermXsdToBoolean=void 0;const i=r(11716),a=r(97824),o=r(3055);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.TypeURL.XSD_BOOLEAN],termFunction:!0}))}async run(e){return new o.TermFunctionXsdToBoolean}}t.ActorFunctionFactoryTermXsdToBoolean=s},38636:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinSingle=void 0;const n=r(1140),i=r(13953);class a extends n.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"single",limitEntries:1}),this.includeInLogs=!1}async test(e){return 1!==e.entries.length?(0,i.failTest)("Actor ".concat(this.name," can only join a single entry")):await this.getJoinCoefficients(e,void 0)}async getOutput(e){return{result:e.entries[0].output}}async getJoinCoefficients(e,t){return(0,i.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},t)}}t.ActorRdfJoinSingle=a},38769:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermIsIri=void 0;const i=r(11716),a=r(97824),o=r(39366);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.IS_IRI,a.SparqlOperator.IS_URI],termFunction:!0}))}async run(e){return new o.TermFunctionIsIri}}t.ActorFunctionFactoryTermIsIri=s},39020:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(70946),t)},39126:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinOptionalBind=void 0;const n=r(87792),i=r(1140),a=r(52840),o=r(13953),s=r(7979),c=r(89266),l=r(85160);class u extends i.ActorRdfJoin{constructor(e){super(e,{logicalType:"optional",physicalName:"bind",limitEntries:2,canHandleUndefs:!0,isLeaf:!1,requiresVariableOverlap:!0,canHandleOperationRequired:!0})}async getOutput(e){const t=e.context.getSafe(a.KeysInitQuery.dataFactory),r=new l.Factory(t),o=await s.BindingsFactory.create(this.mediatorMergeBindingsContext,e.context,t);e.entries[1].output.bindingsStream.close();const u=e.context.set(a.KeysQueryOperation.joinLeftMetadata,await e.entries[0].output.metadata()).set(a.KeysQueryOperation.joinRightMetadatas,[await e.entries[1].output.metadata()]);return{result:{type:"bindings",bindingsStream:n.ActorRdfJoinMultiBind.createBindStream(this.bindOrder,e.entries[0].output.bindingsStream,[e.entries[1].operation],async(e,t)=>{const r=e[0];return(0,c.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:r,context:null===u||void 0===u?void 0:u.set(a.KeysQueryOperation.joinBindings,t)})).bindingsStream},!0,r,o),metadata:async()=>await this.constructResultMetadata(e.entries,await i.ActorRdfJoin.getMetadatas(e.entries),e.context,{},!0)}}}async getJoinCoefficients(e,t){const{metadatas:r}=t,n=i.ActorRdfJoin.getRequestInitialTimes(r),a=i.ActorRdfJoin.getRequestItemTimes(r);if(e.entries[1].operation.type===l.Algebra.types.EXTEND||e.entries[1].operation.type===l.Algebra.types.GROUP)return(0,o.failTest)("Actor ".concat(this.name," can not bind on Extend and Group operations"));const s=(await this.mediatorJoinSelectivity.mediate({entries:e.entries,context:e.context})).selectivity*this.selectivityModifier;return(0,o.passTestWithSideData)({iterations:r[0].cardinality.value*r[1].cardinality.value*s,persistedItems:0,blockingItems:0,requestTime:n[0]+r[0].cardinality.value*(a[0]+n[1]+s*r[1].cardinality.value*a[1])},t)}}t.ActorRdfJoinOptionalBind=u},39163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinMultiEmpty=void 0;const n=r(1140),i=r(52840),a=r(13953),o=r(66179),s=r(72758);class c extends n.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"multi-empty",canHandleUndefs:!0})}async test(e){return(await n.ActorRdfJoin.getMetadatas(e.entries)).every(e=>n.ActorRdfJoin.getCardinality(e).value>0)?(0,a.failTest)("Actor ".concat(this.name," can only join entries where at least one is empty")):super.test(e)}async getOutput(e){for(const r of e.entries)r.output.bindingsStream.close();const t=e.context.getSafe(i.KeysInitQuery.dataFactory);return{result:{bindingsStream:new s.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new o.MetadataValidationState,cardinality:{type:"exact",value:0},variables:n.ActorRdfJoin.joinVariables(t,await n.ActorRdfJoin.getMetadatas(e.entries))}),type:"bindings"}}}async getJoinCoefficients(e,t){return(0,a.passTestWithSideData)({iterations:0,persistedItems:0,blockingItems:0,requestTime:0},t)}}t.ActorRdfJoinMultiEmpty=c},39178:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(48353),t)},39210:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(69990),t)},39332:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(36540),t)},39363:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionFunctionConcat=void 0;const n=r(11716),i=r(52840),a=r(97824);class o extends n.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:a.SparqlOperator.CONCAT,apply:async e=>{const{args:t,mapping:r,exprEval:n}=e,s=t.map(async e=>n.evaluatorExpressionEvaluation(e,r)).map(async e=>{const r=o.concatTree.search([await e],n.context.getSafe(i.KeysExpressionEvaluator.superTypeProvider),n.context.getSafe(i.KeysInitQuery.functionArgumentsCache));if(!r)throw new a.InvalidArgumentTypes(t,a.SparqlOperator.CONCAT);return r(n)([await e])}),c=await Promise.all(s),l=c.map(e=>e.typedValue).join(""),u=o.langAllEqual(c)?c[0].language:void 0;return u?(0,a.langString)(l,u):(0,a.string)(l)}})}static langAllEqual(e){return e.length>0&&e.every(t=>t.language===e[0].language)}}t.ExpressionFunctionConcat=o,o.concatTree=(0,a.declare)(a.SparqlOperator.CONCAT).onStringly1(()=>e=>e).collect()},39366:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionIsIri=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.IS_IRI,overloads:(0,i.declare)(i.SparqlOperator.IS_IRI).onTerm1(()=>e=>(0,i.bool)("namedNode"===e.termType)).collect()})}}t.TermFunctionIsIri=a},39450:(e,t,r)=>{!function(){var t;t="object"===typeof window&&window?window:r.g,e.exports?e.exports=t.Promise?t.Promise:o:t.Promise||(t.Promise=o);var n=t.setImmediate||function(e){setTimeout(e,1)};function i(e,t){return function(){e.apply(t,arguments)}}var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function o(e){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof e)throw new TypeError("not a function");this._state=null,this._value=null,this._deferreds=[],h(e,i(c,this),i(l,this))}function s(e){var t=this;null!==this._state?n(function(){var r=t._state?e.onFulfilled:e.onRejected;if(null!==r){var n;try{n=r(t._value)}catch(i){return void e.reject(i)}e.resolve(n)}else(t._state?e.resolve:e.reject)(t._value)}):this._deferreds.push(e)}function c(e){try{if(e===this)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var t=e.then;if("function"===typeof t)return void h(i(t,e),i(c,this),i(l,this))}this._state=!0,this._value=e,u.call(this)}catch(r){l.call(this,r)}}function l(e){this._state=!1,this._value=e,u.call(this)}function u(){for(var e=0,t=this._deferreds.length;e<t;e++)s.call(this,this._deferreds[e]);this._deferreds=null}function d(e,t,r,n){this.onFulfilled="function"===typeof e?e:null,this.onRejected="function"===typeof t?t:null,this.resolve=r,this.reject=n}function h(e,t,r){var n=!1;try{e(function(e){n||(n=!0,t(e))},function(e){n||(n=!0,r(e))})}catch(i){if(n)return;n=!0,r(i)}}o.prototype.catch=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var r=this;return new o(function(n,i){s.call(r,new d(e,t,n,i))})},o.all=function(){var e=Array.prototype.slice.call(1===arguments.length&&a(arguments[0])?arguments[0]:arguments);return new o(function(t,r){if(0===e.length)return t([]);var n=e.length;function i(a,o){try{if(o&&("object"===typeof o||"function"===typeof o)){var s=o.then;if("function"===typeof s)return void s.call(o,function(e){i(a,e)},r)}e[a]=o,0===--n&&t(e)}catch(c){r(c)}}for(var a=0;a<e.length;a++)i(a,e[a])})},o.resolve=function(e){return e&&"object"===typeof e&&e.constructor===o?e:new o(function(t){t(e)})},o.reject=function(e){return new o(function(t,r){r(e)})},o.race=function(e){return new o(function(t,r){for(var n=0,i=e.length;n<i;n++)e[n].then(t,r)})}}()},39452:e=>{function t(e){this._options=e=e||{};var t=e.prefixes||{};this._prefixByIri={};var r=[];for(var n in t){var i=t[n];o(i)&&(this._prefixByIri[i]=n,r.push(i))}var a=r.join("|").replace(/[\]\/\(\)\*\+\?\.\\\$]/g,"\\$&");this._prefixRegex=new RegExp("^("+a+")([a-zA-Z][\\-_a-zA-Z0-9]*)$"),this._usedPrefixes={},this._sparqlStar=e.sparqlStar,this._indent=o(e.indent)?e.indent:"  ",this._newline=o(e.newline)?e.newline:"\n",this._explicitDatatype=Boolean(e.explicitDatatype)}t.prototype.toQuery=function(e){var t="";return e.queryType&&(t+=e.queryType.toUpperCase()+" "),e.reduced&&(t+="REDUCED "),e.distinct&&(t+="DISTINCT "),e.variables?t+=l(e.variables,void 0,function(e){return/^[?$]/.test(e)?e:s(e)?this.toEntity(e):"("+this.toExpression(e.expression)+" AS "+a(e.variable)+")"},this)+" ":e.template&&(t+=this.group(e.template,!0)+this._newline),e.from&&(t+=this.graphs("FROM ",e.from.default)+this.graphs("FROM NAMED ",e.from.named)),e.where&&(t+="WHERE "+this.group(e.where,!0)+this._newline),e.updates&&(t+=l(e.updates,";"+this._newline,this.toUpdate,this)),e.group&&(t+="GROUP BY "+l(e.group,void 0,function(e){var t=s(e.expression)?this.toEntity(e.expression):"("+this.toExpression(e.expression)+")";return e.variable?"("+t+" AS "+a(e.variable)+")":t},this)+this._newline),e.having&&(t+="HAVING ("+l(e.having,void 0,this.toExpression,this)+")"+this._newline),e.order&&(t+="ORDER BY "+l(e.order,void 0,function(e){var t="("+this.toExpression(e.expression)+")";return e.descending?"DESC "+t:t},this)+this._newline),e.offset&&(t+="OFFSET "+e.offset+this._newline),e.limit&&(t+="LIMIT "+e.limit+this._newline),e.values&&(t+=this.values(e)),(t=this.baseAndPrefixes(e)+t).trim()},t.prototype.baseAndPrefixes=function(e){var t=e.base?"BASE <"+e.base+">"+this._newline:"",r="";for(var n in e.prefixes)(this._options.allPrefixes||this._usedPrefixes[n])&&(r+="PREFIX "+n+": <"+e.prefixes[n]+">"+this._newline);return t+r},t.prototype.toPattern=function(e){var t=e.type||e instanceof Array&&"array"||(e.subject&&e.predicate&&e.object?"triple":"");if(!(t in this))throw new Error("Unknown entry type: "+t);return this[t](e)},t.prototype.triple=function(e){return this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+"."},t.prototype.array=function(e){return l(e,this._newline,this.toPattern,this)},t.prototype.bgp=function(e){return this.encodeTriples(e.triples)},t.prototype.encodeTriples=function(e){if(!e.length)return"";for(var t=[],r=void 0,n=void 0,i=0;i<e.length;i++){var a=e[i];c(a.subject,r)?c(a.predicate,n)?t.push(","):(n=a.predicate,t.push(";"+this._newline,this._indent,this.toEntity(n))):(r&&t.push("."+this._newline),r=a.subject,n=a.predicate,t.push(this.toEntity(r)," ",this.toEntity(n))),t.push(" ",this.toEntity(a.object))}return t.push("."),t.join("")},t.prototype.graph=function(e){return"GRAPH "+this.toEntity(e.name)+" "+this.group(e)},t.prototype.graphs=function(e,t){return t&&0!==t.length?l(t,"",function(t){return e+this.toEntity(t)+this._newline},this):""},t.prototype.group=function(e,t){return-1===(e=!0!==t?this.array(e.patterns||e.triples):this.toPattern("group"!==e.type?e:e.patterns)).indexOf(this._newline)?"{ "+e+" }":"{"+this._newline+this.indent(e)+this._newline+"}"},t.prototype.query=function(e){return this.toQuery(e)},t.prototype.filter=function(e){return"FILTER("+this.toExpression(e.expression)+")"},t.prototype.bind=function(e){return"BIND("+this.toExpression(e.expression)+" AS "+a(e.variable)+")"},t.prototype.optional=function(e){return"OPTIONAL "+this.group(e)},t.prototype.union=function(e){return l(e.patterns,this._newline+"UNION"+this._newline,function(e){return this.group(e,!0)},this)},t.prototype.minus=function(e){return"MINUS "+this.group(e)},t.prototype.values=function(e){var t,r,n=Object.keys(e.values.reduce(function(e,t){for(var r in t)e[r]=!0;return e},{}));return 1===n.length?t=r="":(t="(",r=")"),"VALUES "+t+n.join(" ")+r+" {"+this._newline+l(e.values,this._newline,function(e){return"  "+t+l(n,void 0,function(t){return e[t]?this.toEntity(e[t]):"UNDEF"},this)+r},this)+this._newline+"}"},t.prototype.service=function(e){return"SERVICE "+(e.silent?"SILENT ":"")+this.toEntity(e.name)+" "+this.group(e)},t.prototype.toExpression=function(e){if(s(e))return this.toEntity(e);switch(e.type.toLowerCase()){case"aggregate":return e.aggregation.toUpperCase()+"("+(e.distinct?"DISTINCT ":"")+this.toExpression(e.expression)+("string"===typeof e.separator?'; SEPARATOR = "'+e.separator.replace(r,n)+'"':"")+")";case"functioncall":return this.toEntity(e.function)+"("+l(e.args,", ",this.toExpression,this)+")";case"operation":var t=e.operator.toUpperCase(),i=e.args||[];switch(e.operator.toLowerCase()){case"<":case">":case">=":case"<=":case"&&":case"||":case"=":case"!=":case"+":case"-":case"*":case"/":return(s(i[0])?this.toEntity(i[0]):"("+this.toExpression(i[0])+")")+" "+t+" "+(s(i[1])?this.toEntity(i[1]):"("+this.toExpression(i[1])+")");case"!":return"!("+this.toExpression(i[0])+")";case"uplus":return"+("+this.toExpression(i[0])+")";case"uminus":return"-("+this.toExpression(i[0])+")";case"notin":t="NOT IN";case"in":return this.toExpression(i[0])+" "+t+"("+(o(i[1])?i[1]:l(i[1],", ",this.toExpression,this))+")";case"notexists":t="NOT EXISTS";case"exists":return t+" "+this.group(i[0],!0);default:return t+"("+l(i,", ",this.toExpression,this)+")"}default:throw new Error("Unknown expression type: "+e.type)}},t.prototype.toEntity=function(e){if(s(e))switch(e.termType){case"Wildcard":return"*";case"Variable":return a(e);case"BlankNode":return"_:"+e.value;case"Literal":var t=e.value||"",i=e.language||"",o=e.datatype;if(e='"'+t.replace(r,n)+'"',i)e+="@"+i;else if(o){if(!this._explicitDatatype)switch(o.value){case"http://www.w3.org/2001/XMLSchema#string":return e;case"http://www.w3.org/2001/XMLSchema#integer":if(/^\d+$/.test(t))return t+" "}e+="^^"+this.encodeIRI(o.value)}return e;case"Quad":if(!this._sparqlStar)throw new Error("SPARQL* support is not enabled");return e.graph&&"DefaultGraph"!==e.graph.termType?"<< GRAPH "+this.toEntity(e.graph)+" { "+this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+" }  >>":"<< "+this.toEntity(e.subject)+" "+this.toEntity(e.predicate)+" "+this.toEntity(e.object)+" >>";default:return this.encodeIRI(e.value)}else{var c=e.items.map(this.toEntity,this),l=e.pathType;switch(l){case"^":case"!":return l+c[0];case"*":case"+":case"?":return"("+c[0]+l+")";default:return"("+c.join(l)+")"}}};var r=/["\\\t\n\r\b\f]/g,n=function(e){return i[e]},i={"\\":"\\\\",'"':'\\"',"\t":"\\t","\n":"\\n","\r":"\\r","\b":"\\b","\f":"\\f"};function a(e){return"?"+e.value}function o(e){return"string"===typeof e}function s(e){return"string"===typeof e.termType}function c(e,t){if(!e||!s(e))return!1;if(!t||!s(t))return!1;if(e.termType!==t.termType)return!1;switch(e.termType){case"Literal":return e.value===t.value&&e.language===t.language&&c(e.datatype,t.datatype);case"Quad":return c(e.subject,t.subject)&&c(e.predicate,t.predicate)&&c(e.object,t.object)&&c(e.graph,t.graph);default:return e.value===t.value}}function l(e,t,r,n){return e.map(r,n).join(o(t)?t:" ")}t.prototype.encodeIRI=function(e){var t=this._prefixRegex.exec(e);if(t){var r=this._prefixByIri[t[1]];return this._usedPrefixes[r]=!0,r+":"+t[2]}return"<"+e+">"},t.prototype.toUpdate=function(e){switch(e.type||e.updateType){case"load":return"LOAD"+(e.source?" "+this.toEntity(e.source):"")+(e.destination?" INTO GRAPH "+this.toEntity(e.destination):"");case"insert":return"INSERT DATA "+this.group(e.insert,!0);case"delete":return"DELETE DATA "+this.group(e.delete,!0);case"deletewhere":return"DELETE WHERE "+this.group(e.delete,!0);case"insertdelete":return(e.graph?"WITH "+this.toEntity(e.graph)+this._newline:"")+(e.delete.length?"DELETE "+this.group(e.delete,!0)+this._newline:"")+(e.insert.length?"INSERT "+this.group(e.insert,!0)+this._newline:"")+(e.using?this.graphs("USING ",e.using.default):"")+(e.using?this.graphs("USING NAMED ",e.using.named):"")+"WHERE "+this.group(e.where,!0);case"add":case"copy":case"move":return e.type.toUpperCase()+" "+(e.silent?"SILENT ":"")+(e.source.default?"DEFAULT":this.toEntity(e.source.name))+" TO "+this.toEntity(e.destination.name);case"create":case"clear":case"drop":return e.type.toUpperCase()+(e.silent?" SILENT ":" ")+(e.graph.default?"DEFAULT":e.graph.named?"NAMED":e.graph.all?"ALL":"GRAPH "+this.toEntity(e.graph.name));default:throw new Error("Unknown update query type: "+e.type)}},t.prototype.indent=function(e){return e.replace(/^/gm,this._indent)},e.exports={Generator:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{stringify:function(r){var n=Object.create(e);return n.prefixes=r.prefixes,new t(n).toQuery(r)},createGenerator:function(){return new t(e)}}}}},39541:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(98078),t)},39651:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(16062),t)},39741:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(29091),t)},39913:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="ffffffff-ffff-ffff-ffff-ffffffffffff"},39985:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(41213),t),i(r(50697),t),i(r(93181),t),i(r(70972),t),i(r(98888),t)},40029:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultGraph=void 0;class r{constructor(){this.termType="DefaultGraph",this.value=""}equals(e){return!!e&&"DefaultGraph"===e.termType}}t.DefaultGraph=r,r.INSTANCE=new r},40081:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionXsdToString=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.TypeURL.XSD_STRING,overloads:(0,i.declare)(i.TypeURL.XSD_STRING).onNumeric1(()=>e=>(0,i.string)((0,i.float)(e.typedValue).str())).onBoolean1Typed(()=>e=>(0,i.string)((0,i.bool)(e).str())).onTerm1(()=>e=>(0,i.string)(e.str())).collect()})}}t.TermFunctionXsdToString=a},40286:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryExpressionBnode=void 0;const i=r(11716),a=r(97824),o=r(11441);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.BNODE],termFunction:!1}))}async run(e){return new o.ExpressionFunctionBnode}}t.ActorFunctionFactoryExpressionBnode=s},40309:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionContains=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:2,operator:i.SparqlOperator.CONTAINS,overloads:(0,i.declare)(i.SparqlOperator.CONTAINS).onBinaryTyped([i.TypeAlias.SPARQL_STRINGLY,i.TypeURL.XSD_STRING],()=>(e,t)=>(0,i.bool)(e.includes(t))).onBinary([i.TypeURL.RDF_LANG_STRING,i.TypeURL.RDF_LANG_STRING],()=>(e,t)=>{if(e.language!==t.language)throw new i.IncompatibleLanguageOperation(e,t);return(0,i.bool)(e.typedValue.includes(t.typedValue))}).collect()})}}t.TermFunctionContains=a},40467:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},40629:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNodeBindingsScoped=void 0;t.BlankNodeBindingsScoped=class{constructor(e){this.termType="BlankNode",this.singleBindingsScope=!0,this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}},40679:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(25128),t),i(r(45253),t)},40691:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(29548),t)},40905:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperationGroupSources=void 0;const i=r(49065),a=r(52840),o=r(13953),s=r(89266),c=r(85160);class l extends i.ActorOptimizeQueryOperation{constructor(e){super(e)}async test(e){return(0,s.getOperationSource)(e.operation)?(0,o.failTest)("Actor ".concat(this.name," does not work with top-level operation sources.")):(0,o.passTestVoid)()}async run(e){return{operation:await this.groupOperation(e.operation,e.context),context:e.context}}async groupOperation(e,t){var r;const i=t.getSafe(a.KeysInitQuery.dataFactory),o=new c.Factory(i);if(null!==(r=(0,s.getOperationSource)(e))&&void 0!==r?r:!("input"in e))return e;if(!Array.isArray(e.input)){var l;const r=await this.groupOperation(e.input,t);if(null!==(l=r.metadata)&&void 0!==l&&l.scopedSource){const n=(0,s.getOperationSource)(r);e=await this.moveSourceAnnotationUpwardsIfPossible(e,[r],n,t)}return n(n({},e),{},{input:r})}const u=await Promise.all(e.input.map(e=>this.groupOperation(e,t))),d=this.clusterOperationsWithEqualSources(u);if(1===d.length){const r=d[0],i=(0,s.getOperationSource)(d[0][0]);return n(n({},await this.moveSourceAnnotationUpwardsIfPossible(e,r,i,t)),{},{input:r})}if(d.length===u.length)return n(n({},e),{},{input:u});let h;switch(e.type){case c.Algebra.types.JOIN:h=o.createJoin.bind(o);break;case c.Algebra.types.UNION:h=o.createUnion.bind(o);break;case c.Algebra.types.ALT:h=o.createAlt.bind(o);break;case c.Algebra.types.SEQ:h=o.createSeq.bind(o);break;default:throw new Error("Unsupported operation '".concat(e.type,"' detected while grouping sources"))}return await this.groupOperationMulti(d,h,t)}async groupOperationMulti(e,t,r){let n=!0;const i=await Promise.all(e.map(async e=>{const i=(0,s.getOperationSource)(e[0]),a=await this.moveSourceAnnotationUpwardsIfPossible(t(e,!0),e,i,r);return(0,s.getOperationSource)(a)&&(n=!1),a}));return t(i,n)}clusterOperationsWithEqualSources(e){const t=new Map,r=[];for(const i of e){const e=(0,s.getOperationSource)(i);e?(t.has(e)||t.set(e,[]),t.get(e).push(i)):r.push(i)}const n=[];r.length>0&&n.push(r);for(const[i,a]of t.entries())n.push(a.map(e=>(0,s.assignOperationSource)(e,i)));return n}async moveSourceAnnotationUpwardsIfPossible(e,t,r,n){if(r&&this.isPossibleToMoveSourceAnnotationUpwards(e,await r.source.getSelectorShape(n),n)){this.logDebug(n,"Hoist ".concat(t.length," source-specific operations into a single ").concat(e.type," operation for ").concat(r.source.toString())),e=(0,s.assignOperationSource)(e,r);for(const e of t)(0,s.removeOperationSource)(e)}return e}isPossibleToMoveSourceAnnotationUpwards(e,t,r){const n=r.get(a.KeysInitQuery.extensionFunctionsAlwaysPushdown);if((0,s.doesShapeAcceptOperation)(t,e,{wildcardAcceptAllExtensionFunctions:n})){const i=r.get(a.KeysInitQuery.extensionFunctions),o=e.expression;if(!i||(null===o||void 0===o?void 0:o.expressionType)!==c.Algebra.expressionTypes.NAMED||!((null===o||void 0===o?void 0:o.name.value)in i)||(0,s.doesShapeAcceptOperation)(t,o,{wildcardAcceptAllExtensionFunctions:n}))return!0}return!1}}t.ActorOptimizeQueryOperationGroupSources=l},41213:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHandlerBoolean=void 0;const n=r(3326);class i{fromRdf(e,t){switch(e.value){case"true":case"1":return!0;case"false":case"0":return!1}return t&&n.Translator.incorrectRdfDataType(e),!1}toRdf(e,t){let{datatype:r,dataFactory:n}=t;return n.literal(e?"true":"false",r||n.namedNode(i.TYPE))}}i.TYPE="http://www.w3.org/2001/XMLSchema#boolean",t.TypeHandlerBoolean=i},41253:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(81433),t)},41398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getQuads=t.getDefaultGraphs=t.getVariables=t.getLiterals=t.getBlankNodes=t.getNamedNodes=t.getTermsOfType=t.uniqTerms=t.TERM_TYPES=void 0;const n=r(45494);function i(e,t){return e.filter(e=>e.termType===t)}t.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"],t.uniqTerms=function(e){const t={};return e.filter(e=>{const r=(0,n.termToString)(e);return!(r in t)&&(t[r]=!0)})},t.getTermsOfType=i,t.getNamedNodes=function(e){return i(e,"NamedNode")},t.getBlankNodes=function(e){return i(e,"BlankNode")},t.getLiterals=function(e){return i(e,"Literal")},t.getVariables=function(e){return i(e,"Variable")},t.getDefaultGraphs=function(e){return i(e,"DefaultGraph")},t.getQuads=function(e){return i(e,"Quad")}},41474:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermSeconds=void 0;const i=r(11716),a=r(97824),o=r(68333);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.SECONDS],termFunction:!0}))}async run(e){return new o.TermFunctionSeconds}}t.ActorFunctionFactoryTermSeconds=s},41630:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionUnaryPlus=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.UPLUS,overloads:(0,i.declare)(i.SparqlOperator.UPLUS).numericConverter(()=>e=>e).collect()})}}t.TermFunctionUnaryPlus=a},41756:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathZeroOrOne=void 0;const i=r(56840),a=r(52840),o=r(7979),s=r(66179),c=r(89266),l=r(72758),u=r(85160);class d extends i.ActorAbstractPath{constructor(e){super(e,u.Algebra.types.ZERO_OR_ONE_PATH)}async runOperation(e,t){const r=t.getSafe(a.KeysInitQuery.dataFactory),i=new u.Factory(r),d=await o.BindingsFactory.create(this.mediatorMergeBindingsContext,t,r),h=e.predicate,p=this.getPathSources(h),f=[];if("Variable"!==e.subject.termType&&"Variable"!==e.object.termType&&e.subject.equals(e.object))return{type:"bindings",bindingsStream:new l.SingletonIterator(d.bindings()),metadata:()=>Promise.resolve({state:new s.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]})};const g=await this.isPathArbitraryLengthDistinct(i,t,e);if(g.operation)return g.operation;t=g.context;const y=(0,c.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:t,operation:i.createPath(e.subject,h.path,e.object,e.graph)}));let m;if("Variable"===e.subject.termType&&"Variable"===e.object.termType){const n=this.generateVariable(r,e),a=(0,c.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:t,operation:i.createFilter(this.assignPatternSources(i,i.createPattern(e.subject,n,e.object,e.graph),p),i.createOperatorExpression("=",[i.createTermExpression(e.subject),i.createTermExpression(e.object)]))})).bindingsStream.map(e=>e.delete(n));m=new l.UnionIterator([a,y.bindingsStream],{autoStart:!1})}else"Variable"===e.subject.termType&&f.push(d.bindings([[e.subject,e.object]])),"Variable"===e.object.termType&&f.push(d.bindings([[e.object,e.subject]])),m=y.bindingsStream.prepend(f);return{type:"bindings",bindingsStream:m,metadata:async()=>{const e=await y.metadata();return n(n({},e),{},{cardinality:n(n({},e.cardinality),{},{value:e.cardinality.value+1})})}}}}t.ActorQueryOperationPathZeroOrOne=d},41837:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;t.Variable=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&"Variable"===e.termType&&e.value===this.value}}},41993:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.QuerySourceRdfJs=void 0;const i=r(48304),a=r(52840),o=r(66179),s=r(72758),c=r(57078),l=r(85160);class u{constructor(e,t,r){this.source=e,this.referenceValue=e,this.dataFactory=t,this.bindingsFactory=r;const n=new l.Factory(this.dataFactory);this.selectorShape={type:"operation",operation:{operationType:"pattern",pattern:n.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"))},variablesOptional:[this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o")]},this.dummyDefaultGraph=this.dataFactory.variable("__comunica:defaultGraph")}static nullifyVariables(e,t){return!e||"Variable"===e.termType||!t&&"Quad"===e.termType&&(0,c.someTermsNested)(e,e=>"Variable"===e.termType)?void 0:e}static hasDuplicateVariables(e){const t=(0,c.filterTermsNested)(e,e=>"Variable"===e.termType);return t.length>1&&(0,c.uniqTerms)(t).length<t.length}async getSelectorShape(){return this.selectorShape}queryBindings(e,t){var r;if("pattern"!==e.type)throw new Error("Attempted to pass non-pattern operation '".concat(e.type,"' to QuerySourceRdfJs"));const n=Boolean(t.get(a.KeysQueryOperation.unionDefaultGraph));if("DefaultGraph"===e.graph.termType&&n&&(e.graph=this.dummyDefaultGraph),"matchBindings"in this.source&&this.source.matchBindings){const r=this.source.matchBindings(this.bindingsFactory,e.subject,e.predicate,e.object,e.graph);let a=r instanceof s.AsyncIterator?r:(0,s.wrap)(r,{autoStart:!1}),o=!1;if("Variable"===e.graph.termType&&!n){o=!0;const t=e.graph;a=a.filter(e=>"DefaultGraph"!==e.get(t).termType)}if(e.graph.equals(this.dummyDefaultGraph)&&(a=a.map(e=>e.delete(this.dummyDefaultGraph)),e.graph=this.dataFactory.defaultGraph()),!a.getProperty("metadata")){const r=(0,i.getVariables)(e).map(e=>({variable:e,canBeUndef:!1}));this.setMetadata(a,e,t,o,{variables:r}).catch(e=>a.destroy(e))}return a}const o=Boolean("features"in this.source&&(null===(r=this.source.features)||void 0===r?void 0:r.quotedTripleFiltering)),c=this.source.match(u.nullifyVariables(e.subject,o),u.nullifyVariables(e.predicate,o),u.nullifyVariables(e.object,o),u.nullifyVariables(e.graph,o));let l=c instanceof s.AsyncIterator?c:(0,s.wrap)(c,{autoStart:!1});return o||(l=(0,i.filterMatchingQuotedQuads)(e,l)),l.getProperty("metadata")||this.setMetadata(l,e,t).catch(e=>l.destroy(e)),e.graph.equals(this.dummyDefaultGraph)&&(e.graph=this.dataFactory.defaultGraph()),(0,i.quadsToBindings)(l,e,this.dataFactory,this.bindingsFactory,Boolean(t.get(a.KeysQueryOperation.unionDefaultGraph)))}async setMetadata(e,t,r){var i;let l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const h=Boolean("features"in this.source&&(null===(i=this.source.features)||void 0===i?void 0:i.quotedTripleFiltering)),p=Boolean(r.get(a.KeysQueryOperation.unionDefaultGraph));let f;if("DefaultGraph"===t.graph.termType&&p&&(t.graph=this.dummyDefaultGraph),"countQuads"in this.source&&this.source.countQuads)f=await this.source.countQuads(u.nullifyVariables(t.subject,h),u.nullifyVariables(t.predicate,h),u.nullifyVariables(t.object,h),u.nullifyVariables(t.graph,h));else{let e=0;f=await new Promise((r,n)=>{let i=this.source.match(u.nullifyVariables(t.subject,h),u.nullifyVariables(t.predicate,h),u.nullifyVariables(t.object,h),u.nullifyVariables(t.graph,h));"function"!==typeof i.on&&(i=new s.ArrayIterator(i)),i.on("error",n),i.on("end",()=>r(e)),i.on("data",()=>e++)})}const g=!h&&(0,c.someTerms)(t,e=>"Quad"===e.termType)||u.hasDuplicateVariables(t);e.setProperty("metadata",n({state:new o.MetadataValidationState,cardinality:{type:g||l?"estimate":"exact",value:f},requestTime:0},d))}queryQuads(e,t){throw new Error("queryQuads is not implemented in QuerySourceRdfJs")}queryBoolean(e,t){throw new Error("queryBoolean is not implemented in QuerySourceRdfJs")}queryVoid(e,t){throw new Error("queryVoid is not implemented in QuerySourceRdfJs")}toString(){return"QuerySourceRdfJs(".concat(this.source.constructor.name,")")}}t.QuerySourceRdfJs=u},42e3:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNode=void 0;t.BlankNode=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}},42281:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.lookupPrefix=void 0;const i=r(54343);t.lookupPrefix=function(e,t){return n(this,void 0,void 0,function*(){const r=new URL("https://prefix.cc/reverse");r.searchParams.append("uri",e),r.searchParams.append("format","jsonld");const n=Object.keys(yield(0,i.fetchContext)(r,t));if(0===n.length)throw new Error("No prefixes returned");return n[0]})}},42405:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionLesserThanEqual=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(e,t){super({arity:2,operator:i.SparqlOperator.LTE,overloads:(0,i.declare)(i.SparqlOperator.LTE).set(["term","term"],e=>t=>{let[r,n]=t;return(0,i.bool)(this.lessThanFunction.applyOnTerms([r,n],e).typedValue||this.equalityFunction.applyOnTerms([r,n],e).typedValue)}).collect()}),this.equalityFunction=e,this.lessThanFunction=t}}t.TermFunctionLesserThanEqual=a},42435:e=>{"use strict";const t=e=>null!==e&&"object"===typeof e&&"function"===typeof e.pipe;t.writable=e=>t(e)&&!1!==e.writable&&"function"===typeof e._write&&"object"===typeof e._writableState,t.readable=e=>t(e)&&!1!==e.readable&&"function"===typeof e._read&&"object"===typeof e._readableState,t.duplex=e=>t.writable(e)&&t.readable(e),t.transform=e=>t.duplex(e)&&"function"===typeof e._transform,e.exports=t},42459:(e,t,r)=>{var n=r(97101);e.exports=function(e,t,r){n(e,t),t.set(e,r)},e.exports.__esModule=!0,e.exports.default=e.exports},42641:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(64109),t)},42697:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperationFilterPushdown=void 0;const n=r(49065),i=r(52840),a=r(13953),o=r(89266),s=r(57078),c=r(85160);class l extends n.ActorOptimizeQueryOperation{constructor(e){super(e)}async test(e){return(0,a.passTestVoid)()}async run(e){const t=e.context.getSafe(i.KeysInitQuery.dataFactory),r=new c.Factory(t);let n=e.operation;const a=this;this.splitConjunctive&&(n=c.Util.mapOperation(n,{filter:(t,r)=>t.expression.expressionType===c.Algebra.expressionTypes.OPERATOR&&"&&"===t.expression.operator?(a.logDebug(e.context,"Split conjunctive filter into ".concat(t.expression.args.length," nested filters")),{recurse:!0,result:t.expression.args.reduce((e,t)=>r.createFilter(e,t),t.input)}):{recurse:!0,result:t}},r));const s=this.getSources(n),l=new Map(await Promise.all(s.map(async t=>[t,await t.source.getSelectorShape(e.context)])));let u=!0,d=0;for(;u&&d<this.maxIterations;)u=!1,n=c.Util.mapOperation(n,{filter(t,r){const n=e.context.get(i.KeysInitQuery.extensionFunctions),c=e.context.get(i.KeysInitQuery.extensionFunctionsAlwaysPushdown);if(!a.shouldAttemptPushDown(t,s,l,n,c))return{recurse:!0,result:t};const d=(0,o.getExpressionVariables)(t.expression),[h,p]=a.filterPushdown(t.expression,d,t.input,r,e.context);return h&&(u=!0),{recurse:!0,result:p}}}),d++;return d>1&&a.logDebug(e.context,"Pushed down filters in ".concat(d," iterations")),this.mergeConjunctive&&(n=c.Util.mapOperation(n,{filter(t,r){if(t.input.type===c.Algebra.types.FILTER){const{nestedExpressions:n,input:i}=a.getNestedFilterExpressions(t);return a.logDebug(e.context,"Merge ".concat(n.length," nested filters into conjunctive filter")),{recurse:!0,result:r.createFilter(i,n.slice(1).reduce((e,t)=>r.createOperatorExpression("&&",[e,t]),n[0]))}}return{recurse:!0,result:t}}})),{operation:n,context:e.context}}shouldAttemptPushDown(e,t,r,n,i){if(this.aggressivePushdown)return!0;const a=e.expression;return a.expressionType===c.Algebra.expressionTypes.OPERATOR&&"="===a.operator&&("term"===a.args[0].expressionType&&"Variable"!==a.args[0].term.termType&&"term"===a.args[1].expressionType&&"Variable"===a.args[1].term.termType||"term"===a.args[0].expressionType&&"Variable"===a.args[0].term.termType&&"term"===a.args[1].expressionType&&"Variable"!==a.args[1].term.termType)||!(n&&a.expressionType===c.Algebra.expressionTypes.NAMED&&a.name.value in n&&!t.some(e=>(0,o.doesShapeAcceptOperation)(r.get(e),a)))&&!!t.some(t=>(0,o.doesShapeAcceptOperation)(r.get(t),e,{wildcardAcceptAllExtensionFunctions:i}))}getSources(e){const t=new Set,r=e=>{const r=(0,o.getOperationSource)(e);return r&&t.add(r),!1};return c.Util.recurseOperation(e,{[c.Algebra.types.PATTERN]:r,[c.Algebra.types.LINK]:r,[c.Algebra.types.NPS]:r,[c.Algebra.types.SERVICE]:r}),[...t]}getOverlappingOperations(e,t){const r=[],n=[],i=[];for(const a of e.input){const e=c.Util.inScopeVariables(a);this.variablesSubSetOf(t,e)?r.push(a):this.variablesIntersect(t,e)?n.push(a):i.push(a)}return{fullyOverlapping:r,partiallyOverlapping:n,notOverlapping:i}}filterPushdown(e,t,r,n,i){if(this.isExpressionFalse(e))return[!0,n.createUnion([])];if(e.expressionType===c.Algebra.expressionTypes.EXISTENCE)return[!1,n.createFilter(r,e)];switch(r.type){case c.Algebra.types.EXTEND:return this.variablesIntersect([r.variable],t)?[!1,n.createFilter(r,e)]:[!0,n.createExtend(this.filterPushdown(e,t,r.input,n,i)[1],r.variable,r.expression)];case c.Algebra.types.FILTER:{const[a,o]=this.filterPushdown(e,t,r.input,n,i);return[a,n.createFilter(o,r.expression)]}case c.Algebra.types.JOIN:{if(0===r.input.length)return[!1,n.createFilter(r,e)];const{fullyOverlapping:a,partiallyOverlapping:o,notOverlapping:s}=this.getOverlappingOperations(r,t),c=[];let l=!1;return a.length>0&&(l=!0,c.push(n.createJoin(a.map(r=>this.filterPushdown(e,t,r,n,i)[1])))),o.length>0&&c.push(n.createFilter(n.createJoin(o,!1),e)),s.length>0&&c.push(...s),c.length>1&&(l=!0),l&&this.logDebug(i,"Push down filter across join entries with ".concat(a.length," fully overlapping, ").concat(o.length," partially overlapping, and ").concat(s.length," not overlapping")),[l,1===c.length?c[0]:n.createJoin(c)]}case c.Algebra.types.NOP:return[!0,r];case c.Algebra.types.PROJECT:return this.variablesIntersect(r.variables,t)?[!0,n.createProject(this.filterPushdown(e,t,r.input,n,i)[1],r.variables)]:[!0,r];case c.Algebra.types.UNION:{const{fullyOverlapping:a,partiallyOverlapping:o,notOverlapping:s}=this.getOverlappingOperations(r,t),c=[];let l=!1;return a.length>0&&(l=!0,c.push(n.createUnion(a.map(r=>this.filterPushdown(e,t,r,n,i)[1])))),o.length>0&&c.push(n.createFilter(n.createUnion(o,!1),e)),s.length>0&&c.push(...s),c.length>1&&(l=!0),l&&this.logDebug(i,"Push down filter across union entries with ".concat(a.length," fully overlapping, ").concat(o.length," partially overlapping, and ").concat(s.length," not overlapping")),[l,1===c.length?c[0]:n.createUnion(c)]}case c.Algebra.types.VALUES:return this.variablesIntersect(r.variables,t)?[!1,n.createFilter(r,e)]:[!0,r];case c.Algebra.types.LEFT_JOIN:if(this.pushIntoLeftJoins){const a=c.Util.inScopeVariables(r.input[1]);if(!this.variablesIntersect(t,a))return this.logDebug(i,"Push down filter into left join"),[!0,n.createLeftJoin(this.filterPushdown(e,t,r.input[0],n,i)[1],r.input[1],r.expression)]}return[!1,n.createFilter(r,e)];case c.Algebra.types.PATTERN:if(this.pushEqualityIntoPatterns){const t=this.getEqualityExpressionPushableIntoPattern(e);if(t){let e=!1;const a=r.metadata;if((r=(0,s.mapTermsNested)(r,r=>r.equals(t.variable)?(e=!0,t.term):r)).type=c.Algebra.types.PATTERN,r.metadata=a,e)return this.logDebug(i,"Push down filter into pattern for ?".concat(t.variable.value)),[!0,n.createJoin([r,n.createValues([t.variable],[{["?".concat(t.variable.value)]:t.term}])])]}}return[!1,n.createFilter(r,e)];case c.Algebra.types.PATH:if(this.pushEqualityIntoPatterns){const t=this.getEqualityExpressionPushableIntoPattern(e);if(t&&(r.subject.equals(t.variable)||r.object.equals(t.variable))){this.logDebug(i,"Push down filter into path for ?".concat(t.variable.value));const e=r.metadata;return(r=n.createPath(r.subject.equals(t.variable)?t.term:r.subject,r.predicate,r.object.equals(t.variable)?t.term:r.object)).metadata=e,[!0,n.createJoin([r,n.createValues([t.variable],[{["?".concat(t.variable.value)]:t.term}])])]}}return[!1,n.createFilter(r,e)];case c.Algebra.types.MINUS:case c.Algebra.types.ALT:case c.Algebra.types.ASK:case c.Algebra.types.BGP:case c.Algebra.types.CONSTRUCT:case c.Algebra.types.DESCRIBE:case c.Algebra.types.DISTINCT:case c.Algebra.types.EXPRESSION:case c.Algebra.types.FROM:case c.Algebra.types.GRAPH:case c.Algebra.types.GROUP:case c.Algebra.types.INV:case c.Algebra.types.LINK:case c.Algebra.types.NPS:case c.Algebra.types.ONE_OR_MORE_PATH:case c.Algebra.types.ORDER_BY:case c.Algebra.types.REDUCED:case c.Algebra.types.SEQ:case c.Algebra.types.SERVICE:case c.Algebra.types.SLICE:case c.Algebra.types.ZERO_OR_MORE_PATH:case c.Algebra.types.ZERO_OR_ONE_PATH:case c.Algebra.types.COMPOSITE_UPDATE:case c.Algebra.types.DELETE_INSERT:case c.Algebra.types.LOAD:case c.Algebra.types.CLEAR:case c.Algebra.types.CREATE:case c.Algebra.types.DROP:case c.Algebra.types.ADD:case c.Algebra.types.MOVE:case c.Algebra.types.COPY:return[!1,n.createFilter(r,e)]}}getEqualityExpressionPushableIntoPattern(e){if(e.expressionType===c.Algebra.expressionTypes.OPERATOR&&"="===e.operator){if("term"===e.args[0].expressionType&&"Variable"!==e.args[0].term.termType&&("Literal"!==e.args[0].term.termType||this.isLiteralWithCanonicalLexicalForm(e.args[0].term))&&"term"===e.args[1].expressionType&&"Variable"===e.args[1].term.termType)return{variable:e.args[1].term,term:e.args[0].term};if("term"===e.args[0].expressionType&&"Variable"===e.args[0].term.termType&&"term"===e.args[1].expressionType&&"Variable"!==e.args[1].term.termType&&("Literal"!==e.args[1].term.termType||this.isLiteralWithCanonicalLexicalForm(e.args[1].term)))return{variable:e.args[0].term,term:e.args[1].term}}}isLiteralWithCanonicalLexicalForm(e){if("Literal"===e.termType)switch(e.datatype.value){case"http://www.w3.org/2001/XMLSchema#string":case"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":case"http://www.w3.org/2001/XMLSchema#normalizedString":case"http://www.w3.org/2001/XMLSchema#anyURI":case"http://www.w3.org/2001/XMLSchema#base64Binary":case"http://www.w3.org/2001/XMLSchema#language":case"http://www.w3.org/2001/XMLSchema#Name":case"http://www.w3.org/2001/XMLSchema#NCName":case"http://www.w3.org/2001/XMLSchema#NMTOKEN":case"http://www.w3.org/2001/XMLSchema#token":case"http://www.w3.org/2001/XMLSchema#hexBinary":return!0}return!1}variablesIntersect(e,t){return e.some(e=>t.some(t=>e.equals(t)))}variablesSubSetOf(e,t){return e.length<=t.length&&e.every(e=>t.some(t=>e.equals(t)))}isExpressionFalse(e){return e.term&&"Literal"===e.term.termType&&"false"===e.term.value}getNestedFilterExpressions(e){if(e.input.type===c.Algebra.types.FILTER){const t=this.getNestedFilterExpressions(e.input);return{nestedExpressions:[e.expression,...t.nestedExpressions],input:t.input}}return{nestedExpressions:[e.expression],input:e.input}}}t.ActorOptimizeQueryOperationFilterPushdown=l},42698:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(51120),t)},42715:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.expressionToVar=t.dateTime=t.langString=t.string=t.double=t.float=t.decimal=t.integer=t.bool=t.Builder=t.declare=void 0;const n=r(52840),i=r(11032),a=r(11032),o=r(89465),s=r(89465),c=r(48526),l=r(86190);t.declare=function(e){return new u(e)};class u{constructor(e){this.overloadTree=new l.OverloadTree(e),this.collected=!1}collect(){if(this.collected)throw new Error("Builders can only be collected once!");return this.collected=!0,this.overloadTree}static wrapInvalidLexicalProtected(e){return t=>r=>{for(const[e,i]of r.entries())if(i instanceof a.NonLexicalLiteral)throw new c.InvalidLexicalForm(r[e].toRDF(t.context.getSafe(n.KeysInitQuery.dataFactory)));return e(t)(r)}}set(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.overloadTree.addOverload(e,r?u.wrapInvalidLexicalProtected(t):t),this}copy(e){let{from:t,to:r}=e;const n=this.overloadTree.getImplementationExact(t);if(!n)throw new c.UnexpectedError("Tried to copy implementation, but types not found",{from:t,to:r});return this.set(r,n)}onUnary(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.set([e],e=>r=>{let[n]=r;return t(e)(n)},r)}onUnaryTyped(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.set([e],e=>r=>{let[n]=r;return t(e)(n.typedValue)},r)}onBinary(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.set(e,e=>r=>{let[n,i]=r;return t(e)(n,i)},r)}onBinaryTyped(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.set(e,e=>r=>{let[n,i]=r;return t(e)(n.typedValue,i.typedValue)},r)}onTernaryTyped(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.set(e,e=>r=>{let[n,i,a]=r;return t(e)(n.typedValue,i.typedValue,a.typedValue)},r)}onTernary(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.set(e,e=>r=>{let[n,i,a]=r;return t(e)(n,i,a)},r)}onQuaternaryTyped(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.set(e,e=>r=>{let[n,i,a,o]=r;return t(e)(n.typedValue,i.typedValue,a.typedValue,o.typedValue)},r)}onTerm1(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.set(["term"],t=>r=>{let[n]=r;return e(t)(n)},t)}onTerm3(e){return this.set(["term","term","term"],t=>r=>{let[n,i,a]=r;return e(t)(n,i,a)})}onQuad1(e){return this.set(["quad"],t=>r=>{let[n]=r;return e(t)(n)})}onLiteral1(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.set(["literal"],t=>r=>{let[n]=r;return e(t)(n)},t)}onBoolean1(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.set([o.TypeURL.XSD_BOOLEAN],t=>r=>{let[n]=r;return e(t)(n)},t)}onBoolean1Typed(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.set([o.TypeURL.XSD_BOOLEAN],t=>r=>{let[n]=r;return e(t)(n.typedValue)},t)}onString1(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.set([o.TypeURL.XSD_STRING],t=>r=>{let[n]=r;return e(t)(n)},t)}onString1Typed(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.set([o.TypeURL.XSD_STRING],t=>r=>{let[n]=r;return e(t)(n.typedValue)},t)}onLangString1(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.set([o.TypeURL.RDF_LANG_STRING],t=>r=>{let[n]=r;return e(t)(n)},t)}onStringly1(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.set([o.TypeAlias.SPARQL_STRINGLY],t=>r=>{let[n]=r;return e(t)(n)},t)}onStringly1Typed(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.set([o.TypeAlias.SPARQL_STRINGLY],t=>r=>{let[n]=r;return e(t)(n.typedValue)},t)}onNumeric1(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.set([o.TypeAlias.SPARQL_NUMERIC],t=>r=>{let[n]=r;return e(t)(n)},t)}onDateTime1(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.set([o.TypeURL.XSD_DATE_TIME],t=>r=>{let[n]=r;return e(t)(n)},t)}numericConverter(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=t=>r=>e(t)(r.typedValue);return this.onUnary(s.TypeURL.XSD_INTEGER,e=>t=>h(r(e)(t)),t).onUnary(s.TypeURL.XSD_DECIMAL,e=>t=>p(r(e)(t)),t).onUnary(s.TypeURL.XSD_FLOAT,e=>t=>f(r(e)(t)),t).onUnary(s.TypeURL.XSD_DOUBLE,e=>t=>g(r(e)(t)),t)}arithmetic(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const r=t=>(r,n)=>e(t)(r.typedValue,n.typedValue);return this.onBinary([s.TypeURL.XSD_INTEGER,s.TypeURL.XSD_INTEGER],e=>(t,n)=>h(r(e)(t,n)),t).onBinary([s.TypeURL.XSD_DECIMAL,s.TypeURL.XSD_DECIMAL],e=>(t,n)=>p(r(e)(t,n)),t).onBinary([s.TypeURL.XSD_FLOAT,s.TypeURL.XSD_FLOAT],e=>(t,n)=>f(r(e)(t,n)),t).onBinary([s.TypeURL.XSD_DOUBLE,s.TypeURL.XSD_DOUBLE],e=>(t,n)=>g(r(e)(t,n)),t)}numberTest(e){return this.numeric(t=>r=>{let[n,i]=r;return d(e(t)(n.typedValue,i.typedValue))})}stringTest(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.set([o.TypeURL.XSD_STRING,o.TypeURL.XSD_STRING],t=>r=>{let[n,i]=r;return d(e(t)(n.typedValue,i.typedValue))},t)}booleanTest(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.set([o.TypeURL.XSD_BOOLEAN,o.TypeURL.XSD_BOOLEAN],t=>r=>{let[n,i]=r;return d(e(t)(n.typedValue,i.typedValue))},t)}dateTimeTest(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return this.set([o.TypeURL.XSD_DATE_TIME,o.TypeURL.XSD_DATE_TIME],t=>r=>{let[n,i]=r;return d(e(t)(n.typedValue,i.typedValue))},t)}numeric(e){return this.set([o.TypeAlias.SPARQL_NUMERIC,o.TypeAlias.SPARQL_NUMERIC],e)}}function d(e){return new i.BooleanLiteral(e)}function h(e){return new i.IntegerLiteral(e)}function p(e){return new i.DecimalLiteral(e)}function f(e){return new i.FloatLiteral(e)}function g(e){return new i.DoubleLiteral(e)}t.Builder=u,t.bool=d,t.integer=h,t.decimal=p,t.float=f,t.double=g,t.string=function(e){return new i.StringLiteral(e)},t.langString=function(e,t){return new i.LangStringLiteral(e,t)},t.dateTime=function(e,t){return new i.DateTimeLiteral(e,t)},t.expressionToVar=function(e,t){return e.variable(t.name.slice(1))}},42958:(e,t,r)=>{var n=r(25172);function i(e){var t,r;function i(t,r){try{var o=e[t](r),s=o.value,c=s instanceof n;Promise.resolve(c?s.v:s).then(function(r){if(c){var n="return"===t?"return":"next";if(!s.k||r.done)return i(n,r);r=e[n](r).value}a(o.done?"return":"normal",r)},function(e){i("throw",e)})}catch(e){a("throw",e)}}function a(e,n){switch(e){case"return":t.resolve({value:n,done:!0});break;case"throw":t.reject(n);break;default:t.resolve({value:n,done:!1})}(t=t.next)?i(t.key,t.arg):r=null}this._invoke=function(e,n){return new Promise(function(a,o){var s={key:e,arg:n,resolve:a,reject:o,next:null};r?r=r.next=s:(t=r=s,i(e,n))})},"function"!=typeof e.return&&(this.return=void 0)}i.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},i.prototype.next=function(e){return this._invoke("next",e)},i.prototype.throw=function(e){return this._invoke("throw",e)},i.prototype.return=function(e){return this._invoke("return",e)},e.exports=function(e){return function(){return new i(e.apply(this,arguments))}},e.exports.__esModule=!0,e.exports.default=e.exports},42964:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(39126),t)},43182:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(13212),t)},43480:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0});const n=new Uint8Array(16);t.default=function(){if(!r){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");r=crypto.getRandomValues.bind(crypto)}return r(n)}},43485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=t.stringToBytes=void 0;const n=r(16588),i=r(34498);function a(e){e=unescape(encodeURIComponent(e));const t=new Uint8Array(e.length);for(let r=0;r<e.length;++r)t[r]=e.charCodeAt(r);return t}t.stringToBytes=a,t.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",t.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",t.default=function(e,t,r,o,s,c){var l;const u="string"===typeof r?a(r):r,d="string"===typeof o?(0,n.default)(o):o;if("string"===typeof o&&(o=(0,n.default)(o)),16!==(null===(l=o)||void 0===l?void 0:l.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let h=new Uint8Array(16+u.length);if(h.set(d),h.set(u,d.length),h=t(h),h[6]=15&h[6]|e,h[8]=63&h[8]|128,s){c=c||0;for(let e=0;e<16;++e)s[c+e]=h[e];return s}return(0,i.unsafeStringify)(h)}},43693:(e,t,r)=>{var n=r(77736);e.exports=function(e,t,r){return(t=n(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},43838:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(26817),t)},44026:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(58472),t)},44065:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(63498),t)},44165:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(74746),t)},44282:(e,t,r)=>{"use strict";var n=r(97643),i=r(12155);function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}n.inherits(a,i),e.exports=a,a.blockSize=1024,a.outSize=384,a.hmacStrength=192,a.padLength=128,a.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,12),"big"):n.split32(this.h.slice(0,12),"big")}},44288:(e,t)=>{"use strict";var r=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,y={};function m(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||f}function v(){}function b(e,t,r){this.props=e,this.context=t,this.refs=y,this.updater=r||f}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=m.prototype;var _=b.prototype=new v;_.constructor=b,g(_,m.prototype),_.isPureReactComponent=!0;var w=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function T(e,t,n,i,a,o){return n=o.ref,{$$typeof:r,type:e,key:t,ref:void 0!==n?n:null,props:o}}function O(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function A(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function P(){}function N(e,t,i,a,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var c,l,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case r:case n:u=!0;break;case h:return N((u=e._init)(e._payload),t,i,a,o)}}if(u)return o=o(e),u=""===a?"."+A(e,0):a,w(o)?(i="",null!=u&&(i=u.replace(E,"$&/")+"/"),N(o,t,i,"",function(e){return e})):null!=o&&(O(o)&&(c=o,l=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+u,o=T(c.type,l,void 0,0,0,c.props)),t.push(o)),1;u=0;var d,f=""===a?".":a+":";if(w(e))for(var g=0;g<e.length;g++)u+=N(a=e[g],t,i,s=f+A(a,g),o);else if("function"===typeof(g=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=g.call(e),g=0;!(a=e.next()).done;)u+=N(a=a.value,t,i,s=f+A(a,g++),o);else if("object"===s){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(P,P):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,a,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function j(e,t,r){if(null==e)return e;var n=[],i=0;return N(e,n,"","",function(e){return t.call(r,e,i++)}),n}function D(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function I(){}t.Children={map:j,forEach:function(e,t,r){j(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return j(e,function(){t++}),t},toArray:function(e){return j(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=a,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return x.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var n=g({},e.props),i=e.key;if(null!=t)for(a in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,a)||"key"===a||"__self"===a||"__source"===a||"ref"===a&&void 0===t.ref||(n[a]=t[a]);var a=arguments.length-2;if(1===a)n.children=r;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];n.children=o}return T(e.type,i,void 0,0,0,n)},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,r){var n,i={},a=null;if(null!=t)for(n in void 0!==t.key&&(a=""+t.key),t)S.call(t,n)&&"key"!==n&&"__self"!==n&&"__source"!==n&&(i[n]=t[n]);var o=arguments.length-2;if(1===o)i.children=r;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(n in o=e.defaultProps)void 0===i[n]&&(i[n]=o[n]);return T(e,a,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=O,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:D}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.T,r={};x.T=r;try{var n=e(),i=x.S;null!==i&&i(r,n),"object"===typeof n&&null!==n&&"function"===typeof n.then&&n.then(I,R)}catch(a){R(a)}finally{x.T=t}},t.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},t.use=function(e){return x.H.use(e)},t.useActionState=function(e,t,r){return x.H.useActionState(e,t,r)},t.useCallback=function(e,t){return x.H.useCallback(e,t)},t.useContext=function(e){return x.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return x.H.useDeferredValue(e,t)},t.useEffect=function(e,t,r){var n=x.H;if("function"===typeof r)throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)},t.useId=function(){return x.H.useId()},t.useImperativeHandle=function(e,t,r){return x.H.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return x.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.H.useMemo(e,t)},t.useOptimistic=function(e,t){return x.H.useOptimistic(e,t)},t.useReducer=function(e,t,r){return x.H.useReducer(e,t,r)},t.useRef=function(e){return x.H.useRef(e)},t.useState=function(e){return x.H.useState(e)},t.useSyncExternalStore=function(e,t,r){return x.H.useSyncExternalStore(e,t,r)},t.useTransition=function(){return x.H.useTransition()},t.version="19.1.1"},44436:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(98370),t)},44532:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(94810),t)},44539:(e,t,r)=>{"use strict";r.r(t),r.d(t,{inDefaultGraph:()=>u,isBlankNode:()=>a,isDefaultGraph:()=>l,isLiteral:()=>o,isNamedNode:()=>i,isQuad:()=>c,isVariable:()=>s,prefix:()=>d,prefixes:()=>h});var n=r(24209);function i(e){return!!e&&"NamedNode"===e.termType}function a(e){return!!e&&"BlankNode"===e.termType}function o(e){return!!e&&"Literal"===e.termType}function s(e){return!!e&&"Variable"===e.termType}function c(e){return!!e&&"Quad"===e.termType}function l(e){return!!e&&"DefaultGraph"===e.termType}function u(e){return l(e.graph)}function d(e,t){return h({"":e.value||e},t)("")}function h(e,t){const r=Object.create(null);for(const n in e)i(n,e[n]);function i(e,n){if("string"===typeof n){const i=Object.create(null);r[e]=e=>i[e]||(i[e]=t.namedNode(n+e))}else if(!(e in r))throw new Error("Unknown prefix: ".concat(e));return r[e]}return t=t||n.Ay,i}},44818:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;t.Variable=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&"Variable"===e.termType&&e.value===this.value}}},44865:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveNodeHandlerSingle=void 0;const n=r(68676),i=r(64638);class a extends i.DirectiveNodeHandlerAdapter{constructor(e,t){super("single",e,t)}handle(e,t){return this.isDirectiveScopeAll(e.directive)&&(t.singularizeState=n.SingularizeState.SINGLE),t.singularizeVariables[this.util.nameToVariable(e.fieldLabel,t).value]=!0,{}}}t.DirectiveNodeHandlerSingle=a},44889:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationLeftJoin=void 0;const n=r(52241),i=r(52840),a=r(13953),o=r(89266),s=r(85160);class c extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"leftjoin")}async testOperation(e,t){return(0,a.passTestVoid)()}async runOperation(e,t){const r=t.getSafe(i.KeysInitQuery.dataFactory),n=new s.Factory(r),a=await Promise.all(e.input.map(async(r,i)=>{const a=(0,o.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:r,context:t}));return e.expression&&1===i?{output:a,operation:n.createFilter(r,e.expression),operationRequired:!0}:{output:a,operation:r}}));return await this.mediatorJoin.mediate({type:"optional",entries:a,context:t})}}t.ActorQueryOperationLeftJoin=c},45253:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CountAggregator=void 0;const n=r(85830),i=r(97824);class a extends n.AggregateEvaluator{constructor(e,t,r){super(e,t,r),this.state=void 0}emptyValueTerm(){return(0,i.typedLiteral)("0",i.TypeURL.XSD_INTEGER)}putTerm(e){void 0===this.state&&(this.state=0),this.state++}termResult(){return void 0===this.state?this.emptyValue():(0,i.typedLiteral)(String(this.state),i.TypeURL.XSD_INTEGER)}}t.CountAggregator=a},45327:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNodeScoped=void 0;t.BlankNodeScoped=class{constructor(e,t){this.termType="BlankNode",this.value=e,this.skolemized=t}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}},45472:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryResultSerializeRdf=void 0;const n=r(16746),i=r(13953);class a extends n.ActorQueryResultSerialize{constructor(e){super(e)}async testHandle(e,t,r){if("quads"!==e.type)return(0,i.failTest)("Actor ".concat(this.name," can only handle quad streams"));const{mediaTypes:n}=await this.mediatorMediaTypeCombiner.mediate({context:r,mediaTypes:!0});return t in n?(0,i.passTestVoid)():(0,i.failTest)("Actor ".concat(this.name," can not handle media type ").concat(t,". All available types: ").concat(Object.keys(n)))}async runHandle(e,t,r){return(await this.mediatorRdfSerialize.mediate({context:r,handle:{context:r,quadStream:e.quadStream},handleMediaType:t})).handle}async testMediaType(e){return(0,i.passTestVoid)()}async getMediaTypes(e){return(await this.mediatorMediaTypeCombiner.mediate({context:e,mediaTypes:!0})).mediaTypes}async testMediaTypeFormats(e){return(0,i.passTestVoid)()}async getMediaTypeFormats(e){return(await this.mediatorMediaTypeFormatCombiner.mediate({context:e,mediaTypeFormats:!0})).mediaTypeFormats}}t.ActorQueryResultSerializeRdf=a},45494:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const n=r(79254);Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return n.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return n.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return n.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return n.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return n.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return n.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return n.termToString}})},45536:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Actor=void 0;const n=r(52408);class i{constructor(e){this.beforeActors=[],Object.assign(this,e),this.bus.subscribe(this),this.beforeActors.length>0&&this.bus.addDependencies(this,this.beforeActors),e.busFailMessage&&(this.bus.failMessage=e.busFailMessage)}static getContextLogger(e){return e.get(n.CONTEXT_KEY_LOGGER)}runObservable(e,t){const r=this.run(e,t);return this.bus.onRun(this,e,r),r}getDefaultLogData(e,t){const r=t?t():{};return r.actor=this.name,r}logTrace(e,t,r){const n=i.getContextLogger(e);n&&n.trace(t,this.getDefaultLogData(e,r))}logDebug(e,t,r){const n=i.getContextLogger(e);n&&n.debug(t,this.getDefaultLogData(e,r))}logInfo(e,t,r){const n=i.getContextLogger(e);n&&n.info(t,this.getDefaultLogData(e,r))}logWarn(e,t,r){const n=i.getContextLogger(e);n&&n.warn(t,this.getDefaultLogData(e,r))}logError(e,t,r){const n=i.getContextLogger(e);n&&n.error(t,this.getDefaultLogData(e,r))}logFatal(e,t,r){const n=i.getContextLogger(e);n&&n.fatal(t,this.getDefaultLogData(e,r))}}t.Actor=i},45541:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQuerySourceIdentifyHypermedia=void 0;const n=r(13953);class i extends n.Actor{constructor(e,t){super(e),this.sourceType=t}async test(e){return e.forceSourceType&&this.sourceType!==e.forceSourceType?(0,n.failTest)("Actor ".concat(this.name," is not able to handle source type ").concat(e.forceSourceType,".")):this.testMetadata(e)}}t.ActorQuerySourceIdentifyHypermedia=i},45610:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(17522),t),i(r(56128),t)},45686:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(60181),t)},45702:(e,t)=>{"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520],a=new Uint8Array(e.length+1);a.set(e),a[e.length]=128;const o=(e=a).length/4+2,s=Math.ceil(o/16),c=new Array(s);for(let r=0;r<s;++r){const t=new Uint32Array(16);for(let n=0;n<16;++n)t[n]=e[64*r+4*n]<<24|e[64*r+4*n+1]<<16|e[64*r+4*n+2]<<8|e[64*r+4*n+3];c[r]=t}c[s-1][14]=8*(e.length-1)/Math.pow(2,32),c[s-1][14]=Math.floor(c[s-1][14]),c[s-1][15]=8*(e.length-1)&4294967295;for(let l=0;l<s;++l){const e=new Uint32Array(80);for(let t=0;t<16;++t)e[t]=c[l][t];for(let t=16;t<80;++t)e[t]=n(e[t-3]^e[t-8]^e[t-14]^e[t-16],1);let a=i[0],o=i[1],s=i[2],u=i[3],d=i[4];for(let i=0;i<80;++i){const c=Math.floor(i/20),l=n(a,5)+r(c,o,s,u)+d+t[c]+e[i]>>>0;d=u,u=s,s=n(o,30)>>>0,o=a,a=l}i[0]=i[0]+a>>>0,i[1]=i[1]+o>>>0,i[2]=i[2]+s>>>0,i[3]=i[3]+u>>>0,i[4]=i[4]+d>>>0}return Uint8Array.of(i[0]>>24,i[0]>>16,i[0]>>8,i[0],i[1]>>24,i[1]>>16,i[1]>>8,i[1],i[2]>>24,i[2]>>16,i[2]>>8,i[2],i[3]>>24,i[3]>>16,i[3]>>8,i[3],i[4]>>24,i[4]>>16,i[4]>>8,i[4])}},45793:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionAbs=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.ABS,overloads:(0,i.declare)(i.SparqlOperator.ABS).numericConverter(()=>e=>Math.abs(e)).collect()})}}t.TermFunctionAbs=a},45882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionStrUuid=void 0;const n=r(11716),i=r(97824),a=r(48341);class o extends n.TermFunctionBase{constructor(){super({arity:0,operator:i.SparqlOperator.STRUUID,overloads:(0,i.declare)(i.SparqlOperator.STRUUID).set([],()=>()=>(0,i.string)(a.v4())).collect()})}}t.TermFunctionStrUuid=o},45931:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(51189),t)},45941:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionSubtraction=void 0;const n=r(11716),i=r(52840),a=r(97824),o=r(1991);class s extends n.TermFunctionBase{constructor(){super({arity:2,operator:a.SparqlOperator.SUBTRACTION,overloads:(0,a.declare)(a.SparqlOperator.SUBTRACTION).arithmetic(()=>(e,t)=>new o.BigNumber(e).minus(t).toNumber()).set([a.TypeURL.XSD_DATE_TIME,a.TypeURL.XSD_DATE_TIME],e=>t=>{let[r,n]=t;return new a.DayTimeDurationLiteral((0,a.elapsedDuration)(r.typedValue,n.typedValue,e.context.getSafe(i.KeysExpressionEvaluator.defaultTimeZone)))}).copy({from:[a.TypeURL.XSD_DATE_TIME,a.TypeURL.XSD_DATE_TIME],to:[a.TypeURL.XSD_DATE,a.TypeURL.XSD_DATE]}).copy({from:[a.TypeURL.XSD_DATE_TIME,a.TypeURL.XSD_DATE_TIME],to:[a.TypeURL.XSD_TIME,a.TypeURL.XSD_TIME]}).set([a.TypeURL.XSD_DATE_TIME,a.TypeURL.XSD_DAY_TIME_DURATION],()=>e=>{let[t,r]=e;return new a.DateTimeLiteral((0,a.addDurationToDateTime)(t.typedValue,(0,a.defaultedDurationRepresentation)((0,a.negateDuration)(r.typedValue))))}).copy({from:[a.TypeURL.XSD_DATE_TIME,a.TypeURL.XSD_DAY_TIME_DURATION],to:[a.TypeURL.XSD_DATE_TIME,a.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([a.TypeURL.XSD_DATE,a.TypeURL.XSD_DAY_TIME_DURATION],()=>e=>{let[t,r]=e;return new a.DateLiteral((0,a.addDurationToDateTime)((0,a.defaultedDateTimeRepresentation)(t.typedValue),(0,a.defaultedDurationRepresentation)((0,a.negateDuration)(r.typedValue))))}).copy({from:[a.TypeURL.XSD_DATE,a.TypeURL.XSD_DAY_TIME_DURATION],to:[a.TypeURL.XSD_DATE,a.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([a.TypeURL.XSD_TIME,a.TypeURL.XSD_DAY_TIME_DURATION],()=>e=>{let[t,r]=e;return new a.TimeLiteral((0,a.addDurationToDateTime)((0,a.defaultedDateTimeRepresentation)(t.typedValue),(0,a.defaultedDurationRepresentation)((0,a.negateDuration)(r.typedValue))))}).collect()})}}t.TermFunctionSubtraction=s},46004:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\x01-\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.RESTRICTED_CHAR="\x01-\b\v\f\x0e-\x1f\x7f-\x84\x86-\x9f",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.RESTRICTED_CHAR_RE=new RegExp("^["+t.RESTRICTED_CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function r(e){return e>=65&&e<=90||e>=97&&e<=122||58===e||95===e||8204===e||8205===e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(e){return e>=1&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111},t.isRestrictedChar=function(e){return e>=1&&e<=8||11===e||12===e||e>=14&&e<=31||e>=127&&e<=132||e>=134&&e<=159},t.isCharAndNotRestricted=function(e){return 9===e||10===e||13===e||e>31&&e<127||133===e||e>159&&e<=55295||e>=57344&&e<=65533||e>=65536&&e<=1114111},t.isS=function(e){return 32===e||10===e||13===e||9===e},t.isNameStartChar=r,t.isNameChar=function(e){return r(e)||e>=48&&e<=57||45===e||46===e||183===e||e>=768&&e<=879||e>=8255&&e<=8256}},46034:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(73148),t)},46361:(e,t,r)=>{"use strict";const{ObjectSetPrototypeOf:n}=r(28931);e.exports=a;const i=r(85219);function a(e){if(!(this instanceof a))return new a(e);i.call(this,e)}n(a.prototype,i.prototype),n(a,i),a.prototype._transform=function(e,t,r){r(null,e)}},46465:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(49866),i=r(66948);t.default=function(e){const t=function(e){return Uint8Array.of((15&e[3])<<4|e[4]>>4&15,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|15&e[6],e[7],(15&e[1])<<4|(240&e[2])>>4,(15&e[2])<<4|(240&e[3])>>4,16|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"===typeof e?(0,n.default)(e):e);return"string"===typeof e?(0,i.unsafeStringify)(t):t}},46482:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermUcase=void 0;const i=r(11716),a=r(97824),o=r(96605);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.UCASE],termFunction:!0}))}async run(e){return new o.TermFunctionUcase}}t.ActorFunctionFactoryTermUcase=s},46631:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.lookupAllPrefixes=t.prefixToUri=t.uriToPrefix=void 0;const i=r(62483),a=r(52494);t.uriToPrefix=function(e,t){return n(this,void 0,void 0,function*(){let r;try{r=yield(0,a.lookupPrefix)(e,t)}catch(n){(null===t||void 0===t?void 0:t.mintOnUnknown)&&(r=(0,i.fragment)(e).slice(0,4))}if("undefined"!==typeof r&&"object"===typeof(null===t||void 0===t?void 0:t.existingPrefixes)&&r in t.existingPrefixes){let e=0;for(;"".concat(r).concat(e)in t.existingPrefixes;)e+=1;r="".concat(r).concat(e)}return r})},t.prefixToUri=function(e,t){return n(this,void 0,void 0,function*(){try{return yield(0,a.lookupUri)(e,t)}catch(r){return}})};var o=r(52494);Object.defineProperty(t,"lookupAllPrefixes",{enumerable:!0,get:function(){return o.lookupAllPrefixes}})},46672:(e,t,r)=>{"use strict";var n=r(65043);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var o={d:{f:a,r:function(){throw Error(i(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},s=Symbol.for("react.portal");var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.flushSync=function(e){var t=c.T,r=o.p;try{if(c.T=null,o.p=2,e)return e()}finally{c.T=t,o.p=r,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var r=t.as,n=l(r,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,a="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===r?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:n,integrity:i,fetchPriority:a}):"script"===r&&o.d.X(e,{crossOrigin:n,integrity:i,fetchPriority:a,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var r=l(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var r=t.as,n=l(r,t.crossOrigin);o.d.L(e,r,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var r=l(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,r){return c.H.useFormState(e,t,r)},t.useFormStatus=function(){return c.H.useHostTransitionStatus()},t.version="19.1.1"},46673:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryExpressionLogicalAnd=void 0;const i=r(11716),a=r(97824),o=r(7192);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.LOGICAL_AND],termFunction:!1}))}async run(e){return new o.ExpressionFunctionLogicalAnd}}t.ActorFunctionFactoryExpressionLogicalAnd=s},46764:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-8][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/i},46780:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermInequality=void 0;const i=r(11716),a=r(97824),o=r(36333);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.NOT_EQUAL],termFunction:!0})),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const t=await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.EQUAL,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new o.TermFunctionInequality(t)}}t.ActorFunctionFactoryTermInequality=s},47183:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(83855),t)},47202:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(74266),t)},47398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionStrBefore=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:2,operator:i.SparqlOperator.STRBEFORE,overloads:(0,i.declare)(i.SparqlOperator.STRBEFORE).onBinaryTyped([i.TypeURL.XSD_STRING,i.TypeURL.XSD_STRING],()=>(e,t)=>(0,i.string)(e.slice(0,Math.max(0,e.indexOf(t))))).onBinary([i.TypeURL.RDF_LANG_STRING,i.TypeURL.XSD_STRING],()=>(e,t)=>{const[r,n]=[e.typedValue,t.typedValue],a=e.typedValue.slice(0,Math.max(0,r.indexOf(n)));return a||!n?(0,i.langString)(a,e.language):(0,i.string)(a)}).onBinary([i.TypeURL.RDF_LANG_STRING,i.TypeURL.RDF_LANG_STRING],()=>(e,t)=>{if(e.language!==t.language)throw new i.IncompatibleLanguageOperation(e,t);const[r,n]=[e.typedValue,t.typedValue],a=e.typedValue.slice(0,Math.max(0,r.indexOf(n)));return a||!n?(0,i.langString)(a,e.language):(0,i.string)(a)}).collect()})}}t.TermFunctionStrBefore=a},47840:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(44889),t)},47902:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8272),t)},48092:e=>{"use strict";e.exports={format(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return e.replace(/%([sdifj])/g,function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];let[i,a]=t;const o=r.shift();if("f"===a)return o.toFixed(6);if("j"===a)return JSON.stringify(o);if("s"===a&&"object"===typeof o){const e=o.constructor!==Object?o.constructor.name:"";return"".concat(e," {}").trim()}return o.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'")){if(!e.includes('"'))return'"'.concat(e,'"');if(!e.includes("`")&&!e.includes("${"))return"`".concat(e,"`")}return"'".concat(e,"'");case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return"".concat(String(e),"n");case"boolean":case"undefined":return String(e);case"object":return"{}"}}}},48096:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermDivision=void 0;const i=r(11716),a=r(97824),o=r(66093);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.DIVISION],termFunction:!0}))}async run(e){return new o.TermFunctionDivision}}t.ActorFunctionFactoryTermDivision=s},48237:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionXsdToDuration=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.TypeURL.XSD_DAY_TIME_DURATION,overloads:(0,i.declare)(i.TypeURL.XSD_DURATION).onUnary(i.TypeURL.XSD_DURATION,()=>e=>new i.DurationLiteral(e.typedValue,e.strValue)).onStringly1(()=>e=>new i.DurationLiteral((0,i.parseDuration)(e.str()))).collect()})}}t.TermFunctionXsdToDuration=a},48304:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(18280),t),i(r(36393),t)},48341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.version=t.validate=t.v7=t.v6ToV1=t.v6=t.v5=t.v4=t.v3=t.v1ToV6=t.v1=t.stringify=t.parse=t.NIL=t.MAX=void 0;var n=r(64079);Object.defineProperty(t,"MAX",{enumerable:!0,get:function(){return n.default}});var i=r(83406);Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return i.default}});var a=r(49866);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return a.default}});var o=r(66948);Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return o.default}});var s=r(74920);Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return s.default}});var c=r(10733);Object.defineProperty(t,"v1ToV6",{enumerable:!0,get:function(){return c.default}});var l=r(60210);Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return l.default}});var u=r(29448);Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return u.default}});var d=r(59124);Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return d.default}});var h=r(70973);Object.defineProperty(t,"v6",{enumerable:!0,get:function(){return h.default}});var p=r(46465);Object.defineProperty(t,"v6ToV1",{enumerable:!0,get:function(){return p.default}});var f=r(61054);Object.defineProperty(t,"v7",{enumerable:!0,get:function(){return f.default}});var g=r(5207);Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return g.default}});var y=r(71341);Object.defineProperty(t,"version",{enumerable:!0,get:function(){return y.default}})},48353:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermStrStarts=void 0;const i=r(11716),a=r(97824),o=r(29646);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.STRSTARTS],termFunction:!0}))}async run(e){return new o.TermFunctionStrStarts}}t.ActorFunctionFactoryTermStrStarts=s},48526:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoAggregator=t.ExtensionFunctionError=t.InvalidExpression=t.InvalidArity=t.UnexpectedError=t.ParseError=t.EmptyAggregateError=t.IncompatibleLanguageOperation=t.InvalidTimezoneCall=t.CastError=t.InvalidArgumentTypes=t.InError=t.CoalesceError=t.RDFEqualTypeError=t.EBVCoercionError=t.UnboundVariableError=t.InvalidLexicalForm=t.isExpressionError=t.ExpressionError=void 0;class r extends Error{}t.ExpressionError=r,t.isExpressionError=function(e){return e instanceof r};t.InvalidLexicalForm=class extends r{constructor(e){super("Invalid lexical form '".concat(c(e),"'")),this.arg=e}};t.UnboundVariableError=class extends r{constructor(e,t){super("Unbound variable '".concat(c(e),"'")),this.variable=e,this.bindings=t}};t.EBVCoercionError=class extends r{constructor(e){super("Cannot coerce term to EBV '".concat(c(e),"'")),this.arg=e}};t.RDFEqualTypeError=class extends r{constructor(e){super("Equality test for literals with unsupported datatypes"),this.args=e}};t.CoalesceError=class extends r{constructor(e){super("All COALESCE arguments threw errors"),this.errors=e}};t.InError=class extends r{constructor(e){super("Some argument to IN errorred and none where equal. ".concat(e.map(e=>"(".concat(e.toString(),") ")).join("and "))),this.errors=e}};t.InvalidArgumentTypes=class extends r{constructor(e,t){super("Argument types not valid for operator: '".concat(c(t),"' with '").concat(c(e))),this.args=e,this.op=t}};t.CastError=class extends r{constructor(e,t){super("Invalid cast: '".concat(c(e),"' to '").concat(c(t),"'")),this.arg=e}};t.InvalidTimezoneCall=class extends r{constructor(e){super("TIMEZONE call on ".concat(e," which has no timezone")),this.dateString=e}};t.IncompatibleLanguageOperation=class extends r{constructor(e,t){super("Operation on incompatible language literals '".concat(c(e),"' and '").concat(c(t),"'")),this.arg1=e,this.arg2=t}};t.EmptyAggregateError=class extends r{constructor(){super("Empty aggregate expression")}};t.ParseError=class extends r{constructor(e,t){super('Failed to parse "'.concat(e,'" as ').concat(t,"."))}};class n extends Error{constructor(e,t){super("Programmer Error '".concat(e,"'")),this.payload=t}}t.UnexpectedError=n;class i extends Error{constructor(e,t){super("The number of args does not match the arity of the operator '".concat(c(t),"'.")),this.args=e,this.op=t}}t.InvalidArity=i;class a extends Error{constructor(e){super("Invalid SPARQL Expression '".concat(c(e),"'"))}}t.InvalidExpression=a;class o extends Error{constructor(e,t){t instanceof Error?super("Error thrown in ".concat(e,": ").concat(t.message).concat(t.stack?"\n".concat(t.stack):"")):super("Error thrown in ".concat(e))}}t.ExtensionFunctionError=o;class s extends Error{constructor(e){super("Aggregate expression ".concat(c(e)," found, but no aggregate hook provided."))}}function c(e){return JSON.stringify(e)}t.NoAggregator=s},48713:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorInitQuery=void 0;const n=r(22273);"undefined"===typeof process&&(globalThis.process=r(62285));class i extends n.ActorInitQueryBase{}t.ActorInitQuery=i},48741:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(52263),t),i(r(54983),t),i(r(14170),t),i(r(68598),t),i(r(656),t),i(r(18310),t),i(r(41837),t)},48905:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SparqlJsonParser=void 0;const n=r(48741),i=r(94051),a=r(5811);t.SparqlJsonParser=class{constructor(e){var t;e=e||{},this.dataFactory=e.dataFactory||new n.DataFactory,this.prefixVariableQuestionMark=!!e.prefixVariableQuestionMark,this.suppressMissingStreamResultsError=null===(t=e.suppressMissingStreamResultsError)||void 0===t||t}parseJsonResults(e){return e.results.bindings.map(e=>this.parseJsonBindings(e))}parseJsonResultsStream(e){const t=e=>s.emit("error",e);e.on("error",t);const r=new a;r.onError=t;let n=!1,o=!1;r.onValue=e=>{if("vars"===r.key&&2===r.stack.length&&"head"===r.stack[1].key)s.emit("variables",e.map(e=>this.dataFactory.variable(e))),n=!0;else if("link"===r.key&&2===r.stack.length&&"head"===r.stack[1].key)s.emit("link",e);else if("version"===r.key&&2===r.stack.length&&"head"===r.stack[1].key)s.emit("version",e);else if("results"===r.key&&1===r.stack.length)o=!0;else if("number"===typeof r.key&&3===r.stack.length&&"results"===r.stack[1].key&&"bindings"===r.stack[2].key)try{s.push(this.parseJsonBindings(e))}catch(t){s.emit("error",t)}else"metadata"===r.key&&1===r.stack.length&&s.emit("metadata",e)};const s=e.on("end",e=>{o||this.suppressMissingStreamResultsError?n||s.emit("variables",[]):s.emit("error",new Error("No valid SPARQL query results were found."))}).pipe(new i.Transform({objectMode:!0,transform(e,t,n){r.write(e),n()}}));return s}parseJsonBindings(e){const t={};for(const r in e){const n=e[r];t[this.prefixVariableQuestionMark?"?"+r:r]=this.parseJsonValue(n)}return t}parseJsonValue(e){let t;switch(e.type){case"bnode":t=this.dataFactory.blankNode(e.value);break;case"literal":if(e["xml:lang"]){const r=e["xml:lang"],n=e["its:dir"];t=this.dataFactory.literal(e.value,{language:r,direction:n})}else t=e.datatype?this.dataFactory.literal(e.value,this.dataFactory.namedNode(e.datatype)):this.dataFactory.literal(e.value);break;case"typed-literal":t=this.dataFactory.literal(e.value,this.dataFactory.namedNode(e.datatype));break;case"triple":const r=e.value;if(!r||!r.subject||!r.predicate||!r.object)throw new Error("Invalid quoted triple: "+JSON.stringify(e));t=this.dataFactory.quad(this.parseJsonValue(r.subject),this.parseJsonValue(r.predicate),this.parseJsonValue(r.object));break;default:t=this.dataFactory.namedNode(e.value)}return t}parseJsonBoolean(e){if("boolean"in e)return e.boolean;throw new Error("No valid ASK response was found.")}parseJsonBooleanStream(e){return new Promise((t,r)=>{const n=new a;n.onError=r,n.onValue=e=>{"boolean"===n.key&&"boolean"===typeof e&&1===n.stack.length&&t(e)},e.on("error",r).on("data",e=>n.write(e)).on("end",()=>r(new Error("No valid ASK response was found.")))})}}},48926:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(7346),t)},48992:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfMetadataAccumulateRequestTime=void 0;const i=r(26638),a=r(13953);class o extends i.ActorRdfMetadataAccumulate{constructor(e){super(e)}async test(e){return(0,a.passTestVoid)()}async run(e){var t,r;return"initialize"===e.mode?{metadata:{}}:{metadata:n({},"requestTime"in e.accumulatedMetadata||"requestTime"in e.appendingMetadata?{requestTime:(null!==(t=e.accumulatedMetadata.requestTime)&&void 0!==t?t:0)+(null!==(r=e.appendingMetadata.requestTime)&&void 0!==r?r:0)}:{})}}}t.ActorRdfMetadataAccumulateRequestTime=o},49065:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(52330),t)},49125:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(65434),t)},49212:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var n=r(93437),i=r(24209),a=r(57103);let o=0;class s{constructor(e){this._contextStack=[],this._graph=null,e=e||{},this._setBase(e.baseIRI),e.factory&&l(this,e.factory);const t="string"===typeof e.format?e.format.match(/\w*$/)[0].toLowerCase():"",r=/turtle/.test(t),i=/trig/.test(t),a=/triple/.test(t),o=/quad/.test(t),s=this._n3Mode=/n3/.test(t),c=a||o;(this._supportsNamedGraphs=!(r||s))||(this._readPredicateOrNamedGraph=this._readPredicate),this._supportsQuads=!(r||i||a||s),this._isImpliedBy=e.isImpliedBy,this._supportsRDFStar=""===t||/star|\*$/.test(t),c&&(this._resolveRelativeIRI=e=>null),this._blankNodePrefix="string"!==typeof e.blankNodePrefix?"":e.blankNodePrefix.replace(/^(?!_:)/,"_:"),this._lexer=e.lexer||new n.A({lineMode:c,n3:s,isImpliedBy:this._isImpliedBy}),this._explicitQuantifiers=!!e.explicitQuantifiers}static _resetBlankNodePrefix(){o=0}_setBase(e){if(e){const t=e.indexOf("#");t>=0&&(e=e.substr(0,t)),this._base=e,this._basePath=e.indexOf("/")<0?e:e.replace(/[^\/?]*(?:\?.*)?$/,""),e=e.match(/^(?:([a-z][a-z0-9+.-]*:))?(?:\/\/[^\/]*)?/i),this._baseRoot=e[0],this._baseScheme=e[1]}else this._base="",this._basePath=""}_saveContext(e,t,r,n,i){const a=this._n3Mode;this._contextStack.push({type:e,subject:r,predicate:n,object:i,graph:t,inverse:!!a&&this._inversePredicate,blankPrefix:a?this._prefixes._:"",quantified:a?this._quantified:null}),a&&(this._inversePredicate=!1,this._prefixes._=this._graph?"".concat(this._graph.value,"."):".",this._quantified=Object.create(this._quantified))}_restoreContext(e,t){const r=this._contextStack.pop();if(!r||r.type!==e)return this._error("Unexpected ".concat(t.type),t);this._subject=r.subject,this._predicate=r.predicate,this._object=r.object,this._graph=r.graph,this._n3Mode&&(this._inversePredicate=r.inverse,this._prefixes._=r.blankPrefix,this._quantified=r.quantified)}_readInTopContext(e){switch(e.type){case"eof":return null!==this._graph?this._error("Unclosed graph",e):(delete this._prefixes._,this._callback(null,null,this._prefixes));case"PREFIX":this._sparqlStyle=!0;case"@prefix":return this._readPrefix;case"BASE":this._sparqlStyle=!0;case"@base":return this._readBaseIRI;case"{":if(this._supportsNamedGraphs)return this._graph="",this._subject=null,this._readSubject;case"GRAPH":if(this._supportsNamedGraphs)return this._readNamedGraphLabel;default:return this._readSubject(e)}}_readEntity(e,t){let r;switch(e.type){case"IRI":case"typeIRI":const t=this._resolveIRI(e.value);if(null===t)return this._error("Invalid IRI",e);r=this._factory.namedNode(t);break;case"type":case"prefixed":const n=this._prefixes[e.prefix];if(void 0===n)return this._error('Undefined prefix "'.concat(e.prefix,':"'),e);r=this._factory.namedNode(n+e.value);break;case"blank":r=this._factory.blankNode(this._prefixes[e.prefix]+e.value);break;case"var":r=this._factory.variable(e.value.substr(1));break;default:return this._error("Expected entity but got ".concat(e.type),e)}return!t&&this._n3Mode&&r.id in this._quantified&&(r=this._quantified[r.id]),r}_readSubject(e){switch(this._predicate=null,e.type){case"[":return this._saveContext("blank",this._graph,this._subject=this._factory.blankNode(),null,null),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this.RDF_NIL,null,null),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._graph=this._factory.blankNode(),null,null),this._readSubject):this._error("Unexpected graph",e);case"}":return this._readPunctuation(e);case"@forSome":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORSOME,this._quantifier="blankNode",this._readQuantifierList):this._error('Unexpected "@forSome"',e);case"@forAll":return this._n3Mode?(this._subject=null,this._predicate=this.N3_FORALL,this._quantifier="variable",this._readQuantifierList):this._error('Unexpected "@forAll"',e);case"literal":if(!this._n3Mode)return this._error("Unexpected literal",e);if(0===e.prefix.length)return this._literalValue=e.value,this._completeSubjectLiteral;this._subject=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,null,null,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if(void 0===(this._subject=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._readPredicateOrNamedGraph)}return this._readPredicateOrNamedGraph}_readPredicate(e){const t=e.type;switch(t){case"inverse":this._inversePredicate=!0;case"abbreviation":this._predicate=this.ABBREVIATIONS[e.value];break;case".":case"]":case"}":return null===this._predicate?this._error("Unexpected ".concat(t),e):(this._subject=null,"]"===t?this._readBlankNodeTail(e):this._readPunctuation(e));case";":return null!==this._predicate?this._readPredicate:this._error("Expected predicate but got ;",e);case"[":if(this._n3Mode)return this._saveContext("blank",this._graph,this._subject,this._subject=this._factory.blankNode(),null),this._readBlankNodeHead;case"blank":if(!this._n3Mode)return this._error("Disallowed blank node as predicate",e);default:if(void 0===(this._predicate=this._readEntity(e)))return}return this._readObject}_readObject(e){switch(e.type){case"literal":if(0===e.prefix.length)return this._literalValue=e.value,this._readDataTypeOrLang;this._object=this._factory.literal(e.value,this._factory.namedNode(e.prefix));break;case"[":return this._saveContext("blank",this._graph,this._subject,this._predicate,this._subject=this._factory.blankNode()),this._readBlankNodeHead;case"(":return this._saveContext("list",this._graph,this._subject,this._predicate,this.RDF_NIL),this._subject=null,this._readListItem;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);case"<<":return this._supportsRDFStar?(this._saveContext("<<",this._graph,this._subject,this._predicate,null),this._graph=null,this._readSubject):this._error("Unexpected RDF-star syntax",e);default:if(void 0===(this._object=this._readEntity(e)))return;if(this._n3Mode)return this._getPathReader(this._getContextEndReader())}return this._getContextEndReader()}_readPredicateOrNamedGraph(e){return"{"===e.type?this._readGraph(e):this._readPredicate(e)}_readGraph(e){return"{"!==e.type?this._error("Expected graph but got ".concat(e.type),e):(this._graph=this._subject,this._subject=null,this._readSubject)}_readBlankNodeHead(e){return"]"===e.type?(this._subject=null,this._readBlankNodeTail(e)):(this._predicate=null,this._readPredicate(e))}_readBlankNodeTail(e){if("]"!==e.type)return this._readBlankNodePunctuation(e);null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph);const t=null===this._predicate;return this._restoreContext("blank",e),null!==this._object?this._getContextEndReader():null!==this._predicate?this._readObject:t?this._readPredicateOrNamedGraph:this._readPredicateAfterBlank}_readPredicateAfterBlank(e){switch(e.type){case".":case"}":return this._subject=null,this._readPunctuation(e);default:return this._readPredicate(e)}}_readListItem(e){let t=null,r=null,n=this._readListItem;const i=this._subject,a=this._contextStack,o=a[a.length-1];switch(e.type){case"[":this._saveContext("blank",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this._subject=t=this._factory.blankNode()),n=this._readBlankNodeHead;break;case"(":this._saveContext("list",this._graph,r=this._factory.blankNode(),this.RDF_FIRST,this.RDF_NIL),this._subject=null;break;case")":if(this._restoreContext("list",e),0!==a.length&&"list"===a[a.length-1].type&&this._emit(this._subject,this._predicate,this._object,this._graph),null===this._predicate){if(n=this._readPredicate,this._subject===this.RDF_NIL)return n}else if(n=this._getContextEndReader(),this._object===this.RDF_NIL)return n;r=this.RDF_NIL;break;case"literal":0===e.prefix.length?(this._literalValue=e.value,n=this._readListItemDataTypeOrLang):(t=this._factory.literal(e.value,this._factory.namedNode(e.prefix)),n=this._getContextEndReader());break;case"{":return this._n3Mode?(this._saveContext("formula",this._graph,this._subject,this._predicate,this._graph=this._factory.blankNode()),this._readSubject):this._error("Unexpected graph",e);default:if(void 0===(t=this._readEntity(e)))return}if(null===r&&(this._subject=r=this._factory.blankNode()),null===i?null===o.predicate?o.subject=r:o.object=r:this._emit(i,this.RDF_REST,r,this._graph),null!==t){if(this._n3Mode&&("IRI"===e.type||"prefixed"===e.type))return this._saveContext("item",this._graph,r,this.RDF_FIRST,t),this._subject=t,this._predicate=null,this._getPathReader(this._readListItem);this._emit(r,this.RDF_FIRST,t,this._graph)}return n}_readDataTypeOrLang(e){return this._completeObjectLiteral(e,!1)}_readListItemDataTypeOrLang(e){return this._completeObjectLiteral(e,!0)}_completeLiteral(e){let t=this._factory.literal(this._literalValue);switch(e.type){case"type":case"typeIRI":const r=this._readEntity(e);if(void 0===r)return;t=this._factory.literal(this._literalValue,r),e=null;break;case"langcode":t=this._factory.literal(this._literalValue,e.value),e=null}return{token:e,literal:t}}_completeSubjectLiteral(e){return this._subject=this._completeLiteral(e).literal,this._readPredicateOrNamedGraph}_completeObjectLiteral(e,t){const r=this._completeLiteral(e);if(r)return this._object=r.literal,t&&this._emit(this._subject,this.RDF_FIRST,this._object,this._graph),null===r.token?this._getContextEndReader():(this._readCallback=this._getContextEndReader(),this._readCallback(r.token))}_readFormulaTail(e){return"}"!==e.type?this._readPunctuation(e):(null!==this._subject&&this._emit(this._subject,this._predicate,this._object,this._graph),this._restoreContext("formula",e),null===this._object?this._readPredicate:this._getContextEndReader())}_readPunctuation(e){let t,r=this._graph;const n=this._subject,i=this._inversePredicate;switch(e.type){case"}":if(null===this._graph)return this._error("Unexpected graph closing",e);if(this._n3Mode)return this._readFormulaTail(e);this._graph=null;case".":this._subject=null,t=this._contextStack.length?this._readSubject:this._readInTopContext,i&&(this._inversePredicate=!1);break;case";":t=this._readPredicate;break;case",":t=this._readObject;break;case"{|":if(!this._supportsRDFStar)return this._error("Unexpected RDF-star syntax",e);const a=this._predicate,o=this._object;this._subject=this._factory.quad(n,a,o,this.DEFAULTGRAPH),t=this._readPredicate;break;case"|}":if("Quad"!==this._subject.termType)return this._error("Unexpected asserted triple closing",e);this._subject=null,t=this._readPunctuation;break;default:if(this._supportsQuads&&null===this._graph&&void 0!==(r=this._readEntity(e))){t=this._readQuadPunctuation;break}return this._error('Expected punctuation to follow "'.concat(this._object.id,'"'),e)}if(null!==n){const e=this._predicate,t=this._object;i?this._emit(t,e,n,r):this._emit(n,e,t,r)}return t}_readBlankNodePunctuation(e){let t;switch(e.type){case";":t=this._readPredicate;break;case",":t=this._readObject;break;default:return this._error('Expected punctuation to follow "'.concat(this._object.id,'"'),e)}return this._emit(this._subject,this._predicate,this._object,this._graph),t}_readQuadPunctuation(e){return"."!==e.type?this._error("Expected dot to follow quad",e):this._readInTopContext}_readPrefix(e){return"prefix"!==e.type?this._error("Expected prefix to follow @prefix",e):(this._prefix=e.value,this._readPrefixIRI)}_readPrefixIRI(e){if("IRI"!==e.type)return this._error('Expected IRI to follow prefix "'.concat(this._prefix,':"'),e);const t=this._readEntity(e);return this._prefixes[this._prefix]=t.value,this._prefixCallback(this._prefix,t),this._readDeclarationPunctuation}_readBaseIRI(e){const t="IRI"===e.type&&this._resolveIRI(e.value);return t?(this._setBase(t),this._readDeclarationPunctuation):this._error("Expected valid IRI to follow base declaration",e)}_readNamedGraphLabel(e){switch(e.type){case"IRI":case"blank":case"prefixed":return this._readSubject(e),this._readGraph;case"[":return this._readNamedGraphBlankLabel;default:return this._error("Invalid graph label",e)}}_readNamedGraphBlankLabel(e){return"]"!==e.type?this._error("Invalid graph label",e):(this._subject=this._factory.blankNode(),this._readGraph)}_readDeclarationPunctuation(e){return this._sparqlStyle?(this._sparqlStyle=!1,this._readInTopContext(e)):"."!==e.type?this._error("Expected declaration to end with a dot",e):this._readInTopContext}_readQuantifierList(e){let t;switch(e.type){case"IRI":case"prefixed":if(void 0!==(t=this._readEntity(e,!0)))break;default:return this._error("Unexpected ".concat(e.type),e)}return this._explicitQuantifiers?(null===this._subject?this._emit(this._graph||this.DEFAULTGRAPH,this._predicate,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH):this._emit(this._subject,this.RDF_REST,this._subject=this._factory.blankNode(),this.QUANTIFIERS_GRAPH),this._emit(this._subject,this.RDF_FIRST,t,this.QUANTIFIERS_GRAPH)):this._quantified[t.id]=this._factory[this._quantifier](this._factory.blankNode().value),this._readQuantifierPunctuation}_readQuantifierPunctuation(e){return","===e.type?this._readQuantifierList:(this._explicitQuantifiers&&(this._emit(this._subject,this.RDF_REST,this.RDF_NIL,this.QUANTIFIERS_GRAPH),this._subject=null),this._readCallback=this._getContextEndReader(),this._readCallback(e))}_getPathReader(e){return this._afterPath=e,this._readPath}_readPath(e){switch(e.type){case"!":return this._readForwardPath;case"^":return this._readBackwardPath;default:const t=this._contextStack,r=t.length&&t[t.length-1];if(r&&"item"===r.type){const t=this._subject;this._restoreContext("item",e),this._emit(this._subject,this.RDF_FIRST,t,this._graph)}return this._afterPath(e)}}_readForwardPath(e){let t,r;const n=this._factory.blankNode();if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(t=this._subject,this._subject=n):(t=this._object,this._object=n),this._emit(t,r,n,this._graph),this._readPath}_readBackwardPath(e){const t=this._factory.blankNode();let r,n;if(void 0!==(r=this._readEntity(e)))return null===this._predicate?(n=this._subject,this._subject=t):(n=this._object,this._object=t),this._emit(t,r,n,this._graph),this._readPath}_readRDFStarTailOrGraph(e){return">>"!==e.type?this._supportsQuads&&null===this._graph&&void 0!==(this._graph=this._readEntity(e))?this._readRDFStarTail:this._error('Expected >> to follow "'.concat(this._object.id,'"'),e):this._readRDFStarTail(e)}_readRDFStarTail(e){if(">>"!==e.type)return this._error("Expected >> but got ".concat(e.type),e);const t=this._factory.quad(this._subject,this._predicate,this._object,this._graph||this.DEFAULTGRAPH);return this._restoreContext("<<",e),null===this._subject?(this._subject=t,this._readPredicate):(this._object=t,this._getContextEndReader())}_getContextEndReader(){const e=this._contextStack;if(!e.length)return this._readPunctuation;switch(e[e.length-1].type){case"blank":return this._readBlankNodeTail;case"list":return this._readListItem;case"formula":return this._readFormulaTail;case"<<":return this._readRDFStarTailOrGraph}}_emit(e,t,r,n){this._callback(null,this._factory.quad(e,t,r,n||this.DEFAULTGRAPH))}_error(e,t){const r=new Error("".concat(e," on line ").concat(t.line,"."));r.context={token:t,line:t.line,previousToken:this._lexer.previousToken},this._callback(r),this._callback=c}_resolveIRI(e){return/^[a-z][a-z0-9+.-]*:/i.test(e)?e:this._resolveRelativeIRI(e)}_resolveRelativeIRI(e){if(!e.length)return this._base;switch(e[0]){case"#":return this._base+e;case"?":return this._base.replace(/(?:\?.*)?$/,e);case"/":return("/"===e[1]?this._baseScheme:this._baseRoot)+this._removeDotSegments(e);default:return/^[^/:]*:/.test(e)?null:this._removeDotSegments(this._basePath+e)}}_removeDotSegments(e){if(!/(^|\/)\.\.?($|[/#?])/.test(e))return e;const t=e.length;let r="",n=-1,i=-1,a=0,o="/";for(;n<t;){switch(o){case":":if(i<0&&"/"===e[++n]&&"/"===e[++n])for(;(i=n+1)<t&&"/"!==e[i];)n=i;break;case"?":case"#":n=t;break;case"/":if("."===e[n+1])switch(o=e[1+ ++n],o){case"/":r+=e.substring(a,n-1),a=n+1;break;case void 0:case"?":case"#":return r+e.substring(a,n)+e.substr(n+1);case".":if(o=e[1+ ++n],void 0===o||"/"===o||"?"===o||"#"===o){if(r+=e.substring(a,n-2),(a=r.lastIndexOf("/"))>=i&&(r=r.substr(0,a)),"/"!==o)return"".concat(r,"/").concat(e.substr(n+1));a=n+1}}}o=e[++n]}return r+e.substring(a)}parse(e,t,r){let n,i,a;if(t&&(t.onQuad||t.onPrefix||t.onComment)?(n=t.onQuad,i=t.onPrefix,a=t.onComment):(n=t,i=r),this._readCallback=this._readInTopContext,this._sparqlStyle=!1,this._prefixes=Object.create(null),this._prefixes._=this._blankNodePrefix?this._blankNodePrefix.substr(2):"b".concat(o++,"_"),this._prefixCallback=i||c,this._inversePredicate=!1,this._quantified=Object.create(null),!n){const t=[];let r;if(this._callback=(e,n)=>{e?r=e:n&&t.push(n)},this._lexer.tokenize(e).every(e=>this._readCallback=this._readCallback(e)),r)throw r;return t}let s=(e,t)=>{null!==e?(this._callback(e),this._callback=c):this._readCallback&&(this._readCallback=this._readCallback(t))};a&&(this._lexer.comments=!0,s=(e,t)=>{null!==e?(this._callback(e),this._callback=c):this._readCallback&&("comment"===t.type?a(t.value):this._readCallback=this._readCallback(t))}),this._callback=n,this._lexer.tokenize(e,s)}}function c(){}function l(e,t){e._factory=t,e.DEFAULTGRAPH=t.defaultGraph(),e.RDF_FIRST=t.namedNode(a.A.rdf.first),e.RDF_REST=t.namedNode(a.A.rdf.rest),e.RDF_NIL=t.namedNode(a.A.rdf.nil),e.N3_FORALL=t.namedNode(a.A.r.forAll),e.N3_FORSOME=t.namedNode(a.A.r.forSome),e.ABBREVIATIONS={a:t.namedNode(a.A.rdf.type),"=":t.namedNode(a.A.owl.sameAs),">":t.namedNode(a.A.log.implies),"<":t.namedNode(a.A.log.isImpliedBy)},e.QUANTIFIERS_GRAPH=t.namedNode("urn:n3:quantifiers")}l(s.prototype,i.Ay)},49275:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.doesShapeAcceptOperation=void 0;const n=r(85160);function i(e,t,r){return a(e,e,t,r)}function a(e,t,r,l){var u;if("conjunction"===t.type)return t.children.every(t=>a(e,t,r,l));if("disjunction"===t.type)return t.children.some(t=>a(e,t,r,l));if("negation"===t.type)return!a(t.child,t.child,r,l);if("arity"===t.type)return a(e,t.child,r,l);if(null!==(u=(null===l||void 0===l?void 0:l.joinBindings)&&!t.joinBindings)&&void 0!==u?u:(null===l||void 0===l?void 0:l.filterBindings)&&!t.filterBindings)return!1;const d=t.operation;switch(d.operationType){case"type":var h;return!!(d.type!==n.Algebra.types.EXPRESSION||!c(r)||"extensionFunctions"in d&&null!==(h=d.extensionFunctions)&&void 0!==h&&h.includes(r.name.value))&&(!(!o(e,t.children,r,l)&&!s(e,r,l))&&d.type===r.type);case"pattern":return!(o(e,t.children,r,l)&&!s(e,r,l))&&d.pattern.type===r.type;case"wildcard":{if(null!==l&&void 0!==l&&l.wildcardAcceptAllExtensionFunctions)return!0;if(c(r))return!1;let t=!1;return n.Util.recurseOperation(r,{[n.Algebra.types.EXPRESSION]:r=>!(c(r)&&!i(e,r,l))||(t=!0,!1)}),!t}}}function o(e,t,r,n){if(c(r)||c(r.expression))return!1;if(t){var i;const o=r.input?Array.isArray(r.input)?r.input:[r.input]:null!==(i=r.patterns)&&void 0!==i?i:[];for(const[r,i]of t.entries())if(!o[r]||!a(e,i,o[r],n))return!1}return!0}function s(e,t,r){if(t.input){if(!(Array.isArray(t.input)?t.input:[t.input]).every(t=>a(e,e,t,r)))return!1}return!(t.expression&&c(t.expression)&&!a(e,e,t.expression,r))&&!(t.patterns&&!t.patterns.every(t=>a(e,e,t,r)))}function c(e){return e&&e.type===n.Algebra.types.EXPRESSION&&e.expressionType===n.Algebra.expressionTypes.NAMED&&(t=e.name.value,!/^https?:\/\/www\.w3\.org\//.test(t));var t}t.doesShapeAcceptOperation=i},49404:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(39163),t)},49676:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(48992),t)},49770:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(83718),t)},49786:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1515),t)},49827:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationSlice=void 0;const i=r(52241),a=r(52840),o=r(13953);class s extends i.ActorQueryOperationTypedMediated{constructor(e){super(e,"slice")}async testOperation(e,t){return(0,o.passTestVoid)()}async runOperation(e,t){e.length&&(t=t.set(a.KeysQueryOperation.limitIndicator,e.length));const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t});if("bindings"===r.type){return{type:"bindings",bindingsStream:this.sliceStream(r.bindingsStream,e),metadata:this.sliceMetadata(r,e)}}if("quads"===r.type){return{type:"quads",quadStream:this.sliceStream(r.quadStream,e),metadata:this.sliceMetadata(r,e)}}return r}sliceStream(e,t){const r=Boolean(t.length)||0===t.length,{start:n}=t,i=r?t.start+t.length-1:Number.POSITIVE_INFINITY;return e.transform({offset:n,limit:Math.max(i-n+1,0),autoStart:!1})}sliceMetadata(e,t){const r=Boolean(t.length)||0===t.length;return()=>e.metadata().then(e=>{const i=n({},e.cardinality);return Number.isFinite(i.value)&&(i.value=Math.max(0,i.value-t.start),r&&(i.value=Math.min(i.value,t.length))),n(n({},e),{},{cardinality:i})})}}t.ActorQueryOperationSlice=s},49866:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5207);t.default=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");let t;return Uint8Array.of((t=parseInt(e.slice(0,8),16))>>>24,t>>>16&255,t>>>8&255,255&t,(t=parseInt(e.slice(9,13),16))>>>8,255&t,(t=parseInt(e.slice(14,18),16))>>>8,255&t,(t=parseInt(e.slice(19,23),16))>>>8,255&t,(t=parseInt(e.slice(24,36),16))/1099511627776&255,t/4294967296&255,t>>>24&255,t>>>16&255,t>>>8&255,255&t)}},49902:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(27855),t)},50108:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(31969),t)},50117:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(40286),t)},50131:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(20717),t)},50403:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(92796),t)},50492:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(93880),t)},50697:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHandlerDate=void 0;const n=r(3326);class i{fromRdf(e,t){switch(t&&!e.value.match(i.VALIDATORS[e.datatype.value.substr(33,e.datatype.value.length)])&&n.Translator.incorrectRdfDataType(e),e.datatype.value){case"http://www.w3.org/2001/XMLSchema#gDay":return new Date(0,0,parseInt(e.value,10));case"http://www.w3.org/2001/XMLSchema#gMonthDay":const t=e.value.split("-");return new Date(0,parseInt(t[0],10)-1,parseInt(t[1],10));case"http://www.w3.org/2001/XMLSchema#gYear":return new Date(e.value+"-01-01");case"http://www.w3.org/2001/XMLSchema#gYearMonth":return new Date(e.value+"-01");default:return new Date(e.value)}}toRdf(e,t){let{datatype:r,dataFactory:n}=t;if(r=r||n.namedNode(i.TYPES[0]),!(e instanceof Date))return null;const a=e;let o;switch(r.value){case"http://www.w3.org/2001/XMLSchema#gDay":o=String(a.getUTCDate());break;case"http://www.w3.org/2001/XMLSchema#gMonthDay":o=a.getUTCMonth()+1+"-"+a.getUTCDate();break;case"http://www.w3.org/2001/XMLSchema#gYear":o=String(a.getUTCFullYear());break;case"http://www.w3.org/2001/XMLSchema#gYearMonth":o=a.getUTCFullYear()+"-"+(a.getUTCMonth()+1);break;case"http://www.w3.org/2001/XMLSchema#date":o=a.toISOString().replace(/T.*$/,"");break;default:o=a.toISOString()}return n.literal(o,r)}}i.TYPES=["http://www.w3.org/2001/XMLSchema#dateTime","http://www.w3.org/2001/XMLSchema#date","http://www.w3.org/2001/XMLSchema#gDay","http://www.w3.org/2001/XMLSchema#gMonthDay","http://www.w3.org/2001/XMLSchema#gYear","http://www.w3.org/2001/XMLSchema#gYearMonth"],i.VALIDATORS={date:/^[0-9]+-[0-9][0-9]-[0-9][0-9]Z?$/,dateTime:/^[0-9]+-[0-9][0-9]-[0-9][0-9]T[0-9][0-9]:[0-9][0-9]:[0-9][0-9](\.[0-9][0-9][0-9])?((Z?)|([\+-][0-9][0-9]:[0-9][0-9]))$/,gDay:/^[0-9]+$/,gMonthDay:/^[0-9]+-[0-9][0-9]$/,gYear:/^[0-9]+$/,gYearMonth:/^[0-9]+-[0-9][0-9]$/},t.TypeHandlerDate=i},50945:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(54582),t)},50971:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryResultSerializeSparqlJson=void 0;const n=r(16746),i=r(13953),a=r(72758),o=r(94051);class s extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToJsonBindings(e){if("Literal"===e.termType){const t=e,r={value:t.value,type:"literal"},{language:n,datatype:i}=t;return n?r["xml:lang"]=n:i&&"http://www.w3.org/2001/XMLSchema#string"!==i.value&&(r.datatype=i.value),r}return"BlankNode"===e.termType?{value:e.value,type:"bnode"}:"Quad"===e.termType?{value:{subject:s.bindingToJsonBindings(e.subject),predicate:s.bindingToJsonBindings(e.predicate),object:s.bindingToJsonBindings(e.object)},type:"triple"}:{value:e.value,type:"uri"}}async testHandleChecked(e,t){return["bindings","boolean"].includes(e.type)?(0,i.passTestVoid)():(0,i.failTest)("This actor can only handle bindings streams or booleans.")}async runHandle(e,t,r){const n=new o.Readable,i={};if("bindings"===e.type){const c=await e.metadata();c.variables.length>0&&(i.vars=c.variables.map(e=>e.variable.value))}if(n.push('{"head": '.concat(JSON.stringify(i),",\n")),"bindings"===e.type){const l=e.bindingsStream;n.push('"results": { "bindings": [\n');let u=!0;function*d(e){yield e()}n.wrap((0,a.wrap)(l).map(e=>{const t="".concat(u?"":",\n").concat(JSON.stringify(Object.fromEntries([...e].map(e=>{let[t,r]=e;return[t.value,s.bindingToJsonBindings(r)]}))));return u=!1,t}).append((0,a.wrap)(d(()=>"\n]}".concat(this.emitMetadata?',\n"metadata": { "httpRequests": '.concat(this.httpObserver.requests," }"):"","}\n")))))}else n.wrap((0,a.wrap)(e.execute().then(e=>['"boolean":'.concat(e,"\n}\n")])));return{data:n}}}t.ActorQueryResultSerializeSparqlJson=s},51120:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermSha256=void 0;const i=r(11716),a=r(97824),o=r(5293);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.SHA256],termFunction:!0}))}async run(e){return new o.TermFunctionSha256}}t.ActorFunctionFactoryTermSha256=s},51189:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermSubStr=void 0;const i=r(11716),a=r(97824),o=r(84312);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.SUBSTR],termFunction:!0}))}async run(e){return new o.TermFunctionSubStr}}t.ActorFunctionFactoryTermSubStr=s},51199:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeHandlerDocument=void 0;const n=r(85160),i=r(16703);class a extends i.NodeHandlerAdapter{constructor(e,t){super("Document",e,t)}handle(e,t){const r=e.definitions.map(e=>{const r=this.getNodeQuadContextDefinitionNode(e,Object.assign(Object.assign({},t),{ignoreUnknownVariables:!0})),n=Object.assign(Object.assign({},t),{graph:r.graph||t.graph,subject:r.subject||this.util.dataFactory.blankNode()});let i=this.util.handleNode(e,n);return r&&r.auxiliaryPatterns&&(i=this.util.joinOperations([i,this.util.operationFactory.createBgp(r.auxiliaryPatterns)])),i}),n=this.util.operationFactory.createProject(1===r.length?r[0]:this.util.operationFactory.createUnion(r),t.terminalVariables);return this.translateBlankNodesToVariables(n)}getNodeQuadContextDefinitionNode(e,t){if("OperationDefinition"===e.kind)return this.getNodeQuadContextSelectionSet(e.selectionSet,e.name?e.name.value:"",t);throw new Error("Unsupported definition: ".concat(e.kind))}translateBlankNodesToVariables(e){const t=this,r={},i=Array.from(e.variables).reduce((e,t)=>(e[t.value]=!0,e),{});return n.Util.mapOperation(e,{path:(e,t)=>({recurse:!1,result:t.createPath(a(e.subject),e.predicate,a(e.object),a(e.graph))}),pattern:(e,t)=>({recurse:!1,result:t.createPattern(a(e.subject),a(e.predicate),a(e.object),a(e.graph))})});function a(e){if("BlankNode"===e.termType){let a=r[e.value];return a||(a=n.Util.createUniqueVariable(e.value,i,t.util.dataFactory),i[a.value]=!0,r[e.value]=a),a}return e}}}t.NodeHandlerDocument=a},51243:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.SparqlEndpointFetcher=void 0;const i=r(42435),a=r(73514),o=r(90237),s=r(36865),c=r(24825),l=r(50108),u=r(55888);class d{constructor(e){var t,r,n,i,a;this.method=null!==(t=null===e||void 0===e?void 0:e.method)&&void 0!==t?t:"POST",this.timeout=null===e||void 0===e?void 0:e.timeout,this.forceGetIfUrlLengthBelow=null!==(r=null===e||void 0===e?void 0:e.forceGetIfUrlLengthBelow)&&void 0!==r?r:0,this.directPost=null!==(n=null===e||void 0===e?void 0:e.directPost)&&void 0!==n&&n,this.additionalUrlParams=null!==(i=null===e||void 0===e?void 0:e.additionalUrlParams)&&void 0!==i?i:new URLSearchParams,this.defaultHeaders=null!==(a=null===e||void 0===e?void 0:e.defaultHeaders)&&void 0!==a?a:new Headers,this.fetchCb=null===e||void 0===e?void 0:e.fetch,this.sparqlJsonParser=new c.SparqlJsonParser(e),this.sparqlXmlParser=new l.SparqlXmlParser(e),this.sparqlParsers={[d.CONTENTTYPE_SPARQL_JSON]:{parseBooleanStream:e=>this.sparqlJsonParser.parseJsonBooleanStream(e),parseResultsStream:e=>this.sparqlJsonParser.parseJsonResultsStream(e)},[d.CONTENTTYPE_SPARQL_XML]:{parseBooleanStream:e=>this.sparqlXmlParser.parseXmlBooleanStream(e),parseResultsStream:e=>this.sparqlXmlParser.parseXmlResultsStream(e)}}}getQueryType(e){const t=new s.Parser({sparqlStar:!0}).parse(e);return"query"===t.type?"DESCRIBE"===t.queryType?"CONSTRUCT":t.queryType:"UNKNOWN"}getUpdateTypes(e){const t=new s.Parser({sparqlStar:!0}).parse(e);if("update"===t.type){const e={};for(const r of t.updates)"type"in r?e[r.type]=!0:e[r.updateType]=!0;return e}return"UNKNOWN"}fetchBindings(e,t){return n(this,void 0,void 0,function*(){const[r,n]=yield this.fetchRawStream(e,t,d.CONTENTTYPE_SPARQL),i=this.sparqlParsers[r];if(!i)throw new Error("Unknown SPARQL results content type: ".concat(r));return i.parseResultsStream(n)})}fetchAsk(e,t){return n(this,void 0,void 0,function*(){const[r,n]=yield this.fetchRawStream(e,t,d.CONTENTTYPE_SPARQL),i=this.sparqlParsers[r];if(!i)throw new Error("Unknown SPARQL results content type: ".concat(r));return i.parseBooleanStream(n)})}fetchTriples(e,t){return n(this,void 0,void 0,function*(){const[r,n]=yield this.fetchRawStream(e,t,d.CONTENTTYPE_TURTLE);return n.pipe(new a.StreamParser({format:r}))})}fetchUpdate(e,t){return n(this,void 0,void 0,function*(){const r=new AbortController,n={};this.defaultHeaders.forEach((e,t)=>{n[t]=e});const i={method:"POST",headers:Object.assign(Object.assign({},n),{"content-type":"application/sparql-update"}),body:t,signal:r.signal};yield this.handleFetchCall(e,i,{ignoreBody:!0}),r.abort()})}fetchRawStream(e,t,r){return n(this,void 0,void 0,function*(){let n,i,a;if("POST"===this.method&&this.forceGetIfUrlLengthBelow<=e.length)n=this.method,i=e;else{const r="".concat(e,"?query=").concat(encodeURIComponent(t));n="GET"===this.method||r.length<this.forceGetIfUrlLengthBelow?"GET":"POST",i="POST"===n?e:r}const o=new Headers(this.defaultHeaders);if(o.append("Accept",r),"POST"===n){if(this.directPost)o.append("Content-Type","application/sparql-query"),a=t,this.additionalUrlParams.toString().length>0&&(i+="?".concat(this.additionalUrlParams.toString()));else{o.append("Content-Type","application/x-www-form-urlencoded"),a=new URLSearchParams,a.set("query",t);for(const[e,t]of this.additionalUrlParams.entries())a.set(e,t)}o.append("Content-Length",a.toString().length.toString())}else this.additionalUrlParams.toString().length>0&&(i+="&".concat(this.additionalUrlParams.toString()));return this.handleFetchCall(i,{headers:o,method:n,body:a})})}handleFetchCall(e,t,r){return n(this,void 0,void 0,function*(){var n,a,s;let c,l;if(this.timeout){const e=new AbortController;t.signal=e.signal,c=setTimeout(()=>e.abort(),this.timeout)}const d=yield(null!==(n=this.fetchCb)&&void 0!==n?n:fetch)(e,t);if(clearTimeout(c),!(null===r||void 0===r?void 0:r.ignoreBody)&&d.body&&(l=i(d.body)?d.body:(0,o.readableFromWeb)(d.body)),!d.ok||!l&&!(null===r||void 0===r?void 0:r.ignoreBody)){const t=e.split("?").at(0),r=l?yield u(l):"empty response";throw new Error("Invalid SPARQL endpoint response from ".concat(t," (HTTP status ").concat(d.status,"):\n").concat(r))}return[null!==(s=null===(a=d.headers.get("Content-Type"))||void 0===a?void 0:a.split(";").at(0))&&void 0!==s?s:"",l]})}}t.SparqlEndpointFetcher=d,d.CONTENTTYPE_SPARQL_JSON="application/sparql-results+json",d.CONTENTTYPE_SPARQL_XML="application/sparql-results+xml",d.CONTENTTYPE_TURTLE="text/turtle",d.CONTENTTYPE_SPARQL="".concat(d.CONTENTTYPE_SPARQL_JSON,";q=1.0,").concat(d.CONTENTTYPE_SPARQL_XML,";q=0.7")},51264:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(64638),t),i(r(69017),t),i(r(6673),t),i(r(35639),t),i(r(44865),t),i(r(13462),t)},51272:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AlgebraTransformer=void 0;const n=r(52840),i=r(97824),a=r(85160);class o extends i.TermTransformer{constructor(e,t){super(e.getSafe(n.KeysExpressionEvaluator.superTypeProvider)),this.context=e,this.mediatorFunctionFactory=t}async transformAlgebra(e){const t=a.Algebra.expressionTypes;switch(e.expressionType){case t.TERM:return this.transformTerm(e);case t.OPERATOR:return await this.transformOperator(e);case t.NAMED:return await this.transformNamed(e);case t.EXISTENCE:return o.transformExistence(e);case t.AGGREGATE:return o.transformAggregate(e);case t.WILDCARD:return o.transformWildcard(e)}}static transformWildcard(e){return new i.NamedNode(e.wildcard.value)}async getOperator(e,t){const r=await this.mediatorFunctionFactory.mediate({functionName:e,arguments:t.args,context:this.context}),n=await Promise.all(t.args.map(e=>this.transformAlgebra(e)));if(!r.checkArity(n))throw new i.InvalidArity(n,e);return new i.Operator(e,n,r.apply)}async transformOperator(e){return this.getOperator(e.operator.toLowerCase(),e)}async transformNamed(e){return this.getOperator(e.name.value,e)}static transformAggregate(e){const t=e.aggregator;return new i.Aggregate(t,e)}static transformExistence(e){return new i.Existence(e)}}t.AlgebraTransformer=o},51350:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermAbs=void 0;const i=r(11716),a=r(97824),o=r(45793);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.ABS],termFunction:!0}))}async run(e){return new o.TermFunctionAbs}}t.ActorFunctionFactoryTermAbs=s},51561:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(12835),t),i(r(94373),t),i(r(69924),t)},51657:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorHashBindingsMurmur=void 0;const n=r(73412),i=r(13953),a=r(17860);class o extends n.ActorHashBindings{async test(e){return(0,i.passTestVoid)()}async run(e){return{hashFunction:(e,t)=>{let r=a();for(const a of t){var n,i;r=r.hash(null!==(n=null===(i=e.get(a))||void 0===i?void 0:i.value)&&void 0!==n?n:"UNDEF")}return r.result()}}}}t.ActorHashBindingsMurmur=o},52049:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(13994),t)},52236:(e,t,r)=>{"use strict";var n=r(97643),i=r(12629),a=r(61510),o=n.rotl32,s=n.sum32,c=n.sum32_5,l=a.ft_1,u=i.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;u.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}n.inherits(h,u),e.exports=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=o(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],a=this.h[1],u=this.h[2],h=this.h[3],p=this.h[4];for(n=0;n<r.length;n++){var f=~~(n/20),g=c(o(i,5),l(f,a,u,h),p,r[n],d[f]);p=h,h=u,u=o(a,30),a=i,i=g}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],a),this.h[2]=s(this.h[2],u),this.h[3]=s(this.h[3],h),this.h[4]=s(this.h[4],p)},h.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},52241:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(82773),t),i(r(57125),t),i(r(70808),t),i(r(77226),t)},52263:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNode=void 0;t.BlankNode=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}},52330:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperation=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e)}}t.ActorOptimizeQueryOperation=i},52408:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CONTEXT_KEY_LOGGER=void 0;const n=r(36656);t.CONTEXT_KEY_LOGGER=new n.ActionContextKey("@comunica/core:log")},52460:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(27546),t),i(r(6477),t)},52494:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(71539),t),i(r(42281),t),i(r(23695),t)},52624:(e,t,r)=>{"use strict";t.sha1=r(52236),t.sha224=r(93291),t.sha256=r(83410),t.sha384=r(44282),t.sha512=r(12155)},52744:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorBindingsAggregatorFactoryMin=void 0;const n=r(85830),i=r(13953),a=r(92549);class o extends n.ActorBindingsAggregatorFactory{constructor(e){super(e),this.mediatorTermComparatorFactory=e.mediatorTermComparatorFactory}async test(e){return"min"!==e.expr.aggregator?(0,i.failTest)("This actor only supports the 'min' aggregator."):(0,i.passTestVoid)()}async run(e){let{context:t,expr:r}=e;return new a.MinAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:r.expression,context:t}),r.distinct,await this.mediatorTermComparatorFactory.mediate({context:t}))}}t.ActorBindingsAggregatorFactoryMin=o},52749:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionTimezone=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.TIMEZONE,overloads:(0,i.declare)(i.SparqlOperator.TIMEZONE).onDateTime1(()=>e=>{const t={hours:e.typedValue.zoneHours,minutes:e.typedValue.zoneMinutes};if(void 0===t.hours&&void 0===t.minutes)throw new i.InvalidTimezoneCall(e.str());return new i.DayTimeDurationLiteral(t)}).copy({from:[i.TypeURL.XSD_DATE_TIME],to:[i.TypeURL.XSD_DATE]}).copy({from:[i.TypeURL.XSD_DATE_TIME],to:[i.TypeURL.XSD_TIME]}).collect()})}}t.TermFunctionTimezone=a},52840:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(54542),t)},53117:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermStrBefore=void 0;const i=r(11716),a=r(97824),o=r(47398);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.STRBEFORE],termFunction:!0}))}async run(e){return new o.TermFunctionStrBefore}}t.ActorFunctionFactoryTermStrBefore=s},53344:(e,t,r)=>{var n=r(25172);e.exports=function(e){return new n(e,0)},e.exports.__esModule=!0,e.exports.default=e.exports},53421:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionMinutes=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.MINUTES,overloads:(0,i.declare)(i.SparqlOperator.MINUTES).onDateTime1(()=>e=>(0,i.integer)(e.typedValue.minutes)).set([i.TypeURL.XSD_TIME],()=>e=>{let[t]=e;return(0,i.integer)(t.typedValue.minutes)}).collect()})}}t.TermFunctionMinutes=a},53425:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},53442:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinMinusHash=void 0;const n=r(1140),i=r(13953),a=r(7979),o=r(11745),s=r(82956),c=r(45494);class l extends n.ActorRdfJoin{constructor(e){super(e,{logicalType:"minus",physicalName:"hash-".concat(e.canHandleUndefs?"undef":"def"),limitEntries:2,canHandleUndefs:e.canHandleUndefs})}static constructIndex(e,t){return e?new o.BindingsIndexUndef(t,e=>e&&"Variable"!==e.termType?(0,c.termToString)(e):"",!1):new o.BindingsIndexDef(t,a.bindingsToCompactString)}async getOutput(e){const t=e.entries[1].output,r=e.entries[0].output,i=await n.ActorRdfJoin.getMetadatas(e.entries),a=n.ActorRdfJoin.overlappingVariables(i);if(0===a.length)return t.bindingsStream.destroy(),{result:r};const o=new s.ClosableTransformIterator(async()=>{const e=l.constructIndex(this.canHandleUndefs,a);return await new Promise(r=>{t.bindingsStream.on("data",t=>e.put(t,!0)),t.bindingsStream.on("end",r),t.bindingsStream.on("error",e=>o.emit("error",e))}),r.bindingsStream.filter(t=>!e.getFirst(t,!0))},{autoStart:!1,onClose(){t.bindingsStream.destroy(),r.bindingsStream.destroy()}});return{result:{type:"bindings",bindingsStream:o,metadata:r.metadata}}}async getJoinCoefficients(e,t){const{metadatas:r}=t,a=n.ActorRdfJoin.getRequestInitialTimes(r),o=n.ActorRdfJoin.getRequestItemTimes(r);let s=r[0].cardinality.value+r[1].cardinality.value;return this.canHandleUndefs||(s*=.8),(0,i.passTestWithSideData)({iterations:s,persistedItems:r[0].cardinality.value,blockingItems:r[0].cardinality.value,requestTime:a[0]+r[0].cardinality.value*o[0]+a[1]+r[1].cardinality.value*o[1]},t)}}t.ActorRdfJoinMinusHash=l},53664:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(98533),t)},54039:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperationConstructDistinct=void 0;const n=r(49065),i=r(54542),a=r(13953),o=r(85160);class s extends n.ActorOptimizeQueryOperation{constructor(e){super(e)}async test(e){return e.context.has(i.KeysInitQuery.distinctConstruct)?(0,a.passTestVoid)():(0,a.failTest)("".concat(this.name," was not enabled by the query."))}async run(e){return{operation:o.Util.mapOperation(e.operation,{construct:(e,t)=>({recurse:!1,result:t.createDistinct(t.createConstruct(e.input,e.template))})}),context:e.context.delete(i.KeysInitQuery.distinctConstruct)}}}t.ActorOptimizeQueryOperationConstructDistinct=s},54053:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionObserver=void 0;t.ActionObserver=class{constructor(e){Object.assign(this,e)}}},54343:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.fetchContext=t.fetchJson=void 0;const i=r(99038);function a(e,t){var r;return n(this,void 0,void 0,function*(){const n=null!==(r=null===t||void 0===t?void 0:t.fetch)&&void 0!==r?r:i.fetch;return(yield n(e)).json()})}t.fetchJson=a,t.fetchContext=function(e,t){return n(this,void 0,void 0,function*(){return(yield a(e,t))["@context"]})}},54528:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(16426),t),i(r(90083),t)},54542:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeysStatistics=t.KeysRdfJoin=t.KeysMergeBindingsContext=t.KeysRdfUpdateQuads=t.KeysQuerySourceIdentify=t.KeysRdfParseHtmlScript=t.KeysRdfParseJsonLd=t.KeysQueryOperation=t.KeysExpressionEvaluator=t.KeysInitQuery=t.KeysHttpProxy=t.KeysHttpMemento=t.KeysHttpWayback=t.KeysHttp=t.KeysCore=void 0;const n=r(13953);t.KeysCore={log:n.CONTEXT_KEY_LOGGER},t.KeysHttp={includeCredentials:new n.ActionContextKey("@comunica/bus-http:include-credentials"),auth:new n.ActionContextKey("@comunica/bus-http:auth"),fetch:new n.ActionContextKey("@comunica/bus-http:fetch"),httpTimeout:new n.ActionContextKey("@comunica/bus-http:http-timeout"),httpBodyTimeout:new n.ActionContextKey("@comunica/bus-http:http-body-timeout"),httpRetryCount:new n.ActionContextKey("@comunica/bus-http:http-retry-count"),httpRetryDelayFallback:new n.ActionContextKey("@comunica/bus-http:http-retry-delay-fallback"),httpRetryDelayLimit:new n.ActionContextKey("@comunica/bus-http:http-retry-delay-limit"),httpRetryStatusCodes:new n.ActionContextKey("@comunica/bus-http:http-retry-status-codes")},t.KeysHttpWayback={recoverBrokenLinks:new n.ActionContextKey("@comunica/bus-http:recover-broken-links")},t.KeysHttpMemento={datetime:new n.ActionContextKey("@comunica/actor-http-memento:datetime")},t.KeysHttpProxy={httpProxyHandler:new n.ActionContextKey("@comunica/actor-http-proxy:httpProxyHandler")},t.KeysInitQuery={querySourcesUnidentified:new n.ActionContextKey("@comunica/actor-init-query:querySourcesUnidentified"),initialBindings:new n.ActionContextKey("@comunica/actor-init-query:initialBindings"),queryFormat:new n.ActionContextKey("@comunica/actor-init-query:queryFormat"),graphqlSingularizeVariables:new n.ActionContextKey("@comunica/actor-init-query:singularizeVariables"),lenient:new n.ActionContextKey("@comunica/actor-init-query:lenient"),queryString:new n.ActionContextKey("@comunica/actor-init-query:queryString"),query:new n.ActionContextKey("@comunica/actor-init-query:query"),baseIRI:new n.ActionContextKey("@comunica/actor-init-query:baseIRI"),fileBaseIRI:new n.ActionContextKey("@comunica/actor-init-query:fileBaseIRI"),functionArgumentsCache:new n.ActionContextKey("@comunica/actor-init-query:functionArgumentsCache"),queryTimestamp:new n.ActionContextKey("@comunica/actor-init-query:queryTimestamp"),queryTimestampHighResolution:new n.ActionContextKey("@comunica/actor-init-query:queryTimestampHighResolution"),extensionFunctionCreator:new n.ActionContextKey("@comunica/actor-init-query:extensionFunctionCreator"),extensionFunctions:new n.ActionContextKey("@comunica/actor-init-query:extensionFunctions"),extensionFunctionsAlwaysPushdown:new n.ActionContextKey("@comunica/actor-init-query:extensionFunctionsAlwaysPushdown"),cliArgsHandlers:new n.ActionContextKey("@comunica/actor-init-query:cliArgsHandlers"),explain:new n.ActionContextKey("@comunica/actor-init-query:explain"),physicalQueryPlanLogger:new n.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanLogger"),physicalQueryPlanNode:new n.ActionContextKey("@comunica/actor-init-query:physicalQueryPlanNode"),jsonLdContext:new n.ActionContextKey("@context"),invalidateCache:new n.ActionContextKey("@comunica/actor-init-query:invalidateCache"),dataFactory:new n.ActionContextKey("@comunica/actor-init-query:dataFactory"),distinctConstruct:new n.ActionContextKey("@comunica/actor-init-query:distinctConstruct")},t.KeysExpressionEvaluator={extensionFunctionCreator:new n.ActionContextKey("@comunica/utils-expression-evaluator:extensionFunctionCreator"),superTypeProvider:new n.ActionContextKey("@comunica/utils-expression-evaluator:superTypeProvider"),defaultTimeZone:new n.ActionContextKey("@comunica/utils-expression-evaluator:defaultTimeZone"),actionContext:new n.ActionContextKey("@comunica/utils-expression-evaluator:actionContext")},t.KeysQueryOperation={operation:new n.ActionContextKey("@comunica/bus-query-operation:operation"),joinLeftMetadata:new n.ActionContextKey("@comunica/bus-query-operation:joinLeftMetadata"),joinRightMetadatas:new n.ActionContextKey("@comunica/bus-query-operation:joinRightMetadatas"),joinBindings:new n.ActionContextKey("@comunica/bus-query-operation:joinBindings"),readOnly:new n.ActionContextKey("@comunica/bus-query-operation:readOnly"),isPathArbitraryLengthDistinctKey:new n.ActionContextKey("@comunica/bus-query-operation:isPathArbitraryLengthDistinct"),limitIndicator:new n.ActionContextKey("@comunica/bus-query-operation:limitIndicator"),unionDefaultGraph:new n.ActionContextKey("@comunica/bus-query-operation:unionDefaultGraph"),querySources:new n.ActionContextKey("@comunica/bus-query-operation:querySources")},t.KeysRdfParseJsonLd={documentLoader:new n.ActionContextKey("@comunica/actor-rdf-parse-jsonld:documentLoader"),strictValues:new n.ActionContextKey("@comunica/actor-rdf-parse-jsonld:strictValues"),parserOptions:new n.ActionContextKey("@comunica/actor-rdf-parse-jsonld:parserOptions")},t.KeysRdfParseHtmlScript={processingHtmlScript:new n.ActionContextKey("@comunica/actor-rdf-parse-html-script:processingHtmlScript"),extractAllScripts:new n.ActionContextKey("extractAllScripts")},t.KeysQuerySourceIdentify={sourceIds:new n.ActionContextKey("@comunica/bus-query-source-identify:sourceIds"),hypermediaSourcesAggregatedStores:new n.ActionContextKey("@comunica/bus-query-source-identify:hypermediaSourcesAggregatedStores"),traverse:new n.ActionContextKey("@comunica/bus-query-source-identify:traverse")},t.KeysRdfUpdateQuads={destination:new n.ActionContextKey("@comunica/bus-rdf-update-quads:destination")},t.KeysMergeBindingsContext={sourcesBinding:new n.ActionContextKey("@comunica/bus-merge-bindings-context:sourcesBinding")},t.KeysRdfJoin={lastPhysicalJoin:new n.ActionContextKey("@comunica/bus-rdf-join:lastPhysicalJoin")},t.KeysStatistics={discoveredLinks:new n.ActionContextKey("@comunica/statistic:discoveredLinks"),dereferencedLinks:new n.ActionContextKey("@comunica/statistic:dereferencedLinks"),intermediateResults:new n.ActionContextKey("@comunica/statistic:intermediateResults")}},54582:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermXsdToDate=void 0;const i=r(11716),a=r(97824),o=r(98169);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.TypeURL.XSD_DATE],termFunction:!0}))}async run(e){return new o.TermFunctionXsdToDate}}t.ActorFunctionFactoryTermXsdToDate=s},54762:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BusIndexed=void 0;const n=r(70923);class i extends n.Bus{constructor(e){super(e),this.actorsIndex={}}subscribe(e){var t;const r=null!==(t=this.getActorIdentifiers(e))&&void 0!==t?t:["_undefined_"];for(const n of r){let t=this.actorsIndex[n];t||(t=this.actorsIndex[n]=[]),t.push(e),super.subscribe(e)}}unsubscribe(e){var t;const r=null!==(t=this.getActorIdentifiers(e))&&void 0!==t?t:["_undefined_"];let n=!1;for(const i of r){const t=this.actorsIndex[i];if(t){const r=t.indexOf(e);r>=0&&t.splice(r,1),0===t.length&&delete this.actorsIndex[i]}n=n||super.unsubscribe(e)}return n}publish(e){const t=this.getActionIdentifier(e);if(t){return[...this.actorsIndex[t]||[],...this.actorsIndex._undefined_||[]].map(t=>({actor:t,reply:t.test(e)}))}return super.publish(e)}getActorIdentifiers(e){const t=this.actorIdentifierFields.reduce((e,t)=>e[t],e);if(t)return Array.isArray(t)?t:[t]}getActionIdentifier(e){return this.actionIdentifierFields.reduce((e,t)=>e[t],e)}}t.BusIndexed=i},54893:e=>{e.exports=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r},e.exports.__esModule=!0,e.exports.default=e.exports},54983:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataFactory=void 0;const n=r(52263),i=r(14170),a=r(68598),o=r(656),s=r(18310),c=r(41837);let l=0;t.DataFactory=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||"df_".concat(l++,"_")}namedNode(e){return new o.NamedNode(e)}blankNode(e){return new n.BlankNode(e||"".concat(this.blankNodePrefix).concat(this.blankNodeCounter++))}literal(e,t){return new a.Literal(e,t)}variable(e){return new c.Variable(e)}defaultGraph(){return i.DefaultGraph.INSTANCE}quad(e,t,r,n){return new s.Quad(e,t,r,n||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(a.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},55065:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Literal=void 0;const n=r(21123);class i{constructor(e,t){this.termType="Literal",this.value=e,"string"===typeof t?(this.language=t,this.datatype=i.RDF_LANGUAGE_STRING,this.direction=""):t?"termType"in t?(this.language="",this.datatype=t,this.direction=""):(this.language=t.language,this.datatype=t.direction?i.RDF_DIRECTIONAL_LANGUAGE_STRING:i.RDF_LANGUAGE_STRING,this.direction=t.direction||""):(this.language="",this.datatype=i.XSD_STRING,this.direction="")}equals(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&(e.direction===this.direction||!e.direction&&""===this.direction)&&this.datatype.equals(e.datatype)}}t.Literal=i,i.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.RDF_DIRECTIONAL_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),i.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string")},55105:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationNop=void 0;const n=r(52241),i=r(52840),a=r(13953),o=r(7979),s=r(66179),c=r(72758);class l extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"nop")}async testOperation(e,t){return(0,a.passTestVoid)()}async runOperation(e,t){const r=t.getSafe(i.KeysInitQuery.dataFactory),n=await o.BindingsFactory.create(this.mediatorMergeBindingsContext,t,r);return{bindingsStream:new c.SingletonIterator(n.bindings()),metadata:()=>Promise.resolve({state:new s.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]}),type:"bindings"}}}t.ActorQueryOperationNop=l},55394:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.bindingsStreamToGraphQl=void 0;const a=r(68762),{bindingsStreamToGraphQl:o}=a.ActorQueryResultSerializeTree;t.bindingsStreamToGraphQl=o,i(r(68762),t)},55477:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringQuadToQuad=t.quadToStringQuad=t.stringToTerm=t.getLiteralLanguage=t.getLiteralType=t.getLiteralValue=t.termToString=void 0;const n=new(r(92832).DataFactory);function i(e){if(e)switch(e.termType){case"NamedNode":return"<".concat(e.value.replace(l,d),">");case"BlankNode":return"_:".concat(e.value);case"Literal":{const t=e;return'"'.concat(function(e){l.test(e)&&(e=e.replace(l,d));return e}(t.value),'"').concat(t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==t.datatype.value?"^^<".concat(t.datatype.value,">"):"").concat(t.language?"@".concat(t.language):"")}case"Quad":return"<<".concat(i(e.subject)," ").concat(i(e.predicate)," ").concat(i(e.object)).concat("DefaultGraph"===e.graph.termType?"":" ".concat(i(e.graph)),">>");case"Variable":return"?".concat(e.value);case"DefaultGraph":return e.value}}function a(e){const t=/^"((?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)"((\^\^(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)|(@(?:[\0-\t\x0B\f\x0E-\u2027\u202A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*))?$/.exec(e);if(!t)throw new Error("".concat(e," is not a literal"));return t[1].replace(/\\"/g,'"')}function o(e){const t=/^"(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*"(?:\^\^<((?:[\0-!#-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)>|(@)(?:[\0-!#-\?A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)?$/.exec(e);if(!t)throw new Error("".concat(e," is not a literal"));return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function s(e){const t=/^"(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*"(?:@((?:[\0-!#-\?A-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)|\^\^(?:[\0-!#-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)?$/.exec(e);if(!t)throw new Error("".concat(e," is not a literal"));return t[1]?t[1].toLowerCase():""}function c(e,t){if(t=t||n,!e||0===e.length)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.slice(2));case"?":if(!t.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return t.variable(e.slice(1));case'"':{const r=s(e),n=t.namedNode(o(e));return t.literal(a(e),r||n)}default:if(e.startsWith("<<")&&e.endsWith(">>")){const r=e.slice(2,-2),n=[];let i=0,a=0;for(let t=0;t<r.length;t++){const o=r[t];if("<"===o&&i++,">"===o){if(0===i)throw new Error("Found closing tag without opening tag in ".concat(e));i--}" "===o&&0===i&&(n.push(r.slice(a,t)),a=t+1)}if(0!==i)throw new Error("Found opening tag without closing tag in ".concat(e));if(n.push(r.slice(a,r.length)),3!==n.length&&4!==n.length)throw new Error("Nested quad syntax error ".concat(e));return t.quad(c(n[0]),c(n[1]),c(n[2]),n[3]?c(n[3]):void 0)}if(!e.startsWith("<")||!e.endsWith(">"))throw new Error("Detected invalid iri for named node (must be wrapped in <>): ".concat(e));return t.namedNode(e.slice(1,-1))}}t.termToString=i,t.getLiteralValue=a,t.getLiteralType=o,t.getLiteralLanguage=s,t.stringToTerm=c,t.quadToStringQuad=function(e){return{subject:i(e.subject),predicate:i(e.predicate),object:i(e.object),graph:i(e.graph)}},t.stringQuadToQuad=function(e,t){return(t=t||n).quad(c(e.subject,t),c(e.predicate,t),c(e.object,t),c(e.graph,t))};const l=/["\\\t\n\r\b\f\u0000-\u0019]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,u=new Map([["\\","\\\\"],['"','\\"'],["\t","\\t"],["\n","\\n"],["\r","\\r"],["\b","\\b"],["\f","\\f"]]);function d(e){const t=u.get(e);if(!t){if(1===e.length){const t=e.charCodeAt(0).toString(16);return"".concat("\\u0000".slice(0,-t.length)).concat(t)}const t=(1024*(e.charCodeAt(0)-55296)+e.charCodeAt(1)+9216).toString(16);return"".concat("\\U00000000".slice(0,-t.length)).concat(t)}return t}},55852:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GroupConcatAggregator=void 0;const n=r(85830),i=r(97824);class a extends n.AggregateEvaluator{constructor(e,t,r,n,i){super(e,t,i),this.dataFactory=r,this.state=void 0,this.lastLanguageValid=!0,this.lastLanguage=void 0,this.separator=null!==n&&void 0!==n?n:" "}emptyValueTerm(){return i.typedLiteral("",i.TypeURL.XSD_STRING)}putTerm(e){void 0===this.state?(this.state=e.value,"Literal"===e.termType&&(this.lastLanguage=e.language)):(this.state+=this.separator+e.value,this.lastLanguageValid&&"Literal"===e.termType&&this.lastLanguage!==e.language&&(this.lastLanguageValid=!1,this.lastLanguage=void 0))}termResult(){return void 0===this.state?this.emptyValue():this.lastLanguageValid&&this.lastLanguage?i.langString(this.state,this.lastLanguage).toRDF(this.dataFactory):i.typedLiteral(this.state,i.TypeURL.XSD_STRING)}}t.GroupConcatAggregator=a},55888:(e,t,r)=>{var n=r(39450);e.exports=function(e,t,r){"function"===typeof t&&(r=t,t=null);var i="",a=new n(function(r,n){e.on("data",function(e){i+="string"===typeof t?e.toString(t):e.toString()}),e.on("end",function(){r(i)}),e.on("error",n)});return r&&a.then(function(e){r(null,e)},r),a}},55923:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.removeOperationSource=t.assignOperationSource=t.getOperationSource=t.testReadOnly=t.validateQueryOutput=t.getSafeVoid=t.getSafeBoolean=t.getSafeQuads=t.getSafeBindings=void 0;const i=r(52840),a=r(13953);function o(e,t){if(e.type!==t)throw new Error("Invalid query output type: Expected '".concat(t,"' but got '").concat(e.type,"'"))}t.getSafeBindings=function(e){return o(e,"bindings"),e},t.getSafeQuads=function(e){return o(e,"quads"),e},t.getSafeBoolean=function(e){return o(e,"boolean"),e},t.getSafeVoid=function(e){return o(e,"void"),e},t.validateQueryOutput=o,t.testReadOnly=function(e){return e.get(i.KeysQueryOperation.readOnly)?(0,a.failTest)("Attempted a write operation in read-only mode"):(0,a.passTestVoid)()},t.getOperationSource=function(e){var t;return null===(t=e.metadata)||void 0===t?void 0:t.scopedSource},t.assignOperationSource=function(e,t){return(e=n({},e)).metadata=e.metadata?n({},e.metadata):{},e.metadata.scopedSource=t,e},t.removeOperationSource=function(e){var t;null===(t=e.metadata)||void 0===t||delete t.scopedSource,e.metadata&&0===Object.keys(e.metadata).length&&delete e.metadata}},55927:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionSha512=void 0;const n=r(11716),i=r(97824),a=r(73697);class o extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.SHA512,overloads:(0,i.declare)(i.SparqlOperator.SHA512).onString1Typed(()=>e=>(0,i.string)((0,a.sha512)().update(e).digest("hex"))).collect()})}}t.TermFunctionSha512=o},56128:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;const n=r(59202);class i{static termToValue(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{compactIds:!1,useNativeTypes:!1};switch(e.termType){case"NamedNode":const o=t.compactIri(e.value,r.vocab);return r.compactIds?o:{"@id":o};case"DefaultGraph":return r.compactIds?e.value:{"@id":e.value};case"BlankNode":const s="_:".concat(e.value);return r.compactIds?s:{"@id":s};case"Literal":if(e.datatype.value===i.RDF_JSON){let t;try{t=JSON.parse(e.value)}catch(a){throw new n.ErrorCoded("Invalid JSON literal: "+a.message,n.ERROR_CODES.INVALID_JSON_LITERAL)}return{"@value":t,"@type":"@json"}}if("i18n-datatype"===r.rdfDirection&&e.datatype.value.startsWith(i.I18N)){const[t,r]=e.datatype.value.substr(i.I18N.length,e.datatype.value.length).split("_");return Object.assign(Object.assign({"@value":e.value},t?{"@language":t}:{}),r?{"@direction":r}:{})}const c=e.datatype.value===i.XSD_STRING,l={"@value":!c&&r.useNativeTypes?i.stringToNativeType(e.value,e.datatype.value):e.value};return e.language?Object.assign(Object.assign({},l),{"@language":e.language}):c||"string"!==typeof l["@value"]?l:Object.assign(Object.assign({},l),{"@type":e.datatype.value})}}static stringToNativeType(e,t){if(t.startsWith(i.XSD)){switch(t.substr(i.XSD.length)){case"boolean":if("true"===e)return!0;if("false"===e)return!1;throw new Error("Invalid xsd:boolean value '".concat(e,"'"));case"integer":case"number":case"int":case"byte":case"long":const t=parseInt(e,10);if(isNaN(t))throw new Error("Invalid xsd:integer value '".concat(e,"'"));return t;case"float":case"double":const r=parseFloat(e);if(isNaN(r))throw new Error("Invalid xsd:float value '".concat(e,"'"));return r}}return e}}t.Util=i,i.XSD="http://www.w3.org/2001/XMLSchema#",i.XSD_STRING=i.XSD+"string",i.RDF="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i.RDF_TYPE=i.RDF+"type",i.RDF_JSON=i.RDF+"JSON",i.I18N="https://www.w3.org/ns/i18n#"},56170:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},56186:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(83399),t)},56217:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationUnion=void 0;const i=r(52241),a=r(13953),o=r(66179),s=r(89266),c=r(72758);class l extends i.ActorQueryOperationTypedMediated{constructor(e){super(e,"union")}static unionVariables(e){const t={};for(const r of e)for(const e of r){t[e.variable.value]||(t[e.variable.value]={variable:e.variable,canBeUndef:e.canBeUndef,occurrences:0});const r=t[e.variable.value];r.canBeUndef=r.canBeUndef||e.canBeUndef,r.occurrences++}return Object.values(t).map(t=>t.occurrences===e.length?{variable:t.variable,canBeUndef:t.canBeUndef}:{variable:t.variable,canBeUndef:!0})}static async unionMetadata(e,t,r,i){let a=(await i.mediate({mode:"initialize",context:r})).metadata;for(const o of e)a=n(n({},o),(await i.mediate({mode:"append",accumulatedMetadata:a,appendingMetadata:o,context:r})).metadata);a.state=new o.MetadataValidationState;const s=()=>a.state.invalidate();for(const n of e)n.state.addInvalidateListener(s);if(t){const t=e.map(e=>e.variables);a.variables=l.unionVariables(t)}return a}async testOperation(e,t){return(0,a.passTestVoid)()}async runOperation(e,t){const r=await Promise.all(e.input.map(e=>this.mediatorQueryOperation.mediate({operation:e,context:t})));let n;for(const i of r)if(void 0===n)n=i.type;else if(n!==i.type)throw new Error("Unable to union ".concat(n," and ").concat(i.type));if("bindings"===n||0===e.input.length){const e=r.map(s.getSafeBindings);return{type:"bindings",bindingsStream:new c.UnionIterator(e.map(e=>e.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(e.map(e=>e.metadata())).then(e=>l.unionMetadata(e,!0,t,this.mediatorRdfMetadataAccumulate))}}if("quads"===n){const e=r.map(s.getSafeQuads);return{type:"quads",quadStream:new c.UnionIterator(e.map(e=>e.quadStream),{autoStart:!1}),metadata:()=>Promise.all(e.map(e=>e.metadata())).then(e=>l.unionMetadata(e,!1,t,this.mediatorRdfMetadataAccumulate))}}throw new Error("Unable to union ".concat(n))}}t.ActorQueryOperationUnion=l},56329:e=>{"function"===typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}},56417:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(66246),t)},56518:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationUpdateDeleteInsert=void 0;const n=r(81726),i=r(52241),a=r(52840),o=r(7979),s=r(89266),c=r(72758);class l extends i.ActorQueryOperationTypedMediated{constructor(e){super(e,"deleteinsert"),this.blankNodeCounter=0}async testOperation(e,t){return(0,s.testReadOnly)(t)}async runOperation(e,t){const r=t.getSafe(a.KeysInitQuery.dataFactory),i=await o.BindingsFactory.create(this.mediatorMergeBindingsContext,t,r),l=e.where?(0,s.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:e.where,context:t})).bindingsStream:new c.ArrayIterator([i.bindings()],{autoStart:!1});let u,d;e.insert&&(u=new n.BindingsToQuadsIterator(r,e.insert.map(n.BindingsToQuadsIterator.localizeQuad.bind(null,r,this.blankNodeCounter)),l.clone()),this.blankNodeCounter++),e.delete&&(d=new n.BindingsToQuadsIterator(r,e.delete.map(n.BindingsToQuadsIterator.localizeQuad.bind(null,r,this.blankNodeCounter)),l.clone()),this.blankNodeCounter++);const{execute:h}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:u,quadStreamDelete:d,context:t});return{type:"void",execute:h}}}t.ActorQueryOperationUpdateDeleteInsert=l},56691:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(67877),t)},56729:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.bindingsToCompactString=t.bindingsToString=void 0;const n=r(45494);t.bindingsToString=function(e){const t={};for(const r of e.keys())t[r.value]=(0,n.termToString)(e.get(r));return JSON.stringify(t,null,"  ")},t.bindingsToCompactString=function(e,t){return t.map(t=>{const r=e.get(t);return r?(0,n.termToString)(r):""}).join("")}},56758:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathZeroOrMore=void 0;const i=r(56840),a=r(52840),o=r(7979),s=r(89266),c=r(72758),l=r(45494),u=r(85160);class d extends i.ActorAbstractPath{constructor(e){super(e,u.Algebra.types.ZERO_OR_MORE_PATH)}async runOperation(e,t){const r=t.getSafe(a.KeysInitQuery.dataFactory),i=new u.Factory(r),d=await o.BindingsFactory.create(this.mediatorMergeBindingsContext,t,r),h=await this.isPathArbitraryLengthDistinct(i,t,e);if(h.operation)return h.operation;t=h.context;const p=e.predicate,f=this.getPathSources(p),g="Variable"===e.subject.termType,y="Variable"===e.object.termType;if("Variable"===e.subject.termType&&"Variable"===e.object.termType){const a=this.generateVariable(r,e),o=this.assignPatternSources(i,i.createPattern(e.subject,a,e.object,e.graph),f),u=(0,s.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:t,operation:o})),h=e.subject,g=e.object,y=new Set,m={},v=new c.MultiTransformIterator(u.bindingsStream,{multiTransform:r=>{const n=r.get(h),a=r.get(g),o="Variable"===e.graph.termType?r.get(e.graph):e.graph,s=(0,l.termToString)(n)+(0,l.termToString)(o),u=(0,l.termToString)(a)+(0,l.termToString)(o);return new c.TransformIterator(async()=>{if(y.has(s)&&y.has(u))return new c.EmptyIterator;const r=new c.BufferedIterator,l={count:0};return y.has(s)||(y.add(s),await this.getSubjectAndObjectBindingsPredicateStar(h,g,n,n,p.path,o,t,m,{},r,l,i,d)),y.has(u)||(y.add(u),await this.getSubjectAndObjectBindingsPredicateStar(h,g,a,a,p.path,o,t,m,{},r,l,i,d)),r.map(t=>("Variable"===e.graph.termType&&(t=t.set(e.graph,o)),t))},{autoStart:!1,maxBufferSize:128})},autoStart:!1}),b=("Variable"===e.graph.termType?[h,e.object,e.graph]:[h,e.object]).map(e=>({variable:e,canBeUndef:!1}));return{type:"bindings",bindingsStream:v,metadata:async()=>n(n({},await u.metadata()),{},{variables:b})}}if(!g&&!y){const a=this.generateVariable(r),o=await this.getObjectsPredicateStarEval(e.subject,p.path,a,e.graph,t,!0,i,d);return{type:"bindings",bindingsStream:o.bindingsStream.map(t=>e.object.equals(t.get(a))?"Variable"===e.graph.termType?d.bindings([[e.graph,t.get(e.graph)]]):d.bindings():null),metadata:async()=>n(n({},await o.metadata()),{},{variables:("Variable"===e.graph.termType?[e.graph]:[]).map(e=>({variable:e,canBeUndef:!1}))})}}const m=g?e.object:e.subject,v=g?e.subject:e.object,b=g?i.createInv(p.path):p.path,_=await this.getObjectsPredicateStarEval(m,b,v,e.graph,t,!0,i,d),w=("Variable"===e.graph.termType?[v,e.graph]:[v]).map(e=>({variable:e,canBeUndef:!1}));return{type:"bindings",bindingsStream:_.bindingsStream,metadata:async()=>n(n({},await _.metadata()),{},{variables:w})}}}t.ActorQueryOperationPathZeroOrMore=d},56840:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(32300),t),i(r(59208),t)},56931:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermStrAfter=void 0;const i=r(11716),a=r(97824),o=r(33446);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.STRAFTER],termFunction:!0}))}async run(e){return new o.TermFunctionStrAfter}}t.ActorFunctionFactoryTermStrAfter=s},57019:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(95145),t)},57062:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},57078:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(82421),t),i(r(41398),t)},57103:(e,t,r)=>{"use strict";r.d(t,{A:()=>o});const n="http://www.w3.org/1999/02/22-rdf-syntax-ns#",i="http://www.w3.org/2001/XMLSchema#",a="http://www.w3.org/2000/10/swap/",o={xsd:{decimal:"".concat(i,"decimal"),boolean:"".concat(i,"boolean"),double:"".concat(i,"double"),integer:"".concat(i,"integer"),string:"".concat(i,"string")},rdf:{type:"".concat(n,"type"),nil:"".concat(n,"nil"),first:"".concat(n,"first"),rest:"".concat(n,"rest"),langString:"".concat(n,"langString")},owl:{sameAs:"http://www.w3.org/2002/07/owl#sameAs"},r:{forSome:"".concat(a,"reify#forSome"),forAll:"".concat(a,"reify#forAll")},log:{implies:"".concat(a,"log#implies"),isImpliedBy:"".concat(a,"log#isImpliedBy")}}},57125:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationTyped=void 0;const i=r(52840),a=r(13953),o=r(66179),s=r(82773);class c extends s.ActorQueryOperation{constructor(e,t){if(super(n(n({},e),{},{operationName:t})),!this.operationName)throw new Error('A valid "operationName" argument must be provided.')}async test(e){if(!e.operation)return(0,a.failTest)("Missing field 'operation' in a query operation action.");if(e.operation.type!==this.operationName)return(0,a.failTest)("Actor ".concat(this.name," only supports ").concat(this.operationName," operations, but got ").concat(e.operation.type));const t=e.operation;return this.testOperation(t,e.context)}async run(e,t){const r=e.context.get(i.KeysInitQuery.physicalQueryPlanLogger);r&&(r.logOperation(e.operation.type,void 0,e.operation,e.context.get(i.KeysInitQuery.physicalQueryPlanNode),this.name,{}),e.context=e.context.set(i.KeysInitQuery.physicalQueryPlanNode,e.operation));const n=e.operation,a=e.context.set(i.KeysQueryOperation.operation,n),s=await this.runOperation(n,a,t);return"metadata"in s&&(s.metadata=(0,o.cachifyMetadata)(s.metadata)),s}}t.ActorQueryOperationTyped=c},57251:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionDatatype=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.DATATYPE,overloads:(0,i.declare)(i.SparqlOperator.DATATYPE).onLiteral1(()=>e=>new i.NamedNode(e.dataType)).collect()})}}t.TermFunctionDatatype=a},57331:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Logger=void 0;class r{static getLevelOrdinal(e){return r.LEVELS[e]}}t.Logger=r,r.LEVELS={trace:0,debug:1,info:2,warn:3,error:4,fatal:5}},57527:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(77350),t)},57537:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeValueHandlerList=void 0;const n=r(71506);class i extends n.NodeValueHandlerAdapter{constructor(e,t){super("ListValue",e,t),this.nodeFirst=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),this.nodeRest=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),this.nodeNil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(e,t,r){const n=[];let i=[];for(const a of e.values){const e=this.util.handleNodeValue(a,t,r);for(const t of e.terms)n.push(t);e.auxiliaryPatterns&&(i=i.concat(e.auxiliaryPatterns))}if(this.settings.arraysToRdfLists){const e=this.util.dataFactory.blankNode();let t=e,a=n.length;for(const o of n){i.push(this.util.operationFactory.createPattern(t,this.nodeFirst,o,r.graph));const e=0===--a?this.nodeNil:this.util.dataFactory.blankNode();i.push(this.util.operationFactory.createPattern(t,this.nodeRest,e,r.graph)),t=e}return{terms:[e],auxiliaryPatterns:i}}return{terms:n,auxiliaryPatterns:i}}}t.NodeValueHandlerList=i},57614:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNode=void 0;t.BlankNode=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}},57655:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralLanguage=void 0;const n=r(55477);Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return n.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return n.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return n.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return n.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return n.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return n.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return n.termToString}})},57736:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},57834:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermFloor=void 0;const i=r(11716),a=r(97824),o=r(17949);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.FLOOR],termFunction:!0}))}async run(e){return new o.TermFunctionFloor}}t.ActorFunctionFactoryTermFloor=s},58400:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionStrLen=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.STRLEN,overloads:(0,i.declare)(i.SparqlOperator.STRLEN).onStringly1(()=>e=>(0,i.integer)([...e.typedValue].length)).collect()})}}t.TermFunctionStrLen=a},58441:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalEvaluator=void 0;const n=r(52840),i=r(90355),a=r(97824),o=r(89266),s=r(85160),c=r(51272);t.InternalEvaluator=class{constructor(e,t,r,n){this.context=e,this.mediatorQueryOperation=r,this.bindingsFactory=n,this.subEvaluators={[i.ExpressionType.Term]:(e,t)=>this.term(e),[i.ExpressionType.Variable]:(e,t)=>this.variable(e,t),[i.ExpressionType.Operator]:(e,t)=>this.evalFunction(e,t),[i.ExpressionType.Existence]:(e,t)=>this.evalExistence(e,t),[i.ExpressionType.Aggregate]:(e,t)=>this.evalAggregate()},this.transformer=new c.AlgebraTransformer(e,t)}async evaluatorExpressionEvaluation(e,t){return this.subEvaluators[e.expressionType].bind(this)(e,t)}term(e){return e}variable(e,t){const r=t.get(a.expressionToVar(this.context.getSafe(n.KeysInitQuery.dataFactory),e));if(!r)throw new a.UnboundVariableError(e.name,t);return this.transformer.transformRDFTermUnsafe(r)}async evalFunction(e,t){return e.apply({args:e.args,mapping:t,exprEval:this})}async evalExistence(e,t){const r=this.context.getSafe(n.KeysInitQuery.dataFactory),i=new s.Factory(r),c=(0,o.materializeOperation)(e.expression.input,t,i,this.bindingsFactory),l=await this.mediatorQueryOperation.mediate({operation:c,context:this.context}),u=(0,o.getSafeBindings)(l);return await new Promise((e,t)=>{u.bindingsStream.on("end",()=>{e(!1)}),u.bindingsStream.on("error",t),u.bindingsStream.on("data",()=>{u.bindingsStream.close(),e(!0)})}).then(t=>e.expression.not?!t:t).then(e=>new a.BooleanLiteral(e))}evalAggregate(){throw new a.NoAggregator}}},58472:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinSymmetricHash=void 0;const n=r(1140),i=r(13953),a=r(66492);class o extends n.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"symmetric-hash",limitEntries:2,requiresVariableOverlap:!0})}async getOutput(e){const t=await n.ActorRdfJoin.getMetadatas(e.entries),r=n.ActorRdfJoin.overlappingVariables(t),{hashFunction:i}=await this.mediatorHashBindings.mediate({context:e.context}),o=r.map(e=>e.variable);return{result:{type:"bindings",bindingsStream:new a.SymmetricHashJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,e=>i(e,o),n.ActorRdfJoin.joinBindings),metadata:async()=>await this.constructResultMetadata(e.entries,t,e.context)}}}async getJoinCoefficients(e,t){const{metadatas:r}=t,a=n.ActorRdfJoin.getRequestInitialTimes(r),o=n.ActorRdfJoin.getRequestItemTimes(r);return(0,i.passTestWithSideData)({iterations:r[0].cardinality.value+r[1].cardinality.value,persistedItems:r[0].cardinality.value+r[1].cardinality.value,blockingItems:0,requestTime:a[0]+r[0].cardinality.value*o[0]+a[1]+r[1].cardinality.value*o[1]},t)}}t.ActorRdfJoinSymmetricHash=o},58801:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;const n=r(92832),i=r(22423),a=r(85160);t.Util=class{constructor(e){this.nodeHandlers={},this.nodeValueHandlers={},this.directiveNodeHandlers={},this.settings=e,this.dataFactory=e.dataFactory||new n.DataFactory,this.operationFactory=new a.Factory(this.dataFactory),this.contextParser=new i.ContextParser}registerNodeHandler(e){this.nodeHandlers[e.targetKind]=e}registerNodeValueHandler(e){this.nodeValueHandlers[e.targetKind]=e}registerDirectiveNodeHandler(e){this.directiveNodeHandlers[e.targetKind]=e}handleNode(e,t){const r=this.nodeHandlers[e.kind];if(!r)throw new Error("Unsupported GraphQL node '".concat(e.kind,"'"));return r.handle(e,t)}handleNodeValue(e,t,r){const n=this.nodeValueHandlers[e.kind];if(!n)throw new Error("Unsupported GraphQL value node '".concat(e.kind,"'"));return n.handle(e,t,r)}handleDirectiveNode(e,t){const r=this.directiveNodeHandlers[e.directive.name.value];return r?r.handle(e,t):null}joinOperations(e){if(1===e.length)return e[0];const t=[],r=[];for(const n of e)"bgp"===n.type?t.push(n):r.push(n);if(t.length===e.length)return this.joinOperationsAsBgp(t);if(t.length===e.length-1&&"leftjoin"===r[0].type&&"bgp"===r[0].input[0].type){const e=r[0];return t.push(e.input[0]),this.operationFactory.createLeftJoin(this.joinOperationsAsBgp(t),e.input[1])}return r.length===e.length?this.joinOperationsAsNestedJoin(r):this.joinOperationsAsNestedJoin([this.joinOperationsAsBgp(t),this.joinOperationsAsNestedJoin(r)])}joinOperationsAsBgp(e){return this.operationFactory.createBgp([].concat.apply([],e.map(e=>e.patterns)))}joinOperationsAsNestedJoin(e){return this.operationFactory.createJoin(e)}appendFieldToPath(e,t){return e.concat([t])}getFieldLabel(e){return(e.alias?e.alias:e.name).value}nameToVariable(e,t){return this.dataFactory.variable((t.path.length?t.path.join(this.settings.variableDelimiter)+this.settings.variableDelimiter:"")+e)}valueToNamedNode(e,t){const r=t.expandTerm(e,!0);if(this.settings.requireContext&&!r)throw new Error("No context entry was found for "+e);return this.dataFactory.namedNode(r||e)}getArgument(e,t){if(e)for(const r of e)if(r.name.value===t)return r}newTypePattern(e,t,r){return this.operationFactory.createPattern(e,this.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.valueToNamedNode(t.name.value,r.context),r.graph)}createQuadPattern(e,t,r,n,i){const a=this.valueToNamedNode(t.value,i);return i&&i.getContextRaw()[t.value]&&i.getContextRaw()[t.value]["@reverse"]?this.operationFactory.createPattern(r,a,e,n):this.operationFactory.createPattern(e,a,r,n)}createQuadPath(e,t,r,n,i,a){const o=this.valueToNamedNode(t.value,a);let s=this.operationFactory.createLink(o);for(const c of r.values){if("EnumValue"!==c.kind)throw new Error("Invalid value type for 'alt' argument, must be EnumValue, but got "+c.kind);s=this.operationFactory.createAlt([s,this.operationFactory.createLink(this.valueToNamedNode(c.value,a))])}return a&&a.getContextRaw()[t.value]&&a.getContextRaw()[t.value]["@reverse"]?this.operationFactory.createPath(n,s,e,i):this.operationFactory.createPath(e,s,n,i)}}},58987:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(33501),t)},59124:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0;const n=r(95340),i=r(18667);var a=r(18667);function o(e,t,r,a){return(0,i.default)(80,n.default,e,t,r,a)}Object.defineProperty(t,"DNS",{enumerable:!0,get:function(){return a.DNS}}),Object.defineProperty(t,"URL",{enumerable:!0,get:function(){return a.URL}}),o.DNS=i.DNS,o.URL=i.URL,t.default=o},59202:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(15298),t),i(r(20489),t),i(r(1400),t),i(r(77315),t),i(r(40467),t),i(r(34914),t),i(r(98280),t)},59208:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PathVariableObjectIterator=void 0;const n=r(89266),i=r(72758),a=r(45494);class o extends i.BufferedIterator{constructor(e,t,r,n,i,a,o){let s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:16;super({autoStart:!1}),this.algebraFactory=e,this.subject=t,this.predicate=r,this.graph=n,this.context=i,this.mediatorQueryOperation=a,this.maxRunningOperations=s,this.termHashes=new Map,this.runningOperations=[],this.pendingOperations=[],this.started=!1,this._push(this.subject,o)}getProperty(e,t){return this.started||"metadata"!==e||this.startNextOperation(!1).catch(e=>this.emit("error",e)),super.getProperty(e,t)}_end(e){for(const t of this.runningOperations)t.destroy();super._end(e)}_push(e){let t;if((!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(t=(0,a.termToString)(e),this.termHashes.has(t)))return!1;const r=this.algebraFactory.dataFactory.variable("b");return this.pendingOperations.push({variable:r,operation:this.algebraFactory.createPath(e,this.predicate,r,this.graph)}),t&&(this.termHashes.set(t,e),super._push(e)),!0}async startNextOperation(e){this.started=!0;const t=this.pendingOperations.pop(),r=(0,n.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:t.operation,context:this.context})),i=r.bindingsStream.map(e=>e.get(t.variable));i.done||(this.runningOperations.push(i),i.on("error",e=>this.destroy(e)),i.on("readable",()=>{e&&this._fillBufferAsync(),this.readable=!0}),i.on("end",()=>{this.runningOperations.splice(this.runningOperations.indexOf(i),1),e&&this._fillBufferAsync(),this.readable=!0})),this.getProperty("metadata")||this.setProperty("metadata",r.metadata)}_read(e,t){const r=this;(async function(){for(;r.runningOperations.length<r.maxRunningOperations&&0!==r.pendingOperations.length;)await r.startNextOperation(!0);let t,n=0,i=!0;for(;!i||n!==(n=e);){i=!0;for(let n=0;n<r.runningOperations.length&&e>0;n++)null!==(t=r.runningOperations[n].read())&&(r._push(t)?e--:i=!1)}r.closeIfNeeded()})().then(()=>{t()},e=>this.destroy(e))}closeIfNeeded(){0===this.runningOperations.length&&0===this.pendingOperations.length&&this.close()}}t.PathVariableObjectIterator=o},59347:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=t.stringToTerm=t.stringQuadToQuad=t.quadToStringQuad=t.getLiteralValue=t.getLiteralType=t.getLiteralDirection=t.getLiteralLanguage=void 0;const n=r(80705);Object.defineProperty(t,"getLiteralLanguage",{enumerable:!0,get:function(){return n.getLiteralLanguage}}),Object.defineProperty(t,"getLiteralDirection",{enumerable:!0,get:function(){return n.getLiteralDirection}}),Object.defineProperty(t,"getLiteralType",{enumerable:!0,get:function(){return n.getLiteralType}}),Object.defineProperty(t,"getLiteralValue",{enumerable:!0,get:function(){return n.getLiteralValue}}),Object.defineProperty(t,"quadToStringQuad",{enumerable:!0,get:function(){return n.quadToStringQuad}}),Object.defineProperty(t,"stringQuadToQuad",{enumerable:!0,get:function(){return n.stringQuadToQuad}}),Object.defineProperty(t,"stringToTerm",{enumerable:!0,get:function(){return n.stringToTerm}}),Object.defineProperty(t,"termToString",{enumerable:!0,get:function(){return n.termToString}})},59644:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(90676),t)},59683:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataFactory=void 0;const n=r(19435),i=r(37294),a=r(12410),o=r(13492),s=r(70706),c=r(60913);let l=0;t.DataFactory=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||"df_".concat(l++,"_")}namedNode(e){return new o.NamedNode(e)}blankNode(e){return new n.BlankNode(e||"".concat(this.blankNodePrefix).concat(this.blankNodeCounter++))}literal(e,t){return new a.Literal(e,t)}variable(e){return new c.Variable(e)}defaultGraph(){return i.DefaultGraph.INSTANCE}quad(e,t,r,n){return new s.Quad(e,t,r,n||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(a.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},59709:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryResultSerializeStats=void 0;const n=r(16746),i=r(52840),a=r(13953),o=r(72758),s=r(94051);class c extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,t){return["bindings","quads"].includes(e.type)?(0,a.passTestVoid)():(0,a.failTest)("This actor can only handle bindings streams or quad streams.")}pushHeader(e){const t=["Result","Delay (ms)","HTTP requests"].join(",");e.push("".concat(t,"\n"))}createStat(e,t){const r=[t,this.delay(e),this.httpObserver.requests].join(",");return"".concat(r,"\n")}createSpecialLine(e,t){const r=[e,this.delay(t),this.httpObserver.requests].join(",");return"".concat(r,"\n")}async runHandle(e,t,r){const n=new s.Readable,a="bindings"===e.type?e.bindingsStream:e.quadStream,c=e.context.getSafe(i.KeysInitQuery.queryTimestampHighResolution);let l=1;const u=(0,o.wrap)(a).map(()=>this.createStat(c,l++)).prepend([this.createSpecialLine("PLANNING",c)]).append((0,o.wrap)(function*(e){yield e()}(()=>this.createSpecialLine("TOTAL",c))));return this.pushHeader(n),n.wrap(u),{data:n}}now(){return performance.now()}delay(e){return this.now()-e}}t.ActorQueryResultSerializeStats=c},59823:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionMultiplication=void 0;const n=r(11716),i=r(97824),a=r(1991);class o extends n.TermFunctionBase{constructor(){super({arity:2,operator:i.SparqlOperator.MULTIPLICATION,overloads:(0,i.declare)(i.SparqlOperator.MULTIPLICATION).arithmetic(()=>(e,t)=>new a.BigNumber(e).times(t).toNumber()).collect()})}}t.TermFunctionMultiplication=o},59948:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfMetadataAccumulate=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e)}}t.ActorRdfMetadataAccumulate=i},59966:(e,t,r)=>{var n=r(26382),i=n.Buffer;function a(e,t){for(var r in e)t[r]=e[r]}function o(e,t,r){return i(e,t,r)}i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow?e.exports=n:(a(n,t),t.Buffer=o),o.prototype=Object.create(i.prototype),a(i,o),o.from=function(e,t,r){if("number"===typeof e)throw new TypeError("Argument must not be a number");return i(e,t,r)},o.alloc=function(e,t,r){if("number"!==typeof e)throw new TypeError("Argument must be a number");var n=i(e);return void 0!==t?"string"===typeof r?n.fill(t,r):n.fill(t):n.fill(0),n},o.allocUnsafe=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return i(e)},o.allocUnsafeSlow=function(e){if("number"!==typeof e)throw new TypeError("Argument must be a number");return n.SlowBuffer(e)}},60010:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(72110),t)},60056:(e,t,r)=>{"use strict";const{format:n,inspect:i}=r(48092),{AggregateError:a}=r(28931),o=globalThis.AggregateError||a,s=Symbol("kIsNodeError"),c=["string","function","number","object","Function","Object","boolean","bigint","symbol"],l=/^([A-Z][a-z0-9]*)+$/,u={};function d(e,t){if(!e)throw new u.ERR_INTERNAL_ASSERTION(t)}function h(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t="_".concat(e.slice(r-3,r)).concat(t);return"".concat(e.slice(0,r)).concat(t)}function p(e,t,r){r||(r=Error);class i extends r{constructor(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];super(function(e,t,r){if("function"===typeof t)return d(t.length<=r.length,"Code: ".concat(e,"; The provided arguments length (").concat(r.length,") does not match the required ones (").concat(t.length,").")),t(...r);const i=(t.match(/%[dfijoOs]/g)||[]).length;return d(i===r.length,"Code: ".concat(e,"; The provided arguments length (").concat(r.length,") does not match the required ones (").concat(i,").")),0===r.length?t:n(t,...r)}(e,t,i))}toString(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)}}Object.defineProperties(i.prototype,{name:{value:r.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return"".concat(this.name," [").concat(e,"]: ").concat(this.message)},writable:!0,enumerable:!1,configurable:!0}}),i.prototype.code=e,i.prototype[s]=!0,u[e]=i}function f(e){const t="__node_internal_"+e.name;return Object.defineProperty(e,"name",{value:t}),e}class g extends Error{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"The operation was aborted",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0!==t&&"object"!==typeof t)throw new u.ERR_INVALID_ARG_TYPE("options","Object",t);super(e,t),this.code="ABORT_ERR",this.name="AbortError"}}p("ERR_ASSERTION","%s",Error),p("ERR_INVALID_ARG_TYPE",(e,t,r)=>{d("string"===typeof e,"'name' must be a string"),Array.isArray(t)||(t=[t]);let n="The ";e.endsWith(" argument")?n+="".concat(e," "):n+='"'.concat(e,'" ').concat(e.includes(".")?"property":"argument"," "),n+="must be ";const a=[],o=[],s=[];for(const i of t)d("string"===typeof i,"All expected entries have to be of type string"),c.includes(i)?a.push(i.toLowerCase()):l.test(i)?o.push(i):(d("object"!==i,'The value "object" should be written as "Object"'),s.push(i));if(o.length>0){const e=a.indexOf("object");-1!==e&&(a.splice(a,e,1),o.push("Object"))}if(a.length>0){switch(a.length){case 1:n+="of type ".concat(a[0]);break;case 2:n+="one of type ".concat(a[0]," or ").concat(a[1]);break;default:{const e=a.pop();n+="one of type ".concat(a.join(", "),", or ").concat(e)}}(o.length>0||s.length>0)&&(n+=" or ")}if(o.length>0){switch(o.length){case 1:n+="an instance of ".concat(o[0]);break;case 2:n+="an instance of ".concat(o[0]," or ").concat(o[1]);break;default:{const e=o.pop();n+="an instance of ".concat(o.join(", "),", or ").concat(e)}}s.length>0&&(n+=" or ")}switch(s.length){case 0:break;case 1:s[0].toLowerCase()!==s[0]&&(n+="an "),n+="".concat(s[0]);break;case 2:n+="one of ".concat(s[0]," or ").concat(s[1]);break;default:{const e=s.pop();n+="one of ".concat(s.join(", "),", or ").concat(e)}}if(null==r)n+=". Received ".concat(r);else if("function"===typeof r&&r.name)n+=". Received function ".concat(r.name);else if("object"===typeof r){var u;if(null!==(u=r.constructor)&&void 0!==u&&u.name)n+=". Received an instance of ".concat(r.constructor.name);else{const e=i(r,{depth:-1});n+=". Received ".concat(e)}}else{let e=i(r,{colors:!1});e.length>25&&(e="".concat(e.slice(0,25),"...")),n+=". Received type ".concat(typeof r," (").concat(e,")")}return n},TypeError),p("ERR_INVALID_ARG_VALUE",function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid",n=i(t);n.length>128&&(n=n.slice(0,128)+"...");const a=e.includes(".")?"property":"argument";return"The ".concat(a," '").concat(e,"' ").concat(r,". Received ").concat(n)},TypeError),p("ERR_INVALID_RETURN_VALUE",(e,t,r)=>{var n;const i=null!==r&&void 0!==r&&null!==(n=r.constructor)&&void 0!==n&&n.name?"instance of ".concat(r.constructor.name):"type ".concat(typeof r);return"Expected ".concat(e,' to be returned from the "').concat(t,'"')+" function but got ".concat(i,".")},TypeError),p("ERR_MISSING_ARGS",function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];let n;d(t.length>0,"At least one arg needs to be specified");const i=t.length;switch(t=(Array.isArray(t)?t:[t]).map(e=>'"'.concat(e,'"')).join(" or "),i){case 1:n+="The ".concat(t[0]," argument");break;case 2:n+="The ".concat(t[0]," and ").concat(t[1]," arguments");break;default:{const e=t.pop();n+="The ".concat(t.join(", "),", and ").concat(e," arguments")}}return"".concat(n," must be specified")},TypeError),p("ERR_OUT_OF_RANGE",(e,t,r)=>{let n;if(d(t,'Missing "range" argument'),Number.isInteger(r)&&Math.abs(r)>2**32)n=h(String(r));else if("bigint"===typeof r){n=String(r);const e=BigInt(2)**BigInt(32);(r>e||r<-e)&&(n=h(n)),n+="n"}else n=i(r);return'The value of "'.concat(e,'" is out of range. It must be ').concat(t,". Received ").concat(n)},RangeError),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),p("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),p("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),p("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),p("ERR_STREAM_WRITE_AFTER_END","write after end",Error),p("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),e.exports={AbortError:g,aggregateTwoErrors:f(function(e,t){if(e&&t&&e!==t){if(Array.isArray(t.errors))return t.errors.push(e),t;const r=new o([t,e],t.message);return r.code=t.code,r}return e||t}),hideStackFrames:f,codes:u}},60142:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8601),t)},60181:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryExpressionNotIn=void 0;const i=r(11716),a=r(97824),o=r(16350);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.NOT_IN],termFunction:!1})),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const t=await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.IN,context:e.context,arguments:e.arguments});return new o.ExpressionFunctionNotIn(t)}}t.ActorFunctionFactoryExpressionNotIn=s},60210:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0;const n=r(97761),i=r(18667);var a=r(18667);function o(e,t,r,a){return(0,i.default)(48,n.default,e,t,r,a)}Object.defineProperty(t,"DNS",{enumerable:!0,get:function(){return a.DNS}}),Object.defineProperty(t,"URL",{enumerable:!0,get:function(){return a.URL}}),o.DNS=i.DNS,o.URL=i.URL,t.default=o},60285:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryResultSerializeSparqlXml=void 0;const n=r(16746),i=r(13953),a=r(72758),o=r(94051),s=r(20874);class c extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToXmlBindings(e,t){return{name:"binding",attributes:{name:t.value},children:[this.valueToXmlValue(e)]}}static valueToXmlValue(e){let t;switch(e.termType){case"Literal":return t=e.language?{"xml:lang":e.language}:e.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==e.datatype.value?{datatype:e.datatype.value}:{},{name:"literal",attributes:t,children:e.value};case"BlankNode":return{name:"bnode",children:e.value};case"Quad":return{name:"triple",children:[{name:"subject",children:[this.valueToXmlValue(e.subject)]},{name:"predicate",children:[this.valueToXmlValue(e.predicate)]},{name:"object",children:[this.valueToXmlValue(e.object)]}]};default:return{name:"uri",children:e.value}}}async testHandleChecked(e,t){return["bindings","boolean"].includes(e.type)?(0,i.passTestVoid)():(0,i.failTest)("This actor can only handle bindings streams or booleans.")}async runHandle(e,t,r){const n=new o.Readable;n._read=()=>{};const i=new s.XmlSerializer,l=await e.metadata();if(n.push(s.XmlSerializer.header),n.push(i.open("sparql",{xmlns:"http://www.w3.org/2005/sparql-results#"})),n.push(i.serializeNode({name:"head",children:l.variables.map(e=>({name:"variable",attributes:{name:e.variable.value}}))})),"bindings"===e.type){function*d(){yield i.close(),yield i.close()}n.push(i.open("results"));const h=(0,a.wrap)(e.bindingsStream).map(e=>i.serializeNode({name:"result",children:[...e].map(e=>{let[t,r]=e;return c.bindingToXmlBindings(r,t)})})).append((0,a.wrap)(d()));n.wrap(h)}else try{const p=await e.execute();n.push(i.serializeNode({name:"boolean",children:p.toString()})),n.push(i.close()),setTimeout(()=>n.push(null))}catch(u){setTimeout(()=>n.emit("error",u))}return{data:n}}}t.ActorQueryResultSerializeSparqlXml=c},60463:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfSerializeN3=void 0;const n=r(5230),i=r(73514);class a extends n.ActorRdfSerializeFixedMediaTypes{constructor(e){super(e)}async runHandle(e,t){const r=new i.StreamWriter({format:t});let n;return"pipe"in e.quadStream?(e.quadStream.on("error",e=>r.emit("error",e)),n=e.quadStream.pipe(r)):n=r.import(e.quadStream),{data:n,triples:"text/turtle"===t||"application/n-triples"===t||"text/n3"===t}}}t.ActorRdfSerializeN3=a},60490:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTaskScheduler=void 0;const n=r(80839),i=Promise.resolve(void 0);t.createTaskScheduler=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n.setImmediate;const t="function"===typeof queueMicrotask?queueMicrotask:e=>i.then(e);let r=0,a=null;return n=>{null!==a?a.push(n):++r<100?t(n):(a=[n],e(()=>{for(const e of a)t(e);a=null,r=0}))}}},60782:(e,t,r)=>{"use strict";const{SymbolAsyncIterator:n,SymbolIterator:i,SymbolFor:a}=r(28931),o=a("nodejs.stream.destroyed"),s=a("nodejs.stream.errored"),c=a("nodejs.stream.readable"),l=a("nodejs.stream.writable"),u=a("nodejs.stream.disturbed"),d=a("nodejs.webstream.isClosedPromise"),h=a("nodejs.webstream.controllerErrorFunction");function p(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];var r;return!(!e||"function"!==typeof e.pipe||"function"!==typeof e.on||t&&("function"!==typeof e.pause||"function"!==typeof e.resume)||e._writableState&&!1===(null===(r=e._readableState)||void 0===r?void 0:r.readable)||e._writableState&&!e._readableState)}function f(e){var t;return!(!e||"function"!==typeof e.write||"function"!==typeof e.on||e._readableState&&!1===(null===(t=e._writableState)||void 0===t?void 0:t.writable))}function g(e){return e&&(e._readableState||e._writableState||"function"===typeof e.write&&"function"===typeof e.on||"function"===typeof e.pipe&&"function"===typeof e.on)}function y(e){return!(!e||g(e)||"function"!==typeof e.pipeThrough||"function"!==typeof e.getReader||"function"!==typeof e.cancel)}function m(e){return!(!e||g(e)||"function"!==typeof e.getWriter||"function"!==typeof e.abort)}function v(e){return!(!e||g(e)||"object"!==typeof e.readable||"object"!==typeof e.writable)}function b(e){if(!g(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!!(e.destroyed||e[o]||null!==n&&void 0!==n&&n.destroyed)}function _(e){if(!f(e))return null;if(!0===e.writableEnded)return!0;const t=e._writableState;return(null===t||void 0===t||!t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)}function w(e,t){if(!p(e))return null;const r=e._readableState;return(null===r||void 0===r||!r.errored)&&("boolean"!==typeof(null===r||void 0===r?void 0:r.endEmitted)?null:!!(r.endEmitted||!1===t&&!0===r.ended&&0===r.length))}function x(e){return e&&null!=e[c]?e[c]:"boolean"!==typeof(null===e||void 0===e?void 0:e.readable)?null:!b(e)&&(p(e)&&e.readable&&!w(e))}function S(e){return e&&null!=e[l]?e[l]:"boolean"!==typeof(null===e||void 0===e?void 0:e.writable)?null:!b(e)&&(f(e)&&e.writable&&!_(e))}function T(e){return"boolean"===typeof e._closed&&"boolean"===typeof e._defaultKeepAlive&&"boolean"===typeof e._removedConnection&&"boolean"===typeof e._removedContLen}function O(e){return"boolean"===typeof e._sent100&&T(e)}e.exports={isDestroyed:b,kIsDestroyed:o,isDisturbed:function(e){var t;return!(!e||!(null!==(t=e[u])&&void 0!==t?t:e.readableDidRead||e.readableAborted))},kIsDisturbed:u,isErrored:function(e){var t,r,n,i,a,o,c,l,u,d;return!(!e||!(null!==(t=null!==(r=null!==(n=null!==(i=null!==(a=null!==(o=e[s])&&void 0!==o?o:e.readableErrored)&&void 0!==a?a:e.writableErrored)&&void 0!==i?i:null===(c=e._readableState)||void 0===c?void 0:c.errorEmitted)&&void 0!==n?n:null===(l=e._writableState)||void 0===l?void 0:l.errorEmitted)&&void 0!==r?r:null===(u=e._readableState)||void 0===u?void 0:u.errored)&&void 0!==t?t:null===(d=e._writableState)||void 0===d?void 0:d.errored))},kIsErrored:s,isReadable:x,kIsReadable:c,kIsClosedPromise:d,kControllerErrorFunction:h,kIsWritable:l,isClosed:function(e){if(!g(e))return null;if("boolean"===typeof e.closed)return e.closed;const t=e._writableState,r=e._readableState;return"boolean"===typeof(null===t||void 0===t?void 0:t.closed)||"boolean"===typeof(null===r||void 0===r?void 0:r.closed)?(null===t||void 0===t?void 0:t.closed)||(null===r||void 0===r?void 0:r.closed):"boolean"===typeof e._closed&&T(e)?e._closed:null},isDuplexNodeStream:function(e){return!(!e||"function"!==typeof e.pipe||!e._readableState||"function"!==typeof e.on||"function"!==typeof e.write)},isFinished:function(e,t){return g(e)?!!b(e)||(!1===(null===t||void 0===t?void 0:t.readable)||!x(e))&&(!1===(null===t||void 0===t?void 0:t.writable)||!S(e)):null},isIterable:function(e,t){return null!=e&&(!0===t?"function"===typeof e[n]:!1===t?"function"===typeof e[i]:"function"===typeof e[n]||"function"===typeof e[i])},isReadableNodeStream:p,isReadableStream:y,isReadableEnded:function(e){if(!p(e))return null;if(!0===e.readableEnded)return!0;const t=e._readableState;return!(!t||t.errored)&&("boolean"!==typeof(null===t||void 0===t?void 0:t.ended)?null:t.ended)},isReadableFinished:w,isReadableErrored:function(e){var t,r;return g(e)?e.readableErrored?e.readableErrored:null!==(t=null===(r=e._readableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isNodeStream:g,isWebStream:function(e){return y(e)||m(e)||v(e)},isWritable:S,isWritableNodeStream:f,isWritableStream:m,isWritableEnded:_,isWritableFinished:function(e,t){if(!f(e))return null;if(!0===e.writableFinished)return!0;const r=e._writableState;return(null===r||void 0===r||!r.errored)&&("boolean"!==typeof(null===r||void 0===r?void 0:r.finished)?null:!!(r.finished||!1===t&&!0===r.ended&&0===r.length))},isWritableErrored:function(e){var t,r;return g(e)?e.writableErrored?e.writableErrored:null!==(t=null===(r=e._writableState)||void 0===r?void 0:r.errored)&&void 0!==t?t:null:null},isServerRequest:function(e){var t;return"boolean"===typeof e._consuming&&"boolean"===typeof e._dumped&&void 0===(null===(t=e.req)||void 0===t?void 0:t.upgradeOrConnect)},isServerResponse:O,willEmitClose:function(e){if(!g(e))return null;const t=e._writableState,r=e._readableState,n=t||r;return!n&&O(e)||!!(n&&n.autoDestroy&&n.emitClose&&!1===n.closed)},isTransformStream:v}},60876:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryExpressionIf=void 0;const i=r(11716),a=r(97824),o=r(14337);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.IF],termFunction:!1}))}async run(e){return new o.ExpressionFunctionIf}}t.ActorFunctionFactoryExpressionIf=s},60913:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;t.Variable=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&"Variable"===e.termType&&e.value===this.value}}},61054:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV7State=void 0;const n=r(43480),i=r(66948),a={};function o(e,t,r){var n,i;return null!==(n=e.msecs)&&void 0!==n||(e.msecs=-1/0),null!==(i=e.seq)&&void 0!==i||(e.seq=0),t>e.msecs?(e.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],e.msecs=t):(e.seq=e.seq+1|0,0===e.seq&&e.msecs++),e}function s(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(e.length<16)throw new Error("Random bytes length must be >= 16");if(n){if(i<0||i+16>n.length)throw new RangeError("UUID byte range ".concat(i,":").concat(i+15," is out of buffer bounds"))}else n=new Uint8Array(16),i=0;return null!==t&&void 0!==t||(t=Date.now()),null!==r&&void 0!==r||(r=127*e[6]<<24|e[7]<<16|e[8]<<8|e[9]),n[i++]=t/1099511627776&255,n[i++]=t/4294967296&255,n[i++]=t/16777216&255,n[i++]=t/65536&255,n[i++]=t/256&255,n[i++]=255&t,n[i++]=112|r>>>28&15,n[i++]=r>>>20&255,n[i++]=128|r>>>14&63,n[i++]=r>>>6&255,n[i++]=r<<2&255|3&e[10],n[i++]=e[11],n[i++]=e[12],n[i++]=e[13],n[i++]=e[14],n[i++]=e[15],n}t.updateV7State=o,t.default=function(e,t,r){let c;if(e){var l,u,d;c=s(null!==(l=null!==(u=e.random)&&void 0!==u?u:null===(d=e.rng)||void 0===d?void 0:d.call(e))&&void 0!==l?l:(0,n.default)(),e.msecs,e.seq,t,r)}else{const e=Date.now(),i=(0,n.default)();o(a,e,i),c=s(i,a.msecs,a.seq,t,r)}return null!==t&&void 0!==t?t:(0,i.unsafeStringify)(c)}},61111:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorTermComparatorFactoryExpressionEvaluator=void 0;const n=r(58441),i=r(50403),a=r(52840),o=r(13953),s=r(7979),c=r(97824),l=r(70804);class u extends i.ActorTermComparatorFactory{async test(e){return(0,o.passTestVoid)()}async run(e){let{context:t}=e;return t=c.prepareEvaluatorActionContext(t),new l.TermComparatorExpressionEvaluator(new n.InternalEvaluator(t,this.mediatorFunctionFactory,this.mediatorQueryOperation,await s.BindingsFactory.create(this.mediatorMergeBindingsContext,t,t.getSafe(a.KeysInitQuery.dataFactory))),await this.mediatorFunctionFactory.mediate({functionName:c.SparqlOperator.EQUAL,context:t,requireTermExpression:!0}),await this.mediatorFunctionFactory.mediate({functionName:c.SparqlOperator.LT,context:t,requireTermExpression:!0}))}}t.ActorTermComparatorFactoryExpressionEvaluator=u},61362:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeValueHandlerObject=void 0;const n=r(71506);class i extends n.NodeValueHandlerAdapter{constructor(e,t){super("ObjectValue",e,t)}handle(e,t,r){const n=this.util.dataFactory.blankNode();let i=[];for(const a of e.fields){const e=this.util.handleNodeValue(a.value,t,r);for(const t of e.terms)i.push(this.util.createQuadPattern(n,a.name,t,r.graph,r.context));e.auxiliaryPatterns&&(i=i.concat(e.auxiliaryPatterns))}return{terms:[n],auxiliaryPatterns:i}}}t.NodeValueHandlerObject=i},61424:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Variable=void 0;t.Variable=class{constructor(e){this.termType="Variable",this.value=e}equals(e){return!!e&&"Variable"===e.termType&&e.value===this.value}}},61510:(e,t,r)=>{"use strict";var n=r(97643).rotr32;function i(e,t,r){return e&t^~e&r}function a(e,t,r){return e&t^e&r^t&r}function o(e,t,r){return e^t^r}t.ft_1=function(e,t,r,n){return 0===e?i(t,r,n):1===e||3===e?o(t,r,n):2===e?a(t,r,n):void 0},t.ch32=i,t.maj32=a,t.p32=o,t.s0_256=function(e){return n(e,2)^n(e,13)^n(e,22)},t.s1_256=function(e){return n(e,6)^n(e,11)^n(e,25)},t.g0_256=function(e){return n(e,7)^n(e,18)^e>>>3},t.g1_256=function(e){return n(e,17)^n(e,19)^e>>>10}},61536:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Existence=void 0;const n=r(90355);t.Existence=class{constructor(e){this.expression=e,this.expressionType=n.ExpressionType.Existence}}},61900:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(97318),t),i(r(50971),t)},62014:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(77987),t)},62090:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermSha512=void 0;const i=r(11716),a=r(97824),o=r(55927);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.SHA512],termFunction:!0}))}async run(e){return new o.TermFunctionSha512}}t.ActorFunctionFactoryTermSha512=s},62285:e=>{var t,r,n=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(t===setTimeout)return setTimeout(e,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(e,0);try{return t(e,0)}catch(r){try{return t.call(null,e,0)}catch(r){return t.call(this,e,0)}}}!function(){try{t="function"===typeof setTimeout?setTimeout:i}catch(e){t=i}try{r="function"===typeof clearTimeout?clearTimeout:a}catch(e){r=a}}();var s,c=[],l=!1,u=-1;function d(){l&&s&&(l=!1,s.length?c=s.concat(c):u=-1,c.length&&h())}function h(){if(!l){var e=o(d);l=!0;for(var t=c.length;t;){for(s=c,c=[];++u<t;)s&&s[u].run();u=-1,t=c.length}s=null,l=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{return r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function f(){}n.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];c.push(new p(e,t)),1!==c.length||l||o(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=f,n.addListener=f,n.once=f,n.off=f,n.removeListener=f,n.removeAllListeners=f,n.emit=f,n.prependListener=f,n.prependOnceListener=f,n.listeners=function(e){return[]},n.binding=function(e){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},62466:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(66540),t)},62483:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fragment=void 0,t.fragment=function(e){let t=function(e){let t=e;(t.endsWith("/")||t.endsWith("#"))&&(t=t.slice(0,t.length-1));const r=[];t.lastIndexOf("/")>0&&r.push(t.lastIndexOf("/")),t.lastIndexOf("#")>0&&r.push(t.lastIndexOf("#"));const n=Math.max(...r);return t.slice(n+1)}(e);return t=t?function(e){var t;const r=null===(t=e.split(/[^a-z0-9]+/gi).filter(e=>""!==e).map(e=>e[0].toUpperCase()+e.slice(1)).join("").match(/[a-z][a-z0-9]+/gi))||void 0===t?void 0:t[0];return"undefined"===typeof r?void 0:r[0].toLowerCase()+r.slice(1)}(t):void 0,t||"v"}},62515:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(975),t)},62767:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readableFromWeb=t.ReadableFromWeb=void 0;const n=r(94051);class i extends n.Readable{constructor(e,t){super(t),this.reader=e.getReader(),this.readerClosed=!1,this.reader.closed.then(()=>{this.readerClosed=!0}).catch(e=>{this.readerClosed=!0,this.destroy(e)})}_read(){this.reader.read().then(e=>this.push(e.done?null:e.value)).catch(e=>this.destroy(e))}destroy(e){return this.readerClosed||this.reader.cancel(e).then().catch(()=>{}),super.destroy(e)}}t.ReadableFromWeb=i,t.readableFromWeb=function(e,t){return new i(e,t)}},63043:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(56758),t)},63091:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorFunctionFactory=t.ActorFunctionFactory=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e)}}t.ActorFunctionFactory=i;class a extends n.Mediator{}t.MediatorFunctionFactory=a},63147:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperationPruneEmptySourceOperations=void 0;const n=r(49065),i=r(52840),a=r(13953),o=r(89266),s=r(85160);class c extends n.ActorOptimizeQueryOperation{constructor(e){super(e)}async test(e){return(0,o.getOperationSource)(e.operation)?(0,a.failTest)("Actor ".concat(this.name," does not work with top-level operation sources.")):(0,a.passTestVoid)()}async run(e){const t=e.context.getSafe(i.KeysInitQuery.dataFactory),r=new s.Factory(t);let n=e.operation;const a=[],l=this;s.Util.recurseOperation(n,{[s.Algebra.types.UNION]:e=>(l.collectMultiOperationInputs(e.input,a,s.Algebra.types.PATTERN),!0),[s.Algebra.types.ALT]:e=>(l.collectMultiOperationInputs(e.input,a,s.Algebra.types.LINK),!1),[s.Algebra.types.SERVICE]:()=>!1});const u=new Set;return await Promise.all(a.map(async n=>{const i="link"===n.type?r.createPattern(t.variable("s"),n.iri,t.variable("o")):n;await this.hasSourceResults(r,(0,o.getOperationSource)(n),i,e.context)||u.add(n)})),u.size>0&&(this.logDebug(e.context,"Pruning ".concat(u.size," source-specific operations")),n=s.Util.mapOperation(n,{[s.Algebra.types.UNION]:(e,t)=>l.mapMultiOperation(e,u,e=>t.createUnion(e)),[s.Algebra.types.ALT]:(e,t)=>l.mapMultiOperation(e,u,e=>t.createAlt(e))},r),n=s.Util.mapOperation(n,{[s.Algebra.types.PROJECT]:(e,t)=>c.hasEmptyOperation(e)?{recurse:!1,result:t.createUnion([])}:{recurse:!0,result:e},[s.Algebra.types.LEFT_JOIN]:e=>c.hasEmptyOperation(e.input[1])?{recurse:!0,result:e.input[0]}:{recurse:!0,result:e}},r)),{operation:n,context:e.context}}static hasEmptyOperation(e){let t=!1;return s.Util.recurseOperation(e,{[s.Algebra.types.UNION]:e=>(e.input.every(e=>c.hasEmptyOperation(e))&&(t=!0),!1),[s.Algebra.types.ALT]:e=>(0===e.input.length&&(t=!0),!1),[s.Algebra.types.LEFT_JOIN]:e=>(c.hasEmptyOperation(e.input[0])&&(t=!0),!1)}),t}collectMultiOperationInputs(e,t,r){for(const n of e)(0,o.getOperationSource)(n)&&n.type===r&&t.push(n)}mapMultiOperation(e,t,r){const n=e.input.filter(e=>!t.has(e));return n.length===e.input.length?{result:e,recurse:!0}:0===n.length?{result:r([]),recurse:!1}:1===n.length?{result:n[0],recurse:!0}:{result:r(n),recurse:!0}}async hasSourceResults(e,t,r,n){const a=t.context?n.merge(t.context):n,s=a.get(i.KeysInitQuery.extensionFunctionsAlwaysPushdown);if(a.get(i.KeysQuerySourceIdentify.traverse))return!0;if(this.useAskIfSupported){const i=e.createAsk(r);if((0,o.doesShapeAcceptOperation)(await t.source.getSelectorShape(n),i,{wildcardAcceptAllExtensionFunctions:s}))return t.source.queryBoolean(i,a)}const c=t.source.queryBindings(r,a),l=await new Promise((e,t)=>{c.on("error",t),c.getProperty("metadata",t=>{c.destroy(),e(t.cardinality)})});if("estimate"===l.type&&l.value>0){const i=e.createAsk(r);if((0,o.doesShapeAcceptOperation)(await t.source.getSelectorShape(n),i,{wildcardAcceptAllExtensionFunctions:s}))return t.source.queryBoolean(i,a)}return l.value>0}}t.ActorOptimizeQueryOperationPruneEmptySourceOperations=c},63168:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermTransformer=void 0;const n=r(45494),i=r(85160),a=r(11032),o=r(89465),s=r(48526),c=r(48526),l=r(27817),u=r(27817),d=r(124);t.TermTransformer=class{constructor(e){this.superTypeProvider=e}transformRDFTermUnsafe(e){return this.transformTerm({term:e,type:i.Algebra.types.EXPRESSION,expressionType:i.Algebra.expressionTypes.TERM})}transformTerm(e){if(!e.term)throw new s.InvalidExpression(e);switch(e.term.termType){case"Variable":return new a.Variable(n.termToString(e.term));case"Literal":return this.transformLiteral(e.term);case"NamedNode":return new a.NamedNode(e.term.value);case"BlankNode":return new a.BlankNode(e.term.value);case"Quad":return new a.Quad(this.transformRDFTermUnsafe(e.term.subject),this.transformRDFTermUnsafe(e.term.predicate),this.transformRDFTermUnsafe(e.term.object),this.transformRDFTermUnsafe(e.term.graph));case"DefaultGraph":return new a.DefaultGraph}}transformLiteral(e){if(!e.datatype||[null,void 0,""].includes(e.datatype.value))return e.language?new a.LangStringLiteral(e.value,e.language):new a.StringLiteral(e.value);const t=e.datatype.value,r=(0,d.getSuperTypeDict)(t,this.superTypeProvider);try{if(o.TypeURL.XSD_STRING in r)return new a.StringLiteral(e.value,t);if(o.TypeURL.RDF_LANG_STRING in r)return new a.LangStringLiteral(e.value,e.language);if(o.TypeURL.XSD_YEAR_MONTH_DURATION in r)return new a.YearMonthDurationLiteral((0,l.parseYearMonthDuration)(e.value),e.value,t);if(o.TypeURL.XSD_DAY_TIME_DURATION in r)return new a.DayTimeDurationLiteral((0,l.parseDayTimeDuration)(e.value),e.value,t);if(o.TypeURL.XSD_DURATION in r)return new a.DurationLiteral((0,l.parseDuration)(e.value),e.value,t);if(o.TypeURL.XSD_DATE_TIME in r){const r=new Date(e.value);return Number.isNaN(r.getTime())?new a.NonLexicalLiteral(void 0,t,this.superTypeProvider,e.value):new a.DateTimeLiteral((0,l.parseDateTime)(e.value),e.value,t)}if(o.TypeURL.XSD_DATE in r)return new a.DateLiteral((0,l.parseDate)(e.value),e.value,t);if(o.TypeURL.XSD_TIME in r)return new a.TimeLiteral((0,l.parseTime)(e.value),e.value,t);if(o.TypeURL.XSD_BOOLEAN in r)return"true"!==e.value&&"false"!==e.value&&"1"!==e.value&&"0"!==e.value?new a.NonLexicalLiteral(void 0,t,this.superTypeProvider,e.value):new a.BooleanLiteral("true"===e.value||"1"===e.value,e.value);if(o.TypeURL.XSD_DECIMAL in r){const n=u.parseXSDDecimal(e.value);return void 0===n?new a.NonLexicalLiteral(void 0,t,this.superTypeProvider,e.value):o.TypeURL.XSD_INTEGER in r?new a.IntegerLiteral(n,t,e.value):new a.DecimalLiteral(n,t,e.value)}const n=o.TypeURL.XSD_FLOAT in r,i=o.TypeURL.XSD_DOUBLE in r;if(n||i){const r=u.parseXSDFloat(e.value);return void 0===r?new a.NonLexicalLiteral(void 0,t,this.superTypeProvider,e.value):n?new a.FloatLiteral(r,t,e.value):new a.DoubleLiteral(r,t,e.value)}return new a.Literal(e.value,t,e.value)}catch(n){if((0,c.isExpressionError)(n))return new a.NonLexicalLiteral(void 0,t,this.superTypeProvider,e.value);throw n}}}},63172:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermYear=void 0;const i=r(11716),a=r(97824),o=r(37301);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.YEAR],termFunction:!0}))}async run(e){return new o.TermFunctionYear}}t.ActorFunctionFactoryTermYear=s},63498:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermAddition=void 0;const i=r(11716),a=r(97824),o=r(91567);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.ADDITION],termFunction:!0}))}async run(e){return new o.TermFunctionAddition}}t.ActorFunctionFactoryTermAddition=s},63630:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorBindingsAggregatorFactorySample=void 0;const n=r(85830),i=r(13953),a=r(72627);class o extends n.ActorBindingsAggregatorFactory{constructor(e){super(e)}async test(e){return"sample"!==e.expr.aggregator?(0,i.failTest)("This actor only supports the 'sample' aggregator."):(0,i.passTestVoid)()}async run(e){let{context:t,expr:r}=e;return new a.SampleAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:r.expression,context:t}),r.distinct)}}t.ActorBindingsAggregatorFactorySample=o},63638:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(25509),t)},64026:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(34672),t)},64079:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="ffffffff-ffff-ffff-ffff-ffffffffffff"},64109:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorAll=void 0;const n=r(13953);class i extends n.Mediator{constructor(e){super(e)}async mediate(e){const t=[];let r;try{r=this.publish(e)}catch(n){r=[]}for(const i of r){const e=await i.reply;e.isPassed()&&t.push({actor:i.actor,sideData:e.getSideData()})}return(await Promise.all(t.map(t=>t.actor.runObservable(e,t.sideData))))[0]}async mediateWith(){throw new Error("Unsupported operation: MediatorAll#mediateWith")}}t.MediatorAll=i},64359:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionXsdToInteger=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.TypeURL.XSD_INTEGER,overloads:(0,i.declare)(i.TypeURL.XSD_INTEGER).onBoolean1Typed(()=>e=>(0,i.integer)(e?1:0)).onNumeric1(()=>e=>{if(!Number.isFinite(e.typedValue))throw new i.CastError(e,i.TypeURL.XSD_INTEGER);return(0,i.integer)(Math.trunc(e.typedValue))}).onString1(()=>e=>{const t=e.str(),r=/^[0-9]+$/.test(t)?Number.parseInt(t,10):void 0;if(void 0===r)throw new i.CastError(e,i.TypeURL.XSD_INTEGER);return(0,i.integer)(r)}).collect()})}}t.TermFunctionXsdToInteger=a},64463:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(16129),t)},64612:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(79632),t)},64638:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveNodeHandlerAdapter=void 0;t.DirectiveNodeHandlerAdapter=class{constructor(e,t,r){this.targetKind=e,this.util=t,this.settings=r}getDirectiveConditionalValue(e,t){const r=this.util.getArgument(e.arguments,"if");if(!r)throw new Error("The directive ".concat(e.name.value," is missing an if-argument."));const n=this.util.handleNodeValue(r.value,r.name.value,t);if(1!==n.terms.length)throw new Error("Can not apply the directive ".concat(e.name.value," with a list."));return n.terms[0]}isDirectiveScopeAll(e){const t=this.util.getArgument(e.arguments,"scope");return t&&"EnumValue"===t.value.kind&&"all"===t.value.value}}},64662:(e,t,r)=>{var n=r(12897).default,i=function(){var e=function(e,t,r,n){for(r=r||{},n=e.length;n--;r[e[n]]=t);return r},t=[6,12,13,15,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],i=[2,247],a=[100,110,113,115,116,123,126,131,329,330,331,332,333],o=[2,409],s=[1,18],c=[1,27],l=[13,16,45,197,224,229,308],u=[28,29,53],d=[28,53],h=[1,42],p=[1,45],f=[1,41],g=[1,44],y=[123,126],m=[1,67],v=[39,45,87],b=[13,16,45,197,224,308],_=[1,87],w=[2,281],x=[1,86],S=[13,16,45,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],T=[6,28,29,53,63,70,73,81,83,85],O=[6,13,16,28,29,53,63,70,73,81,83,85,87,308],E=[6,13,16,28,29,45,53,63,70,73,81,82,83,85,87,89,197,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314],A=[6,13,16,28,29,31,39,45,47,48,53,63,70,73,81,82,83,85,87,89,109,112,121,123,126,128,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,337,338,340,341,342,343,344,345,346],P=[13,16,308],N=[112,132,327,334],j=[13,16,112,132,308],D=[1,111],R=[1,117],I=[112,132,327,328,334],F=[13,16,112,132,308,328],C=[28,29,45,53,87],M=[1,138],k=[1,151],L=[1,128],B=[1,127],U=[1,129],V=[1,140],z=[1,141],q=[1,142],Q=[1,143],G=[1,144],H=[1,145],W=[1,147],X=[1,148],K=[2,457],$=[1,158],Y=[1,159],J=[1,160],Z=[1,152],ee=[1,153],te=[1,156],re=[1,171],ne=[1,172],ie=[1,173],ae=[1,174],oe=[1,175],se=[1,176],ce=[1,167],le=[1,168],ue=[1,169],de=[1,170],he=[1,157],pe=[1,166],fe=[1,161],ge=[1,162],ye=[1,163],me=[1,164],ve=[1,165],be=[6,13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],_e=[1,195],we=[6,31,73,81,83,85],xe=[2,285],Se=[1,199],Te=[1,201],Oe=[6,31,70,73,81,83,85],Ee=[2,283],Ae=[1,207],Pe=[1,218],Ne=[1,223],je=[1,219],De=[1,225],Re=[1,226],Ie=[1,224],Fe=[6,63,70,73,81,83,85],Ce=[1,236],Me=[2,334],ke=[1,243],Le=[1,241],Be=[6,193],Ue=[2,349],Ve=[2,339],ze=[28,128],qe=[47,48,193,272],Qe=[47,48,193,242,272],Ge=[47,48,193,242,246,272],He=[47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,341,342,343,344,345,346],We=[39,47,48,193,242,246,250,263,265,272,290,297,298,299,300,301,302,338,341,342,343,344,345,346],Xe=[1,271],Ke=[1,270],$e=[6,13,16,29,31,39,45,47,48,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],Ye=[1,281],Je=[1,280],Ze=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],et=[45,89],tt=[13,16,29,31,39,45,47,48,82,85,87,89,112,159,160,161,163,164,174,193,197,224,229,231,232,242,246,250,263,265,272,290,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346],rt=[13,16,31,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],nt=[31,89],it=[48,87],at=[6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338],ot=[6,13,16,39,45,48,82,87,89,231,263,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337,338,340],st=[1,313],ct=[6,85],lt=[6,31,81,83,85],ut=[2,361],dt=[2,353],ht=[1,343],pt=[31,112,335],ft=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],gt=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335],yt=[6,109,193],mt=[31,112],vt=[13,16,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],bt=[1,390],_t=[1,391],wt=[13,16,87,197,308,314],xt=[13,16,39,45,82,87,224,263,265,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312,346,347,348,349,350,351],St=[1,417],Tt=[1,418],Ot=[13,16,48,197,229,308],Et=[6,31,85],At=[6,13,16,31,45,73,81,83,85,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Pt=[6,13,16,29,31,45,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,231,268,269,270,271,273,274,276,277,279,280,283,285,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,346,347,348,349,350,351],Nt=[29,31,85,112,159,160,161,163,164],jt=[1,443],Dt=[1,444],Rt=[1,449],It=[31,112,193,232,318,335],Ft=[13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],Ct=[13,16,31,45,48,82,87,89,112,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Mt=[13,16,29,31,45,48,82,85,87,89,112,159,160,161,163,164,193,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],kt=[13,16,31,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],Lt=[31,45],Bt=[1,507],Ut=[1,508],Vt=[6,13,16,29,31,39,45,47,48,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,336,338,341,342,343,344,345,346,347,348,349,350,351],zt=[29,31,85,112,159,160,161,163,164,335],qt=[6,13,16,31,45,70,73,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Qt=[13,16,31,45,48,82,87,89,112,193,197,231,232,272,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,317,318,335],Gt=[2,352],Ht=[13,16,197,308,314],Wt=[1,565],Xt=[6,13,16,31,45,76,78,81,83,85,87,268,269,270,271,273,274,276,277,279,280,283,285,308,346,347,348,349,350,351],Kt=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],$t=[13,16,29,31,45,82,85,87,89,112,159,160,161,163,164,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335],Yt=[13,16,87,308],Jt=[2,364],Zt=[29,31,85,112,159,160,161,163,164,193,232,318,335],er=[31,112,193,232,272,318,335],tr=[2,359],rr=[13,16,48,82,174,294,295,296,297,298,299,300,301,302,303,304,305,306,308,312],nr=[29,31,85,112,159,160,161,163,164,193,232,272,318,335],ir=[13,16,31,45,82,87,89,112,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],ar=[2,347],or={trace:function(){},yy:{},symbols_:{error:2,QueryOrUpdate:3,Prologue:4,QueryOrUpdate_group0:5,EOF:6,Query:7,Qry:8,Query_option0:9,Prologue_repetition0:10,BaseDecl:11,BASE:12,IRIREF:13,PrefixDecl:14,PREFIX:15,PNAME_NS:16,SelectClauseWildcard:17,Qry_repetition0:18,WhereClause:19,SolutionModifierNoGroup:20,SelectClauseVars:21,Qry_repetition1:22,SolutionModifier:23,CONSTRUCT:24,ConstructTemplate:25,Qry_repetition2:26,Qry_repetition3:27,WHERE:28,"{":29,Qry_option0:30,"}":31,DESCRIBE:32,Qry_group0:33,Qry_repetition4:34,Qry_option1:35,ASK:36,Qry_repetition5:37,SelectClauseBase:38,"*":39,SelectClauseVars_repetition_plus0:40,SELECT:41,SelectClauseBase_option0:42,SelectClauseItem:43,Var:44,"(":45,Expression:46,AS:47,")":48,SubSelect:49,SubSelect_option0:50,SubSelect_option1:51,DatasetClause:52,FROM:53,DatasetClause_option0:54,iri:55,WhereClause_option0:56,GroupGraphPattern:57,SolutionModifier_option0:58,SolutionModifierNoGroup_option0:59,SolutionModifierNoGroup_option1:60,SolutionModifierNoGroup_option2:61,GroupClause:62,GROUP:63,BY:64,GroupClause_repetition_plus0:65,GroupCondition:66,BuiltInCall:67,FunctionCall:68,HavingClause:69,HAVING:70,HavingClause_repetition_plus0:71,OrderClause:72,ORDER:73,OrderClause_repetition_plus0:74,OrderCondition:75,ASC:76,BrackettedExpression:77,DESC:78,Constraint:79,LimitOffsetClauses:80,LIMIT:81,INTEGER:82,OFFSET:83,ValuesClause:84,VALUES:85,InlineData:86,VAR:87,InlineData_repetition0:88,NIL:89,InlineData_repetition1:90,InlineData_repetition_plus2:91,InlineData_repetition3:92,DataBlock:93,DataBlockValueList:94,DataBlockValueList_repetition_plus0:95,Update:96,Update_repetition0:97,Update1:98,Update_option0:99,LOAD:100,Update1_option0:101,Update1_option1:102,Update1_group0:103,Update1_option2:104,GraphRefAll:105,Update1_group1:106,Update1_option3:107,GraphOrDefault:108,TO:109,CREATE:110,Update1_option4:111,GRAPH:112,INSERTDATA:113,QuadPattern:114,DELETEDATA:115,DELETEWHERE:116,Update1_option5:117,InsertDeleteClause:118,Update1_repetition0:119,IntoGraphClause:120,INTO:121,GraphRef:122,DELETE:123,InsertDeleteClause_option0:124,InsertClause:125,INSERT:126,UsingClause:127,USING:128,UsingClause_option0:129,WithClause:130,WITH:131,DEFAULT:132,GraphOrDefault_option0:133,GraphRefAll_group0:134,Quads:135,Quads_option0:136,Quads_repetition0:137,QuadsNotTriples:138,VarOrIri:139,QuadsNotTriples_option0:140,QuadsNotTriples_option1:141,QuadsNotTriples_option2:142,TriplesTemplate:143,TriplesTemplate_repetition0:144,TriplesSameSubject:145,TriplesTemplate_option0:146,GroupGraphPatternSub:147,GroupGraphPatternSub_option0:148,GroupGraphPatternSub_repetition0:149,GroupGraphPatternSubTail:150,GraphPatternNotTriples:151,GroupGraphPatternSubTail_option0:152,GroupGraphPatternSubTail_option1:153,TriplesBlock:154,TriplesBlock_repetition0:155,TriplesSameSubjectPath:156,TriplesBlock_option0:157,GroupOrUnionGraphPattern:158,OPTIONAL:159,MINUS:160,SERVICE:161,GraphPatternNotTriples_option0:162,FILTER:163,BIND:164,InlineDataOneVar:165,InlineDataFull:166,InlineDataOneVar_repetition0:167,InlineDataFull_repetition0:168,InlineDataFull_repetition_plus1:169,InlineDataFull_repetition2:170,DataBlockValue:171,Literal:172,QuotedTriple:173,UNDEF:174,GroupOrUnionGraphPattern_repetition0:175,ArgList:176,ArgList_option0:177,ArgList_repetition0:178,ExpressionList:179,ExpressionList_repetition0:180,ConstructTemplate_option0:181,ConstructTriples:182,ConstructTriples_repetition0:183,ConstructTriples_option0:184,VarOrTermOrQuotedTP:185,PropertyListNotEmpty:186,TriplesNode:187,PropertyList:188,PropertyList_option0:189,VerbObjectList:190,PropertyListNotEmpty_repetition0:191,SemiOptionalVerbObjectList:192,";":193,SemiOptionalVerbObjectList_option0:194,Verb:195,ObjectList:196,a:197,ObjectList_repetition0:198,Object:199,GraphNode:200,Object_option0:201,PropertyListPathNotEmpty:202,TriplesNodePath:203,TriplesSameSubjectPath_option0:204,O:205,PropertyListPathNotEmpty_repetition0:206,PropertyListPathNotEmptyTail:207,O_group0:208,ObjectListPath:209,ObjectListPath_repetition0:210,ObjectPath:211,GraphNodePath:212,ObjectPath_option0:213,Path:214,Path_repetition0:215,PathSequence:216,PathSequence_repetition0:217,PathEltOrInverse:218,PathElt:219,PathPrimary:220,PathElt_option0:221,PathEltOrInverse_option0:222,IriOrA:223,"!":224,PathNegatedPropertySet:225,PathOneInPropertySet:226,PathNegatedPropertySet_repetition0:227,PathNegatedPropertySet_option0:228,"^":229,TriplesNode_repetition_plus0:230,"[":231,"]":232,TriplesNodePath_repetition_plus0:233,VarOrTermOrQuotedTPExpr:234,VarOrTerm:235,GraphTerm:236,BlankNode:237,ConditionalOrExpression:238,ConditionalAndExpression:239,ConditionalOrExpression_repetition0:240,ConditionalOrExpressionTail:241,"||":242,RelationalExpression:243,ConditionalAndExpression_repetition0:244,ConditionalAndExpressionTail:245,"&&":246,NumericExpression:247,RelationalExpression_group0:248,RelationalExpression_option0:249,IN:250,MultiplicativeExpression:251,NumericExpression_repetition0:252,AdditiveExpressionTail:253,AdditiveExpressionTail_group0:254,NumericLiteralPositive:255,AdditiveExpressionTail_repetition0:256,NumericLiteralNegative:257,AdditiveExpressionTail_repetition1:258,UnaryExpression:259,MultiplicativeExpression_repetition0:260,MultiplicativeExpressionTail:261,MultiplicativeExpressionTail_group0:262,"+":263,PrimaryExpression:264,"-":265,ExprQuotedTP:266,Aggregate:267,FUNC_ARITY0:268,FUNC_ARITY1:269,FUNC_ARITY1_SPARQL_STAR:270,FUNC_ARITY2:271,",":272,FUNC_ARITY3:273,FUNC_ARITY3_SPARQL_STAR:274,BuiltInCall_group0:275,BOUND:276,BNODE:277,BuiltInCall_option0:278,EXISTS:279,COUNT:280,Aggregate_option0:281,Aggregate_group0:282,FUNC_AGGREGATE:283,Aggregate_option1:284,GROUP_CONCAT:285,Aggregate_option2:286,Aggregate_option3:287,GroupConcatSeparator:288,SEPARATOR:289,"=":290,String:291,LANGTAG:292,"^^":293,DECIMAL:294,DOUBLE:295,BOOLEAN:296,INTEGER_POSITIVE:297,DECIMAL_POSITIVE:298,DOUBLE_POSITIVE:299,INTEGER_NEGATIVE:300,DECIMAL_NEGATIVE:301,DOUBLE_NEGATIVE:302,STRING_LITERAL1:303,STRING_LITERAL2:304,STRING_LITERAL_LONG1:305,STRING_LITERAL_LONG2:306,PrefixedName:307,PNAME_LN:308,BLANK_NODE_LABEL:309,ANON:310,QuotedTP:311,"<<":312,qtSubjectOrObject:313,">>":314,DataValueTerm:315,AnnotationPattern:316,"{|":317,"|}":318,AnnotationPatternPath:319,ExprVarOrTerm:320,QueryOrUpdate_group0_option0:321,Prologue_repetition0_group0:322,Qry_group0_repetition_plus0:323,SelectClauseBase_option0_group0:324,DISTINCT:325,REDUCED:326,NAMED:327,SILENT:328,CLEAR:329,DROP:330,ADD:331,MOVE:332,COPY:333,ALL:334,".":335,UNION:336,"|":337,"/":338,PathElt_option0_group0:339,"?":340,"!=":341,"<":342,">":343,"<=":344,">=":345,NOT:346,CONCAT:347,COALESCE:348,SUBSTR:349,REGEX:350,REPLACE:351,$accept:0,$end:1},terminals_:{2:"error",6:"EOF",12:"BASE",13:"IRIREF",15:"PREFIX",16:"PNAME_NS",24:"CONSTRUCT",28:"WHERE",29:"{",31:"}",32:"DESCRIBE",36:"ASK",39:"*",41:"SELECT",45:"(",47:"AS",48:")",53:"FROM",63:"GROUP",64:"BY",70:"HAVING",73:"ORDER",76:"ASC",78:"DESC",81:"LIMIT",82:"INTEGER",83:"OFFSET",85:"VALUES",87:"VAR",89:"NIL",100:"LOAD",109:"TO",110:"CREATE",112:"GRAPH",113:"INSERTDATA",115:"DELETEDATA",116:"DELETEWHERE",121:"INTO",123:"DELETE",126:"INSERT",128:"USING",131:"WITH",132:"DEFAULT",159:"OPTIONAL",160:"MINUS",161:"SERVICE",163:"FILTER",164:"BIND",174:"UNDEF",193:";",197:"a",224:"!",229:"^",231:"[",232:"]",242:"||",246:"&&",250:"IN",263:"+",265:"-",268:"FUNC_ARITY0",269:"FUNC_ARITY1",270:"FUNC_ARITY1_SPARQL_STAR",271:"FUNC_ARITY2",272:",",273:"FUNC_ARITY3",274:"FUNC_ARITY3_SPARQL_STAR",276:"BOUND",277:"BNODE",279:"EXISTS",280:"COUNT",283:"FUNC_AGGREGATE",285:"GROUP_CONCAT",289:"SEPARATOR",290:"=",292:"LANGTAG",293:"^^",294:"DECIMAL",295:"DOUBLE",296:"BOOLEAN",297:"INTEGER_POSITIVE",298:"DECIMAL_POSITIVE",299:"DOUBLE_POSITIVE",300:"INTEGER_NEGATIVE",301:"DECIMAL_NEGATIVE",302:"DOUBLE_NEGATIVE",303:"STRING_LITERAL1",304:"STRING_LITERAL2",305:"STRING_LITERAL_LONG1",306:"STRING_LITERAL_LONG2",308:"PNAME_LN",309:"BLANK_NODE_LABEL",310:"ANON",312:"<<",314:">>",317:"{|",318:"|}",325:"DISTINCT",326:"REDUCED",327:"NAMED",328:"SILENT",329:"CLEAR",330:"DROP",331:"ADD",332:"MOVE",333:"COPY",334:"ALL",335:".",336:"UNION",337:"|",338:"/",340:"?",341:"!=",342:"<",343:">",344:"<=",345:">=",346:"NOT",347:"CONCAT",348:"COALESCE",349:"SUBSTR",350:"REGEX",351:"REPLACE"},productions_:[0,[3,3],[7,2],[4,1],[11,2],[14,3],[8,4],[8,4],[8,5],[8,7],[8,5],[8,4],[17,2],[21,2],[38,2],[43,1],[43,5],[49,4],[49,4],[52,3],[19,2],[23,2],[20,3],[62,3],[66,1],[66,1],[66,3],[66,5],[66,1],[69,2],[72,3],[75,2],[75,2],[75,1],[75,1],[80,2],[80,2],[80,4],[80,4],[84,2],[86,4],[86,4],[86,6],[86,2],[94,3],[96,3],[98,4],[98,3],[98,5],[98,4],[98,2],[98,2],[98,2],[98,5],[120,2],[118,3],[118,1],[125,2],[127,3],[130,2],[108,1],[108,2],[122,2],[105,1],[105,1],[114,3],[135,2],[138,7],[143,3],[57,3],[57,3],[147,2],[150,3],[154,3],[151,1],[151,2],[151,2],[151,3],[151,4],[151,2],[151,6],[151,1],[93,1],[93,1],[165,4],[166,4],[166,6],[171,1],[171,1],[171,1],[171,1],[158,2],[79,1],[79,1],[79,1],[68,2],[176,1],[176,5],[179,1],[179,4],[25,3],[182,3],[145,2],[145,2],[188,1],[186,2],[192,2],[190,2],[195,1],[195,1],[196,2],[199,2],[156,2],[156,2],[202,2],[207,1],[207,2],[205,2],[209,2],[211,2],[214,2],[216,2],[219,2],[218,2],[220,1],[220,2],[220,3],[225,1],[225,1],[225,4],[226,1],[226,2],[187,3],[187,3],[203,3],[203,3],[200,1],[200,1],[212,1],[212,1],[234,1],[235,1],[235,1],[139,1],[139,1],[44,1],[236,1],[236,1],[236,1],[236,1],[46,1],[238,2],[241,2],[239,2],[245,2],[243,1],[243,3],[243,4],[247,2],[253,2],[253,2],[253,2],[251,2],[261,2],[259,2],[259,2],[259,2],[259,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[264,1],[77,3],[67,1],[67,2],[67,4],[67,4],[67,6],[67,8],[67,8],[67,2],[67,4],[67,2],[67,4],[67,3],[267,5],[267,5],[267,6],[288,4],[172,1],[172,2],[172,3],[172,1],[172,1],[172,1],[172,1],[172,1],[172,1],[255,1],[255,1],[255,1],[257,1],[257,1],[257,1],[291,1],[291,1],[291,1],[291,1],[55,1],[55,1],[307,1],[307,1],[237,1],[237,1],[311,5],[173,5],[313,1],[313,1],[313,1],[313,1],[313,1],[315,1],[315,1],[315,1],[185,1],[185,1],[185,1],[316,3],[319,3],[266,5],[320,1],[320,1],[320,1],[223,1],[223,1],[321,0],[321,1],[5,1],[5,1],[5,1],[9,0],[9,1],[322,1],[322,1],[10,0],[10,2],[18,0],[18,2],[22,0],[22,2],[26,0],[26,2],[27,0],[27,2],[30,0],[30,1],[323,1],[323,2],[33,1],[33,1],[34,0],[34,2],[35,0],[35,1],[37,0],[37,2],[40,1],[40,2],[324,1],[324,1],[42,0],[42,1],[50,0],[50,1],[51,0],[51,1],[54,0],[54,1],[56,0],[56,1],[58,0],[58,1],[59,0],[59,1],[60,0],[60,1],[61,0],[61,1],[65,1],[65,2],[71,1],[71,2],[74,1],[74,2],[88,0],[88,2],[90,0],[90,2],[91,1],[91,2],[92,0],[92,2],[95,1],[95,2],[97,0],[97,4],[99,0],[99,2],[101,0],[101,1],[102,0],[102,1],[103,1],[103,1],[104,0],[104,1],[106,1],[106,1],[106,1],[107,0],[107,1],[111,0],[111,1],[117,0],[117,1],[119,0],[119,2],[124,0],[124,1],[129,0],[129,1],[133,0],[133,1],[134,1],[134,1],[134,1],[136,0],[136,1],[137,0],[137,2],[140,0],[140,1],[141,0],[141,1],[142,0],[142,1],[144,0],[144,3],[146,0],[146,1],[148,0],[148,1],[149,0],[149,2],[152,0],[152,1],[153,0],[153,1],[155,0],[155,3],[157,0],[157,1],[162,0],[162,1],[167,0],[167,2],[168,0],[168,2],[169,1],[169,2],[170,0],[170,2],[175,0],[175,3],[177,0],[177,1],[178,0],[178,3],[180,0],[180,3],[181,0],[181,1],[183,0],[183,3],[184,0],[184,1],[189,0],[189,1],[191,0],[191,2],[194,0],[194,1],[198,0],[198,3],[201,0],[201,1],[204,0],[204,1],[206,0],[206,2],[208,1],[208,1],[210,0],[210,3],[213,0],[213,1],[215,0],[215,3],[217,0],[217,3],[339,1],[339,1],[339,1],[221,0],[221,1],[222,0],[222,1],[227,0],[227,3],[228,0],[228,1],[230,1],[230,2],[233,1],[233,2],[240,0],[240,2],[244,0],[244,2],[248,1],[248,1],[248,1],[248,1],[248,1],[248,1],[249,0],[249,1],[252,0],[252,2],[254,1],[254,1],[256,0],[256,2],[258,0],[258,2],[260,0],[260,2],[262,1],[262,1],[275,1],[275,1],[275,1],[275,1],[275,1],[278,0],[278,1],[281,0],[281,1],[282,1],[282,1],[284,0],[284,1],[286,0],[286,1],[287,0],[287,1]],performAction:function(e,t,r,i,a,o,s){var c,l,u=o.length-1;switch(a){case 1:if(o[u-1]=o[u-1]||{},an.base&&(o[u-1].base=an.base),an.base="",o[u-1].prefixes=an.prefixes,an.prefixes=null,an.pathOnly){if("path"===o[u-1].type||"termType"in o[u-1])return o[u-1];throw new Error("Received full SPARQL query in path only mode")}if("path"===o[u-1].type||"termType"in o[u-1])throw new Error("Received only path in full SPARQL mode");if("update"===o[u-1].type){const e={};for(const t of o[u-1].updates)if("insert"===t.updateType){const r={};for(const e of t.insert)if("bgp"===e.type||"graph"===e.type)for(const t of e.triples)"BlankNode"===t.subject.termType&&(r[t.subject.value]=!0),"BlankNode"===t.predicate.termType&&(r[t.predicate.value]=!0),"BlankNode"===t.object.termType&&(r[t.object.value]=!0);for(const t of Object.keys(r)){if(e[t])throw new Error("Detected reuse blank node across different INSERT DATA clauses");e[t]=!0}}}return o[u-1];case 2:this.$=n(n(n({},o[u-1]),o[u]),{},{type:"query"});break;case 4:an.base=Er(o[u]);break;case 5:an.prefixes||(an.prefixes={}),o[u-1]=o[u-1].substr(0,o[u-1].length-1),o[u]=Er(o[u]),an.prefixes[o[u-1]]=o[u];break;case 6:this.$=n(n(n(n({},o[u-3]),Rr(o[u-2])),o[u-1]),o[u]);break;case 7:if(!an.skipValidation){if(Kr(o[u-3].variables.map(e=>Wr(e.expression))).some(e=>"count"===e.aggregation&&!(e.expression instanceof sr))||o[u].group)for(const e of o[u-3].variables)if("Variable"===e.termType){if(!o[u].group||!o[u].group.map(e=>Hr(e)).includes(Hr(e)))throw Error("Projection of ungrouped variable (?"+Hr(e)+")")}else if(0===Wr(e.expression).length){const t=Xr(e.expression);for(const e of t)if(!o[u].group||!o[u].group.map||!o[u].group.map(e=>Hr(e)).includes(Hr(e)))throw Error("Use of ungrouped variable in projection of operation (?"+Hr(e)+")")}}const e=o[u-1].where.filter(e=>"query"===e.type);if(e.length>0){const t=o[u-3].variables.filter(e=>e.variable&&e.variable.value).map(e=>e.variable.value),r=Kr(e.map(e=>e.variables)).map(e=>e.value||e.variable.value);for(const e of t)if(r.indexOf(e)>=0)throw Error("Target id of 'AS' (?"+e+") already used in subquery")}this.$=Tr(o[u-3],Rr(o[u-2]),o[u-1],o[u]);break;case 8:this.$=Tr({queryType:"CONSTRUCT",template:o[u-3]},Rr(o[u-2]),o[u-1],o[u]);break;case 9:this.$=Tr({queryType:"CONSTRUCT",template:o[u-2]=o[u-2]?o[u-2].triples:[]},Rr(o[u-5]),{where:[{type:"bgp",triples:Sr([],o[u-2])}]},o[u]);break;case 10:this.$=Tr({queryType:"DESCRIBE",variables:"*"===o[u-3]?[new sr]:o[u-3]},Rr(o[u-2]),o[u-1],o[u]);break;case 11:this.$=Tr({queryType:"ASK"},Rr(o[u-2]),o[u-1],o[u]);break;case 12:this.$=Tr(o[u-1],{variables:[new sr]});break;case 13:const t=function(e){const t=e.slice().sort(),r=[];for(let n=0;n<t.length-1;n++)t[n+1]==t[n]&&r.push(t[n]);return r}(o[u].map(e=>e.value||e.variable.value));if(t.length>0)throw Error("Two or more of the resulting columns have the same name (?"+t[0]+")");this.$=Tr(o[u-1],{variables:o[u]});break;case 14:this.$=Tr({queryType:"SELECT"},o[u]&&(o[u-1]=wr(o[u]),o[u]={},o[u][o[u-1]]=!0,o[u]));break;case 16:case 27:this.$=Nr(o[u-3],{variable:o[u-1]});break;case 17:case 18:this.$=Tr(o[u-3],o[u-2],o[u-1],o[u],{type:"query"});break;case 19:case 58:this.$={iri:o[u],named:!!o[u-1]};break;case 20:this.$={where:o[u].patterns};break;case 21:this.$=Tr(o[u-1],o[u]);break;case 22:this.$=Tr(o[u-2],o[u-1],o[u]);break;case 23:this.$={group:o[u]};break;case 24:case 25:case 28:case 31:case 33:case 34:this.$=Nr(o[u]);break;case 26:this.$=Nr(o[u-1]);break;case 29:this.$={having:o[u]};break;case 30:this.$={order:o[u]};break;case 32:this.$=Nr(o[u],{descending:!0});break;case 35:this.$={limit:Ir(o[u])};break;case 36:this.$={offset:Ir(o[u])};break;case 37:this.$={limit:Ir(o[u-2]),offset:Ir(o[u])};break;case 38:this.$={limit:Ir(o[u]),offset:Ir(o[u-2])};break;case 39:case 43:this.$={type:"values",values:o[u]};break;case 40:case 84:this.$=o[u-1].map(e=>({[o[u-3]]:e}));break;case 41:case 85:this.$=o[u-1].map(()=>({}));break;case 42:case 86:var d=o[u-4].length;o[u-4]=o[u-4].map(Ar),this.$=o[u-1].map(function(e){if(e.length!==d)throw Error("Inconsistent VALUES length");for(var t={},r=0;r<d;r++)t["?"+o[u-4][r].value]=e[r];return t});break;case 44:case 65:case 100:case 126:case 175:this.$=o[u-1];break;case 45:this.$={type:"update",updates:xr(o[u-2],o[u-1])};break;case 46:this.$=Tr({type:"load",silent:!!o[u-2],source:o[u-1]},o[u]&&{destination:o[u]});break;case 47:this.$={type:wr(o[u-2]),silent:!!o[u-1],graph:o[u]};break;case 48:this.$={type:wr(o[u-4]),silent:!!o[u-3],source:o[u-2],destination:o[u]};break;case 49:this.$={type:"create",silent:!!o[u-2],graph:{type:"graph",name:o[u]}};break;case 50:this.$={updateType:"insert",insert:tn(o[u])};break;case 51:this.$={updateType:"delete",delete:rn(tn(o[u]))};break;case 52:this.$={updateType:"deletewhere",delete:rn(o[u])};break;case 53:this.$=n(n(n(n({updateType:"insertdelete"},o[u-4]),o[u-3]),Rr(o[u-2],"using")),{},{where:o[u].patterns});break;case 54:case 57:case 62:case 167:case 191:case 236:this.$=o[u];break;case 55:this.$={delete:rn(o[u-1]),insert:o[u]||[]};break;case 56:this.$={delete:[],insert:o[u]};break;case 59:this.$={graph:o[u]};break;case 60:this.$={type:"graph",default:!0};break;case 61:case 63:this.$={type:"graph",name:o[u]};break;case 64:this.$={[wr(o[u])]:!0};break;case 66:this.$=o[u-1]?Or(o[u],[o[u-1]]):Or(o[u]);break;case 67:var h=Tr(o[u-3]||{triples:[]},{type:"graph",name:o[u-5]});this.$=o[u]?[h,o[u]]:[h];break;case 68:case 73:this.$={type:"bgp",triples:Or(o[u-2],[o[u-1]])};break;case 69:this.$={type:"group",patterns:[o[u-1]]};break;case 70:for(const r of o[u-1].filter(e=>"bind"===e.type)){const e=o[u-1].indexOf(r),t=new Set;for(const r of o[u-1].slice(0,e))"group"!==r.type&&"bgp"!==r.type||Yr(r).forEach(e=>t.add(e));if(t.has(r.variable.value))throw Error("Variable used to bind is already bound (?"+r.variable.value+")")}this.$={type:"group",patterns:o[u-1]};break;case 71:this.$=o[u-1]?Or([o[u-1]],o[u]):Or(o[u]);break;case 72:this.$=o[u]?[o[u-2],o[u]]:o[u-2];break;case 75:this.$=Tr(o[u],{type:"optional"});break;case 76:this.$=Tr(o[u],{type:"minus"});break;case 77:this.$=Tr(o[u],{type:"graph",name:o[u-1]});break;case 78:this.$=Tr(o[u],{type:"service",name:o[u-1],silent:!!o[u-2]});break;case 79:this.$={type:"filter",expression:o[u]};break;case 80:this.$={type:"bind",variable:o[u-1],expression:o[u-3]};break;case 89:this.$=Jr(o[u]);break;case 90:this.$=void 0;break;case 91:this.$=o[u-1].length?{type:"union",patterns:Or(o[u-1].map(Fr),[Fr(o[u])])}:o[u];break;case 95:this.$=n(n({},o[u]),{},{function:o[u-1]});break;case 96:this.$={type:"functionCall",args:[]};break;case 97:this.$={type:"functionCall",args:xr(o[u-2],o[u-1]),distinct:!!o[u-3]};break;case 98:case 115:case 128:case 247:case 249:case 251:case 253:case 255:case 263:case 267:case 297:case 299:case 303:case 307:case 328:case 341:case 349:case 355:case 361:case 367:case 369:case 373:case 375:case 379:case 381:case 385:case 391:case 395:case 401:case 405:case 409:case 411:case 420:case 428:case 430:case 440:case 444:case 446:case 448:this.$=[];break;case 99:this.$=xr(o[u-2],o[u-1]);break;case 101:this.$=Or(o[u-2],[o[u-1]]);break;case 102:case 112:this.$=en(o[u].map(e=>Tr(kr(o[u-1]),e)));break;case 103:this.$=en(Sr(o[u].map(e=>Tr(kr(o[u-1].entity),e)),o[u-1].triples));break;case 105:this.$=Or([o[u-1]],o[u]);break;case 106:this.$=Or(o[u]);break;case 107:this.$=Gr(o[u-1],o[u]);break;case 109:case 237:this.$=an.factory.namedNode(lr);break;case 110:case 118:this.$=xr(o[u-1],o[u]);break;case 111:this.$=o[u]?{annotation:o[u],object:o[u-1]}:o[u-1];break;case 113:this.$=o[u]?en(Sr(o[u].map(e=>Tr(kr(o[u-1].entity),e)),o[u-1].triples)):o[u-1].triples;break;case 114:this.$=Gr(...o[u-1],o[u]);break;case 116:this.$=Gr(...o[u]);break;case 117:case 159:case 163:this.$=[o[u-1],o[u]];break;case 119:this.$=o[u]?{object:o[u-1],annotation:o[u]}:o[u-1];break;case 120:this.$=o[u-1].length?jr("|",xr(o[u-1],o[u])):o[u];break;case 121:this.$=o[u-1].length?jr("/",xr(o[u-1],o[u])):o[u];break;case 122:this.$=o[u]?jr(o[u],[o[u-1]]):o[u-1];break;case 123:this.$=o[u-1]?jr(o[u-1],[o[u]]):o[u];break;case 125:case 131:this.$=jr(o[u-1],[o[u]]);break;case 129:this.$=jr("|",xr(o[u-2],o[u-1]));break;case 132:case 134:this.$=function(e){var t=Lr(),r=t,n=[],i=[];e.forEach(function(e){n.push(e.entity),Sr(i,e.triples)});for(var a=0,o=0,s=n.length,c=Array(2*s);a<s;)c[o++]=kr(r,an.factory.namedNode(ur),n[a]),c[o++]=kr(r,an.factory.namedNode(dr),r=++a<s?Lr():an.factory.namedNode(hr));return{entity:t,triples:Sr(c,i)}}(o[u-1]);break;case 133:case 135:this.$=function(e){var t=Lr();return{entity:t,triples:e.map(function(e){return Tr(kr(t),e)})}}(o[u-1]);break;case 140:this.$={entity:o[u],triples:[]};break;case 145:this.$=Ar(o[u]);break;case 149:this.$=an.factory.namedNode(hr);break;case 151:case 153:case 158:case 162:this.$=Dr(o[u-1],o[u]);break;case 152:this.$=["||",o[u]];break;case 154:this.$=["&&",o[u]];break;case 156:this.$=Pr(o[u-1],[o[u-2],o[u]]);break;case 157:this.$=Pr(o[u-2]?"notin":"in",[o[u-3],o[u]]);break;case 160:this.$=["+",Dr(o[u-1],o[u])];break;case 161:var p=Cr(o[u-1].value.replace("-",""),o[u-1].datatype);this.$=["-",Dr(p,o[u])];break;case 164:this.$=Pr("UPLUS",[o[u]]);break;case 165:this.$=Pr(o[u-1],[o[u]]);break;case 166:this.$=Pr("UMINUS",[o[u]]);break;case 177:this.$=Pr(wr(o[u-1]));break;case 178:this.$=Pr(wr(o[u-3]),[o[u-1]]);break;case 179:this.$=Jr(Pr(wr(o[u-3]),[o[u-1]]));break;case 180:this.$=Pr(wr(o[u-5]),[o[u-3],o[u-1]]);break;case 181:this.$=Pr(wr(o[u-7]),[o[u-5],o[u-3],o[u-1]]);break;case 182:this.$=Jr(Pr(wr(o[u-7]),[o[u-5],o[u-3],o[u-1]]));break;case 183:this.$=Pr(wr(o[u-1]),o[u]);break;case 184:this.$=Pr("bound",[Ar(o[u-1])]);break;case 185:this.$=Pr(o[u-1],[]);break;case 186:this.$=Pr(o[u-3],[o[u-1]]);break;case 187:this.$=Pr(o[u-2]?"notexists":"exists",[Fr(o[u])]);break;case 188:case 189:this.$=Nr(o[u-1],{type:"aggregate",aggregation:wr(o[u-4]),distinct:!!o[u-2]});break;case 190:this.$=Nr(o[u-2],{type:"aggregate",aggregation:wr(o[u-5]),distinct:!!o[u-3],separator:"string"===typeof o[u-1]?o[u-1]:" "});break;case 192:this.$=Cr(o[u]);break;case 193:this.$=(c=o[u-1],l=wr(o[u].substr(1)),an.factory.literal(c,l));break;case 194:this.$=Cr(o[u-2],o[u]);break;case 195:case 204:this.$=Cr(o[u],fr);break;case 196:case 205:this.$=Cr(o[u],gr);break;case 197:case 206:this.$=Cr(wr(o[u]),yr);break;case 200:this.$=Cr(o[u].toLowerCase(),mr);break;case 201:this.$=Cr(o[u].substr(1),fr);break;case 202:this.$=Cr(o[u].substr(1),gr);break;case 203:this.$=Cr(o[u].substr(1).toLowerCase(),yr);break;case 207:case 208:this.$=Qr(o[u],1);break;case 209:case 210:this.$=Qr(o[u],3);break;case 211:this.$=an.factory.namedNode(Er(o[u]));break;case 213:var f=o[u].indexOf(":"),g=o[u].substr(0,f),y=an.prefixes[g];if(!y)throw new Error("Unknown prefix: "+g);var m=Er(y+o[u].substr(f+1));this.$=an.factory.namedNode(m);break;case 214:if(o[u]=o[u].substr(0,o[u].length-1),!(o[u]in an.prefixes))throw new Error("Unknown prefix: "+o[u]);m=Er(an.prefixes[o[u]]);this.$=an.factory.namedNode(m);break;case 215:this.$=Lr(o[u].replace(/^(_:)/,""));break;case 216:this.$=Lr();break;case 217:case 218:case 232:this.$=Jr(Mr(o[u-3],o[u-2],o[u-1]));break;case 230:case 231:this.$=Jr(o[u-1]);break;case 248:case 250:case 252:case 254:case 256:case 260:case 264:case 268:case 270:case 292:case 294:case 296:case 298:case 300:case 302:case 304:case 306:case 329:case 342:case 356:case 368:case 370:case 372:case 374:case 392:case 402:case 425:case 427:case 429:case 431:case 441:case 445:case 447:case 449:o[u-1].push(o[u]);break;case 259:case 269:case 291:case 293:case 295:case 301:case 305:case 371:case 424:case 426:this.$=[o[u]];break;case 308:o[u-3].push(o[u-2]);break;case 350:case 362:case 376:case 380:case 382:case 386:case 396:case 406:case 410:case 412:case 421:o[u-2].push(o[u-1])}},table:[e(t,i,{3:1,4:2,10:3}),{1:[3]},e(a,[2,307],{5:4,7:5,321:6,214:7,8:8,96:9,215:10,17:11,21:12,97:16,38:17,6:[2,238],13:o,16:o,45:o,197:o,224:o,229:o,308:o,24:[1,13],32:[1,14],36:[1,15],41:s}),e([6,13,16,24,32,36,41,45,100,110,113,115,116,123,126,131,197,224,229,308,329,330,331,332,333],[2,3],{322:19,11:20,14:21,12:[1,22],15:[1,23]}),{6:[1,24]},{6:[2,240]},{6:[2,241]},{6:[2,242]},{6:[2,243],9:25,84:26,85:c},{6:[2,239]},e(l,[2,411],{216:28,217:29}),e(u,[2,249],{18:30}),e(u,[2,251],{22:31}),e(d,[2,255],{25:32,27:33,29:[1,34]}),{13:h,16:p,33:35,39:[1,37],44:39,55:40,87:f,139:38,307:43,308:g,323:36},e(u,[2,267],{37:46}),e(y,[2,326],{98:47,103:49,106:50,117:55,130:61,100:[1,48],110:[1,51],113:[1,52],115:[1,53],116:[1,54],131:[1,62],329:[1,56],330:[1,57],331:[1,58],332:[1,59],333:[1,60]}),{39:[1,63],40:64,43:65,44:66,45:m,87:f},e(v,[2,273],{42:68,324:69,325:[1,70],326:[1,71]}),e(t,[2,248]),e(t,[2,245]),e(t,[2,246]),{13:[1,72]},{16:[1,73]},{1:[2,1]},{6:[2,2]},{6:[2,244]},{45:[1,77],85:[1,78],86:74,87:[1,75],89:[1,76]},e([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312],[2,120],{337:[1,79]}),e(b,[2,418],{218:80,222:81,229:[1,82]}),{19:83,28:_,29:w,52:84,53:x,56:85},{19:88,28:_,29:w,52:89,53:x,56:85},e(u,[2,253],{26:90}),{28:[1,91],52:92,53:x},e(S,[2,385],{181:93,182:94,183:95,31:[2,383]}),e(T,[2,263],{34:96}),e(T,[2,261],{44:39,55:40,307:43,139:97,13:h,16:p,87:f,308:g}),e(T,[2,262]),e(O,[2,259]),e(E,[2,143]),e(E,[2,144]),e([6,13,16,28,29,31,39,45,47,48,53,63,70,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,197,224,229,231,232,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,314,317,318,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,145]),e(A,[2,211]),e(A,[2,212]),e(A,[2,213]),e(A,[2,214]),{19:98,28:_,29:w,52:99,53:x,56:85},{6:[2,309],99:100,193:[1,101]},e(P,[2,311],{101:102,328:[1,103]}),e(N,[2,317],{104:104,328:[1,105]}),e(j,[2,322],{107:106,328:[1,107]}),{111:108,112:[2,324],328:[1,109]},{29:D,114:110},{29:D,114:112},{29:D,114:113},{118:114,123:[1,115],125:116,126:R},e(I,[2,315]),e(I,[2,316]),e(F,[2,319]),e(F,[2,320]),e(F,[2,321]),e(y,[2,327]),{13:h,16:p,55:118,307:43,308:g},e(u,[2,12]),e(u,[2,13],{44:66,43:119,45:m,87:f}),e(C,[2,269]),e(C,[2,15]),{13:h,16:p,44:136,45:M,46:120,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e(v,[2,14]),e(v,[2,274]),e(v,[2,271]),e(v,[2,272]),e(t,[2,4]),{13:[1,177]},e(be,[2,39]),{29:[1,178]},{29:[1,179]},{87:[1,181],91:180},{45:[1,187],87:[1,185],89:[1,186],93:182,165:183,166:184},e(l,[2,410]),e([6,13,16,45,48,82,87,89,231,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,337],[2,121],{338:[1,188]}),{13:h,16:p,45:[1,193],55:194,197:_e,219:189,220:190,223:191,224:[1,192],307:43,308:g},e(b,[2,419]),e(we,xe,{20:196,59:197,69:198,70:Se}),e(u,[2,250]),{29:Te,57:200},e(P,[2,279],{54:202,327:[1,203]}),{29:[2,282]},e(Oe,Ee,{23:204,58:205,62:206,63:Ae}),e(u,[2,252]),{19:208,28:_,29:w,52:209,53:x,56:85},{29:[1,210]},e(d,[2,256]),{31:[1,211]},{31:[2,384]},{13:h,16:p,44:215,45:Pe,55:220,82:k,87:f,89:Ne,145:212,172:221,185:213,187:214,231:je,236:216,237:222,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,309:De,310:Re,311:217,312:Ie},e(Fe,[2,265],{56:85,35:227,52:228,19:229,28:_,29:w,53:x}),e(O,[2,260]),e(Oe,Ee,{58:205,62:206,23:230,63:Ae}),e(u,[2,268]),{6:[2,45]},e(t,i,{10:3,4:231}),{13:h,16:p,55:232,307:43,308:g},e(P,[2,312]),{105:233,112:Ce,122:234,132:[1,237],134:235,327:[1,238],334:[1,239]},e(N,[2,318]),e(P,Me,{108:240,133:242,112:ke,132:Le}),e(j,[2,323]),{112:[1,244]},{112:[2,325]},e(Be,[2,50]),e(S,Ue,{135:245,136:246,143:247,144:248,31:Ve,112:Ve}),e(Be,[2,51]),e(Be,[2,52]),e(ze,[2,328],{119:249}),{29:D,114:250},e(ze,[2,56]),{29:D,114:251},e(y,[2,59]),e(C,[2,270]),{47:[1,252]},e(qe,[2,150]),e(Qe,[2,428],{240:253}),e(Ge,[2,430],{244:254}),e(Ge,[2,155],{248:255,249:256,250:[2,438],290:[1,257],341:[1,258],342:[1,259],343:[1,260],344:[1,261],345:[1,262],346:[1,263]}),e(He,[2,440],{252:264}),e(We,[2,448],{260:265}),{13:h,16:p,44:136,45:M,55:133,67:132,68:134,77:131,82:k,87:f,172:135,255:154,257:155,264:266,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},{13:h,16:p,44:136,45:M,55:133,67:132,68:134,77:131,82:k,87:f,172:135,255:154,257:155,264:267,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},{13:h,16:p,44:136,45:M,55:133,67:132,68:134,77:131,82:k,87:f,172:135,255:154,257:155,264:268,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e(We,[2,167]),e(We,[2,168]),e(We,[2,169]),e(We,[2,170],{176:269,45:Xe,89:Ke}),e(We,[2,171]),e(We,[2,172]),e(We,[2,173]),e(We,[2,174]),{13:h,16:p,44:136,45:M,46:272,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e($e,[2,176]),{89:[1,273]},{45:[1,274]},{45:[1,275]},{45:[1,276]},{45:[1,277]},{45:[1,278]},{45:Ye,89:Je,179:279},{45:[1,282]},{45:[1,284],89:[1,283]},{279:[1,285]},e(Ze,[2,192],{292:[1,286],293:[1,287]}),e(Ze,[2,195]),e(Ze,[2,196]),e(Ze,[2,197]),e(Ze,[2,198]),e(Ze,[2,199]),e(Ze,[2,200]),{13:h,16:p,44:39,55:40,82:k,87:f,139:289,172:291,255:154,257:155,266:290,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,320:288},{45:[1,292]},{45:[1,293]},{45:[1,294]},e(et,[2,452]),e(et,[2,453]),e(et,[2,454]),e(et,[2,455]),e(et,[2,456]),{279:[2,458]},e(tt,[2,207]),e(tt,[2,208]),e(tt,[2,209]),e(tt,[2,210]),e(Ze,[2,201]),e(Ze,[2,202]),e(Ze,[2,203]),e(Ze,[2,204]),e(Ze,[2,205]),e(Ze,[2,206]),e(t,[2,5]),e(rt,[2,297],{88:295}),e(nt,[2,299],{90:296}),{48:[1,297],87:[1,298]},e(it,[2,301]),e(be,[2,43]),e(be,[2,82]),e(be,[2,83]),{29:[1,299]},{29:[1,300]},{87:[1,302],169:301},e(l,[2,412]),e(at,[2,123]),e(at,[2,416],{221:303,339:304,39:[1,306],263:[1,307],340:[1,305]}),e(ot,[2,124]),{13:h,16:p,45:[1,311],55:194,89:[1,310],197:_e,223:312,225:308,226:309,229:st,307:43,308:g},e(l,o,{215:10,214:314}),e(ot,[2,236]),e(ot,[2,237]),e(ct,[2,6]),e(lt,[2,287],{60:315,72:316,73:[1,317]}),e(we,[2,286]),{13:h,16:p,45:M,55:323,67:321,68:322,71:318,77:320,79:319,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,307:43,308:g,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e([6,31,63,70,73,81,83,85],[2,20]),e(S,ut,{38:17,49:324,147:325,17:326,21:327,148:328,154:329,155:330,29:dt,31:dt,85:dt,112:dt,159:dt,160:dt,161:dt,163:dt,164:dt,41:s}),{13:h,16:p,55:331,307:43,308:g},e(P,[2,280]),e(ct,[2,7]),e(we,xe,{59:197,69:198,20:332,70:Se}),e(Oe,[2,284]),{64:[1,333]},e(Oe,Ee,{58:205,62:206,23:334,63:Ae}),e(u,[2,254]),e(S,Ue,{144:248,30:335,143:336,31:[2,257]}),e(u,[2,100]),{31:[2,387],184:337,335:[1,338]},{13:h,16:p,44:39,55:40,87:f,139:342,186:339,190:340,195:341,197:ht,307:43,308:g},e(pt,[2,389],{44:39,55:40,307:43,190:340,195:341,139:342,188:344,189:345,186:346,13:h,16:p,87:f,197:ht,308:g}),e(ft,[2,227]),e(ft,[2,228]),e(ft,[2,229]),{13:h,16:p,44:215,45:Pe,55:220,82:k,87:f,89:Ne,172:221,185:351,187:350,200:348,230:347,231:je,234:349,236:216,237:222,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,309:De,310:Re,311:217,312:Ie},{13:h,16:p,44:39,55:40,87:f,139:342,186:352,190:340,195:341,197:ht,307:43,308:g},e(ft,[2,146]),e(ft,[2,147]),e(ft,[2,148]),e(ft,[2,149]),{13:h,16:p,44:354,55:355,82:k,87:f,172:357,237:356,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,309:De,310:Re,311:358,312:Ie,313:353},e(gt,[2,215]),e(gt,[2,216]),e(Oe,Ee,{58:205,62:206,23:359,63:Ae}),e(T,[2,264]),e(Fe,[2,266]),e(ct,[2,11]),e(a,[2,308],{6:[2,310]}),e(Be,[2,313],{102:360,120:361,121:[1,362]}),e(Be,[2,47]),e(Be,[2,63]),e(Be,[2,64]),{13:h,16:p,55:363,307:43,308:g},e(Be,[2,336]),e(Be,[2,337]),e(Be,[2,338]),{109:[1,364]},e(yt,[2,60]),{13:h,16:p,55:365,307:43,308:g},e(P,[2,335]),{13:h,16:p,55:366,307:43,308:g},{31:[1,367]},e(mt,[2,341],{137:368}),e(mt,[2,340]),{13:h,16:p,44:215,45:Pe,55:220,82:k,87:f,89:Ne,145:369,172:221,185:213,187:214,231:je,236:216,237:222,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,309:De,310:Re,311:217,312:Ie},{28:[1,370],127:371,128:[1,372]},e(ze,[2,330],{124:373,125:374,126:R}),e(ze,[2,57]),{44:375,87:f},e(qe,[2,151],{241:376,242:[1,377]}),e(Qe,[2,153],{245:378,246:[1,379]}),{13:h,16:p,44:136,45:M,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,247:380,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},{250:[1,381]},e(vt,[2,432]),e(vt,[2,433]),e(vt,[2,434]),e(vt,[2,435]),e(vt,[2,436]),e(vt,[2,437]),{250:[2,439]},e([47,48,193,242,246,250,272,290,341,342,343,344,345,346],[2,158],{253:382,254:383,255:384,257:385,263:[1,386],265:[1,387],297:re,298:ne,299:ie,300:ae,301:oe,302:se}),e(He,[2,162],{261:388,262:389,39:bt,338:_t}),e(We,[2,164]),e(We,[2,165]),e(We,[2,166]),e($e,[2,95]),e($e,[2,96]),e(vt,[2,377],{177:392,325:[1,393]}),{48:[1,394]},e($e,[2,177]),{13:h,16:p,44:136,45:M,46:395,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},{13:h,16:p,44:136,45:M,46:396,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},{13:h,16:p,44:136,45:M,46:397,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},{13:h,16:p,44:136,45:M,46:398,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},{13:h,16:p,44:136,45:M,46:399,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e($e,[2,183]),e($e,[2,98]),e(vt,[2,381],{180:400}),{87:[1,401]},e($e,[2,185]),{13:h,16:p,44:136,45:M,46:402,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},{29:Te,57:403},e(Ze,[2,193]),{13:h,16:p,55:404,307:43,308:g},{13:h,16:p,44:39,55:40,87:f,139:342,195:405,197:ht,307:43,308:g},e(wt,[2,233]),e(wt,[2,234]),e(wt,[2,235]),e(xt,[2,459],{281:406,325:[1,407]}),e(vt,[2,463],{284:408,325:[1,409]}),e(vt,[2,465],{286:410,325:[1,411]}),{13:h,16:p,31:[1,412],55:414,82:k,171:413,172:415,173:416,174:St,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:Tt},{31:[1,419],89:[1,420]},{29:[1,421]},e(it,[2,302]),e(rt,[2,367],{167:422}),e(nt,[2,369],{168:423}),{48:[1,424],87:[1,425]},e(it,[2,371]),e(at,[2,122]),e(at,[2,417]),e(at,[2,413]),e(at,[2,414]),e(at,[2,415]),e(ot,[2,125]),e(ot,[2,127]),e(ot,[2,128]),e(Ot,[2,420],{227:426}),e(ot,[2,130]),{13:h,16:p,55:194,197:_e,223:427,307:43,308:g},{48:[1,428]},e(Et,[2,289],{61:429,80:430,81:[1,431],83:[1,432]}),e(lt,[2,288]),{64:[1,433]},e(we,[2,29],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:434,13:h,16:p,45:M,268:V,269:z,270:q,271:Q,273:G,274:H,276:W,277:X,279:K,280:$,283:Y,285:J,308:g,346:pe,347:fe,348:ge,349:ye,350:me,351:ve}),e(At,[2,293]),e(Pt,[2,92]),e(Pt,[2,93]),e(Pt,[2,94]),{45:Xe,89:Ke,176:269},{31:[1,435]},{31:[1,436]},{19:437,28:_,29:w,56:85},{19:438,28:_,29:w,56:85},e(Nt,[2,355],{149:439}),e(Nt,[2,354]),{13:h,16:p,44:215,45:jt,55:220,82:k,87:f,89:Ne,156:440,172:221,185:441,203:442,231:Dt,236:216,237:222,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,309:De,310:Re,311:217,312:Ie},e(T,[2,19]),e(Et,[2,21]),{13:h,16:p,44:450,45:Rt,55:323,65:445,66:446,67:447,68:448,87:f,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,307:43,308:g,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e(ct,[2,8]),{31:[1,451]},{31:[2,258]},{31:[2,101]},e(S,[2,386],{31:[2,388]}),e(pt,[2,102]),e(It,[2,391],{191:452}),e(S,[2,395],{196:453,198:454}),e(S,[2,108]),e(S,[2,109]),e(pt,[2,103]),e(pt,[2,104]),e(pt,[2,390]),{13:h,16:p,44:215,45:Pe,48:[1,455],55:220,82:k,87:f,89:Ne,172:221,185:351,187:350,200:456,231:je,234:349,236:216,237:222,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,309:De,310:Re,311:217,312:Ie},e(Ft,[2,424]),e(Ct,[2,136]),e(Ct,[2,137]),e(Mt,[2,140]),{232:[1,457]},{13:h,16:p,44:39,55:40,87:f,139:342,195:458,197:ht,307:43,308:g},e(wt,[2,219]),e(wt,[2,220]),e(wt,[2,221]),e(wt,[2,222]),e(wt,[2,223]),e(ct,[2,10]),e(Be,[2,46]),e(Be,[2,314]),{112:Ce,122:459},e(Be,[2,62]),e(P,Me,{133:242,108:460,112:ke,132:Le}),e(yt,[2,61]),e(Be,[2,49]),e([6,28,126,128,193],[2,65]),{31:[2,66],112:[1,462],138:461},e(mt,[2,351],{146:463,335:[1,464]}),{29:Te,57:465},e(ze,[2,329]),e(P,[2,332],{129:466,327:[1,467]}),e(ze,[2,55]),e(ze,[2,331]),{48:[1,468]},e(Qe,[2,429]),{13:h,16:p,44:136,45:M,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,239:469,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e(Ge,[2,431]),{13:h,16:p,44:136,45:M,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,243:470,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e(Ge,[2,156]),{45:Ye,89:Je,179:471},e(He,[2,441]),{13:h,16:p,44:136,45:M,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,251:472,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e(We,[2,444],{256:473}),e(We,[2,446],{258:474}),e(vt,[2,442]),e(vt,[2,443]),e(We,[2,449]),{13:h,16:p,44:136,45:M,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,255:154,257:155,259:475,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e(vt,[2,450]),e(vt,[2,451]),e(vt,[2,379],{178:476}),e(vt,[2,378]),e([6,13,16,29,31,39,45,47,48,73,76,78,81,82,83,85,87,89,112,159,160,161,163,164,193,231,242,246,250,263,265,268,269,270,271,272,273,274,276,277,279,280,283,285,290,294,295,296,297,298,299,300,301,302,303,304,305,306,308,309,310,312,335,338,341,342,343,344,345,346,347,348,349,350,351],[2,175]),{48:[1,477]},{48:[1,478]},{272:[1,479]},{272:[1,480]},{272:[1,481]},{13:h,16:p,44:136,45:M,46:482,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},{48:[1,483]},{48:[1,484]},e($e,[2,187]),e(Ze,[2,194]),{13:h,16:p,44:39,55:40,82:k,87:f,139:289,172:291,255:154,257:155,266:290,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,320:485},{13:h,16:p,39:[1,487],44:136,45:M,46:488,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,282:486,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e(xt,[2,460]),{13:h,16:p,44:136,45:M,46:489,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e(vt,[2,464]),{13:h,16:p,44:136,45:M,46:490,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e(vt,[2,466]),e(be,[2,40]),e(rt,[2,298]),e(kt,[2,87]),e(kt,[2,88]),e(kt,[2,89]),e(kt,[2,90]),{13:h,16:p,55:492,82:k,172:493,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,311:494,312:Ie,315:491},e(be,[2,41]),e(nt,[2,300]),e(Lt,[2,303],{92:495}),{13:h,16:p,31:[1,496],55:414,82:k,171:497,172:415,173:416,174:St,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:Tt},{31:[1,498],89:[1,499]},{29:[1,500]},e(it,[2,372]),{13:h,16:p,48:[2,422],55:194,197:_e,223:312,226:502,228:501,229:st,307:43,308:g},e(ot,[2,131]),e(ot,[2,126]),e(Et,[2,22]),e(Et,[2,290]),{82:[1,503]},{82:[1,504]},{13:h,16:p,44:510,45:M,55:323,67:321,68:322,74:505,75:506,76:Bt,77:320,78:Ut,79:509,87:f,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,307:43,308:g,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e(At,[2,294]),e(Vt,[2,69]),e(Vt,[2,70]),e(we,xe,{59:197,69:198,20:511,70:Se}),e(Oe,Ee,{58:205,62:206,23:512,63:Ae}),{29:[2,375],31:[2,71],84:522,85:c,112:[1,518],150:513,151:514,158:515,159:[1,516],160:[1,517],161:[1,519],163:[1,520],164:[1,521],175:523},e(Nt,[2,363],{157:524,335:[1,525]}),e(l,o,{215:10,202:526,205:527,208:528,214:529,44:530,87:f}),e(zt,[2,399],{215:10,205:527,208:528,214:529,44:530,204:531,202:532,13:o,16:o,45:o,197:o,224:o,229:o,308:o,87:f}),{13:h,16:p,44:215,45:jt,55:220,82:k,87:f,89:Ne,172:221,185:351,203:536,212:534,231:Dt,233:533,234:535,236:216,237:222,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,309:De,310:Re,311:217,312:Ie},e(l,o,{215:10,205:527,208:528,214:529,44:530,202:537,87:f}),e(Oe,[2,23],{307:43,267:139,275:146,278:149,55:323,67:447,68:448,44:450,66:538,13:h,16:p,45:Rt,87:f,268:V,269:z,270:q,271:Q,273:G,274:H,276:W,277:X,279:K,280:$,283:Y,285:J,308:g,346:pe,347:fe,348:ge,349:ye,350:me,351:ve}),e(qt,[2,291]),e(qt,[2,24]),e(qt,[2,25]),{13:h,16:p,44:136,45:M,46:539,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e(qt,[2,28]),e(Oe,Ee,{58:205,62:206,23:540,63:Ae}),e([31,112,232,318,335],[2,105],{192:541,193:[1,542]}),e(It,[2,107]),{13:h,16:p,44:215,45:Pe,55:220,82:k,87:f,89:Ne,172:221,185:351,187:350,199:543,200:544,231:je,234:349,236:216,237:222,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,309:De,310:Re,311:217,312:Ie},e(Qt,[2,132]),e(Ft,[2,425]),e(Qt,[2,133]),{13:h,16:p,44:354,55:355,82:k,87:f,172:357,237:356,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,309:De,310:Re,311:358,312:Ie,313:545},e(Be,[2,54]),e(Be,[2,48]),e(mt,[2,342]),{13:h,16:p,44:39,55:40,87:f,139:546,307:43,308:g},e(mt,[2,68]),e(S,[2,350],{31:Gt,112:Gt}),e(Be,[2,53]),{13:h,16:p,55:547,307:43,308:g},e(P,[2,333]),e(C,[2,16]),e(Qe,[2,152]),e(Ge,[2,154]),e(Ge,[2,157]),e(He,[2,159]),e(He,[2,160],{262:389,261:548,39:bt,338:_t}),e(He,[2,161],{262:389,261:549,39:bt,338:_t}),e(We,[2,163]),{13:h,16:p,44:136,45:M,46:550,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e($e,[2,178]),e($e,[2,179]),{13:h,16:p,44:136,45:M,46:551,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},{13:h,16:p,44:136,45:M,46:552,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},{13:h,16:p,44:136,45:M,46:553,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},{48:[1,554],272:[1,555]},e($e,[2,184]),e($e,[2,186]),{314:[1,556]},{48:[1,557]},{48:[2,461]},{48:[2,462]},{48:[1,558]},{48:[2,467],193:[1,561],287:559,288:560},{13:h,16:p,55:194,197:_e,223:562,307:43,308:g},e(Ht,[2,224]),e(Ht,[2,225]),e(Ht,[2,226]),{31:[1,563],45:Wt,94:564},e(be,[2,84]),e(rt,[2,368]),e(be,[2,85]),e(nt,[2,370]),e(Lt,[2,373],{170:566}),{48:[1,567]},{48:[2,423],337:[1,568]},e(Et,[2,35],{83:[1,569]}),e(Et,[2,36],{81:[1,570]}),e(lt,[2,30],{307:43,267:139,275:146,278:149,77:320,67:321,68:322,55:323,79:509,44:510,75:571,13:h,16:p,45:M,76:Bt,78:Ut,87:f,268:V,269:z,270:q,271:Q,273:G,274:H,276:W,277:X,279:K,280:$,283:Y,285:J,308:g,346:pe,347:fe,348:ge,349:ye,350:me,351:ve}),e(Xt,[2,295]),{45:M,77:572},{45:M,77:573},e(Xt,[2,33]),e(Xt,[2,34]),{31:[2,275],50:574,84:575,85:c},{31:[2,277],51:576,84:577,85:c},e(Nt,[2,356]),e(Kt,[2,357],{152:578,335:[1,579]}),e($t,[2,74]),{29:Te,57:580},{29:Te,57:581},{13:h,16:p,44:39,55:40,87:f,139:582,307:43,308:g},e(Yt,[2,365],{162:583,328:[1,584]}),{13:h,16:p,45:M,55:323,67:321,68:322,77:320,79:585,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,307:43,308:g,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},{45:[1,586]},e($t,[2,81]),{29:Te,57:587},e(Nt,[2,73]),e(S,[2,362],{29:Jt,31:Jt,85:Jt,112:Jt,159:Jt,160:Jt,161:Jt,163:Jt,164:Jt}),e(zt,[2,112]),e(Zt,[2,401],{206:588}),e(S,[2,405],{209:589,210:590}),e(S,[2,403]),e(S,[2,404]),e(zt,[2,113]),e(zt,[2,400]),{13:h,16:p,44:215,45:jt,48:[1,591],55:220,82:k,87:f,89:Ne,172:221,185:351,203:536,212:592,231:Dt,234:535,236:216,237:222,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,309:De,310:Re,311:217,312:Ie},e(Ft,[2,426]),e(Mt,[2,138]),e(Mt,[2,139]),{232:[1,593]},e(qt,[2,292]),{47:[1,595],48:[1,594]},e(ct,[2,9]),e(It,[2,392]),e(It,[2,393],{44:39,55:40,307:43,195:341,139:342,194:596,190:597,13:h,16:p,87:f,197:ht,308:g}),e(It,[2,110],{272:[1,598]}),e(er,[2,397],{201:599,316:600,317:[1,601]}),{314:[1,602]},{29:[1,603]},e(ze,[2,58]),e(We,[2,445]),e(We,[2,447]),{48:[1,604],272:[1,605]},{48:[1,606]},{272:[1,607]},{272:[1,608]},e($e,[2,99]),e(vt,[2,382]),e([13,16,39,47,48,87,193,197,242,246,250,263,265,272,290,297,298,299,300,301,302,308,314,338,341,342,343,344,345,346],[2,232]),e($e,[2,188]),e($e,[2,189]),{48:[1,609]},{48:[2,468]},{289:[1,610]},{13:h,16:p,55:492,82:k,172:493,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,311:494,312:Ie,315:611},e(be,[2,42]),e(Lt,[2,304]),{13:h,16:p,55:414,82:k,95:612,171:613,172:415,173:416,174:St,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:Tt},{31:[1,614],45:Wt,94:615},e(ot,[2,129]),e(Ot,[2,421]),{82:[1,616]},{82:[1,617]},e(Xt,[2,296]),e(Xt,[2,31]),e(Xt,[2,32]),{31:[2,17]},{31:[2,276]},{31:[2,18]},{31:[2,278]},e(S,ut,{155:330,153:618,154:619,29:tr,31:tr,85:tr,112:tr,159:tr,160:tr,161:tr,163:tr,164:tr}),e(Kt,[2,358]),e($t,[2,75]),e($t,[2,76]),{29:Te,57:620},{13:h,16:p,44:39,55:40,87:f,139:621,307:43,308:g},e(Yt,[2,366]),e($t,[2,79]),{13:h,16:p,44:136,45:M,46:622,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e($t,[2,91],{336:[1,623]}),e([29,31,85,112,159,160,161,163,164,232,318,335],[2,114],{207:624,193:[1,625]}),e(Zt,[2,117]),{13:h,16:p,44:215,45:jt,55:220,82:k,87:f,89:Ne,172:221,185:351,203:536,211:626,212:627,231:Dt,234:535,236:216,237:222,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,309:De,310:Re,311:217,312:Ie},e(ft,[2,134]),e(Ft,[2,427]),e(ft,[2,135]),e(qt,[2,26]),{44:628,87:f},e(It,[2,106]),e(It,[2,394]),e(S,[2,396]),e(er,[2,111]),e(er,[2,398]),{13:h,16:p,44:39,55:40,87:f,139:342,186:629,190:340,195:341,197:ht,307:43,308:g},e(gt,[2,217]),e(S,Ue,{144:248,140:630,143:631,31:[2,343]}),e($e,[2,97]),e(vt,[2,380]),e($e,[2,180]),{13:h,16:p,44:136,45:M,46:632,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},{13:h,16:p,44:136,45:M,46:633,55:133,67:132,68:134,77:131,82:k,87:f,172:135,224:L,238:121,239:122,243:123,247:124,251:125,255:154,257:155,259:126,263:B,264:130,265:U,266:137,267:139,268:V,269:z,270:q,271:Q,273:G,274:H,275:146,276:W,277:X,278:149,279:K,280:$,283:Y,285:J,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:he,346:pe,347:fe,348:ge,349:ye,350:me,351:ve},e($e,[2,190]),{290:[1,634]},{314:[1,635]},{13:h,16:p,48:[1,636],55:414,82:k,171:637,172:415,173:416,174:St,255:154,257:155,291:150,294:Z,295:ee,296:te,297:re,298:ne,299:ie,300:ae,301:oe,302:se,303:ce,304:le,305:ue,306:de,307:43,308:g,312:Tt},e(rr,[2,305]),e(be,[2,86]),e(Lt,[2,374]),e(Et,[2,37]),e(Et,[2,38]),e(Nt,[2,72]),e(Nt,[2,360]),e($t,[2,77]),{29:Te,57:638},{47:[1,639]},{29:[2,376]},e(Zt,[2,402]),e(Zt,[2,115],{215:10,208:528,214:529,44:530,205:640,13:o,16:o,45:o,197:o,224:o,229:o,308:o,87:f}),e(Zt,[2,118],{272:[1,641]}),e(nr,[2,407],{213:642,319:643,317:[1,644]}),{48:[1,645]},{318:[1,646]},{31:[1,647]},{31:[2,344]},{48:[1,648]},{48:[1,649]},{291:650,303:ce,304:le,305:ue,306:de},e(kt,[2,218]),e(Lt,[2,44]),e(rr,[2,306]),e($t,[2,78]),{44:651,87:f},e(Zt,[2,116]),e(S,[2,406]),e(nr,[2,119]),e(nr,[2,408]),e(l,o,{215:10,205:527,208:528,214:529,44:530,202:652,87:f}),e(qt,[2,27]),e(er,[2,230]),e(ir,[2,345],{141:653,335:[1,654]}),e($e,[2,181]),e($e,[2,182]),{48:[2,191]},{48:[1,655]},{318:[1,656]},e(S,Ue,{144:248,142:657,143:658,31:ar,112:ar}),e(ir,[2,346]),e($t,[2,80]),e(nr,[2,231]),e(mt,[2,67]),e(mt,[2,348])],defaultActions:{5:[2,240],6:[2,241],7:[2,242],9:[2,239],24:[2,1],25:[2,2],26:[2,244],87:[2,282],94:[2,384],100:[2,45],109:[2,325],166:[2,458],263:[2,439],336:[2,258],337:[2,101],487:[2,461],488:[2,462],560:[2,468],574:[2,17],575:[2,276],576:[2,18],577:[2,278],623:[2,376],631:[2,344],650:[2,191]},parseError:function(e,t){if(!t.recoverable){var r=new Error(e);throw r.hash=t,r}this.trace(e)},parse:function(e){var t=this,r=[0],n=[null],i=[],a=this.table,o="",s=0,c=0,l=0,u=i.slice.call(arguments,1),d=Object.create(this.lexer),h={yy:{}};for(var p in this.yy)Object.prototype.hasOwnProperty.call(this.yy,p)&&(h.yy[p]=this.yy[p]);d.setInput(e,h.yy),h.yy.lexer=d,h.yy.parser=this,"undefined"==typeof d.yylloc&&(d.yylloc={});var f=d.yylloc;i.push(f);var g=d.options&&d.options.ranges;"function"===typeof h.yy.parseError?this.parseError=h.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;for(var y,m,v,b,_,w,x,S,T,O=function(){var e;return"number"!==typeof(e=d.lex()||1)&&(e=t.symbols_[e]||e),e},E={};;){if(v=r[r.length-1],this.defaultActions[v]?b=this.defaultActions[v]:(null!==y&&"undefined"!=typeof y||(y=O()),b=a[v]&&a[v][y]),"undefined"===typeof b||!b.length||!b[0]){var A="";for(w in T=[],a[v])this.terminals_[w]&&w>2&&T.push("'"+this.terminals_[w]+"'");A=d.showPosition?"Parse error on line "+(s+1)+":\n"+d.showPosition()+"\nExpecting "+T.join(", ")+", got '"+(this.terminals_[y]||y)+"'":"Parse error on line "+(s+1)+": Unexpected "+(1==y?"end of input":"'"+(this.terminals_[y]||y)+"'"),this.parseError(A,{text:d.match,token:this.terminals_[y]||y,line:d.yylineno,loc:f,expected:T})}if(b[0]instanceof Array&&b.length>1)throw new Error("Parse Error: multiple actions possible at state: "+v+", token: "+y);switch(b[0]){case 1:r.push(y),n.push(d.yytext),i.push(d.yylloc),r.push(b[1]),y=null,m?(y=m,m=null):(c=d.yyleng,o=d.yytext,s=d.yylineno,f=d.yylloc,l>0&&l--);break;case 2:if(x=this.productions_[b[1]][1],E.$=n[n.length-x],E._$={first_line:i[i.length-(x||1)].first_line,last_line:i[i.length-1].last_line,first_column:i[i.length-(x||1)].first_column,last_column:i[i.length-1].last_column},g&&(E._$.range=[i[i.length-(x||1)].range[0],i[i.length-1].range[1]]),"undefined"!==typeof(_=this.performAction.apply(E,[o,c,s,h.yy,b[1],n,i].concat(u))))return _;x&&(r=r.slice(0,-1*x*2),n=n.slice(0,-1*x),i=i.slice(0,-1*x)),r.push(this.productions_[b[1]][0]),n.push(E.$),i.push(E._$),S=a[r[r.length-2]][r[r.length-1]],r.push(S);break;case 3:return!0}}return!0}},sr=r(94206).Wildcard,cr="http://www.w3.org/1999/02/22-rdf-syntax-ns#",lr=cr+"type",ur=cr+"first",dr=cr+"rest",hr=cr+"nil",pr="http://www.w3.org/2001/XMLSchema#",fr=pr+"integer",gr=pr+"decimal",yr=pr+"double",mr=pr+"boolean",vr="",br="",_r="";function wr(e){return e.toLowerCase()}function xr(e,t){return e.push(t),e}function Sr(e,t){return e.push.apply(e,t),e}function Tr(e){e||(e={});for(var t,r=1,n=arguments.length;r<n&&(t=arguments[r]||{});r++)for(var i in t)e[i]=t[i];return e}function Or(){for(var e=[],t=0,r=arguments.length;t<r;t++)e=e.concat.apply(e,arguments[t]);return e}function Er(e){if("<"===e[0]&&(e=e.substring(1,e.length-1)),/^[a-z][a-z0-9.+-]*:/i.test(e))return e;if(!an.base)throw new Error("Cannot resolve relative IRI "+e+" because no base IRI was set.");switch(vr!==an.base&&(vr=an.base,br=vr.replace(/[^\/:]*$/,""),_r=vr.match(/^(?:[a-z]+:\/*)?[^\/]*/)[0]),e[0]){case void 0:return vr;case"#":return vr+e;case"?":return vr.replace(/(?:\?.*)?$/,e);case"/":return _r+e;default:return br+e}}function Ar(e){if(e){var t=e[0];if("?"===t||"$"===t)return an.factory.variable(e.substr(1))}return e}function Pr(e,t){return{type:"operation",operator:e,args:t||[]}}function Nr(e,t){var r={expression:"*"===e?new sr:e};if(t)for(var n in t)r[n]=t[n];return r}function jr(e,t){return{type:"path",pathType:e,items:t}}function Dr(e,t){for(var r,n=0,i=t.length;n<i&&(r=t[n]);n++)e=Pr(r[0],[e,r[1]]);return e}function Rr(e,t){var r,n=[],i=[],a=e.length,o={};if(!a)return null;for(var s=0;s<a&&(r=e[s]);s++)(r.named?i:n).push(r.iri);return o[t||"from"]={default:n,named:i},o}function Ir(e){return parseInt(e,10)}function Fr(e){return"group"===e.type&&1===e.patterns.length?e.patterns[0]:e}function Cr(e,t){return t&&"NamedNode"!==t.termType&&(t=an.factory.namedNode(t)),an.factory.literal(e,t)}function Mr(e,t,r){if(!("termType"in t))throw new Error("Nested triples cannot contain paths");return an.factory.quad(e,t,r)}function kr(e,t,r,n){var i={};return null!=e&&(i.subject=e),null!=t&&(i.predicate=t),null!=r&&(i.object=r),null!=n&&(i.annotations=n),i}function Lr(e){return"string"===typeof e?e.startsWith("e_")?an.factory.blankNode(e):an.factory.blankNode("e_"+e):an.factory.blankNode("g_"+Br++)}var Br=0;an._resetBlanks=function(){Br=0};var Ur=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\(.)/g,Vr={"\\":"\\","'":"'",'"':'"',t:"\t",b:"\b",n:"\n",r:"\r",f:"\f"},zr=/[\uD800-\uDBFF]([^\uDC00-\uDFFF]|$)/,qr=String.fromCharCode;function Qr(e,t){e=e.substring(t,e.length-t);try{e=e.replace(Ur,function(e,t,r,n){var i;if(t){if(i=parseInt(t,16),isNaN(i))throw new Error;return qr(i)}if(r){if(i=parseInt(r,16),isNaN(i))throw new Error;return i<65535?qr(i):qr(55296+((i-=65536)>>10),56320+(1023&i))}var a=Vr[n];if(!a)throw new Error;return a})}catch(r){return""}if(zr.exec(e))throw new Error("Invalid unicode codepoint of surrogate pair without corresponding codepoint in "+e);return e}function Gr(e,t,r){var n=[],i=[];return t.forEach(function(t){let r=null;t.annotation&&(r=t.annotation,t=t.object),n.push(kr(null,e,t.entity,r)),Sr(i,t.triples)}),Or(n,r||[],i)}function Hr(e){return e.variable?e.variable.value:e.value||e.expression.value}function Wr(e){if(!e)return[];if("aggregate"===e.type)return[e];if("operation"===e.type){const t=[];for(const r of e.args)t.push(...Wr(r));return t}return[]}function Xr(e){const t=new Set,r=function(e){e&&("Variable"===e.termType?t.add(e):"operation"===e.type&&e.args.forEach(r))};return r(e),t}function Kr(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(const n of e)t>0&&n instanceof Array?Kr(n,t-1,r):r.push(n);return r}function $r(e){return"Variable"===e.termType}function Yr(e){if(e.triples){const t=[];for(const r of e.triples)$r(r.subject)&&t.push(r.subject.value),$r(r.predicate)&&t.push(r.predicate.value),$r(r.object)&&t.push(r.object.value);return t}if(e.patterns){const t=[];for(const r of e.patterns)t.push(...Yr(r));return t}return[]}function Jr(e){if(!an.sparqlStar)throw new Error("SPARQL-star support is not enabled");return e}function Zr(e,t,r){for(const n of t){const t=kr("subject"in n?n.subject:e,n.predicate,n.object);r.push(t),n.annotations&&Zr(Mr(e,n.predicate,n.object),n.annotations,r)}}function en(e){if(an.sparqlStar){const t=[];return e.forEach(e=>{const r=kr(e.subject,e.predicate,e.object);t.push(r),e.annotations&&Zr(Mr(e.subject,e.predicate,e.object),e.annotations,t)}),t}return e}function tn(e){for(const t of e){if("graph"===t.type&&"Variable"===t.name.termType)throw new Error("Detected illegal variable in GRAPH");if("bgp"===t.type||"graph"===t.type)for(const e of t.triples)if("Variable"===e.subject.termType||"Variable"===e.predicate.termType||"Variable"===e.object.termType)throw new Error("Detected illegal variable in BGP")}return e}function rn(e){for(const t of e)if("bgp"===t.type)for(const e of t.triples)if("BlankNode"===e.subject.termType||"BlankNode"===e.predicate.termType||"BlankNode"===e.object.termType)throw new Error("Detected illegal blank node in BGP");return e}var nn={EOF:1,parseError:function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,r=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),r.length-1&&(this.yylineno-=r.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:r?(r.length===n.length?this.yylloc.first_column:0)+n[n.length-r.length].length-r[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){return this.options.backtrack_lexer?(this._backtrack=!0,this):this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},test_match:function(e,t){var r,n,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),(n=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],r=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),r)return r;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1},next:function(){if(this.done)return this.EOF;var e,t,r,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var i=this._currentRules(),a=0;a<i.length;a++)if((r=this._input.match(this.rules[i[a]]))&&(!t||r[0].length>t[0].length)){if(t=r,n=a,this.options.backtrack_lexer){if(!1!==(e=this.test_match(r,i[a])))return e;if(this._backtrack){t=!1;continue}return!1}if(!this.options.flex)break}return t?!1!==(e=this.test_match(t,i[n]))&&e:""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return e||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return(e=this.conditionStack.length-1-Math.abs(e||0))>=0?this.conditionStack[e]:"INITIAL"},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{flex:!0,"case-insensitive":!0},performAction:function(e,t,r,n){switch(r){case 0:break;case 1:return 12;case 2:return 15;case 3:return 41;case 4:return 325;case 5:return 326;case 6:return 45;case 7:return 47;case 8:return 48;case 9:return 39;case 10:return 24;case 11:return 28;case 12:return 29;case 13:return 31;case 14:return 32;case 15:return 36;case 16:return 53;case 17:return 327;case 18:return 63;case 19:return 64;case 20:return 70;case 21:return 73;case 22:return 76;case 23:return 78;case 24:return 81;case 25:return 83;case 26:return 85;case 27:return 193;case 28:return 100;case 29:return 328;case 30:return 121;case 31:return 329;case 32:return 330;case 33:return 110;case 34:return 331;case 35:return 109;case 36:return 332;case 37:return 333;case 38:return 113;case 39:return 115;case 40:return 116;case 41:return 131;case 42:return 123;case 43:return 126;case 44:return 128;case 45:return 132;case 46:return 112;case 47:return 334;case 48:return 335;case 49:return 159;case 50:return 161;case 51:return 164;case 52:return 174;case 53:return 160;case 54:return 336;case 55:return 163;case 56:return 312;case 57:return 314;case 58:return 317;case 59:return 318;case 60:return 272;case 61:return 197;case 62:return 337;case 63:return 338;case 64:return 229;case 65:return 340;case 66:return 263;case 67:return 224;case 68:return 231;case 69:return 232;case 70:return 242;case 71:return 246;case 72:return 290;case 73:return 341;case 74:return 342;case 75:return 343;case 76:return 344;case 77:return 345;case 78:return 250;case 79:return 346;case 80:return 265;case 81:return 276;case 82:return 277;case 83:return 268;case 84:return 269;case 85:return 270;case 86:return 271;case 87:return 347;case 88:return 348;case 89:return 273;case 90:return 274;case 91:return 350;case 92:return 349;case 93:return 351;case 94:return 279;case 95:return 280;case 96:return 283;case 97:return 285;case 98:return 289;case 99:return 293;case 100:return 296;case 101:return 13;case 102:return 16;case 103:return 308;case 104:return 309;case 105:return 87;case 106:return 292;case 107:return 82;case 108:return 294;case 109:return 295;case 110:return 297;case 111:return 298;case 112:return 299;case 113:return 300;case 114:return 301;case 115:return 302;case 116:return"EXPONENT";case 117:return 303;case 118:return 304;case 119:return 305;case 120:return 306;case 121:return 89;case 122:return 310;case 123:return 6;case 124:return"INVALID";case 125:console.log(t.yytext)}},rules:[/^(?:\s+|(#[^\n\r]*))/i,/^(?:BASE)/i,/^(?:PREFIX)/i,/^(?:SELECT)/i,/^(?:DISTINCT)/i,/^(?:REDUCED)/i,/^(?:\()/i,/^(?:AS)/i,/^(?:\))/i,/^(?:\*)/i,/^(?:CONSTRUCT)/i,/^(?:WHERE)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:DESCRIBE)/i,/^(?:ASK)/i,/^(?:FROM)/i,/^(?:NAMED)/i,/^(?:GROUP)/i,/^(?:BY)/i,/^(?:HAVING)/i,/^(?:ORDER)/i,/^(?:ASC)/i,/^(?:DESC)/i,/^(?:LIMIT)/i,/^(?:OFFSET)/i,/^(?:VALUES)/i,/^(?:;)/i,/^(?:LOAD)/i,/^(?:SILENT)/i,/^(?:INTO)/i,/^(?:CLEAR)/i,/^(?:DROP)/i,/^(?:CREATE)/i,/^(?:ADD)/i,/^(?:TO)/i,/^(?:MOVE)/i,/^(?:COPY)/i,/^(?:INSERT((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)DATA)/i,/^(?:DELETE((\s+|(#[^\n\r]*)\n\r?)+)WHERE)/i,/^(?:WITH)/i,/^(?:DELETE)/i,/^(?:INSERT)/i,/^(?:USING)/i,/^(?:DEFAULT)/i,/^(?:GRAPH)/i,/^(?:ALL)/i,/^(?:\.)/i,/^(?:OPTIONAL)/i,/^(?:SERVICE)/i,/^(?:BIND)/i,/^(?:UNDEF)/i,/^(?:MINUS)/i,/^(?:UNION)/i,/^(?:FILTER)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:\{\|)/i,/^(?:\|\})/i,/^(?:,)/i,/^(?:a)/i,/^(?:\|)/i,/^(?:\/)/i,/^(?:\^)/i,/^(?:\?)/i,/^(?:\+)/i,/^(?:!)/i,/^(?:\[)/i,/^(?:\])/i,/^(?:\|\|)/i,/^(?:&&)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:<)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:>=)/i,/^(?:IN)/i,/^(?:NOT)/i,/^(?:-)/i,/^(?:BOUND)/i,/^(?:BNODE)/i,/^(?:(RAND|NOW|UUID|STRUUID))/i,/^(?:(LANG|DATATYPE|IRI|URI|ABS|CEIL|FLOOR|ROUND|STRLEN|STR|UCASE|LCASE|ENCODE_FOR_URI|YEAR|MONTH|DAY|HOURS|MINUTES|SECONDS|TIMEZONE|TZ|MD5|SHA1|SHA256|SHA384|SHA512|isIRI|isURI|isBLANK|isLITERAL|isNUMERIC))/i,/^(?:(SUBJECT|PREDICATE|OBJECT|isTRIPLE))/i,/^(?:(LANGMATCHES|CONTAINS|STRSTARTS|STRENDS|STRBEFORE|STRAFTER|STRLANG|STRDT|sameTerm))/i,/^(?:CONCAT)/i,/^(?:COALESCE)/i,/^(?:IF)/i,/^(?:TRIPLE)/i,/^(?:REGEX)/i,/^(?:SUBSTR)/i,/^(?:REPLACE)/i,/^(?:EXISTS)/i,/^(?:COUNT)/i,/^(?:SUM|MIN|MAX|AVG|SAMPLE)/i,/^(?:GROUP_CONCAT)/i,/^(?:SEPARATOR)/i,/^(?:\^\^)/i,/^(?:true|false)/i,/^(?:(<(?:[^<>\"\{\}\|\^`\\\u0000-\u0020])*>))/i,/^(?:((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:))/i,/^(?:(((([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?)?:)((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|:|[0-9]|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%))))*(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|:|((%([0-9A-Fa-f])([0-9A-Fa-f]))|(\\(_|~|\.|-|!|\$|&|'|\(|\)|\*|\+|,|;|=|\/|\?|#|@|%)))))?)))/i,/^(?:(_:(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:(?:(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])|\.)*(((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|-|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040]))?))/i,/^(?:([\?\$]((?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9])(?:((?:([A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]|[\uD800-\uDB7F][\uDC00-\uDFFF])|_))|[0-9]|\u00B7|[\u0300-\u036F\u203F-\u2040])*)))/i,/^(?:(@[a-zA-Z]+(?:-[a-zA-Z0-9]+)*))/i,/^(?:([0-9]+))/i,/^(?:([0-9]*\.[0-9]+))/i,/^(?:([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+)))/i,/^(?:(\+([0-9]+)))/i,/^(?:(\+([0-9]*\.[0-9]+)))/i,/^(?:(\+([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:(-([0-9]+)))/i,/^(?:(-([0-9]*\.[0-9]+)))/i,/^(?:(-([0-9]+\.[0-9]*([eE][+-]?[0-9]+)|\.([0-9])+([eE][+-]?[0-9]+)|([0-9])+([eE][+-]?[0-9]+))))/i,/^(?:([eE][+-]?[0-9]+))/i,/^(?:('(?:(?:[^\u0027\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*'))/i,/^(?:("(?:(?:[^\u0022\u005C\u000A\u000D])|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])))*"))/i,/^(?:('''(?:(?:'|'')?(?:[^'\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*'''))/i,/^(?:("""(?:(?:"|"")?(?:[^\"\\]|(\\[tbnrf\\\"']|\\u([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])|\\U([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f]))))*"""))/i,/^(?:(\((\u0020|\u0009|\u000D|\u000A)*\)))/i,/^(?:(\[(\u0020|\u0009|\u000D|\u000A)*\]))/i,/^(?:$)/i,/^(?:.)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125],inclusive:!0}}};function an(){this.yy={}}return or.lexer=nn,an.prototype=or,or.Parser=an,new an}();e.exports=i},64717:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionStr=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.STR,overloads:(0,i.declare)(i.SparqlOperator.STR).onTerm1(()=>e=>(0,i.string)(e.str())).collect()})}}t.TermFunctionStr=a},64773:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(92802),t)},64797:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.Converter=void 0;const i=r(74567),a=r(32582),o=r(51264),s=r(68676),c=r(58801);class l{constructor(e){(e=e||{}).variableDelimiter=e.variableDelimiter||"_",e.expressionVariableCounter=e.expressionVariableCounter||0,this.util=new c.Util(e),this.initializeNodeHandlers(e)}static registerNodeHandlers(e,t){e.registerNodeHandler(new a.NodeHandlerDocument(e,t)),e.registerNodeHandler(new a.NodeHandlerDefinitionOperation(e,t)),e.registerNodeHandler(new a.NodeHandlerDefinitionFragment(e,t)),e.registerNodeHandler(new a.NodeHandlerSelectionFragmentSpread(e,t)),e.registerNodeHandler(new a.NodeHandlerSelectionInlineFragment(e,t)),e.registerNodeHandler(new a.NodeHandlerSelectionField(e,t))}static registerNodeValueHandlers(e,t){e.registerNodeValueHandler(new a.NodeValueHandlerVariable(e,t)),e.registerNodeValueHandler(new a.NodeValueHandlerInt(e,t)),e.registerNodeValueHandler(new a.NodeValueHandlerFloat(e,t)),e.registerNodeValueHandler(new a.NodeValueHandlerString(e,t)),e.registerNodeValueHandler(new a.NodeValueHandlerBoolean(e,t)),e.registerNodeValueHandler(new a.NodeValueHandlerNull(e,t)),e.registerNodeValueHandler(new a.NodeValueHandlerEnum(e,t)),e.registerNodeValueHandler(new a.NodeValueHandlerList(e,t)),e.registerNodeValueHandler(new a.NodeValueHandlerObject(e,t))}static registerDirectiveNodeHandlers(e,t){e.registerDirectiveNodeHandler(new o.DirectiveNodeHandlerInclude(e,t)),e.registerDirectiveNodeHandler(new o.DirectiveNodeHandlerOptional(e,t)),e.registerDirectiveNodeHandler(new o.DirectiveNodeHandlerPlural(e,t)),e.registerDirectiveNodeHandler(new o.DirectiveNodeHandlerSingle(e,t)),e.registerDirectiveNodeHandler(new o.DirectiveNodeHandlerSkip(e,t))}graphqlToSparqlAlgebra(e,t,r){return n(this,void 0,void 0,function*(){return this.graphqlToSparqlAlgebraRawContext(e,yield this.util.contextParser.parse(t),r)})}graphqlToSparqlAlgebraRawContext(e,t,r){r=r||{};const n="string"===typeof e?(0,i.parse)(e):e,a={context:t,fragmentDefinitions:this.indexFragments(n),graph:this.util.dataFactory.defaultGraph(),path:[],singularizeState:s.SingularizeState.PLURAL,singularizeVariables:r.singularizeVariables||{},subject:null,terminalVariables:[],variablesDict:r.variablesDict||{},variablesMetaDict:{}};return this.util.handleNode(n,a)}indexFragments(e){const t={},r=[];for(const n of e.definitions)"FragmentDefinition"===n.kind?t[n.name.value]=n:r.push(n);return e.definitions=r,t}initializeNodeHandlers(e){l.registerNodeHandlers(this.util,e),l.registerNodeValueHandlers(this.util,e),l.registerDirectiveNodeHandlers(this.util,e)}}t.Converter=l},64999:(e,t,r)=>{"use strict";const n=r(62285),{ArrayPrototypeSlice:i,Error:a,FunctionPrototypeSymbolHasInstance:o,ObjectDefineProperty:s,ObjectDefineProperties:c,ObjectSetPrototypeOf:l,StringPrototypeToLowerCase:u,Symbol:d,SymbolHasInstance:h}=r(28931);e.exports=F,F.WritableState=R;const{EventEmitter:p}=r(27284),f=r(5220).Stream,{Buffer:g}=r(26382),y=r(36725),{addAbortSignal:m}=r(78528),{getHighWaterMark:v,getDefaultHighWaterMark:b}=r(68550),{ERR_INVALID_ARG_TYPE:_,ERR_METHOD_NOT_IMPLEMENTED:w,ERR_MULTIPLE_CALLBACK:x,ERR_STREAM_CANNOT_PIPE:S,ERR_STREAM_DESTROYED:T,ERR_STREAM_ALREADY_FINISHED:O,ERR_STREAM_NULL_VALUES:E,ERR_STREAM_WRITE_AFTER_END:A,ERR_UNKNOWN_ENCODING:P}=r(60056).codes,{errorOrDestroy:N}=y;function j(){}l(F.prototype,f.prototype),l(F,f);const D=d("kOnFinished");function R(e,t,n){"boolean"!==typeof n&&(n=t instanceof r(82781)),this.objectMode=!(!e||!e.objectMode),n&&(this.objectMode=this.objectMode||!(!e||!e.writableObjectMode)),this.highWaterMark=e?v(this,e,"writableHighWaterMark",n):b(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const i=!(!e||!1!==e.decodeStrings);this.decodeStrings=!i,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=L.bind(void 0,t),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,I(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!e||!1!==e.emitClose,this.autoDestroy=!e||!1!==e.autoDestroy,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[D]=[]}function I(e){e.buffered=[],e.bufferedIndex=0,e.allBuffers=!0,e.allNoop=!0}function F(e){const t=this instanceof r(82781);if(!t&&!o(F,this))return new F(e);this._writableState=new R(e,this,t),e&&("function"===typeof e.write&&(this._write=e.write),"function"===typeof e.writev&&(this._writev=e.writev),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.final&&(this._final=e.final),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&m(e.signal,this)),f.call(this,e),y.construct(this,()=>{const e=this._writableState;e.writing||z(this,e),G(this,e)})}function C(e,t,r,i){const a=e._writableState;if("function"===typeof r)i=r,r=a.defaultEncoding;else{if(r){if("buffer"!==r&&!g.isEncoding(r))throw new P(r)}else r=a.defaultEncoding;"function"!==typeof i&&(i=j)}if(null===t)throw new E;if(!a.objectMode)if("string"===typeof t)!1!==a.decodeStrings&&(t=g.from(t,r),r="buffer");else if(t instanceof g)r="buffer";else{if(!f._isUint8Array(t))throw new _("chunk",["string","Buffer","Uint8Array"],t);t=f._uint8ArrayToBuffer(t),r="buffer"}let o;return a.ending?o=new A:a.destroyed&&(o=new T("write")),o?(n.nextTick(i,o),N(e,o,!0),o):(a.pendingcb++,function(e,t,r,n,i){const a=t.objectMode?1:r.length;t.length+=a;const o=t.length<t.highWaterMark;o||(t.needDrain=!0);t.writing||t.corked||t.errored||!t.constructed?(t.buffered.push({chunk:r,encoding:n,callback:i}),t.allBuffers&&"buffer"!==n&&(t.allBuffers=!1),t.allNoop&&i!==j&&(t.allNoop=!1)):(t.writelen=a,t.writecb=i,t.writing=!0,t.sync=!0,e._write(r,n,t.onwrite),t.sync=!1);return o&&!t.errored&&!t.destroyed}(e,a,t,r,i))}function M(e,t,r,n,i,a,o){t.writelen=n,t.writecb=o,t.writing=!0,t.sync=!0,t.destroyed?t.onwrite(new T("write")):r?e._writev(i,t.onwrite):e._write(i,a,t.onwrite),t.sync=!1}function k(e,t,r,n){--t.pendingcb,n(r),V(t),N(e,r)}function L(e,t){const r=e._writableState,i=r.sync,a=r.writecb;"function"===typeof a?(r.writing=!1,r.writecb=null,r.length-=r.writelen,r.writelen=0,t?(t.stack,r.errored||(r.errored=t),e._readableState&&!e._readableState.errored&&(e._readableState.errored=t),i?n.nextTick(k,e,r,t,a):k(e,r,t,a)):(r.buffered.length>r.bufferedIndex&&z(e,r),i?null!==r.afterWriteTickInfo&&r.afterWriteTickInfo.cb===a?r.afterWriteTickInfo.count++:(r.afterWriteTickInfo={count:1,cb:a,stream:e,state:r},n.nextTick(B,r.afterWriteTickInfo)):U(e,r,1,a))):N(e,new x)}function B(e){let{stream:t,state:r,count:n,cb:i}=e;return r.afterWriteTickInfo=null,U(t,r,n,i)}function U(e,t,r,n){for(!t.ending&&!e.destroyed&&0===t.length&&t.needDrain&&(t.needDrain=!1,e.emit("drain"));r-- >0;)t.pendingcb--,n();t.destroyed&&V(t),G(e,t)}function V(e){if(e.writing)return;for(let i=e.bufferedIndex;i<e.buffered.length;++i){var t;const{chunk:r,callback:n}=e.buffered[i],a=e.objectMode?1:r.length;e.length-=a,n(null!==(t=e.errored)&&void 0!==t?t:new T("write"))}const r=e[D].splice(0);for(let i=0;i<r.length;i++){var n;r[i](null!==(n=e.errored)&&void 0!==n?n:new T("end"))}I(e)}function z(e,t){if(t.corked||t.bufferProcessing||t.destroyed||!t.constructed)return;const{buffered:r,bufferedIndex:n,objectMode:a}=t,o=r.length-n;if(!o)return;let s=n;if(t.bufferProcessing=!0,o>1&&e._writev){t.pendingcb-=o-1;const n=t.allNoop?j:e=>{for(let t=s;t<r.length;++t)r[t].callback(e)},a=t.allNoop&&0===s?r:i(r,s);a.allBuffers=t.allBuffers,M(e,t,!0,t.length,a,"",n),I(t)}else{do{const{chunk:n,encoding:i,callback:o}=r[s];r[s++]=null;M(e,t,!1,a?1:n.length,n,i,o)}while(s<r.length&&!t.writing);s===r.length?I(t):s>256?(r.splice(0,s),t.bufferedIndex=0):t.bufferedIndex=s}t.bufferProcessing=!1}function q(e){return e.ending&&!e.destroyed&&e.constructed&&0===e.length&&!e.errored&&0===e.buffered.length&&!e.finished&&!e.writing&&!e.errorEmitted&&!e.closeEmitted}function Q(e,t){t.prefinished||t.finalCalled||("function"!==typeof e._final||t.destroyed?(t.prefinished=!0,e.emit("prefinish")):(t.finalCalled=!0,function(e,t){let r=!1;function i(i){if(r)N(e,null!==i&&void 0!==i?i:x());else if(r=!0,t.pendingcb--,i){const r=t[D].splice(0);for(let e=0;e<r.length;e++)r[e](i);N(e,i,t.sync)}else q(t)&&(t.prefinished=!0,e.emit("prefinish"),t.pendingcb++,n.nextTick(H,e,t))}t.sync=!0,t.pendingcb++;try{e._final(i)}catch(a){i(a)}t.sync=!1}(e,t)))}function G(e,t,r){q(t)&&(Q(e,t),0===t.pendingcb&&(r?(t.pendingcb++,n.nextTick((e,t)=>{q(t)?H(e,t):t.pendingcb--},e,t)):q(t)&&(t.pendingcb++,H(e,t))))}function H(e,t){t.pendingcb--,t.finished=!0;const r=t[D].splice(0);for(let n=0;n<r.length;n++)r[n]();if(e.emit("finish"),t.autoDestroy){const t=e._readableState;(!t||t.autoDestroy&&(t.endEmitted||!1===t.readable))&&e.destroy()}}R.prototype.getBuffer=function(){return i(this.buffered,this.bufferedIndex)},s(R.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}}),s(F,h,{__proto__:null,value:function(e){return!!o(this,e)||this===F&&(e&&e._writableState instanceof R)}}),F.prototype.pipe=function(){N(this,new S)},F.prototype.write=function(e,t,r){return!0===C(this,e,t,r)},F.prototype.cork=function(){this._writableState.corked++},F.prototype.uncork=function(){const e=this._writableState;e.corked&&(e.corked--,e.writing||z(this,e))},F.prototype.setDefaultEncoding=function(e){if("string"===typeof e&&(e=u(e)),!g.isEncoding(e))throw new P(e);return this._writableState.defaultEncoding=e,this},F.prototype._write=function(e,t,r){if(!this._writev)throw new w("_write()");this._writev([{chunk:e,encoding:t}],r)},F.prototype._writev=null,F.prototype.end=function(e,t,r){const i=this._writableState;let o;if("function"===typeof e?(r=e,e=null,t=null):"function"===typeof t&&(r=t,t=null),null!==e&&void 0!==e){const r=C(this,e,t);r instanceof a&&(o=r)}return i.corked&&(i.corked=1,this.uncork()),o||(i.errored||i.ending?i.finished?o=new O("end"):i.destroyed&&(o=new T("end")):(i.ending=!0,G(this,i,!0),i.ended=!0)),"function"===typeof r&&(o||i.finished?n.nextTick(r,o):i[D].push(r)),this},c(F.prototype,{closed:{__proto__:null,get(){return!!this._writableState&&this._writableState.closed}},destroyed:{__proto__:null,get(){return!!this._writableState&&this._writableState.destroyed},set(e){this._writableState&&(this._writableState.destroyed=e)}},writable:{__proto__:null,get(){const e=this._writableState;return!!e&&!1!==e.writable&&!e.destroyed&&!e.errored&&!e.ending&&!e.ended},set(e){this._writableState&&(this._writableState.writable=!!e)}},writableFinished:{__proto__:null,get(){return!!this._writableState&&this._writableState.finished}},writableObjectMode:{__proto__:null,get(){return!!this._writableState&&this._writableState.objectMode}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return!!this._writableState&&this._writableState.ending}},writableNeedDrain:{__proto__:null,get(){const e=this._writableState;return!!e&&(!e.destroyed&&!e.ending&&e.needDrain)}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._writableState.writable||!this._writableState.destroyed&&!this._writableState.errored||this._writableState.finished)}}});const W=y.destroy;let X;function K(){return void 0===X&&(X={}),X}F.prototype.destroy=function(e,t){const r=this._writableState;return!r.destroyed&&(r.bufferedIndex<r.buffered.length||r[D].length)&&n.nextTick(V,r),W.call(this,e,t),this},F.prototype._undestroy=y.undestroy,F.prototype._destroy=function(e,t){t(e)},F.prototype[p.captureRejectionSymbol]=function(e){this.destroy(e)},F.fromWeb=function(e,t){return K().newStreamWritableFromWritableStream(e,t)},F.toWeb=function(e){return K().newWritableStreamFromStreamWritable(e)}},65043:(e,t,r)=>{"use strict";e.exports=r(44288)},65358:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},65434:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermTriple=void 0;const i=r(11716),a=r(97824),o=r(79411);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.TRIPLE],termFunction:!0}))}async run(e){return new o.TermFunctionTriple}}t.ActorFunctionFactoryTermTriple=s},65554:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(32655),t)},65610:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(66040),t),i(r(98077),t)},65659:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinMultiBind=void 0;const i=r(1140),a=r(52840),o=r(13953),s=r(7979),c=r(89266),l=r(72758),u=r(85160);class d extends i.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"bind",canHandleUndefs:!0,isLeaf:!1})}static createBindStream(e,t,r,n,i,a,o){const s="depth-first"===e,u=e=>{const t=r.map(t=>(0,c.materializeOperation)(t,e,a,o,{bindFilter:!0})),i=t=>t.merge(e);return new l.TransformIterator(async()=>(await n(t,e)).transform({map:i}),{maxBufferSize:128,autoStart:s})};switch(e){case"depth-first":return new l.MultiTransformIterator(t,{autoStart:!1,multiTransform:u,optional:i});case"breadth-first":return new l.UnionIterator(t.transform({map:u,optional:i}),{autoStart:!1});default:throw new Error("Received request for unknown bind order: ".concat(e))}}async getOutput(e,t){const r=e.context.getSafe(a.KeysInitQuery.dataFactory),n=new u.Factory(r),i=await s.BindingsFactory.create(this.mediatorMergeBindingsContext,e.context,r),o=t.entriesSorted;this.logDebug(e.context,"First entry for Bind Join: ",()=>({entry:o[0].operation,cardinality:o[0].metadata.cardinality,order:o[0].metadata.order,availableOrders:o[0].metadata.availableOrders}));for(const[a,s]of o.entries())0!==a&&s.output.bindingsStream.close();const l=o[0].output,h=[...o];h.splice(0,1);const p=e.context.set(a.KeysQueryOperation.joinLeftMetadata,o[0].metadata).set(a.KeysQueryOperation.joinRightMetadatas,h.map(e=>e.metadata));return{result:{type:"bindings",bindingsStream:d.createBindStream(this.bindOrder,l.bindingsStream,h.map(e=>e.operation),async(e,t)=>{const r=1===e.length?e[0]:n.createJoin(e,e.every(e=>!e.metadata));return(0,c.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:r,context:null===p||void 0===p?void 0:p.set(a.KeysQueryOperation.joinBindings,t)})).bindingsStream},!1,n,i),metadata:()=>this.constructResultMetadata(o,o.map(e=>e.metadata),e.context)},physicalPlanMetadata:{bindIndex:t.entriesUnsorted.indexOf(o[0]),bindOperation:o[0].operation,bindOperationCardinality:o[0].metadata.cardinality,bindOrder:this.bindOrder}}}canBindWithOperation(e){let t=!0;return u.Util.recurseOperation(e,{[u.Algebra.types.EXTEND]:()=>(t=!1,!1),[u.Algebra.types.GROUP]:()=>(t=!1,!1)}),t}async getJoinCoefficients(e,t){let{metadatas:r}=t;const a=e.entries.map((e,t)=>n(n({},e),{},{metadata:r[t]})),s=await i.ActorRdfJoin.sortJoinEntries(this.mediatorJoinEntriesSort,a,e.context);if(s.isFailed())return s;const c=s.get();r=c.map(e=>e.metadata);const l=i.ActorRdfJoin.getRequestInitialTimes(r),u=i.ActorRdfJoin.getRequestItemTimes(r),d=[...c],h=[...l],p=[...u];if(d.splice(0,1),h.splice(0,1),p.splice(0,1),d.some(e=>!this.canBindWithOperation(e.operation)))return(0,o.failTest)("Actor ".concat(this.name," can not bind on Extend and Group operations"));if(d.some(e=>e.operationModified))return(0,o.failTest)("Actor ".concat(this.name," can not be used over remaining entries with modified operations"));const f=u.some(e=>e>0);if(r[0].cardinality.value*this.minMaxCardinalityRatio/(f?1:3)>Math.max(...r.map(e=>e.cardinality.value)))return(0,o.failTest)("Actor ".concat(this.name," can only run if the smallest stream is much smaller than largest stream"));const g=await Promise.all(d.map(async t=>(await this.mediatorJoinSelectivity.mediate({entries:[c[0],t],context:e.context})).selectivity*this.selectivityModifier)),y=d.map((e,t)=>e.metadata.cardinality.value*g[t]).reduce((e,t)=>e+t,0),m=h.reduce((e,t)=>e+t,0),v=p.reduce((e,t)=>e+t,0);return(0,o.passTestWithSideData)({iterations:r[0].cardinality.value*y,persistedItems:0,blockingItems:0,requestTime:l[0]+r[0].cardinality.value*(u[0]+m+y*v)},n(n({},t),{},{entriesUnsorted:a,entriesSorted:c}))}}t.ActorRdfJoinMultiBind=d},65697:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionFunctionIn=void 0;const i=r(11716),a=r(97824);class o extends i.ExpressionFunctionBase{constructor(e){super({arity:Number.POSITIVE_INFINITY,operator:a.SparqlOperator.IN,apply:async e=>{const{args:t,mapping:r,exprEval:i}=e,[a,...o]=t,s=await i.evaluatorExpressionEvaluation(a,r);return await this.inRecursive(s,n(n({},e),{},{args:o}),[])}}),this.equalityFunction=e}checkArity(e){return e.length>0}async inRecursive(e,t,r){const{args:n,mapping:i,exprEval:o}=t;if(0===n.length){return r.every(e=>!e)?(0,a.bool)(!1):Promise.reject(new a.InError(r))}try{const s=n.shift(),c=await o.evaluatorExpressionEvaluation(s,i);return this.equalityFunction.applyOnTerms([e,c],o).typedValue?(0,a.bool)(!0):this.inRecursive(e,t,[...r,!1])}catch(s){return this.inRecursive(e,t,[...r,s])}}}t.ExpressionFunctionIn=o},65793:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionObserverHttp=void 0;const n=r(13953);class i extends n.ActionObserver{constructor(e){super(e),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(e,t,r){this.observedActors.includes(e.name)&&this.requests++}}t.ActionObserverHttp=i},65952:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermCeil=void 0;const i=r(11716),a=r(97824),o=r(5557);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.CEIL],termFunction:!0}))}async run(e){return new o.TermFunctionCeil}}t.ActorFunctionFactoryTermCeil=s},66040:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorBindingsAggregatorFactoryMax=void 0;const n=r(85830),i=r(13953),a=r(98077);class o extends n.ActorBindingsAggregatorFactory{constructor(e){super(e),this.mediatorTermComparatorFactory=e.mediatorTermComparatorFactory}async test(e){return"max"!==e.expr.aggregator?(0,i.failTest)("This actor only supports the 'max' aggregator."):(0,i.passTestVoid)()}async run(e){let{expr:t,context:r}=e;return new a.MaxAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:t.expression,context:r}),t.distinct,await this.mediatorTermComparatorFactory.mediate({context:r}))}}t.ActorBindingsAggregatorFactoryMax=o},66093:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionDivision=void 0;const n=r(11716),i=r(97824),a=r(1991);class o extends n.TermFunctionBase{constructor(){super({arity:2,operator:i.SparqlOperator.DIVISION,overloads:(0,i.declare)(i.SparqlOperator.DIVISION).arithmetic(()=>(e,t)=>new a.BigNumber(e).div(t).toNumber()).onBinaryTyped([i.TypeURL.XSD_INTEGER,i.TypeURL.XSD_INTEGER],()=>(e,t)=>{if(0===t)throw new i.ExpressionError("Integer division by 0");return(0,i.decimal)(new a.BigNumber(e).div(t).toNumber())}).collect()})}}t.TermFunctionDivision=o},66141:(e,t,r)=>{"use strict";var n=r(12897).default,i=r(91847).default,a=r(93312).default,o=r(42459).default,s=r(37088).default,c=r(81756).default,l=r(16668).default,u=r(43693).default;const d=["context","forceRefresh"];Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;const h="object"===typeof performance&&performance&&"function"===typeof performance.now?performance:Date,p=new Set,f="object"===typeof process&&process?process:{},g=(e,t,r,n)=>{"function"===typeof f.emitWarning?f.emitWarning(e,t,r,n):console.error("[".concat(r,"] ").concat(t,": ").concat(e))};let y=globalThis.AbortController,m=globalThis.AbortSignal;if("undefined"===typeof y){var v;m=class{constructor(){u(this,"onabort",void 0),u(this,"_onabort",[]),u(this,"reason",void 0),u(this,"aborted",!1)}addEventListener(e,t){this._onabort.push(t)}},y=class{constructor(){u(this,"signal",new m),t()}abort(e){var t,r;if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);null===(t=(r=this.signal).onabort)||void 0===t||t.call(r,e)}}};let e="1"!==(null===(v=f.env)||void 0===v?void 0:v.LRU_CACHE_IGNORE_AC_WARNING);const t=()=>{e&&(e=!1,g("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const b=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),_=e=>b(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?w:null:null;class w extends Array{constructor(e){super(e),this.fill(0)}}class x{static create(e){const t=_(e);if(!t)return[];S._=!0;const r=new x(e,t);return S._=!1,r}constructor(e,t){if(u(this,"heap",void 0),u(this,"length",void 0),!S._)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}var S={_:!1},T=new WeakMap,O=new WeakMap,E=new WeakMap,A=new WeakMap,P=new WeakMap,N=new WeakMap,j=new WeakMap,D=new WeakMap,R=new WeakMap,I=new WeakMap,F=new WeakMap,C=new WeakMap,M=new WeakMap,k=new WeakMap,L=new WeakMap,B=new WeakMap,U=new WeakMap,V=new WeakMap,z=new WeakMap,q=new WeakMap,Q=new WeakMap,G=new WeakMap,H=new WeakMap,W=new WeakSet,X=new WeakMap,K=new WeakMap,$=new WeakMap,Y=new WeakMap,J=new WeakMap,Z=new WeakMap,ee=new WeakMap;class te{static unsafeExposeInternals(e){return{starts:l(z,e),ttls:l(q,e),sizes:l(V,e),keyMap:l(R,e),keyList:l(I,e),valList:l(F,e),next:l(C,e),prev:l(M,e),get head(){return l(k,e)},get tail(){return l(L,e)},free:l(B,e),isBackgroundFetch:t=>c(W,e,le).call(e,t),backgroundFetch:(t,r,n,i)=>c(W,e,ce).call(e,t,r,n,i),moveToTail:t=>c(W,e,de).call(e,t),indexes:t=>c(W,e,ie).call(e,t),rindexes:t=>c(W,e,ae).call(e,t),isStale:t=>l(Y,e).call(e,t)}}get max(){return l(T,this)}get maxSize(){return l(O,this)}get calculatedSize(){return l(D,this)}get size(){return l(j,this)}get fetchMethod(){return l(P,this)}get memoMethod(){return l(N,this)}get dispose(){return l(E,this)}get disposeAfter(){return l(A,this)}constructor(e){a(this,W),o(this,T,void 0),o(this,O,void 0),o(this,E,void 0),o(this,A,void 0),o(this,P,void 0),o(this,N,void 0),u(this,"ttl",void 0),u(this,"ttlResolution",void 0),u(this,"ttlAutopurge",void 0),u(this,"updateAgeOnGet",void 0),u(this,"updateAgeOnHas",void 0),u(this,"allowStale",void 0),u(this,"noDisposeOnSet",void 0),u(this,"noUpdateTTL",void 0),u(this,"maxEntrySize",void 0),u(this,"sizeCalculation",void 0),u(this,"noDeleteOnFetchRejection",void 0),u(this,"noDeleteOnStaleGet",void 0),u(this,"allowStaleOnFetchAbort",void 0),u(this,"allowStaleOnFetchRejection",void 0),u(this,"ignoreFetchAbort",void 0),o(this,j,void 0),o(this,D,void 0),o(this,R,void 0),o(this,I,void 0),o(this,F,void 0),o(this,C,void 0),o(this,M,void 0),o(this,k,void 0),o(this,L,void 0),o(this,B,void 0),o(this,U,void 0),o(this,V,void 0),o(this,z,void 0),o(this,q,void 0),o(this,Q,void 0),o(this,G,void 0),o(this,H,void 0),o(this,X,()=>{}),o(this,K,()=>{}),o(this,$,()=>{}),o(this,Y,()=>!1),o(this,J,e=>{}),o(this,Z,(e,t,r)=>{}),o(this,ee,(e,t,r,n)=>{if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0}),u(this,Symbol.toStringTag,"LRUCache");const{max:t=0,ttl:r,ttlResolution:n=1,ttlAutopurge:i,updateAgeOnGet:d,updateAgeOnHas:h,allowStale:f,dispose:y,disposeAfter:m,noDisposeOnSet:v,noUpdateTTL:w,maxSize:S=0,maxEntrySize:ie=0,sizeCalculation:ae,fetchMethod:oe,memoMethod:se,noDeleteOnFetchRejection:ce,noDeleteOnStaleGet:le,allowStaleOnFetchRejection:ue,allowStaleOnFetchAbort:de,ignoreFetchAbort:he}=e;if(0!==t&&!b(t))throw new TypeError("max option must be a nonnegative integer");const pe=t?_(t):Array;if(!pe)throw new Error("invalid max value: "+t);if(s(T,this,t),s(O,this,S),this.maxEntrySize=ie||l(O,this),this.sizeCalculation=ae,this.sizeCalculation){if(!l(O,this)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!==typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==se&&"function"!==typeof se)throw new TypeError("memoMethod must be a function if defined");if(s(N,this,se),void 0!==oe&&"function"!==typeof oe)throw new TypeError("fetchMethod must be a function if specified");if(s(P,this,oe),s(G,this,!!oe),s(R,this,new Map),s(I,this,new Array(t).fill(void 0)),s(F,this,new Array(t).fill(void 0)),s(C,this,new pe(t)),s(M,this,new pe(t)),s(k,this,0),s(L,this,0),s(B,this,x.create(t)),s(j,this,0),s(D,this,0),"function"===typeof y&&s(E,this,y),"function"===typeof m?(s(A,this,m),s(U,this,[])):(s(A,this,void 0),s(U,this,void 0)),s(Q,this,!!l(E,this)),s(H,this,!!l(A,this)),this.noDisposeOnSet=!!v,this.noUpdateTTL=!!w,this.noDeleteOnFetchRejection=!!ce,this.allowStaleOnFetchRejection=!!ue,this.allowStaleOnFetchAbort=!!de,this.ignoreFetchAbort=!!he,0!==this.maxEntrySize){if(0!==l(O,this)&&!b(l(O,this)))throw new TypeError("maxSize must be a positive integer if specified");if(!b(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");c(W,this,ne).call(this)}if(this.allowStale=!!f,this.noDeleteOnStaleGet=!!le,this.updateAgeOnGet=!!d,this.updateAgeOnHas=!!h,this.ttlResolution=b(n)||0===n?n:1,this.ttlAutopurge=!!i,this.ttl=r||0,this.ttl){if(!b(this.ttl))throw new TypeError("ttl must be a positive integer if specified");c(W,this,re).call(this)}if(0===l(T,this)&&0===this.ttl&&0===l(O,this))throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!l(T,this)&&!l(O,this)){const e="LRU_CACHE_UNBOUNDED";if((e=>!p.has(e))(e)){p.add(e);g("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,te)}}}getRemainingTTL(e){return l(R,this).has(e)?1/0:0}*entries(){for(const e of c(W,this,ie).call(this))void 0===l(F,this)[e]||void 0===l(I,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield[l(I,this)[e],l(F,this)[e]])}*rentries(){for(const e of c(W,this,ae).call(this))void 0===l(F,this)[e]||void 0===l(I,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield[l(I,this)[e],l(F,this)[e]])}*keys(){for(const e of c(W,this,ie).call(this)){const t=l(I,this)[e];void 0===t||c(W,this,le).call(this,l(F,this)[e])||(yield t)}}*rkeys(){for(const e of c(W,this,ae).call(this)){const t=l(I,this)[e];void 0===t||c(W,this,le).call(this,l(F,this)[e])||(yield t)}}*values(){for(const e of c(W,this,ie).call(this)){void 0===l(F,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield l(F,this)[e])}}*rvalues(){for(const e of c(W,this,ae).call(this)){void 0===l(F,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield l(F,this)[e])}}[Symbol.iterator](){return this.entries()}find(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const r of c(W,this,ie).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;if(void 0!==i&&e(i,l(I,this)[r],this))return this.get(l(I,this)[r],t)}}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;for(const r of c(W,this,ie).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,l(I,this)[r],this)}}rforEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;for(const r of c(W,this,ae).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,l(I,this)[r],this)}}purgeStale(){let e=!1;for(const t of c(W,this,ae).call(this,{allowStale:!0}))l(Y,this).call(this,t)&&(c(W,this,he).call(this,l(I,this)[t],"expire"),e=!0);return e}info(e){const t=l(R,this).get(e);if(void 0===t)return;const r=l(F,this)[t],n=c(W,this,le).call(this,r)?r.__staleWhileFetching:r;if(void 0===n)return;const i={value:n};if(l(q,this)&&l(z,this)){const e=l(q,this)[t],r=l(z,this)[t];if(e&&r){const t=e-(h.now()-r);i.ttl=t,i.start=Date.now()}}return l(V,this)&&(i.size=l(V,this)[t]),i}dump(){const e=[];for(const t of c(W,this,ie).call(this,{allowStale:!0})){const r=l(I,this)[t],n=l(F,this)[t],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;if(void 0===i||void 0===r)continue;const a={value:i};if(l(q,this)&&l(z,this)){a.ttl=l(q,this)[t];const e=h.now()-l(z,this)[t];a.start=Math.floor(Date.now()-e)}l(V,this)&&(a.size=l(V,this)[t]),e.unshift([r,a])}return e}load(e){this.clear();for(const[t,r]of e){if(r.start){const e=Date.now()-r.start;r.start=h.now()-e}this.set(t,r.value,r)}}set(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===t)return this.delete(e),this;const{ttl:n=this.ttl,start:i,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:u}=r;let{noUpdateTTL:d=this.noUpdateTTL}=r;const h=l(ee,this).call(this,e,t,r.size||0,o);if(this.maxEntrySize&&h>this.maxEntrySize)return u&&(u.set="miss",u.maxEntrySizeExceeded=!0),c(W,this,he).call(this,e,"set"),this;let p=0===l(j,this)?void 0:l(R,this).get(e);if(void 0===p){var f;p=0===l(j,this)?l(L,this):0!==l(B,this).length?l(B,this).pop():l(j,this)===l(T,this)?c(W,this,se).call(this,!1):l(j,this),l(I,this)[p]=e,l(F,this)[p]=t,l(R,this).set(e,p),l(C,this)[l(L,this)]=p,l(M,this)[p]=l(L,this),s(L,this,p),s(j,this,(f=l(j,this),f++,f)),l(Z,this).call(this,p,h,u),u&&(u.set="add"),d=!1}else{c(W,this,de).call(this,p);const r=l(F,this)[p];if(t!==r){if(l(G,this)&&c(W,this,le).call(this,r)){r.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:t}=r;if(void 0!==t&&!a){var g,y;if(l(Q,this))null===(g=l(E,this))||void 0===g||g.call(this,t,e,"set");if(l(H,this))null===(y=l(U,this))||void 0===y||y.push([t,e,"set"])}}else if(!a){var m,v;if(l(Q,this))null===(m=l(E,this))||void 0===m||m.call(this,r,e,"set");if(l(H,this))null===(v=l(U,this))||void 0===v||v.push([r,e,"set"])}if(l(J,this).call(this,p),l(Z,this).call(this,p,h,u),l(F,this)[p]=t,u){u.set="replace";const e=r&&c(W,this,le).call(this,r)?r.__staleWhileFetching:r;void 0!==e&&(u.oldValue=e)}}else u&&(u.set="update")}if(0===n||l(q,this)||c(W,this,re).call(this),l(q,this)&&(d||l($,this).call(this,p,n,i),u&&l(K,this).call(this,u,p)),!a&&l(H,this)&&l(U,this)){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var b;null===(b=l(A,this))||void 0===b||b.call(this,...t)}}return this}pop(){try{for(;l(j,this);){const e=l(F,this)[l(k,this)];if(c(W,this,se).call(this,!0),c(W,this,le).call(this,e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(l(H,this)&&l(U,this)){const t=l(U,this);let r;for(;r=null===t||void 0===t?void 0:t.shift();){var e;null===(e=l(A,this))||void 0===e||e.call(this,...r)}}}}has(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=t,i=l(R,this).get(e);if(void 0!==i){const e=l(F,this)[i];if(c(W,this,le).call(this,e)&&void 0===e.__staleWhileFetching)return!1;if(!l(Y,this).call(this,i))return r&&l(X,this).call(this,i),n&&(n.has="hit",l(K,this).call(this,n,i)),!0;n&&(n.has="stale",l(K,this).call(this,n,i))}else n&&(n.has="miss");return!1}peek(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale}=t,n=l(R,this).get(e);if(void 0===n||!r&&l(Y,this).call(this,n))return;const i=l(F,this)[n];return c(W,this,le).call(this,i)?i.__staleWhileFetching:i}async fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:s=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:y,forceRefresh:m=!1,status:v,signal:b}=t;if(!l(G,this))return v&&(v.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,status:v});const _={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:a,noDisposeOnSet:o,size:s,sizeCalculation:u,noUpdateTTL:d,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:g,ignoreFetchAbort:f,status:v,signal:b};let w=l(R,this).get(e);if(void 0===w){v&&(v.fetch="miss");const t=c(W,this,ce).call(this,e,w,_,y);return t.__returned=t}{const t=l(F,this)[w];if(c(W,this,le).call(this,t)){const e=r&&void 0!==t.__staleWhileFetching;return v&&(v.fetch="inflight",e&&(v.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const i=l(Y,this).call(this,w);if(!m&&!i)return v&&(v.fetch="hit"),c(W,this,de).call(this,w),n&&l(X,this).call(this,w),v&&l(K,this).call(this,v,w),t;const a=c(W,this,ce).call(this,e,w,_,y),o=void 0!==a.__staleWhileFetching&&r;return v&&(v.fetch=i?"stale":"refresh",o&&i&&(v.returnedStale=!0)),o?a.__staleWhileFetching:a.__returned=a}}async forceFetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await this.fetch(e,t);if(void 0===r)throw new Error("fetch() returned undefined");return r}memo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=l(N,this);if(!r)throw new Error("no memoMethod provided to constructor");const{context:n,forceRefresh:a}=t,o=i(t,d),s=this.get(e,o);if(!a&&void 0!==s)return s;const c=r(e,s,{options:o,context:n});return this.set(e,c,o),c}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:a}=t,o=l(R,this).get(e);if(void 0!==o){const t=l(F,this)[o],s=c(W,this,le).call(this,t);return a&&l(K,this).call(this,a,o),l(Y,this).call(this,o)?(a&&(a.get="stale"),s?(a&&r&&void 0!==t.__staleWhileFetching&&(a.returnedStale=!0),r?t.__staleWhileFetching:void 0):(i||c(W,this,he).call(this,e,"expire"),a&&r&&(a.returnedStale=!0),r?t:void 0)):(a&&(a.get="hit"),s?t.__staleWhileFetching:(c(W,this,de).call(this,o),n&&l(X,this).call(this,o),t))}a&&(a.get="miss")}delete(e){return c(W,this,he).call(this,e,"delete")}clear(){return c(W,this,pe).call(this,"delete")}}function re(){var e=this;const t=new w(l(T,this)),r=new w(l(T,this));s(q,this,t),s(z,this,r),s($,this,function(n,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.now();if(r[n]=0!==i?a:0,t[n]=i,0!==i&&e.ttlAutopurge){const t=setTimeout(()=>{l(Y,e).call(e,n)&&c(W,e,he).call(e,l(I,e)[n],"expire")},i+1);t.unref&&t.unref()}}),s(X,this,e=>{r[e]=0!==t[e]?h.now():0}),s(K,this,(e,a)=>{if(t[a]){const o=t[a],s=r[a];if(!o||!s)return;e.ttl=o,e.start=s,e.now=n||i();const c=e.now-s;e.remainingTTL=o-c}});let n=0;const i=()=>{const e=h.now();if(this.ttlResolution>0){n=e;const t=setTimeout(()=>n=0,this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=e=>{const a=l(R,this).get(e);if(void 0===a)return 0;const o=t[a],s=r[a];if(!o||!s)return 1/0;return o-((n||i())-s)},s(Y,this,e=>{const a=r[e],o=t[e];return!!o&&!!a&&(n||i())-a>o})}function ne(){const e=new w(l(T,this));s(D,this,0),s(V,this,e),s(J,this,t=>{s(D,this,l(D,this)-e[t]),e[t]=0}),s(ee,this,(e,t,r,n)=>{if(c(W,this,le).call(this,t))return 0;if(!b(r)){if(!n)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!==typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(t,e),!b(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r}),s(Z,this,(t,r,n)=>{if(e[t]=r,l(O,this)){const r=l(O,this)-e[t];for(;l(D,this)>r;)c(W,this,se).call(this,!0)}s(D,this,l(D,this)+e[t]),n&&(n.entrySize=r,n.totalCalculatedSize=l(D,this))})}function ie(){var e=this;let{allowStale:t=this.allowStale}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){if(l(j,e))for(let r=l(L,e);c(W,e,oe).call(e,r)&&(!t&&l(Y,e).call(e,r)||(yield r),r!==l(k,e));)r=l(M,e)[r]}()}function ae(){var e=this;let{allowStale:t=this.allowStale}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){if(l(j,e))for(let r=l(k,e);c(W,e,oe).call(e,r)&&(!t&&l(Y,e).call(e,r)||(yield r),r!==l(L,e));)r=l(C,e)[r]}()}function oe(e){return void 0!==e&&l(R,this).get(l(I,this)[e])===e}function se(e){var t;const r=l(k,this),n=l(I,this)[r],i=l(F,this)[r];if(l(G,this)&&c(W,this,le).call(this,i))i.__abortController.abort(new Error("evicted"));else if(l(Q,this)||l(H,this)){var a,o;if(l(Q,this))null===(a=l(E,this))||void 0===a||a.call(this,i,n,"evict");if(l(H,this))null===(o=l(U,this))||void 0===o||o.push([i,n,"evict"])}return l(J,this).call(this,r),e&&(l(I,this)[r]=void 0,l(F,this)[r]=void 0,l(B,this).push(r)),1===l(j,this)?(s(k,this,s(L,this,0)),l(B,this).length=0):s(k,this,l(C,this)[r]),l(R,this).delete(n),s(j,this,(t=l(j,this),t--,t)),r}function ce(e,t,r,i){var a=this;const o=void 0===t?void 0:l(F,this)[t];if(c(W,this,le).call(this,o))return o;const s=new y,{signal:u}=r;null===u||void 0===u||u.addEventListener("abort",()=>s.abort(u.reason),{signal:s.signal});const d={signal:s.signal,options:r,context:i},h=function(n){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{aborted:o}=s.signal,u=r.ignoreFetchAbort&&void 0!==n;if(r.status&&(o&&!i?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,u&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),o&&!u&&!i)return p(s.signal.reason);const h=f;return l(F,a)[t]===f&&(void 0===n?h.__staleWhileFetching?l(F,a)[t]=h.__staleWhileFetching:c(W,a,he).call(a,e,"fetch"):(r.status&&(r.status.fetchUpdated=!0),a.set(e,n,d.options))),n},p=n=>{const{aborted:i}=s.signal,a=i&&r.allowStaleOnFetchAbort,o=a||r.allowStaleOnFetchRejection,u=o||r.noDeleteOnFetchRejection,d=f;if(l(F,this)[t]===f){!u||void 0===d.__staleWhileFetching?c(W,this,he).call(this,e,"fetch"):a||(l(F,this)[t]=d.__staleWhileFetching)}if(o)return r.status&&void 0!==d.__staleWhileFetching&&(r.status.returnedStale=!0),d.__staleWhileFetching;if(d.__returned===d)throw n};r.status&&(r.status.fetchDispatched=!0);const f=new Promise((t,n)=>{var i;const a=null===(i=l(P,this))||void 0===i?void 0:i.call(this,e,o,d);a&&a instanceof Promise&&a.then(e=>t(void 0===e?void 0:e),n),s.signal.addEventListener("abort",()=>{r.ignoreFetchAbort&&!r.allowStaleOnFetchAbort||(t(void 0),r.allowStaleOnFetchAbort&&(t=e=>h(e,!0)))})}).then(h,e=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=e),p(e))),g=Object.assign(f,{__abortController:s,__staleWhileFetching:o,__returned:void 0});return void 0===t?(this.set(e,g,n(n({},d.options),{},{status:void 0})),t=l(R,this).get(e)):l(F,this)[t]=g,g}function le(e){if(!l(G,this))return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof y}function ue(e,t){l(M,this)[t]=e,l(C,this)[e]=t}function de(e){e!==l(L,this)&&(e===l(k,this)?s(k,this,l(C,this)[e]):c(W,this,ue).call(this,l(M,this)[e],l(C,this)[e]),c(W,this,ue).call(this,l(L,this),e),s(L,this,e))}function he(e,t){var r;let n=!1;if(0!==l(j,this)){const r=l(R,this).get(e);if(void 0!==r)if(n=!0,1===l(j,this))c(W,this,pe).call(this,t);else{var i;l(J,this).call(this,r);const n=l(F,this)[r];if(c(W,this,le).call(this,n))n.__abortController.abort(new Error("deleted"));else if(l(Q,this)||l(H,this)){var a,o;if(l(Q,this))null===(a=l(E,this))||void 0===a||a.call(this,n,e,t);if(l(H,this))null===(o=l(U,this))||void 0===o||o.push([n,e,t])}if(l(R,this).delete(e),l(I,this)[r]=void 0,l(F,this)[r]=void 0,r===l(L,this))s(L,this,l(M,this)[r]);else if(r===l(k,this))s(k,this,l(C,this)[r]);else{const e=l(M,this)[r];l(C,this)[e]=l(C,this)[r];const t=l(C,this)[r];l(M,this)[t]=l(M,this)[r]}s(j,this,(i=l(j,this),i--,i)),l(B,this).push(r)}}if(l(H,this)&&null!==(r=l(U,this))&&void 0!==r&&r.length){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var u;null===(u=l(A,this))||void 0===u||u.call(this,...t)}}return n}function pe(e){for(const i of c(W,this,ae).call(this,{allowStale:!0})){const n=l(F,this)[i];if(c(W,this,le).call(this,n))n.__abortController.abort(new Error("deleted"));else{const a=l(I,this)[i];var t,r;if(l(Q,this))null===(t=l(E,this))||void 0===t||t.call(this,n,a,e);if(l(H,this))null===(r=l(U,this))||void 0===r||r.push([n,a,e])}}if(l(R,this).clear(),l(F,this).fill(void 0),l(I,this).fill(void 0),l(q,this)&&l(z,this)&&(l(q,this).fill(0),l(z,this).fill(0)),l(V,this)&&l(V,this).fill(0),s(k,this,0),s(L,this,0),l(B,this).length=0,s(D,this,0),s(j,this,0),l(H,this)&&l(U,this)){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var n;null===(n=l(A,this))||void 0===n||n.call(this,...t)}}}t.LRUCache=te},66179:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(84468),t),i(r(71646),t)},66201:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryExpressionLogicalOr=void 0;const i=r(11716),a=r(97824),o=r(86318);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.LOGICAL_OR],termFunction:!1}))}async run(e){return new o.ExpressionFunctionLogicalOr}}t.ActorFunctionFactoryExpressionLogicalOr=s},66246:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorInit=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e)}}t.ActorInit=i},66378:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionIsNumeric=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.IS_NUMERIC,overloads:(0,i.declare)(i.SparqlOperator.IS_NUMERIC).onNumeric1(()=>()=>(0,i.bool)(!0)).onTerm1(()=>()=>(0,i.bool)(!1)).collect()})}}t.TermFunctionIsNumeric=a},66442:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(73514),o=r(46631),s=r(57655),c=r(29908),l=i(r(19958)),u=i(r(68613)),d=i(r(22409));function h(e){var t;return null===(t=/^[^]*[#/]/.exec(e))||void 0===t?void 0:t[0]}const p={"http://www.w3.org/1999/02/22-rdf-syntax-ns#":"rdf","http://www.w3.org/2000/01/rdf-schema#":"rdfs","http://www.w3.org/ns/shacl#":"sh","http://www.w3.org/2001/XMLSchema#":"xsd"},f={rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"};t.default=class{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=arguments.length>6?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],c=!(arguments.length>8&&void 0!==arguments[8])||arguments[8];this.store=e,this.base=n,this.errorOnExtraQuads=i,this.mintUnspecifiedPrefixes=a,this.fetch=o,this.extendedSyntax=s,this.requireBase=c,this.prefixes={},this.prefixRev={};for(const l of Object.keys(r)){const e=r[l],t="string"===typeof e?e:e.value;t in p||l in f||(this.prefixRev[t]=l,this.prefixes[l]=t)}this.writer=t,this.requireBase=c}write(){return n(this,void 0,void 0,function*(){const e=this.store.getQuads(null,"http://www.w3.org/1999/02/22-rdf-syntax-ns#type","http://www.w3.org/2002/07/owl#Ontology",null);if(1===e.length&&"NamedNode"===e[0].subject.termType){const t=e[0].subject;this.store.removeQuads(e),t.equals(new a.NamedNode("urn:x-base:default"))||this.writer.add("BASE ".concat((0,s.termToString)(t))),yield this.writeImports(t)}else if(this.requireBase)throw new Error("Base expected");if(this.mintUnspecifiedPrefixes){const e=new Set;for(const r of[...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)])if("NamedNode"===r.termType){const t=h(r.value);!t||t in this.prefixRev||t in p||e.add(t)}const t=Object.assign(Object.assign({},this.prefixes),f);yield Promise.all([...e].map(e=>(0,o.uriToPrefix)(e,{fetch:this.fetch,mintOnUnknown:!0,existingPrefixes:t}).then(r=>{this.prefixes[r]=e,t[r]=e,this.prefixRev[e]=r})))}const t=new Set([...this.store.getSubjects(null,null,null),...this.store.getPredicates(null,null,null),...this.store.getObjects(null,null,null)].filter(e=>"NamedNode"===e.termType).map(e=>h(e.value)).filter(e=>"string"===typeof e));for(const r in this.prefixRev)t.has(r)||(delete this.prefixes[this.prefixRev[r]],delete this.prefixRev[r]);if(yield this.writePrefixes(),this.prefixes=Object.assign(Object.assign({},this.prefixes),f),this.prefixRev=Object.assign(Object.assign({},this.prefixRev),p),this.writer.newLine(),yield this.writeShapes(),this.extendedSyntax){const e=this.store.getSubjects(null,null,null);e.length>0&&this.writer.newLine(1);for(const t of e)this.writer.add(yield this.termToString(t,!0,!0)),this.writer.add(" "),this.writer.indent(),yield this.writeTurtlePredicates(t),this.writer.deindent();e.length>0&&(this.writer.add(" ."),this.writer.newLine())}if(this.errorOnExtraQuads&&this.store.size>0)throw new Error("Dataset contains quads that cannot be written in SHACLC [\n".concat(new a.Writer({prefixes:this.prefixes}).quadsToString(this.store.getQuads(null,null,null,null)),"]"));this.writer.end()})}writeImports(e){return n(this,void 0,void 0,function*(){const t=this.store.getObjectsOnce(e,new a.NamedNode("http://www.w3.org/2002/07/owl#imports"),null);if(t.length>0)for(const e of t)this.writer.add("IMPORTS <".concat(e.value,">"),!0)})}writePrefixes(){return n(this,void 0,void 0,function*(){const e=Object.keys(this.prefixes).filter(e=>!(e in u.default)).sort();if(e.length>0)for(const t of e)this.writer.add("PREFIX ".concat(t,": <").concat(this.prefixes[t],">"),!0)})}termToString(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n(this,void 0,void 0,function*(){try{if(t)throw new Error("Shacl name disabled");return(0,c.getShaclName)(e)}catch(n){}if("NamedNode"===e.termType){const t=h(e.value);return t&&t in this.prefixRev&&t in this.prefixRev?"".concat(this.prefixRev[t],":").concat(e.value.slice(t.length)):(0,s.termToString)(e)}if("Literal"===e.termType)return"http://www.w3.org/2001/XMLSchema#integer"===e.datatypeString||"http://www.w3.org/2001/XMLSchema#boolean"===e.datatypeString?e.value:(0,s.termToString)(e);throw"BlankNode"===e.termType&&r&&(0,s.termToString)(e),new Error("Invalid term type for extra statement ".concat(e.value," (").concat(e.termType,")"))})}writeShapes(){return n(this,void 0,void 0,function*(){for(const e of this.store.getSubjectsOnce(new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new a.NamedNode("http://www.w3.org/ns/shacl#NodeShape"),null)){this.store.getQuadsOnce(e,new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),new a.NamedNode("http://www.w3.org/2000/01/rdf-schema#Class"),null).length>0?this.writer.add("shapeClass "):this.writer.add("shape "),this.writer.add(yield this.termToString(e)),this.writer.add(" ");const t=this.store.getObjectsOnce(e,new a.NamedNode("http://www.w3.org/ns/shacl#targetClass"),null);if(t.length>0){this.writer.add("-> ");for(const e of t)"NamedNode"===e.termType?this.writer.add(yield this.termToString(e)):(this.writer.add("!"),this.writer.add(yield this.termToString(this.singleObject(e,new a.NamedNode("http://www.w3.org/ns/shacl#not"),!0)))),this.writer.add(" ")}const r=this.store.getPredicates(e,null,null).filter(e=>[new a.NamedNode("http://www.w3.org/ns/shacl#targetClass"),new a.NamedNode("http://www.w3.org/ns/shacl#property"),new a.NamedNode("http://www.w3.org/ns/shacl#or"),...Object.keys(d.default).map(e=>new a.NamedNode("http://www.w3.org/ns/shacl#"+e))].every(t=>!e.equals(t)));r.length>0&&(this.writer.add(";"),this.writer.indent(),this.writer.newLine(1)),this.extendedSyntax&&(yield this.writeGivenTurtlePredicates(e,r)),r.length>0&&(this.writer.add(" "),this.writer.deindent()),yield this.writeShapeBody(e,!1)}})}getSingleProperty(e,t){let r=[e];try{let n=(0,c.getShaclName)(e.predicate),i="pred";if("not"===n){const t=this.store.getQuadsOnce(e.object,null,null,null);if(r=r.concat(t),1!==t.length)throw new Error("Can only handle having one predicate of 'not'");[e]=t,n=(0,c.getShaclName)(e.predicate),i="not"}if(!(n in t))throw new Error("".concat(n," is not allowed"));return{name:n,type:i,object:e.object}}catch(n){this.store.addQuads(r)}}singleLayerPropertiesList(e,t){const r=[];for(const n of this.store.getQuadsOnce(e,null,null,null)){const e=this.getSingleProperty(n,t);e&&r.push(e)}return r}expectOneProperty(e,t){const r=this.store.getQuadsOnce(e,null,null,null);if(1===r.length){const e=this.getSingleProperty(r[0],t);if(e)return e}this.store.addQuads(r)}orProperties(e,t){const r=[];for(const n of this.store.getQuadsOnce(e,new a.NamedNode("http://www.w3.org/ns/shacl#or"),null,null)){const e=[];for(const r of this.getList(n.object)){const i=this.expectOneProperty(r,t);if(!i)throw this.store.addQuad(n),new Error("Each entry of the 'or' statement must declare exactly one property");e.push(i)}r.push(e)}return r}getList(e){let t=e;const r=[];for(;!t.equals(new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));)r.push(this.singleObject(t,new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),!0)),t=this.singleObject(t,new a.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),!0);return r}writeIriLiteralOrArray(e){return n(this,void 0,void 0,function*(){if("BlankNode"===e.termType){this.writer.add("[");let t=!0;for(const r of this.getList(e))t?t=!1:this.writer.add(" "),this.writer.add(yield this.termToString(r));this.writer.add("]")}else this.writer.add(yield this.termToString(e))})}singleObject(e,t,r){var n;return null===(n=this.singleQuad(e,t,r))||void 0===n?void 0:n.object}singleQuad(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=this.store.getQuadsOnce(e,t,null,null);if(r&&1!==n.length)throw this.store.addQuads(n),new Error("The subject and predicate ".concat(null===e||void 0===e?void 0:e.value," ").concat(null===t||void 0===t?void 0:t.value," must have exactly one object. Instead has ").concat(n.length));if(n.length>1)throw this.store.addQuads(n),new Error("The subject and predicate ".concat(null===e||void 0===e?void 0:e.value," ").concat(null===t||void 0===t?void 0:t.value," can have at most one object. Instead has ").concat(n.length));return 1===n.length?n[0]:void 0}writeAssigment(e){let{name:t,type:r,object:i}=e;return n(this,void 0,void 0,function*(){"not"===r&&this.writer.add("!"),this.writer.add(t),this.writer.add("="),yield this.writeIriLiteralOrArray(i)})}writeAtom(e){let{name:t,type:r,object:i}=e;return n(this,void 0,void 0,function*(){switch("not"===r&&this.writer.add("!"),t){case"node":if("NamedNode"===i.termType)this.writer.add("@".concat(yield this.termToString(i)));else{if("BlankNode"!==i.termType)throw new Error("Invalid nested shape, must be blank node or IRI");yield this.writeShapeBody(i)}return;case"nodeKind":return void this.writer.add((0,c.getShaclName)(i));case"class":case"datatype":return void this.writer.add(yield this.termToString(i));default:this.writer.add(t),this.writer.add("="),yield this.writeIriLiteralOrArray(i)}})}writeAssigments(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3?arguments[3]:void 0;return n(this,void 0,void 0,function*(){for(const n of e)r?r=!1:this.writer.add(t),i?yield this.writeAtom(n):yield this.writeAssigment(n)})}writeParams(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return n(this,void 0,void 0,function*(){const n=this.orProperties(e,r),o=this.singleLayerPropertiesList(e,r);a&&(n.length>0||o.length>0)&&this.writer.newLine(1);for(const e of n)t?t=!1:this.writer.add(" "),yield this.writeAssigments(e,"|",!0,i);yield this.writeAssigments(o," ",t,i),a&&(n.length>0||o.length>0)&&this.writer.add(" .")})}writeShapeBody(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return n(this,void 0,void 0,function*(){this.writer.add("{").indent();const r=this.store.getObjectsOnce(e,new a.NamedNode("http://www.w3.org/ns/shacl#property"),null);yield this.writeParams(e,!0,d.default,!1,!0);for(const e of r)this.writer.newLine(1),yield this.writeProperty(e);this.writer.deindent().newLine(1),t?this.writer.add("} ."):this.writer.add("}").newLine(1)})}writeProperty(e){return n(this,void 0,void 0,function*(){yield this.writePath(this.singleObject(e,new a.NamedNode("http://www.w3.org/ns/shacl#path"),!0));const t=this.singleObject(e,new a.NamedNode("http://www.w3.org/ns/shacl#minCount")),r=this.singleObject(e,new a.NamedNode("http://www.w3.org/ns/shacl#maxCount")),n=this.singleObject(e,new a.NamedNode("http://www.w3.org/ns/shacl#nodeKind")),i=this.singleObject(e,new a.NamedNode("http://www.w3.org/ns/shacl#class")),o=this.singleObject(e,new a.NamedNode("http://www.w3.org/ns/shacl#datatype")),s=this.store.getObjectsOnce(e,new a.NamedNode("http://www.w3.org/ns/shacl#node"),null);if(n&&(this.writer.add(" "),this.writer.add((0,c.getShaclName)(n))),i&&(this.writer.add(" "),this.writer.add(yield this.termToString(i))),o&&(this.writer.add(" "),this.writer.add(yield this.termToString(o))),void 0!==t||void 0!==r){if(this.writer.add(" ["),t){if("Literal"!==t.termType||"http://www.w3.org/2001/XMLSchema#integer"!==t.datatypeString)throw new Error("Invalid min value, must me an integer literal");this.writer.add(t.value)}else this.writer.add("0");if(this.writer.add(".."),r){if("Literal"!==r.termType||"http://www.w3.org/2001/XMLSchema#integer"!==r.datatypeString)throw new Error("Invalid max value, must me an integer literal");this.store.removeMatches(e,new a.NamedNode("http://www.w3.org/ns/shacl#maxCount"),void 0,void 0),this.writer.add(r.value)}else this.writer.add("*");this.writer.add("]")}yield this.writeParams(e,!1,l.default,!0);const u=[];for(const e of s)if("NamedNode"===e.termType)this.writer.add(" "),this.writer.add("@".concat(yield this.termToString(e)));else{if("BlankNode"!==e.termType)throw new Error("Invalid nested shape, must be blank node or IRI");u.push(e)}for(const e of u)this.writer.add(" "),yield this.writeShapeBody(e);this.extendedSyntax&&this.store.getQuads(e,null,null,null).length>0&&(this.writer.add(" %"),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(e),this.writer.deindent(),this.writer.newLine(1),this.writer.add("%")),0===u.length&&this.writer.add(" .")})}writeTurtlePredicates(e){return n(this,void 0,void 0,function*(){return this.writeGivenTurtlePredicates(e,this.store.getPredicates(e,null,null))})}writeGivenTurtlePredicates(e,t){return n(this,void 0,void 0,function*(){let r=!1;if(t.some(e=>e.equals(a.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type")))){const t=this.store.getObjectsOnce(e,a.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),null);t.length>0&&(r=!0,this.writer.add("a "),yield this.writeTurtleObjects(t))}for(const n of t)n.equals(a.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"))||(r?(this.writer.add(" ;"),this.writer.newLine(1)):r=!0,this.writer.add(yield this.termToString(n,!0)),this.writer.add(" "),yield this.writeTurtleObjects(this.store.getObjectsOnce(e,n,null)))})}writeTurtleObjects(e){return n(this,void 0,void 0,function*(){const t=[],r=[];for(const i of e)"BlankNode"===i.termType&&0===[...this.store.match(null,null,i),...this.store.match(null,i,null)].length?t.push(i):r.push(i);this.writer.add((yield Promise.all(r.map(e=>this.termToString(e,!0,!0)))).join(", "));let n=r.length>0;if(t.length>0)for(const e of t)n?this.writer.add(", "):n=!0,(yield this.writeList(e))||(this.writer.add("["),this.writer.indent(),this.writer.newLine(1),yield this.writeTurtlePredicates(e),this.writer.deindent(),this.writer.newLine(1),this.writer.add("]"))})}writeList(e){return n(this,void 0,void 0,function*(){let t=e;const r=[],n=[];for(;!t.equals(a.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil"));){const e=this.store.getQuadsOnce(t,a.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#first"),null,null),i=this.store.getQuadsOnce(t,a.DataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#rest"),null,null);if(n.push(...e,...i),1!==e.length||1!==i.length||0!==this.store.getQuads(t,null,null,null).length)return this.store.addQuads(n),!1;r.push(e[0].object),t=i[0].object}let i=!1;this.writer.add("(");for(const e of r)i?this.writer.add(" "):i=!0,yield this.writeTurtleObjects([e]);return this.writer.add(")"),!0})}writePath(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return n(this,void 0,void 0,function*(){if("NamedNode"===e.termType)this.writer.add(yield this.termToString(e));else{if("BlankNode"!==e.termType)throw new Error("Path should be named node or blank node");{const r=this.store.getQuadsOnce(e,null,null,null);if(1===r.length){const{predicate:n,object:i}=r[0];switch(n.value){case"http://www.w3.org/ns/shacl#inversePath":return this.writer.add("^"),void(yield this.writePath(i,!0));case"http://www.w3.org/ns/shacl#alternativePath":{const e=this.getList(i);if(0===e.length)throw new Error("Invalid Alternative Path - no options");if(1===e.length)yield this.writePath(e[0]);else{t&&this.writer.add("(");let r=!0;for(const t of e)r?r=!1:this.writer.add("|"),yield this.writePath(t,!0);t&&this.writer.add(")")}return}case"http://www.w3.org/ns/shacl#zeroOrMorePath":return yield this.writePath(i,!0),void this.writer.add("*");case"http://www.w3.org/ns/shacl#oneOrMorePath":return yield this.writePath(i,!0),void this.writer.add("+");case"http://www.w3.org/ns/shacl#zeroOrOnePath":return yield this.writePath(i,!0),void this.writer.add("?");default:throw new Error("Invalid path type ".concat(e.value))}}else{this.store.addQuads(r);const n=this.getList(e);if(0===n.length)throw new Error("Invalid Path");{t&&this.writer.add("(");let e=!0;for(const t of n)e?e=!1:this.writer.add("/"),yield this.writePath(t,!0);t&&this.writer.add(")")}}}}})}}},66492:(e,t,r)=>{const n=r(15461),i=r(30977),a=r(67188),o=r(95386),s=r(22379);e.exports={DynamicNestedLoopJoin:n,HashJoin:i,NestedLoopJoin:a,SymmetricHashJoin:o,MergeStream:s}},66540:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorContextPreprocessConvertShortcuts=void 0;const n=r(13859),i=r(13953);class a extends n.ActorContextPreprocess{constructor(e){super(e)}async test(e){return(0,i.passTestVoid)()}async run(e){return{context:a.expandShortcuts(e.context,this.contextKeyShortcuts)}}static expandShortcuts(e,t){for(const r of e.keys())t[r.name]&&(e=e.set(new i.ActionContextKey(t[r.name]),e.get(r)).delete(r));return e}}t.ActorContextPreprocessConvertShortcuts=a},66772:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionGreaterThan=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(e){super({arity:2,operator:i.SparqlOperator.GT,overloads:(0,i.declare)(i.SparqlOperator.GT).set(["term","term"],e=>t=>{let[r,n]=t;return this.lessThanFunction.applyOnTerms([n,r],e)}).collect()}),this.lessThanFunction=e}}t.TermFunctionGreaterThan=a},66948:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unsafeStringify=void 0;const n=r(5207),i=[];for(let o=0;o<256;++o)i.push((o+256).toString(16).slice(1));function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}t.unsafeStringify=a,t.default=function(e){const t=a(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!(0,n.default)(t))throw TypeError("Stringified UUID is invalid");return t}},66983:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(99093),t)},66994:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryResultSerialize=void 0;const n=r(82663);class i extends n.ActorAbstractMediaTyped{constructor(e){super(e)}}t.ActorQueryResultSerialize=i},67017:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationGroup=void 0;const i=r(52241),a=r(52840),o=r(13953),s=r(7979),c=r(89266),l=r(72758),u=r(12653);class d extends i.ActorQueryOperationTypedMediated{constructor(e){super(e,"group"),this.mediatorBindingsAggregatorFactory=e.mediatorBindingsAggregatorFactory}async testOperation(){return(0,o.passTestVoid)()}async runOperation(e,t){const r=t.getSafe(a.KeysInitQuery.dataFactory),i=await s.BindingsFactory.create(this.mediatorMergeBindingsContext,t,r),{input:o,aggregates:d}=e,h=await this.mediatorQueryOperation.mediate({operation:o,context:t}),p=(0,c.getSafeBindings)(h),f=[...e.variables,...d.map(e=>e.variable)].map(e=>({variable:e,canBeUndef:!1})),g=(await p.metadata()).variables.map(e=>e.variable);return{type:"bindings",bindingsStream:new l.TransformIterator(()=>new Promise((r,n)=>{const a=new u.GroupsState(e,this.mediatorBindingsAggregatorFactory,t,i,g);p.bindingsStream.on("end",async()=>{try{const e=new l.ArrayIterator(await a.collectResults(),{autoStart:!1});r(e)}catch(e){n(e)}}),p.bindingsStream.on("error",n),p.bindingsStream.on("data",e=>{a.consumeBindings(e).catch(n)})}),{autoStart:!1}),metadata:async()=>n(n({},await p.metadata()),{},{variables:f})}}}t.ActorQueryOperationGroup=d},67087:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingsFactory=void 0;const n=r(92119),i=r(33641);class a{constructor(e,t){this.dataFactory=e,this.contextMergeHandlers=t}static async create(e,t,r){return new a(r,(await e.mediate({context:t})).mergeHandlers)}bindings(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new i.Bindings(this.dataFactory,(0,n.Map)(e.map(e=>{let[t,r]=e;return[t.value,r]})),this.contextMergeHandlers?{contextMergeHandlers:this.contextMergeHandlers}:void 0)}fromBindings(e){return this.bindings([...e])}fromRecord(e){return this.bindings(Object.entries(e).map(e=>{let[t,r]=e;return[this.dataFactory.variable(t),r]}))}}t.BindingsFactory=a},67188:(e,t,r)=>{const{MultiTransformIterator:n,SimpleTransformIterator:i,scheduleTask:a}=r(72758);e.exports=class extends n{constructor(e,t,r,n){super(e,n),this.right=t,this.funJoin=r,this.on("end",()=>this.right.close())}_end(){super._end(),a(()=>this.right.destroy())}_createTransformer(e){return new i(this.right.clone(),{transform:(t,r,n)=>{let i=this.funJoin(e,t);null!==i&&n(i),r()}})}}},67202:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(96451),t)},67323:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(97083),t)},67355:(e,t,r)=>{"use strict";var n=r(97643),i=r(75482);function a(e,t,r){if(!(this instanceof a))return new a(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(n.toArray(t,r))}e.exports=a,a.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),i(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},a.prototype.update=function(e,t){return this.inner.update(e,t),this},a.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)}},67357:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(49827),t)},67501:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionUuid=void 0;const n=r(11716),i=r(97824),a=r(15155);class o extends n.TermFunctionBase{constructor(){super({arity:0,operator:i.SparqlOperator.UUID,overloads:(0,i.declare)(i.SparqlOperator.UUID).set([],()=>()=>new i.NamedNode("urn:uuid:".concat(a.v4()))).collect()})}}t.TermFunctionUuid=o},67786:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(88776),t)},67877:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermStrLang=void 0;const i=r(11716),a=r(97824),o=r(91306);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.STRLANG],termFunction:!0}))}async run(e){return new o.TermFunctionStrLang}}t.ActorFunctionFactoryTermStrLang=s},67884:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQuerySourceIdentifyRdfJs=void 0;const n=r(48304),i=r(52840),a=r(13953),o=r(7979),s=r(41993);class c extends n.ActorQuerySourceIdentify{constructor(e){super(e)}async test(e){const t=e.querySourceUnidentified;return void 0!==t.type&&"rdfjs"!==t.type?(0,a.failTest)("".concat(this.name," requires a single query source with rdfjs type to be present in the context.")):"string"!==typeof t.value&&"match"in t.value?(0,a.passTestVoid)():(0,a.failTest)("".concat(this.name," received an invalid rdfjs query source."))}async run(e){var t;const r=e.context.getSafe(i.KeysInitQuery.dataFactory);return{querySource:{source:new s.QuerySourceRdfJs(e.querySourceUnidentified.value,r,await o.BindingsFactory.create(this.mediatorMergeBindingsContext,e.context,r)),context:null!==(t=e.querySourceUnidentified.context)&&void 0!==t?t:new a.ActionContext}}}}t.ActorQuerySourceIdentifyRdfJs=c},68127:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(81626),t)},68332:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(13805),t)},68333:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionSeconds=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.SECONDS,overloads:(0,i.declare)(i.SparqlOperator.SECONDS).onDateTime1(()=>e=>(0,i.decimal)(e.typedValue.seconds)).set([i.TypeURL.XSD_TIME],()=>e=>{let[t]=e;return(0,i.integer)(t.typedValue.seconds)}).collect()})}}t.TermFunctionSeconds=a},68511:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationLoad=void 0;const n=r(52241),i=r(52840),a=r(89266),o=r(85160);class s extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"load")}async testOperation(e,t){return(0,a.testReadOnly)(t)}async runOperation(e,t){const r=t.getSafe(i.KeysInitQuery.dataFactory),n=new o.Factory(r);let s=t;e.silent&&(s=s.set(i.KeysInitQuery.lenient,!0));const{querySource:c}=await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:e.source.value},context:s});let l=(0,a.getSafeQuads)(await this.mediatorQueryOperation.mediate({operation:n.createConstruct((0,a.assignOperationSource)(n.createPattern(r.variable("s"),r.variable("p"),r.variable("o")),c),[n.createPattern(r.variable("s"),r.variable("p"),r.variable("o"))]),context:s})).quadStream;e.destination&&(l=l.map(t=>r.quad(t.subject,t.predicate,t.object,e.destination)));const{execute:u}=await this.mediatorUpdateQuads.mediate({quadStreamInsert:l,context:t});return{type:"void",execute:u}}}t.ActorQueryOperationLoad=s},68550:(e,t,r)=>{"use strict";const{MathFloor:n,NumberIsInteger:i}=r(28931),{validateInteger:a}=r(8870),{ERR_INVALID_ARG_VALUE:o}=r(60056).codes;let s=16384,c=16;function l(e){return e?c:s}e.exports={getHighWaterMark:function(e,t,r,a){const s=function(e,t,r){return null!=e.highWaterMark?e.highWaterMark:t?e[r]:null}(t,a,r);if(null!=s){if(!i(s)||s<0){const e=a?"options.".concat(r):"options.highWaterMark";throw new o(e,s)}return n(s)}return l(e.objectMode)},getDefaultHighWaterMark:l,setDefaultHighWaterMark:function(e,t){a(t,"value",0),e?c=t:s=t}}},68598:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Literal=void 0;const n=r(656);class i{constructor(e,t){this.termType="Literal",this.value=e,"string"===typeof t?(this.language=t,this.datatype=i.RDF_LANGUAGE_STRING,this.direction=""):t?"termType"in t?(this.language="",this.datatype=t,this.direction=""):(this.language=t.language,this.datatype=t.direction?i.RDF_DIRECTIONAL_LANGUAGE_STRING:i.RDF_LANGUAGE_STRING,this.direction=t.direction||""):(this.language="",this.datatype=i.XSD_STRING,this.direction="")}equals(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&(e.direction===this.direction||!e.direction&&""===this.direction)&&this.datatype.equals(e.datatype)}}t.Literal=i,i.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.RDF_DIRECTIONAL_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"),i.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string")},68613:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",sh:"http://www.w3.org/ns/shacl#",xsd:"http://www.w3.org/2001/XMLSchema#"}},68634:(e,t,r)=>{"use strict";r.d(t,{A:()=>p,J:()=>h});var n=r(94051),i=r(24209),a=r(57103),o=r(44539),s=r(27644);const c=Symbol("iter");function l(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4;if(0===r)return Object.assign(e,t);for(const n in t)e[n]=l(e[n]||Object.create(null),t[n],r-1);return e}function u(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=!1;for(const i in e)if(i in t){const a=0===r?null:u(e[i],t[i],r-1);if(!1!==a)n=n||Object.create(null),n[i]=a;else if(3===r)return!1}return n}function d(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:4,n=!1;for(const i in e)if(i in t){if(0!==r){const a=d(e[i],t[i],r-1);if(!1!==a)n=n||Object.create(null),n[i]=a;else if(3===r)return!1}}else n=n||Object.create(null),n[i]=0===r?null:l({},e[i],r-1);return n}class h{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._id=1,this._ids=Object.create(null),this._ids[""]=1,this._entities=Object.create(null),this._entities[1]="",this._blankNodeIndex=0,this._factory=e.factory||i.Ay}_termFromId(e){if("."===e[0]){const t=this._entities,r=e.split(".");return this._factory.quad(this._termFromId(t[r[1]]),this._termFromId(t[r[2]]),this._termFromId(t[r[3]]),r[4]&&this._termFromId(t[r[4]]))}return(0,i.iN)(e,this._factory)}_termToNumericId(e){if("Quad"===e.termType){const t=this._termToNumericId(e.subject),r=this._termToNumericId(e.predicate),n=this._termToNumericId(e.object);let i;return t&&r&&n&&((0,o.isDefaultGraph)(e.graph)||(i=this._termToNumericId(e.graph)))&&this._ids[i?".".concat(t,".").concat(r,".").concat(n,".").concat(i):".".concat(t,".").concat(r,".").concat(n)]}return this._ids[(0,i.FL)(e)]}_termToNewNumericId(e){const t=e&&"Quad"===e.termType?".".concat(this._termToNewNumericId(e.subject),".").concat(this._termToNewNumericId(e.predicate),".").concat(this._termToNewNumericId(e.object)).concat((0,o.isDefaultGraph)(e.graph)?"":".".concat(this._termToNewNumericId(e.graph))):(0,i.FL)(e);return this._ids[t]||(this._ids[this._entities[++this._id]=t]=this._id)}createBlankNode(e){let t,r;if(e)for(t=e="_:".concat(e),r=1;this._ids[t];)t=e+r++;else do{t="_:b".concat(this._blankNodeIndex++)}while(this._ids[t]);return this._ids[t]=++this._id,this._entities[this._id]=t,this._factory.blankNode(t.substr(2))}}class p{constructor(e,t){this._size=0,this._graphs=Object.create(null),t||!e||e[0]||"function"===typeof e.match||(t=e,e=null),t=t||{},this._factory=t.factory||i.Ay,this._entityIndex=t.entityIndex||new h({factory:this._factory}),this._entities=this._entityIndex._entities,this._termFromId=this._entityIndex._termFromId.bind(this._entityIndex),this._termToNumericId=this._entityIndex._termToNumericId.bind(this._entityIndex),this._termToNewNumericId=this._entityIndex._termToNewNumericId.bind(this._entityIndex),e&&this.addAll(e)}get size(){let e=this._size;if(null!==e)return e;e=0;const t=this._graphs;let r,n;for(const i in t)for(const a in r=t[i].subjects)for(const t in n=r[a])e+=Object.keys(n[t]).length;return this._size=e}_addToIndex(e,t,r,n){const i=e[t]||(e[t]={}),a=i[r]||(i[r]={}),o=n in a;return o||(a[n]=null),!o}_removeFromIndex(e,t,r,n){const i=e[t],a=i[r];delete a[n];for(const o in a)return;delete i[r];for(const o in i)return;delete e[t]}*_findInIndex(e,t,r,n,i,a,o,s){let c,l,u;const d=this._entities,h=this._termFromId(d[s]),p={subject:null,predicate:null,object:null};t&&((c=e,e={})[t]=c[t]);for(const f in e)if(l=e[f]){p[i]=this._termFromId(d[f]),r&&((c=l,l={})[r]=c[r]);for(const e in l)if(u=l[e]){p[a]=this._termFromId(d[e]);const t=n?n in u?[n]:[]:Object.keys(u);for(let e=0;e<t.length;e++)p[o]=this._termFromId(d[t[e]]),yield this._factory.quad(p.subject,p.predicate,p.object,h)}}}_loop(e,t){for(const r in e)t(r)}_loopByKey0(e,t,r){let n,i;if(n=e[t])for(i in n)r(i)}_loopByKey1(e,t,r){let n,i;for(n in e)i=e[n],i[t]&&r(n)}_loopBy2Keys(e,t,r,n){let i,a,o;if((i=e[t])&&(a=i[r]))for(o in a)n(o)}_countInIndex(e,t,r,n){let i,a,o,s=0;t&&((i=e,e={})[t]=i[t]);for(const c in e)if(a=e[c]){r&&((i=a,a={})[r]=i[r]);for(const e in a)(o=a[e])&&(n?n in o&&s++:s+=Object.keys(o).length)}return s}_getGraphs(e){return"number"!==typeof(e=""===e?1:e&&(this._termToNumericId(e)||-1))?this._graphs:{[e]:this._graphs[e]}}_uniqueEntities(e){const t=Object.create(null);return r=>{r in t||(t[r]=!0,e(this._termFromId(this._entities[r],this._factory)))}}add(e){return this.addQuad(e),this}addQuad(e,t,r,n){t||(n=e.graph,r=e.object,t=e.predicate,e=e.subject),n=n?this._termToNewNumericId(n):1;let i=this._graphs[n];return i||(i=this._graphs[n]={subjects:{},predicates:{},objects:{}},Object.freeze(i)),e=this._termToNewNumericId(e),t=this._termToNewNumericId(t),r=this._termToNewNumericId(r),!!this._addToIndex(i.subjects,e,t,r)&&(this._addToIndex(i.predicates,t,r,e),this._addToIndex(i.objects,r,e,t),this._size=null,!0)}addQuads(e){for(let t=0;t<e.length;t++)this.addQuad(e[t])}delete(e){return this.removeQuad(e),this}has(e,t,r,n){return e&&e.subject&&({subject:e,predicate:t,object:r,graph:n}=e),!this.readQuads(e,t,r,n).next().done}import(e){return e.on("data",e=>{this.addQuad(e)}),e}removeQuad(e,t,r,n){t||({subject:e,predicate:t,object:r,graph:n}=e),n=n?this._termToNumericId(n):1;const i=this._graphs;let a,o,s;if(!(e=e&&this._termToNumericId(e))||!(t=t&&this._termToNumericId(t))||!(r=r&&this._termToNumericId(r))||!(a=i[n])||!(o=a.subjects[e])||!(s=o[t])||!(r in s))return!1;for(e in this._removeFromIndex(a.subjects,e,t,r),this._removeFromIndex(a.predicates,t,r,e),this._removeFromIndex(a.objects,r,e,t),null!==this._size&&this._size--,a.subjects)return!0;return delete i[n],!0}removeQuads(e){for(let t=0;t<e.length;t++)this.removeQuad(e[t])}remove(e){return e.on("data",e=>{this.removeQuad(e)}),e}removeMatches(e,t,r,i){const a=new n.Readable({objectMode:!0}),o=this.readQuads(e,t,r,i);return a._read=e=>{for(;--e>=0;){const{done:e,value:t}=o.next();if(e)return void a.push(null);a.push(t)}},this.remove(a)}deleteGraph(e){return this.removeMatches(null,null,null,e)}getQuads(e,t,r,n){return[...this.readQuads(e,t,r,n)]}*readQuads(e,t,r,n){const i=this._getGraphs(n);let a,o,s,c;if(!(e&&!(o=this._termToNumericId(e))||t&&!(s=this._termToNumericId(t))||r&&!(c=this._termToNumericId(r))))for(const l in i)(a=i[l])&&(o?c?yield*this._findInIndex(a.objects,c,o,s,"object","subject","predicate",l):yield*this._findInIndex(a.subjects,o,s,null,"subject","predicate","object",l):s?yield*this._findInIndex(a.predicates,s,c,null,"predicate","object","subject",l):c?yield*this._findInIndex(a.objects,c,null,null,"object","subject","predicate",l):yield*this._findInIndex(a.subjects,null,null,null,"subject","predicate","object",l))}match(e,t,r,n){return new g(this,e,t,r,n,{entityIndex:this._entityIndex})}countQuads(e,t,r,n){const i=this._getGraphs(n);let a,o,s,c,l=0;if(e&&!(o=this._termToNumericId(e))||t&&!(s=this._termToNumericId(t))||r&&!(c=this._termToNumericId(r)))return 0;for(const u in i)(a=i[u])&&(l+=e?r?this._countInIndex(a.objects,c,o,s):this._countInIndex(a.subjects,o,s,c):t?this._countInIndex(a.predicates,s,c,o):this._countInIndex(a.objects,c,o,s));return l}forEach(e,t,r,n,i){this.some(t=>(e(t,this),!1),t,r,n,i)}every(e,t,r,n,i){return!this.some(t=>!e(t,this),t,r,n,i)}some(e,t,r,n,i){for(const a of this.readQuads(t,r,n,i))if(e(a,this))return!0;return!1}getSubjects(e,t,r){const n=[];return this.forSubjects(e=>{n.push(e)},e,t,r),n}forSubjects(e,t,r,n){const i=this._getGraphs(n);let a,o,s;if(e=this._uniqueEntities(e),!(t&&!(o=this._termToNumericId(t))||r&&!(s=this._termToNumericId(r))))for(n in i)(a=i[n])&&(o?s?this._loopBy2Keys(a.predicates,o,s,e):this._loopByKey1(a.subjects,o,e):s?this._loopByKey0(a.objects,s,e):this._loop(a.subjects,e))}getPredicates(e,t,r){const n=[];return this.forPredicates(e=>{n.push(e)},e,t,r),n}forPredicates(e,t,r,n){const i=this._getGraphs(n);let a,o,s;if(e=this._uniqueEntities(e),!(t&&!(o=this._termToNumericId(t))||r&&!(s=this._termToNumericId(r))))for(n in i)(a=i[n])&&(o?s?this._loopBy2Keys(a.objects,s,o,e):this._loopByKey0(a.subjects,o,e):s?this._loopByKey1(a.predicates,s,e):this._loop(a.predicates,e))}getObjects(e,t,r){const n=[];return this.forObjects(e=>{n.push(e)},e,t,r),n}forObjects(e,t,r,n){const i=this._getGraphs(n);let a,o,s;if(e=this._uniqueEntities(e),!(t&&!(o=this._termToNumericId(t))||r&&!(s=this._termToNumericId(r))))for(n in i)(a=i[n])&&(o?s?this._loopBy2Keys(a.subjects,o,s,e):this._loopByKey1(a.objects,o,e):s?this._loopByKey0(a.predicates,s,e):this._loop(a.objects,e))}getGraphs(e,t,r){const n=[];return this.forGraphs(e=>{n.push(e)},e,t,r),n}forGraphs(e,t,r,n){for(const i in this._graphs)this.some(t=>(e(t.graph),!0),t,r,n,this._termFromId(this._entities[i]))}createBlankNode(e){return this._entityIndex.createBlankNode(e)}extractLists(){let{remove:e=!1,ignoreErrors:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r={},n=t?()=>!0:(e,t)=>{throw new Error("".concat(e.value," ").concat(t))},i=this.getQuads(null,a.A.rdf.rest,a.A.rdf.nil,null),o=e?[...i]:[];return i.forEach(t=>{const i=[];let s,c,l=!1;const u=t.graph;let d=t.subject;for(;d&&!l;){const e=this.getQuads(null,null,d,null),t=this.getQuads(d,null,null,null);let r,h=null,p=null,f=null;for(let i=0;i<t.length&&!l;i++)r=t[i],r.graph.equals(u)?s?l=n(d,"has non-list arcs out"):r.predicate.value===a.A.rdf.first?h?l=n(d,"has multiple rdf:first arcs"):o.push(h=r):r.predicate.value===a.A.rdf.rest?p?l=n(d,"has multiple rdf:rest arcs"):o.push(p=r):e.length?l=n(d,"can't be subject and object"):(s=r,c="subject"):l=n(d,"not confined to single graph");for(let i=0;i<e.length&&!l;++i)r=e[i],s?l=n(d,"can't have coreferences"):r.predicate.value===a.A.rdf.rest?f?l=n(d,"has incoming rdf:rest arcs"):f=r:(s=r,c="object");h?i.unshift(h.object):l=n(d,"has no list head"),d=f&&f.subject}l?e=!1:s&&(r[s[c].value]=i)}),e&&this.removeQuads(o),r}addAll(e){if(e instanceof g&&(e=e.filtered),Array.isArray(e))this.addQuads(e);else if(e instanceof p&&e._entityIndex===this._entityIndex)0!==e._size&&(this._graphs=l(this._graphs,e._graphs),this._size=null);else for(const t of e)this.add(t);return this}contains(e){if(e instanceof g&&(e=e.filtered),e===this)return!0;if(!(e instanceof p)||this._entityIndex!==e._entityIndex)return e.every(e=>this.has(e));const t=this._graphs,r=e._graphs;let n,i,a,o,s;for(const c in r){if(!(n=t[c]))return!1;n=n.subjects;for(const e in i=r[c].subjects){if(!(a=n[e]))return!1;for(const t in o=i[e]){if(!(s=a[t]))return!1;for(const e in o[t])if(!(e in s))return!1}}}return!0}deleteMatches(e,t,r,n){for(const i of this.match(e,t,r,n))this.removeQuad(i);return this}difference(e){if(e&&e instanceof g&&(e=e.filtered),e===this)return new p({entityIndex:this._entityIndex});if(e instanceof p&&e._entityIndex===this._entityIndex){const t=new p({entityIndex:this._entityIndex}),r=d(this._graphs,e._graphs);return r&&(t._graphs=r,t._size=null),t}return this.filter(t=>!e.has(t))}equals(e){return e instanceof g&&(e=e.filtered),e===this||this.size===e.size&&this.contains(e)}filter(e){const t=new p({entityIndex:this._entityIndex});for(const r of this)e(r,this)&&t.add(r);return t}intersection(e){if(e instanceof g&&(e=e.filtered),e===this){const e=new p({entityIndex:this._entityIndex});return e._graphs=l(Object.create(null),this._graphs),e._size=this._size,e}if(e instanceof p&&this._entityIndex===e._entityIndex){const t=new p({entityIndex:this._entityIndex}),r=u(e._graphs,this._graphs);return r&&(t._graphs=r,t._size=null),t}return this.filter(t=>e.has(t))}map(e){const t=new p({entityIndex:this._entityIndex});for(const r of this)t.add(e(r,this));return t}reduce(e,t){const r=this.readQuads();let n=void 0===t?r.next().value:t;for(const i of r)n=e(n,i,this);return n}toArray(){return this.getQuads()}toCanonical(){throw new Error("not implemented")}toStream(){return this.match()}toString(){return(new s.A).quadsToString(this)}union(e){const t=new p({entityIndex:this._entityIndex});return t._graphs=l(Object.create(null),this._graphs),t._size=this._size,t.addAll(e),t}*[Symbol.iterator](){yield*this.readQuads()}}function f(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const n=t[r];if(n&&!(n in e))return!1;let i=!1;for(const a in n?{[n]:e[n]}:e){const n=2===r?null:f(e[a],t,r+1);!1!==n&&(i=i||Object.create(null),i[a]=n)}return i}class g extends n.Readable{constructor(e,t,r,n,i,a){super({objectMode:!0}),Object.assign(this,{n3Store:e,subject:t,predicate:r,object:n,graph:i,options:a})}get filtered(){if(!this._filtered){const{n3Store:e,graph:t,object:r,predicate:n,subject:i}=this,a=this._filtered=new p({factory:e._factory,entityIndex:this.options.entityIndex});let o,s,c;if(i&&!(o=a._termToNumericId(i))||n&&!(s=a._termToNumericId(n))||r&&!(c=a._termToNumericId(r)))return a;const l=e._getGraphs(t);for(const u in l){let e,t,r,n;(n=l[u])&&(!o&&s?(t=f(n.predicates,[s,c,o]))&&(e=f(n.subjects,[o,s,c]),r=f(n.objects,[c,o,s])):c?(r=f(n.objects,[c,o,s]))&&(e=f(n.subjects,[o,s,c]),t=f(n.predicates,[s,c,o])):(e=f(n.subjects,[o,s,c]))&&(t=f(n.predicates,[s,c,o]),r=f(n.objects,[c,o,s])),e&&(a._graphs[u]={subjects:e,predicates:t,objects:r}))}a._size=null}return this._filtered}get size(){return this.filtered.size}_read(e){e>0&&!this[c]&&(this[c]=this[Symbol.iterator]());const t=this[c];for(;--e>=0;){const{done:e,value:r}=t.next();if(e)return void this.push(null);this.push(r)}}addAll(e){return this.filtered.addAll(e)}contains(e){return this.filtered.contains(e)}deleteMatches(e,t,r,n){return this.filtered.deleteMatches(e,t,r,n)}difference(e){return this.filtered.difference(e)}equals(e){return this.filtered.equals(e)}every(e,t,r,n,i){return this.filtered.every(e,t,r,n,i)}filter(e){return this.filtered.filter(e)}forEach(e,t,r,n,i){return this.filtered.forEach(e,t,r,n,i)}import(e){return this.filtered.import(e)}intersection(e){return this.filtered.intersection(e)}map(e){return this.filtered.map(e)}some(e,t,r,n,i){return this.filtered.some(e,t,r,n,i)}toCanonical(){return this.filtered.toCanonical()}toStream(){return this._filtered?this._filtered.toStream():this.n3Store.match(this.subject,this.predicate,this.object,this.graph)}union(e){return this._filtered?this._filtered.union(e):this.n3Store.match(this.subject,this.predicate,this.object,this.graph).addAll(e)}toArray(){return this._filtered?this._filtered.toArray():this.n3Store.getQuads(this.subject,this.predicate,this.object,this.graph)}reduce(e,t){return this.filtered.reduce(e,t)}toString(){return(new s.A).quadsToString(this)}add(e){return this.filtered.add(e)}delete(e){return this.filtered.delete(e)}has(e){return this.filtered.has(e)}match(e,t,r,n){return new g(this.filtered,e,t,r,n,this.options)}*[Symbol.iterator](){yield*this._filtered||this.n3Store.readQuads(this.subject,this.predicate,this.object,this.graph)}}},68676:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SingularizeState=void 0,function(e){e[e.SINGLE=0]="SINGLE",e[e.PLURAL=1]="PLURAL"}(t.SingularizeState||(t.SingularizeState={}))},68762:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryResultSerializeTree=void 0;const n=r(16746),i=r(52840),a=r(13953),o=r(94051),s=r(30594);class c extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static async bindingsStreamToGraphQl(e,t,r){var n;const o=a.ActionContext.ensureActionContext(t),c=new s.Converter(r),l={singularizeVariables:null!==(n=o.get(i.KeysInitQuery.graphqlSingularizeVariables))&&void 0!==n?n:{}};return c.bindingsToTree(await e.map(e=>Object.fromEntries([...e].map(e=>{let[t,r]=e;return[t.value,r]}))).toArray(),l)}async testHandleChecked(e){return"bindings"!==e.type?(0,a.failTest)("This actor can only handle bindings streams."):(0,a.passTestVoid)()}async runHandle(e,t){const r=new o.Readable;return r._read=()=>{r._read=()=>{},c.bindingsStreamToGraphQl(e.bindingsStream,e.context,{materializeRdfJsTerms:!0}).then(e=>{r.push(JSON.stringify(e,null,"  ")),r.push(null)}).catch(e=>r.emit("error",e))},{data:r}}}t.ActorQueryResultSerializeTree=c},68846:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BlankNode=void 0;t.BlankNode=class{constructor(e){this.termType="BlankNode",this.value=e}equals(e){return!!e&&"BlankNode"===e.termType&&e.value===this.value}}},69017:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DirectiveNodeHandlerInclude=void 0;const n=r(64638);class i extends n.DirectiveNodeHandlerAdapter{constructor(e,t){super("include",e,t)}handle(e,t){const r=this.getDirectiveConditionalValue(e.directive,t);return"Literal"===r.termType&&"false"===r.value?{ignore:!0}:{}}}t.DirectiveNodeHandlerInclude=i},69050:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationUpdateCompositeUpdate=void 0;const n=r(52241),i=r(89266);class a extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"compositeupdate")}async testOperation(e,t){return(0,i.testReadOnly)(t)}async runOperation(e,t){return{type:"void",execute:()=>(async()=>{for(const r of e.updates){const e=(0,i.getSafeVoid)(await this.mediatorQueryOperation.mediate({operation:r,context:t}));await e.execute()}})()}}}t.ActorQueryOperationUpdateCompositeUpdate=a},69413:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Quad=void 0;t.Quad=class{constructor(e,t,r,n){this.termType="Quad",this.value="",this.subject=e,this.predicate=t,this.object=r,this.graph=n}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}},69533:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionObject=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.OBJECT,overloads:(0,i.declare)(i.SparqlOperator.OBJECT).onQuad1(()=>e=>e.object).collect()})}}t.TermFunctionObject=a},69555:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(68511),t)},69684:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(51243),t)},69845:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationService=void 0;const n=r(52241),i=r(52840),a=r(13953),o=r(7979),s=r(66179),c=r(89266),l=r(72758),u=r(66141);class d extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"service"),e.cacheSize&&e.httpInvalidator&&e.cacheSize>0&&(this.cache=new u.LRUCache({max:e.cacheSize}),e.httpInvalidator.addInvalidateListener(e=>this.handleHttpInvalidateEvent(e)))}async testOperation(e,t){return"NamedNode"!==e.name.termType?(0,a.failTest)("".concat(this.name," can only query services by IRI, while a ").concat(e.name.termType," was given.")):(0,a.passTestVoid)()}async runOperation(e,t){var r;let n=null===(r=this.cache)||void 0===r?void 0:r.get(e.name.value);var a;n||(n=(await this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:{value:e.name.value,type:this.forceSparqlEndpoint?"sparql":void 0},context:t})).querySource,null===(a=this.cache)||void 0===a||a.set(e.name.value,n));let u;try{u=(0,c.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:(0,c.assignOperationSource)(e.input,n),context:t}))}catch(d){if(!e.silent)throw d;{const e=t.getSafe(i.KeysInitQuery.dataFactory),r=await o.BindingsFactory.create(this.mediatorMergeBindingsContext,t,e);u={bindingsStream:new l.SingletonIterator(r.bindings()),type:"bindings",metadata:async()=>({state:new s.MetadataValidationState,cardinality:{type:"exact",value:1},variables:[]})},this.logWarn(t,"An error occurred when executing a SERVICE clause: ".concat(d.message))}}return u}handleHttpInvalidateEvent(e){var t,r;e.url?null===(t=this.cache)||void 0===t||t.delete(e.url):null===(r=this.cache)||void 0===r||r.clear()}}t.ActorQueryOperationService=d},69924:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deskolemizeOperation=t.deskolemizeQuad=t.deskolemizeTermNestedThrowing=t.deskolemizeTerm=t.skolemizeBindingsStream=t.skolemizeQuadStream=t.skolemizeBindings=t.skolemizeQuad=t.skolemizeTerm=t.getSourceId=t.SKOLEM_PREFIX=void 0;const n=r(22877),i=r(57078),a=r(85160);function o(e,r,i){return"BlankNode"===r.termType?new n.BlankNodeScoped("bc_".concat(i,"_").concat(r.value),e.namedNode("".concat(t.SKOLEM_PREFIX).concat(i,":").concat(r.value))):r}function s(e,t,r){return(0,i.mapTermsNested)(t,t=>o(e,t,r))}function c(e,t,r){return t.map(t=>"Quad"===t.termType?s(e,t,r):o(e,t,r))}function l(e,r,n){if("BlankNode"===r.termType&&"skolemized"in r&&(r=r.skolemized),"NamedNode"===r.termType&&r.value.startsWith(t.SKOLEM_PREFIX)){const i=r.value.indexOf(":",t.SKOLEM_PREFIX.length);if(r.value.slice(t.SKOLEM_PREFIX.length,i)===n){const t=r.value.slice(i+1,r.value.length);return e.blankNode(t)}return null}return r}function u(e,t,r){if("Quad"===t.termType)return(0,i.mapTermsNested)(t,t=>{const n=l(e,t,r);if(!n)throw new Error("Skolemized term is not in scope for this source");return n});const n=l(e,t,r);if(null===n)throw new Error("Skolemized term is not in scope for this source");return n}t.SKOLEM_PREFIX="urn:comunica_skolem:source_",t.getSourceId=function(e,t){let r=e.get(t.referenceValue);return void 0===r&&(r="".concat(e.size),e.set(t.referenceValue,r)),r},t.skolemizeTerm=o,t.skolemizeQuad=s,t.skolemizeBindings=c,t.skolemizeQuadStream=function(e,t,r){const n=t.map(t=>s(e,t,r));return function e(){t.getProperty("metadata",t=>{n.setProperty("metadata",t),t.state.addInvalidateListener(e)})}(),n},t.skolemizeBindingsStream=function(e,t,r){const n=t.map(t=>c(e,t,r));return function e(){t.getProperty("metadata",t=>{n.setProperty("metadata",t),t.state.addInvalidateListener(e)})}(),n},t.deskolemizeTerm=l,t.deskolemizeTermNestedThrowing=u,t.deskolemizeQuad=function(e,t,r){return(0,i.mapTermsNested)(t,t=>{const n=l(e,t,r);return null!==n&&void 0!==n?n:t})},t.deskolemizeOperation=function(e,t,r){const n=new a.Factory;try{return a.Util.mapOperation(t,{[a.Algebra.types.PATTERN]:(t,n)=>({result:Object.assign(n.createPattern(u(e,t.subject,r),u(e,t.predicate,r),u(e,t.object,r),u(e,t.graph,r)),{metadata:t.metadata}),recurse:!1}),[a.Algebra.types.PATH]:(t,n)=>({result:Object.assign(n.createPath(u(e,t.subject,r),t.predicate,u(e,t.object,r),u(e,t.graph,r)),{metadata:t.metadata}),recurse:!1})},n)}catch(i){}}},69990:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperationLeftjoinExpressionPushdown=void 0;const n=r(49065),i=r(52840),a=r(13953),o=r(89266),s=r(85160);class c extends n.ActorOptimizeQueryOperation{constructor(e){super(e)}async test(e){return(0,a.passTestVoid)()}async run(e){const t=e.context.getSafe(i.KeysInitQuery.dataFactory),r=new s.Factory(t);let n=e.operation;const a=this;return n=s.Util.mapOperation(n,{leftjoin(t,r){if(t.expression){const n=(0,o.getExpressionVariables)(t.expression),i=s.Util.inScopeVariables(t.input[0]),c=s.Util.inScopeVariables(t.input[1]),l=a.variablesIntersect(n,i),u=a.variablesIntersect(n,c);if(l&&!u)return a.logDebug(e.context,"Pushed down optional expression to left-hand operator"),{recurse:!0,result:r.createLeftJoin(r.createFilter(t.input[0],t.expression),t.input[1])};if(!l&&u)return a.logDebug(e.context,"Pushed down optional expression to right-hand operator"),{recurse:!0,result:r.createLeftJoin(t.input[0],r.createFilter(t.input[1],t.expression))}}return{recurse:!0,result:t}}},r),{operation:n,context:e.context}}variablesIntersect(e,t){return e.some(e=>t.some(t=>e.equals(t)))}}t.ActorOptimizeQueryOperationLeftjoinExpressionPushdown=c},70284:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathAlt=void 0;const n=r(56840),i=r(1260),a=r(52840),o=r(89266),s=r(72758),c=r(85160);class l extends n.ActorAbstractPath{constructor(e){super(e,c.Algebra.types.ALT)}async runOperation(e,t){const r=t.getSafe(a.KeysInitQuery.dataFactory),n=new c.Factory(r),l=e.predicate,u=(await Promise.all(l.input.map(r=>this.mediatorQueryOperation.mediate({context:t,operation:n.createPath(e.subject,r,e.object,e.graph)})))).map(o.getSafeBindings);return{type:"bindings",bindingsStream:new s.UnionIterator(u.map(e=>e.bindingsStream),{autoStart:!1}),metadata:()=>Promise.all(u.map(e=>e.metadata())).then(e=>i.ActorQueryOperationUnion.unionMetadata(e,!0,t,this.mediatorRdfMetadataAccumulate))}}}t.ActorQueryOperationPathAlt=l},70579:(e,t,r)=>{"use strict";e.exports=r(22799)},70585:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(85589),t)},70593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},70706:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Quad=void 0;t.Quad=class{constructor(e,t,r,n){this.termType="Quad",this.value="",this.subject=e,this.predicate=t,this.object=r,this.graph=n}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}},70784:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeValueHandlerNull=void 0;const n=r(71506);class i extends n.NodeValueHandlerAdapter{constructor(e,t){super("NullValue",e,t),this.nil=this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#nil")}handle(e,t,r){return{terms:[this.nil]}}}t.NodeValueHandlerNull=i},70804:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermComparatorExpressionEvaluator=void 0;t.TermComparatorExpressionEvaluator=class{constructor(e,t,r){this.internalEvaluator=e,this.equalityFunction=t,this.lessThanFunction=r,this._TERM_ORDERING_PRIORITY={Variable:0,BlankNode:1,NamedNode:2,Literal:3,Quad:4,DefaultGraph:5}}orderTypes(e,t){if(e===t)return 0;if(void 0===e)return-1;if(void 0===t)return 1;if(e.termType!==t.termType)return this._TERM_ORDERING_PRIORITY[e.termType]<this._TERM_ORDERING_PRIORITY[t.termType]?-1:1;if(e.equals(t))return 0;if("Quad"===e.termType&&"Quad"===t.termType){const r=this.orderTypes(e.subject,t.subject);if(0!==r)return r;const n=this.orderTypes(e.predicate,t.predicate);if(0!==n)return n;const i=this.orderTypes(e.object,t.object);return 0!==i?i:this.orderTypes(e.graph,t.graph)}return"Literal"===e.termType?this.orderLiteralTypes(e,t):this.comparePrimitives(e.value,t.value)}orderLiteralTypes(e,t){const r=this.internalEvaluator.transformer.transformLiteral(e),n=this.internalEvaluator.transformer.transformLiteral(t);try{return this.equalityFunction.applyOnTerms([r,n],this.internalEvaluator).typedValue?0:this.lessThanFunction.applyOnTerms([r,n],this.internalEvaluator).typedValue?-1:1}catch(i){const e=this.comparePrimitives(r.dataType,n.dataType);return 0!==e?e:this.comparePrimitives(r.str(),n.str())}}comparePrimitives(e,t){return e===t?0:e<t?-1:1}}},70808:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationTypedMediated=void 0;const n=r(57125);class i extends n.ActorQueryOperationTyped{constructor(e,t){super(e,t)}}t.ActorQueryOperationTypedMediated=i},70923:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Bus=void 0;t.Bus=class{constructor(e){this.actors=[],this.observers=[],this.dependencyLinks=new Map,Object.assign(this,e),this.failMessage="All actors over bus ".concat(this.name," failed to handle an action")}subscribe(e){this.actors.push(e),this.reorderForDependencies()}subscribeObserver(e){this.observers.push(e)}unsubscribe(e){const t=this.actors.indexOf(e);return t>=0&&(this.actors.splice(t,1),!0)}unsubscribeObserver(e){const t=this.observers.indexOf(e);return t>=0&&(this.observers.splice(t,1),!0)}publish(e){return this.actors.map(t=>({actor:t,reply:t.test(e)}))}onRun(e,t,r){for(const n of this.observers)n.onRun(e,t,r)}addDependencies(e,t){for(const r of t){let t=this.dependencyLinks.get(r);t||(t=[],this.dependencyLinks.set(r,t)),t.push(e)}this.reorderForDependencies()}reorderForDependencies(){if(this.dependencyLinks.size>0){const e=[];for(const t of this.dependencyLinks.keys()){const r=this.actors.indexOf(t);r>=0&&(this.actors.splice(r,1),e.push(t))}for(;e.length>0;){let t=-1;for(let n=0;n<e.length;n++){let r=!0;for(const t of this.dependencyLinks.get(e[n]))if(!this.actors.includes(t)&&e.includes(t)){r=!1;break}if(r){t=n;break}}if(t<0)throw new Error("Cyclic dependency links detected in bus ".concat(this.name));const r=e.splice(t,1)[0];this.actors.push(r)}}}}},70946:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperationAssignSourcesExhaustive=void 0;const n=r(49065),i=r(28132),a=r(52840),o=r(13953),s=r(89266),c=r(85160);class l extends n.ActorOptimizeQueryOperation{constructor(e){super(e)}async test(e){return(0,o.passTestVoid)()}async run(e){var t;const r=e.context.getSafe(a.KeysInitQuery.dataFactory),n=new c.Factory(r),o=null!==(t=e.context.get(a.KeysQueryOperation.querySources))&&void 0!==t?t:[];if(0===o.length)return{operation:e.operation,context:e.context};if(1===o.length){const t=o[0],r=e.context.get(a.KeysRdfUpdateQuads.destination);if(!r||t.source.referenceValue===(0,i.getDataDestinationValue)(r))try{const r=await t.source.getSelectorShape(e.context);if((0,s.doesShapeAcceptOperation)(r,e.operation))return{operation:(0,s.assignOperationSource)(e.operation,t),context:e.context}}catch(l){}}return{operation:this.assignExhaustive(n,e.operation,o),context:e.context.delete(a.KeysInitQuery.queryString)}}assignExhaustive(e,t,r){const n=this;return c.Util.mapOperation(t,{[c.Algebra.types.PATTERN]:(e,t)=>1===r.length?{result:(0,s.assignOperationSource)(e,r[0]),recurse:!1}:{result:t.createUnion(r.map(t=>(0,s.assignOperationSource)(e,t))),recurse:!1},[c.Algebra.types.LINK]:(e,t)=>1===r.length?{result:(0,s.assignOperationSource)(e,r[0]),recurse:!1}:{result:t.createAlt(r.map(t=>(0,s.assignOperationSource)(e,t))),recurse:!1},[c.Algebra.types.NPS]:(e,t)=>1===r.length?{result:(0,s.assignOperationSource)(e,r[0]),recurse:!1}:{result:t.createAlt(r.map(t=>(0,s.assignOperationSource)(e,t))),recurse:!1},[c.Algebra.types.SERVICE]:e=>({result:e,recurse:!1}),[c.Algebra.types.CONSTRUCT]:(t,i)=>({result:i.createConstruct(n.assignExhaustive(e,t.input,r),t.template),recurse:!1}),[c.Algebra.types.DELETE_INSERT]:(t,i)=>({result:i.createDeleteInsert(t.delete,t.insert,t.where?n.assignExhaustive(e,t.where,r):void 0),recurse:!1})},e)}}t.ActorOptimizeQueryOperationAssignSourcesExhaustive=l},70972:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHandlerNumberInteger=void 0;const n=r(3326);class i{fromRdf(e,t){const r=parseInt(e.value,10);return t&&(isNaN(r)||e.value.indexOf(".")>=0)&&n.Translator.incorrectRdfDataType(e),r}toRdf(e,t){let{datatype:r,dataFactory:n}=t;return n.literal(String(e),r||(e<=i.MAX_INT&&e>=i.MIN_INT?n.namedNode(i.TYPES[0]):n.namedNode(i.TYPES[1])))}}i.TYPES=["http://www.w3.org/2001/XMLSchema#integer","http://www.w3.org/2001/XMLSchema#long","http://www.w3.org/2001/XMLSchema#int","http://www.w3.org/2001/XMLSchema#byte","http://www.w3.org/2001/XMLSchema#short","http://www.w3.org/2001/XMLSchema#negativeInteger","http://www.w3.org/2001/XMLSchema#nonNegativeInteger","http://www.w3.org/2001/XMLSchema#nonPositiveInteger","http://www.w3.org/2001/XMLSchema#positiveInteger","http://www.w3.org/2001/XMLSchema#unsignedByte","http://www.w3.org/2001/XMLSchema#unsignedInt","http://www.w3.org/2001/XMLSchema#unsignedLong","http://www.w3.org/2001/XMLSchema#unsignedShort"],i.MAX_INT=2147483647,i.MIN_INT=-2147483648,t.TypeHandlerNumberInteger=i},70973:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0});const i=r(66948),a=r(74920),o=r(10733);t.default=function(e,t,r){null!==e&&void 0!==e||(e={}),null!==r&&void 0!==r||(r=0);let s=(0,a.default)(n(n({},e),{},{_v6:!0}),new Uint8Array(16));if(s=(0,o.default)(s),t){for(let e=0;e<16;e++)t[r+e]=s[e];return t}return(0,i.unsafeStringify)(s)}},71082:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(228),t)},71188:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermXsdToDecimal=void 0;const i=r(11716),a=r(97824),o=r(9865);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.TypeURL.XSD_DECIMAL],termFunction:!0}))}async run(e){return new o.TermFunctionXsdToDecimal}}t.ActorFunctionFactoryTermXsdToDecimal=s},71282:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.QueryEngineBase=void 0;const i=r(52840),a=r(13953);class o{constructor(e){this.actorInitQuery=e}async queryBindings(e,t){return this.queryOfType(e,t,"bindings")}async queryQuads(e,t){return this.queryOfType(e,t,"quads")}async queryBoolean(e,t){return this.queryOfType(e,t,"boolean")}async queryVoid(e,t){return this.queryOfType(e,t,"void")}async queryOfType(e,t,r){const n=await this.query(e,t);if(n.resultType===r)return await n.execute();throw new Error("Query result type '".concat(r,"' was expected, while '").concat(n.resultType,"' was found."))}async query(e,t){const r=await this.queryOrExplain(e,t);if("explain"in r)throw new Error("Tried to explain a query when in query-only mode");return r}async explain(e,t,r){t.explain=r;return await this.queryOrExplain(e,t)}async queryOrExplain(e,t){const r=a.ActionContext.ensureActionContext(t);r.get(i.KeysInitQuery.invalidateCache)&&await this.invalidateHttpCache();const{result:n}=await this.actorInitQuery.mediatorQueryProcess.mediate({query:e,context:r});return"explain"in n?n:o.internalToFinalResult(n)}async getResultMediaTypes(e){return e=a.ActionContext.ensureActionContext(e),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeCombiner.mediate({context:e,mediaTypes:!0})).mediaTypes}async getResultMediaTypeFormats(e){return e=a.ActionContext.ensureActionContext(e),(await this.actorInitQuery.mediatorQueryResultSerializeMediaTypeFormatCombiner.mediate({context:e,mediaTypeFormats:!0})).mediaTypeFormats}async resultToString(e,t,r){if(r=a.ActionContext.ensureActionContext(r),!t)switch(e.resultType){case"bindings":t="application/json";break;case"quads":t="application/trig";break;default:t="simple"}const i=n(n({},await o.finalToInternalResult(e)),{},{context:r});return(await this.actorInitQuery.mediatorQueryResultSerialize.mediate({context:r,handle:i,handleMediaType:t})).handle}invalidateHttpCache(e,t){return t=a.ActionContext.ensureActionContext(t),this.actorInitQuery.mediatorHttpInvalidate.mediate({url:e,context:t})}static internalToFinalResult(e){switch(e.type){case"bindings":return{resultType:"bindings",execute:async()=>e.bindingsStream,metadata:async()=>{const t=await e.metadata();return t.variables=t.variables.map(e=>e.variable),t},context:e.context};case"quads":return{resultType:"quads",execute:async()=>e.quadStream,metadata:async()=>await e.metadata(),context:e.context};case"boolean":return{resultType:"boolean",execute:async()=>e.execute(),context:e.context};case"void":return{resultType:"void",execute:async()=>e.execute(),context:e.context}}}static async finalToInternalResult(e){switch(e.resultType){case"bindings":return{type:"bindings",bindingsStream:await e.execute(),metadata:async()=>{const t=await e.metadata();return t.variables=t.variables.map(e=>({variable:e,canBeUndef:!1})),t}};case"quads":return{type:"quads",quadStream:await e.execute(),metadata:async()=>await e.metadata()};case"boolean":return{type:"boolean",execute:()=>e.execute()};case"void":return{type:"void",execute:()=>e.execute()}}}}t.QueryEngineBase=o},71312:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionFunctionSameTerm=void 0;const n=r(11716),i=r(52840),a=r(97824);class o extends n.ExpressionFunctionBase{constructor(){super({arity:2,operator:a.SparqlOperator.SAME_TERM,apply:async e=>{let{args:t,mapping:r,exprEval:n}=e;const o=n.context.getSafe(i.KeysInitQuery.dataFactory),[s,c]=t.map(e=>n.evaluatorExpressionEvaluation(e,r)),[l,u]=await Promise.all([s,c]);return(0,a.bool)(l.toRDF(o).equals(u.toRDF(o)))}})}}t.ExpressionFunctionSameTerm=o},71341:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(5207);t.default=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},71398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathLink=void 0;const n=r(56840),i=r(52840),a=r(85160);class o extends n.ActorAbstractPath{constructor(e){super(e,a.Algebra.types.LINK)}async runOperation(e,t){const r=t.getSafe(i.KeysInitQuery.dataFactory),n=new a.Factory(r),o=e.predicate,s=Object.assign(n.createPattern(e.subject,o.iri,e.object,e.graph),{metadata:o.metadata});return this.mediatorQueryOperation.mediate({operation:s,context:t})}}t.ActorQueryOperationPathLink=o},71418:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},71429:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorContextPreprocessSourceToDestination=void 0;const n=r(13859),i=r(52840),a=r(13953);class o extends n.ActorContextPreprocess{constructor(e){super(e)}async test(e){return(0,a.passTestVoid)()}async run(e){if(e.context.get(i.KeysInitQuery.querySourcesUnidentified)&&!e.context.get(i.KeysRdfUpdateQuads.destination)){const t=e.context.get(i.KeysInitQuery.querySourcesUnidentified);if(1===t.length)return{context:e.context.set(i.KeysRdfUpdateQuads.destination,t[0])}}return e}}t.ActorContextPreprocessSourceToDestination=o},71506:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeValueHandlerAdapter=void 0;t.NodeValueHandlerAdapter=class{constructor(e,t,r){this.targetKind=e,this.util=t,this.settings=r}}},71539:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}c((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),t.lookupUri=void 0;const i=r(54343);t.lookupUri=function(e,t){return n(this,void 0,void 0,function*(){const r=(yield(0,i.fetchContext)("https://prefix.cc/".concat(e,".file.jsonld"),t))[e];if("string"!==typeof r)throw new Error("Expected uri to be a string, received: ".concat(r," of type ").concat(typeof r));return r})}},71597:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(57834),t)},71646:(e,t)=>{"use strict";function r(e){for(const t of["cardinality"])if(!(t in e))throw new Error("Invalid metadata: missing ".concat(t," in ").concat(JSON.stringify(e)));return e}function n(e){for(const t of["cardinality","variables"])if(!(t in e))throw new Error("Invalid metadata: missing ".concat(t," in ").concat(JSON.stringify(e)));return e}function i(e){let t;return()=>(t||(t=e(),t.then(e=>e.state.addInvalidateListener(()=>{t=void 0})).catch(()=>{})),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.cachifyMetadata=t.validateMetadataBindings=t.validateMetadataQuads=t.getMetadataBindings=t.getMetadataQuads=void 0,t.getMetadataQuads=function(e){return i(()=>new Promise((t,r)=>{e.getProperty("metadata",e=>t(e)),e.on("error",r)}).then(e=>r(e)))},t.getMetadataBindings=function(e){return i(()=>new Promise((t,r)=>{e.getProperty("metadata",e=>t(e)),e.on("error",r)}).then(e=>n(e)))},t.validateMetadataQuads=r,t.validateMetadataBindings=n,t.cachifyMetadata=i},71733:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQuerySourceIdentifyHypermediaSparql=void 0;const n=r(22169),i=r(52840),a=r(13953),o=r(7979),s=r(85160),c=r(97202);class l extends n.ActorQuerySourceIdentifyHypermedia{constructor(e){super(e,"sparql")}async testMetadata(e){return e.forceSourceType||this.forceSourceType||e.metadata.sparqlService||this.checkUrlSuffix&&(e.url.endsWith("/sparql")||e.url.endsWith("/sparql/"))?(0,a.passTest)({filterFactor:1}):(0,a.failTest)("Actor ".concat(this.name," could not detect a SPARQL service description or URL ending on /sparql."))}async run(e){var t,r;this.logInfo(e.context,"Identified ".concat(e.url," as sparql source with service URL: ").concat(e.metadata.sparqlService||e.url));const n=e.context.getSafe(i.KeysInitQuery.dataFactory),a=new s.Factory(n),l=1===(null===(t=e.context.get(i.KeysQueryOperation.querySources))||void 0===t?void 0:t.length);return{source:new c.QuerySourceSparql((null!==(r=e.forceSourceType)&&void 0!==r?r:this.forceSourceType)?e.url:e.metadata.sparqlService||e.url,e.context,this.mediatorHttp,this.bindMethod,n,a,await o.BindingsFactory.create(this.mediatorMergeBindingsContext,e.context,n),this.forceHttpGet,this.cacheSize,this.countTimeout,this.cardinalityCountQueries&&!l,this.cardinalityEstimateConstruction,this.forceGetIfUrlLengthBelow,e.metadata.defaultGraph,e.metadata.unionDefaultGraph,e.metadata.datasets,e.metadata.extensionFunctions,e.metadata.postAccepted)}}}t.ActorQuerySourceIdentifyHypermediaSparql=l},71805:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionGreaterThanEqual=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(e){super({arity:2,operator:i.SparqlOperator.GTE,overloads:(0,i.declare)(i.SparqlOperator.GTE).set(["term","term"],e=>t=>{let[r,n]=t;return this.lessThanEqualFunction.applyOnTerms([n,r],e)}).collect()}),this.lessThanEqualFunction=e}}t.TermFunctionGreaterThanEqual=a},71962:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermXsdToTime=void 0;const i=r(11716),a=r(97824),o=r(8833);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.TypeURL.XSD_TIME],termFunction:!0}))}async run(e){return new o.TermFunctionXsdToTime}}t.ActorFunctionFactoryTermXsdToTime=s},71963:(e,t,r)=>{"use strict";const{pipeline:n}=r(30537),i=r(82781),{destroyer:a}=r(36725),{isNodeStream:o,isReadable:s,isWritable:c,isWebStream:l,isTransformStream:u,isWritableStream:d,isReadableStream:h}=r(60782),{AbortError:p,codes:{ERR_INVALID_ARG_VALUE:f,ERR_MISSING_ARGS:g}}=r(60056),y=r(20227);e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new g("streams");if(1===t.length)return i.from(t[0]);const m=[...t];if("function"===typeof t[0]&&(t[0]=i.from(t[0])),"function"===typeof t[t.length-1]){const e=t.length-1;t[e]=i.from(t[e])}for(let n=0;n<t.length;++n)if(o(t[n])||l(t[n])){if(n<t.length-1&&!(s(t[n])||h(t[n])||u(t[n])))throw new f("streams[".concat(n,"]"),m[n],"must be readable");if(n>0&&!(c(t[n])||d(t[n])||u(t[n])))throw new f("streams[".concat(n,"]"),m[n],"must be writable")}let v,b,_,w,x;const S=t[0],T=n(t,function(e){const t=w;w=null,t?t(e):e?x.destroy(e):E||O||x.destroy()}),O=!!(c(S)||d(S)||u(S)),E=!!(s(T)||h(T)||u(T));if(x=new i({writableObjectMode:!(null===S||void 0===S||!S.writableObjectMode),readableObjectMode:!(null===T||void 0===T||!T.readableObjectMode),writable:O,readable:E}),O){if(o(S))x._write=function(e,t,r){S.write(e,t)?r():v=r},x._final=function(e){S.end(),b=e},S.on("drain",function(){if(v){const e=v;v=null,e()}});else if(l(S)){const e=(u(S)?S.writable:S).getWriter();x._write=async function(t,r,n){try{await e.ready,e.write(t).catch(()=>{}),n()}catch(i){n(i)}},x._final=async function(t){try{await e.ready,e.close().catch(()=>{}),b=t}catch(r){t(r)}}}const e=u(T)?T.readable:T;y(e,()=>{if(b){const e=b;b=null,e()}})}if(E)if(o(T))T.on("readable",function(){if(_){const e=_;_=null,e()}}),T.on("end",function(){x.push(null)}),x._read=function(){for(;;){const e=T.read();if(null===e)return void(_=x._read);if(!x.push(e))return}};else if(l(T)){const e=(u(T)?T.readable:T).getReader();x._read=async function(){for(;;)try{const{value:t,done:r}=await e.read();if(!x.push(t))return;if(r)return void x.push(null)}catch(t){return}}}return x._destroy=function(e,t){e||null===w||(e=new p),_=null,v=null,b=null,null===w?t(e):(w=t,o(T)&&a(T,e))},x}},72110:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinOptionalNestedLoop=void 0;const n=r(1140),i=r(13953),a=r(66492);class o extends n.ActorRdfJoin{constructor(e){super(e,{logicalType:"optional",physicalName:"nested-loop",limitEntries:2,canHandleUndefs:!0})}async getOutput(e){return{result:{type:"bindings",bindingsStream:new a.NestedLoopJoin(e.entries[0].output.bindingsStream,e.entries[1].output.bindingsStream,n.ActorRdfJoin.joinBindings,{optional:!0,autoStart:!1}),metadata:async()=>await this.constructResultMetadata(e.entries,await n.ActorRdfJoin.getMetadatas(e.entries),e.context,{},!0)}}}async getJoinCoefficients(e,t){const{metadatas:r}=t,a=n.ActorRdfJoin.getRequestInitialTimes(r),o=n.ActorRdfJoin.getRequestItemTimes(r);return(0,i.passTestWithSideData)({iterations:r[0].cardinality.value*r[1].cardinality.value,persistedItems:0,blockingItems:0,requestTime:a[0]+r[0].cardinality.value*o[0]+a[1]+r[1].cardinality.value*o[1]},t)}}t.ActorRdfJoinOptionalNestedLoop=o},72142:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(60876),t)},72310:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(41756),t)},72417:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinMultiSmallestFilterBindings=void 0;const i=r(1140),a=r(52840),o=r(13953),s=r(7979),c=r(82956),l=r(89266),u=r(72758),d=r(85160);class h extends i.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"multi-smallest-filter-bindings",limitEntries:2,limitEntriesMin:!0,isLeaf:!1})}async sortJoinEntries(e,t){let{entries:r}=await this.mediatorJoinEntriesSort.mediate({entries:e,context:t});r=r.sort((e,t)=>e.operationModified&&!t.operationModified?-1:0);const n=r.splice(0,1)[0];let i,a=-1,s=0;for(const[o,l]of r.entries()){const e=n.metadata.variables.filter(e=>l.metadata.variables.some(t=>e.variable.equals(t.variable))).length;(!i||e>s||e===s&&(l.metadata.variables.length<i.metadata.variables.length||l.metadata.variables.length===i.metadata.variables.length&&l.metadata.cardinality.value<i.metadata.cardinality.value))&&(i=l,a=o,s=e)}if(0===s)return(0,o.failTest)("Actor ".concat(this.name," can only join with common variables"));const c=r;return c.splice(a,1),(0,o.passTest)({first:n,second:i,remaining:c})}async getOutput(e){const t=e.context.getSafe(a.KeysInitQuery.dataFactory),r=new d.Factory(t),n=await i.ActorRdfJoin.getEntriesWithMetadatas([...e.entries]),{first:o,second:h,remaining:p}=(await this.sortJoinEntries(n,e.context)).getOrThrow(),f=o.output.bindingsStream;o.output.bindingsStream=f.clone();const g=o.metadata.variables.filter(e=>h.metadata.variables.some(t=>e.variable.equals(t.variable))),y={},m=f.clone().map(e=>e.filter((e,t)=>g.some(e=>e.variable.equals(t)))).filter(e=>{const t=(0,s.bindingsToString)(e);return!(t in y)&&(y[t]=!0)}),v=new c.ChunkedIterator(m,this.blockSize,{autoStart:!1}),b=(0,l.getOperationSource)(h.operation),_={output:{type:"bindings",bindingsStream:new u.UnionIterator(v.map(t=>b.source.queryBindings(h.operation,b.context?e.context.merge(b.context):e.context,{filterBindings:{bindings:t,metadata:o.metadata}}))),metadata:h.output.metadata},operation:h.operation,operationModified:!0};h.output.bindingsStream.destroy();const w={output:(0,l.getSafeBindings)(await this.mediatorJoin.mediate({type:e.type,entries:[o,_],context:e.context.set(a.KeysRdfJoin.lastPhysicalJoin,this.physicalName)})),operation:r.createJoin([o.operation,_.operation],!1),operationModified:!0},x=p;return x.unshift(w),{result:await this.mediatorJoin.mediate({type:e.type,entries:x,context:e.context}),physicalPlanMetadata:{firstIndex:n.indexOf(o),secondIndex:n.indexOf(h)}}}async getJoinCoefficients(e,t){let{metadatas:r}=t;if(e.context.get(a.KeysRdfJoin.lastPhysicalJoin)===this.physicalName)return(0,o.failTest)("Actor ".concat(this.name," can not be called recursively"));r=[...r];const s=await this.sortJoinEntries(e.entries.map((e,t)=>n(n({},e),{},{metadata:r[t]})),e.context);if(s.isFailed())return s;const{first:c,second:u,remaining:d}=s.get(),h=(0,l.getOperationSource)(u.operation);if(!h)return(0,o.failTest)("Actor ".concat(this.name," can only process if entries[1] has a source"));const p=u.operation,f=await h.source.getSelectorShape(e.context),g=e.context.get(a.KeysInitQuery.extensionFunctionsAlwaysPushdown);if(!(0,l.doesShapeAcceptOperation)(f,p,{filterBindings:!0,wildcardAcceptAllExtensionFunctions:g}))return(0,o.failTest)("Actor ".concat(this.name," can only process if entries[1] accept filterBindings"));r=[c.metadata,u.metadata,...d.map(e=>e.metadata)];const y=i.ActorRdfJoin.getRequestInitialTimes(r),m=i.ActorRdfJoin.getRequestItemTimes(r),{selectivity:v}=await this.mediatorJoinSelectivity.mediate({entries:[c,u],context:e.context}),b=d.reduce((e,t)=>e*t.metadata.cardinality.value*this.selectivityModifier,1);return(0,o.passTestWithSideData)({iterations:v*this.selectivityModifier*u.metadata.cardinality.value*b,persistedItems:c.metadata.cardinality.value,blockingItems:c.metadata.cardinality.value,requestTime:y[0]+r[0].cardinality.value*m[0]+y[1]+b*m[1]},t)}}t.ActorRdfJoinMultiSmallestFilterBindings=h},72519:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionTz=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.TZ,overloads:(0,i.declare)(i.SparqlOperator.TZ).onDateTime1(()=>e=>(0,i.string)((0,i.extractRawTimeZone)(e.str()))).copy({from:[i.TypeURL.XSD_DATE_TIME],to:[i.TypeURL.XSD_DATE]}).copy({from:[i.TypeURL.XSD_DATE_TIME],to:[i.TypeURL.XSD_TIME]}).collect()})}}t.TermFunctionTz=a},72627:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SampleAggregator=void 0;const n=r(85830);class i extends n.AggregateEvaluator{constructor(e,t,r){super(e,t,r),this.state=void 0}putTerm(e){void 0===this.state&&(this.state=e)}termResult(){return void 0===this.state?this.emptyValue():this.state}}t.SampleAggregator=i},72758:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isIterator=t.isIterable=t.isSourceExpression=t.isPromise=t.isEventEmitter=t.isFunction=t.range=t.union=t.fromIterable=t.fromIterator=t.fromArray=t.single=t.empty=t.wrap=t.WrappingIterator=t.ClonedIterator=t.UnionIterator=t.MultiTransformIterator=t.SimpleTransformIterator=t.TransformIterator=t.BufferedIterator=t.MappingIterator=t.DESTINATION=t.identity=t.IntegerIterator=t.ArrayIterator=t.SingletonIterator=t.EmptyIterator=t.AsyncIterator=t.DESTROYED=t.ENDED=t.CLOSED=t.CLOSING=t.OPEN=t.INIT=t.setTaskScheduler=t.getTaskScheduler=t.scheduleTask=t.LinkedList=void 0;const n=r(27284),i=r(97239);Object.defineProperty(t,"LinkedList",{enumerable:!0,get:function(){return i.LinkedList}});let a=r(60490).createTaskScheduler();t.scheduleTask=function(e){a(e)},t.getTaskScheduler=function(){return a},t.setTaskScheduler=function(e){a=e},t.INIT=1,t.OPEN=2,t.CLOSING=4,t.CLOSED=8,t.ENDED=16,t.DESTROYED=32;class o extends n.EventEmitter{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t.OPEN;super(),this._readable=!1,this._state=e,this.on("newListener",s)}_changeState(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e>this._state&&this._state<t.ENDED;return n&&(this._state=e,e===t.ENDED&&(r?a(()=>this.emit("end")):this.emit("end"))),n}read(){return null}forEach(e,t){this.on("data",I(e,t))}close(){this._changeState(t.CLOSED)&&this._endAsync()}destroy(e){this.done||this._destroy(e,t=>{(e=e||t)&&this.emit("error",e),this._end(!0)})}_destroy(e,t){t()}_end(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._changeState(e?t.DESTROYED:t.ENDED)&&(this._readable=!1,this.removeAllListeners("readable"),this.removeAllListeners("data"),this.removeAllListeners("end"))}_endAsync(){a(()=>this._end())}get readable(){return this._readable}set readable(e){e=Boolean(e)&&!this.done,this._readable!==e&&(this._readable=e,e&&a(()=>this.emit("readable")))}get closed(){return this._state>=t.CLOSING}get ended(){return this._state===t.ENDED}get destroyed(){return this._state===t.DESTROYED}get done(){return this._state>=t.ENDED}toString(){const e=this._toStringDetails();return"[".concat(this.constructor.name).concat(e?" ".concat(e):"","]")}_toStringDetails(){return""}toArray(e){const t=[],r="number"===typeof(null===e||void 0===e?void 0:e.limit)?e.limit:1/0;return this.ended||r<=0?Promise.resolve(t):new Promise((e,n)=>{const i=()=>e(t),a=o=>{t.push(o),t.length>=r&&(this.removeListener("error",n),this.removeListener("data",a),this.removeListener("end",i),e(t))};this.on("error",n),this.on("data",a),this.on("end",i)})}getProperty(e,t){const r=this._properties;if(!t)return r&&r[e];if(r&&e in r)a(()=>t(r[e]));else{let r;(r=this._propertyCallbacks)||(this._propertyCallbacks=r=Object.create(null)),e in r?r[e].push(t):r[e]=[t]}}setProperty(e,t){(this._properties||(this._properties=Object.create(null)))[e]=t;const r=this._propertyCallbacks||{},n=r[e];if(n){for(e in delete r[e],a(()=>{for(const e of n)e(t)}),r)return;delete this._propertyCallbacks}}getProperties(){const e=this._properties,t={};for(const r in e)t[r]=e[r];return t}setProperties(e){for(const t in e)this.setProperty(t,e[t])}copyProperties(e,t){for(const r of t)e.getProperty(r,e=>this.setProperty(r,e))}transform(e){return new T(this,e)}map(e,t){return new g(this,I(e,t))}filter(e,t){return this.map(function(r){return e.call(t||this,r)?r:null})}uniq(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;const t=new Set;return this.filter(function(r){const n=e.call(this,r);return!t.has(n)&&(t.add(n),!0)})}prepend(e){return this.transform({prepend:e})}append(e){return this.transform({append:e})}surround(e,t){return this.transform({prepend:e,append:t})}skip(e){return this.map(t=>e-- >0?null:t)}take(e){return this.transform({limit:e})}range(e,t){return this.transform({offset:e,limit:Math.max(t-e+1,0)})}clone(){return new A(this)}[Symbol.asyncIterator](){const e=this;let t=null,r=null,n=null;function i(){if(null!==t)if(null!==n)a(n);else if(e.done)t({done:!0,value:void 0}),t=r=null,o();else{const n=e.read();null!==n&&(t({done:!1,value:n}),t=r=null)}}function a(e){null!==r?(r(e),t=r=n=null,o()):null===n&&(n=e)}function o(){e.removeListener("readable",i),e.removeListener("end",i),e.removeListener("error",a)}return e.addListener("readable",i),e.addListener("end",i),e.addListener("error",a),{next:()=>new Promise((e,n)=>{t=e,r=n,i()})}}}function s(e){"data"===e&&(this.removeListener("newListener",s),l(this,"readable",c),this.readable&&a(()=>c.call(this)))}function c(){let e;for(;0!==this.listenerCount("data")&&null!==(e=this.read());)this.emit("data",e);0!==this.listenerCount("data")||this.done||(this.removeListener("readable",c),l(this,"newListener",s))}function l(e,t,r){e.listeners(t).includes(r)||e.on(t,r)}t.AsyncIterator=o;class u extends o{constructor(){super(),this._changeState(t.ENDED,!0)}}t.EmptyIterator=u;class d extends o{constructor(e){super(),this._item=e,null===e?this.close():this.readable=!0}read(){const e=this._item;return this._item=null,this.close(),e}_toStringDetails(){return null===this._item?"":"(".concat(this._item,")")}}t.SingletonIterator=d;class h extends o{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],{autoStart:t=!0,preserve:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super();const n=r||!Array.isArray(e)?[...e]:e;this._index=0,this._sourceStarted=!1!==t,this._truncateThreshold=r?-1:64,this._sourceStarted&&0===n.length?this.close():this._buffer=n,this.readable=!0}read(){this._sourceStarted||(this._sourceStarted=!0);let e=null;return this._buffer&&(this._index<this._buffer.length&&(e=this._buffer[this._index++]),this._index===this._buffer.length?(delete this._buffer,this.close()):this._index===this._truncateThreshold&&(this._buffer.splice(0,this._truncateThreshold),this._index=0)),e}_toStringDetails(){return"(".concat(this._buffer?this._buffer.length-this._index:0,")")}_destroy(e,t){delete this._buffer,t()}toArray(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._buffer)return Promise.resolve([]);const{length:t}=this._buffer,r=this._index,n="number"!==typeof e.limit?t:r+e.limit,i=this._buffer.slice(r,n);return this._index=n,n>=t&&this.close(),Promise.resolve(i)}}t.ArrayIterator=h;class p extends o{constructor(){let{start:e=0,step:t=1,end:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(),Number.isFinite(e)&&(e=Math.trunc(e)),this._next=e,Number.isFinite(t)&&(t=Math.trunc(t)),this._step=t;const n=t>=0,i=n?1/0:-1/0;Number.isFinite(r)?r=Math.trunc(r):r!==-i&&(r=i),this._last=r,!Number.isFinite(e)||(n?e>r:e<r)?this.close():this.readable=!0}read(){if(this.closed)return null;const e=this._next,t=this._step,r=this._last,n=this._next+=t;return(t>=0?n>r:n<r)&&this.close(),e}_toStringDetails(){return"(".concat(this._next,"...").concat(this._last,")")}}function f(e){return e}t.IntegerIterator=p,t.identity=f,t.DESTINATION=Symbol("destination");class g extends o{constructor(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};super(),this._map=r,this._source=y(e),this._destroySource=!1!==n.destroySource,e.done?this.close():(this._source[t.DESTINATION]=this,this._source.on("end",w),this._source.on("error",_),this._source.on("readable",b),this.readable=this._source.readable)}read(){if(!this.done){if(this._source.readable){let e,t;for(;null!==(e=this._source.read());)if(null!==(t=this._map(e)))return t}this.readable=!1,this._source.done&&this.close()}return null}_end(e){this._source.removeListener("end",w),this._source.removeListener("error",_),this._source.removeListener("readable",b),delete this._source[t.DESTINATION],this._destroySource&&this._source.destroy(),super._end(e)}}function y(e){let r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e||!F(e.read)||!F(e.on))throw new TypeError("Invalid source: ".concat(e));if(!r&&e[t.DESTINATION])throw new Error("The source already has a destination");return e}t.MappingIterator=g;class m extends o{constructor(){let{maxBufferSize:e=4,autoStart:r=!0}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(t.INIT),this._buffer=new i.LinkedList,this._maxBufferSize=4,this._reading=!0,this._pushedCount=0,this.maxBufferSize=e,a(()=>this._init(r)),this._sourceStarted=!1!==r}get maxBufferSize(){return this._maxBufferSize}set maxBufferSize(e){e!==1/0&&(e=Number.isFinite(e)?Math.max(Math.trunc(e),1):4),this._maxBufferSize!==e&&(this._maxBufferSize=e,this._state===t.OPEN&&this._fillBuffer())}_init(e){let r=!1;this._reading=!0,this._begin(()=>{if(r)throw new Error("done callback called multiple times");r=!0,this._reading=!1,this._changeState(t.OPEN),e?this._fillBufferAsync():this.readable=!0})}_begin(e){e()}read(){if(this.done)return null;this._sourceStarted||(this._sourceStarted=!0);const e=this._buffer;let t;return e.empty?(t=null,this.readable=!1):t=e.shift(),!this._reading&&e.length<this._maxBufferSize&&(this.closed?e.empty&&this._endAsync():this._fillBufferAsync()),t}_read(e,t){t()}_push(e){this.done||(this._pushedCount++,this._buffer.push(e),this.readable=!0)}_fillBuffer(){let e;this._reading||(this.closed?this._completeClose():(e=Math.min(this._maxBufferSize-this._buffer.length,128))>0&&(this._pushedCount=0,this._reading=!0,this._read(e,()=>{if(!e)throw new Error("done callback called multiple times");e=0,this._reading=!1,this.closed?this._completeClose():this._pushedCount&&(this.readable=!0,this._buffer.length<this._maxBufferSize/2&&this._fillBufferAsync())})))}_fillBufferAsync(){this._reading||(this._reading=!0,a(()=>{this._reading=!1,this._fillBuffer()}))}close(){this._reading?this._changeState(t.CLOSING):this._completeClose()}_completeClose(){this._changeState(t.CLOSED)&&(this._reading=!0,this._flush(()=>{if(!this._reading)throw new Error("done callback called multiple times");this._reading=!1,this._buffer.empty&&this._endAsync()}))}_destroy(e,t){this._buffer.clear(),t()}_flush(e){e()}_toStringDetails(){const e=this._buffer;return"{".concat(e.empty?"":"next: ".concat(e.first,", "),"buffer: ").concat(e.length,"}")}}t.BufferedIterator=m;class v extends m{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e||{};super(t),this._boundPush=e=>this._push(e),k(e)||(e=t.source),C(e)?this.source=e:e&&(this._createSource=M(e)?()=>e:e,this._sourceStarted&&this._loadSourceAsync()),this._optional=Boolean(t.optional),this._destroySource=!1!==t.destroySource}get source(){return F(this._createSource)&&this._loadSourceAsync(),this._source}set source(e){const r=this._source=this._validateSource(e);r[t.DESTINATION]=this,this.done?this._destroySource&&r.destroy():r.done?this.close():(r.on("end",x),r.on("readable",S),r.on("error",_))}_loadSourceAsync(){F(this._createSource)&&(Promise.resolve(this._createSource()).then(e=>{delete this._createSource,this.source=e,this._fillBuffer()},e=>this.emit("error",e)),this._createSource=null)}_validateSource(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this._source||"undefined"!==typeof this._createSource)throw new Error("The source cannot be changed after it has been set");return y(e,t)}_read(e,t){const r=()=>{this._pushedCount<e&&!this.closed?a(()=>this._readAndTransform(r,t)):t()};this._readAndTransform(r,t)}_readAndTransform(e,t){let r;const n=this.source;!n||n.done||null===(r=n.read())?t():this._optional?this._optionalTransform(r,e):this._transform(r,e,this._boundPush)}_optionalTransform(e,t){const r=this._pushedCount;this._transform(e,()=>{r===this._pushedCount&&this._push(e),t()},this._boundPush)}_transform(e,t,r){r(e),t()}_closeWhenDone(){this.close()}_end(e){const r=this._source;r&&(r.removeListener("end",x),r.removeListener("error",_),r.removeListener("readable",S),delete r[t.DESTINATION],this._destroySource&&r.destroy()),super._end(e)}}function b(){this[t.DESTINATION].readable=!0}function _(e){this[t.DESTINATION].emit("error",e)}function w(){this[t.DESTINATION].close()}function x(){this[t.DESTINATION]._closeWhenDone()}function S(){!1!==this[t.DESTINATION]._sourceStarted&&this[t.DESTINATION]._fillBuffer()}t.TransformIterator=v;class T extends v{constructor(e,t){if(super(e,t),this._offset=0,this._limit=1/0,this._filter=e=>!0,t=t||(k(e)?null:e)){const e=F(t)?t:t.transform,{limit:r,offset:n,filter:i,map:a,prepend:o,append:s}=t;n===1/0||r===-1/0?this._limit=0:(Number.isFinite(n)&&(this._offset=Math.max(Math.trunc(n),0)),Number.isFinite(r)&&(this._limit=Math.max(Math.trunc(r),0)),F(i)&&(this._filter=i),F(a)&&(this._map=a),this._transform=F(e)?e:null),o&&(this._prepender=C(o)?o:R(o)),s&&(this._appender=C(s)?s:R(s))}}_read(e,t){const r=()=>this._readAndTransformSimple(e,n,t);function n(){a(r)}this._readAndTransformSimple(e,n,t)}_readAndTransformSimple(e,t,r){let n;const{source:i}=this;if(i&&!i.done){for(0===this._limit&&this.close();!this.closed&&this._pushedCount<e&&null!==(n=i.read());){if(!this._filter(n)||0!==this._offset&&this._offset--)continue;const e="undefined"===typeof this._map?n:this._map(n);if(null===e)this._optional&&this._push(n);else{if(F(this._transform))return void(this._optional?this._optionalTransform(e,t):this._transform(e,t,this._boundPush));this._push(e)}0===--this._limit&&this.close()}r()}else r()}_begin(e){this._insert(this._prepender,e),delete this._prepender}_flush(e){this._insert(this._appender,e),delete this._appender}_insert(e,t){const r=e=>this._push(e);!e||e.done?t():(e.on("data",r),e.on("end",function n(){e.removeListener("data",r),e.removeListener("end",n),t()}))}}t.SimpleTransformIterator=T;t.MultiTransformIterator=class extends v{constructor(e,t){if(super(e,t),this._transformerQueue=[],t){const e=F(t)?t:t.multiTransform;e&&(this._createTransformer=e)}}_read(e,r){const n=this._transformerQueue,i=this._optional;let a,o;for(;(a=n[0])&&a.transformer.done;){i&&null!==a.item&&(e--,this._push(a.item)),n.shift();const{transformer:t}=a;t.removeListener("end",S),t.removeListener("readable",S),t.removeListener("error",_)}const{source:s}=this;for(;s&&!s.done&&n.length<this.maxBufferSize&&(o=s.read(),null!==o);){const e=this._createTransformer(o)||new u;e[t.DESTINATION]=this,e.on("end",S),e.on("readable",S),e.on("error",_),n.push({transformer:e,item:o})}if(a=n[0],a){const{transformer:t}=a;for(;e-- >0&&null!==(o=t.read());)this._push(o),i&&(a.item=null)}else s&&s.done&&this.close();r()}_createTransformer(e){return new d(e)}_closeWhenDone(){this._transformerQueue.length||this.close()}_end(e){if(super._end(e),this._destroySource)for(const t of this._transformerQueue)t.transformer.destroy()}};class O extends m{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};super(t),this._sources=[],this._currentSource=-1;const r=!1!==t.autoStart;if(C(e))e.on("error",e=>this.emit("error",e)),this._pending={loading:!1,sources:e},r&&this._loadSources();else if(Array.isArray(e)&&e.length>0)for(const n of e)this._addSource(n);else r&&this.close();this._destroySources=!1!==t.destroySources}_loadSources(){const e=this._pending.sources;this._pending.loading=!0,e.done?(delete this._pending,this.close()):(e.on("data",e=>{this._addSource(e),this._fillBufferAsync()}),e.on("end",()=>{delete this._pending,this._fillBuffer()}))}_addSource(e){M(e)&&(e=j(e)),e.done||(this._sources.push(e),e[t.DESTINATION]=this,e.on("error",_),e.on("readable",S),e.on("end",E))}_removeEmptySources(){this._sources=this._sources.filter((e,t)=>(e.done&&t<=this._currentSource&&this._currentSource--,!e.done)),this._fillBuffer()}_read(e,t){var r;!1===(null===(r=this._pending)||void 0===r?void 0:r.loading)&&this._loadSources();let n,i=0;for(;i!==(i=e);)for(let t=0;t<this._sources.length&&e>0;t++){this._currentSource=(this._currentSource+1)%this._sources.length;null!==(n=this._sources[this._currentSource].read())&&(e--,this._push(n))}this._pending||0!==this._sources.length||this.close(),t()}_end(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(super._end(e),this._destroySources){for(const e of this._sources)e.destroy();this._pending&&(this._pending.sources.destroy(),delete this._pending)}}}function E(){this[t.DESTINATION]._removeEmptySources()}t.UnionIterator=O;class A extends v{constructor(e){super(e,{autoStart:!1}),this._readPosition=0,this._reading=!1,e&&(this.readable=!0)}_init(){}close(){o.prototype.close.call(this)}get source(){return super.source}set source(e){const r=this._source=this._validateSource(e),n=r&&r[t.DESTINATION]||(r[t.DESTINATION]=new P(r));this.done?this._destroySource&&r.destroy():n.endsAt(0)?this.close():(n.register(this),!1!==r._sourceStarted&&null===n.readAt(0)||(this.readable=!0));const i=this._propertyCallbacks;for(const t in i){const e=i[t];for(const r of e)this._getSourceProperty(t,r)}}_validateSource(e){const r=e&&e[t.DESTINATION];return super._validateSource(e,!r||r instanceof P)}getProperty(e,t){const{source:r}=this,n=this._properties,i=n&&e in n;if(!t)return i?n&&n[e]:r&&r.getProperty(e);super.getProperty(e,t),r&&!i&&this._getSourceProperty(e,t)}_getSourceProperty(e,t){this.source.getProperty(e,r=>{this._properties&&e in this._properties||t(r)})}getProperties(){const e=this.source?this.source.getProperties():{},t=this._properties;for(const r in t)e[r]=t[r];return e}_toStringDetails(){return"{source: ".concat(this.source?this.source.toString():"none","}")}read(){this._sourceStarted||(this._sourceStarted=!0);const e=this.source;let r=null;if(!this.done&&e){const n=e[t.DESTINATION];null!==(r=n.readAt(this._readPosition))?this._readPosition++:this.readable=!1,n.endsAt(this._readPosition)&&this.close()}return r}_end(e){const r=this.source,n=null===r||void 0===r?void 0:r[t.DESTINATION];n&&n.unregister(this),m.prototype._end.call(this,e)}}t.ClonedIterator=A;class P{constructor(e){if(this._history=[],this._trackers=new Set,this._source=e,!e.done){const t=()=>{for(const e of this._trackers)e.readable=!0},r=e=>{for(const t of this._trackers)t.emit("error",e)},n=()=>{for(const e of this._trackers)!1!==e._sourceStarted&&e._readPosition===this._history.length&&e.close();this._trackers.clear(),e.removeListener("end",n),e.removeListener("error",r),e.removeListener("readable",t)};e.on("end",n),e.on("error",r),e.on("readable",t)}}register(e){this._source.done||this._trackers.add(e)}unregister(e){this._trackers.delete(e)}readAt(e){let t=null;return e<this._history.length?t=this._history[e]:this._source.done||null===(t=this._source.read())||(this._history[e]=t),t}endsAt(e){return this._source.done&&this._history.length===e}}class N extends o{constructor(e,t){super(),this._source=null,this._destroySource=!1!==(null===t||void 0===t?void 0:t.destroySource),M(e)?(this._source=new o,e.then(e=>{this._source=null,this.source=e}).catch(e=>this.emit("error",e))):e&&(this.source=e)}set source(e){let r=e;if(null!==this._source)throw new Error("The source cannot be changed after it has been set");if(L(r)&&(r=r[Symbol.iterator]()),B(r)){let e=r;r=new n.EventEmitter,r.read=()=>{if(null!==e){let t;for(;!(t=e.next()).done;)if(null!==t.value)return t.value;e=null,this.close()}return null}}else r=y(r);this.done?this._destroySource&&F(r.destroy)&&r.destroy():(r[t.DESTINATION]=this,r.on("end",w),r.on("error",_),r.on("readable",b),this._source=r,this.readable=!1!==r.readable)}read(){if(null!==this._source&&!1!==this._source.readable){const e=this._source.read();if(null!==e)return e;this.readable=!1}return null}_end(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null!==this._source&&(this._source.removeListener("end",w),this._source.removeListener("error",_),this._source.removeListener("readable",b),delete this._source[t.DESTINATION],this._destroySource&&F(this._source.destroy)&&this._source.destroy(),this._source=null),super._end(e)}}function j(e,t){if(t&&("autoStart"in t||"optional"in t||"source"in t||"maxBufferSize"in t))return e&&!C(e)&&(e=new N(e)),new v(e,t);if(!e)return D();if(M(e))return new N(e,t);if(e instanceof o)return e;if(Array.isArray(e))return R(e);if(L(e)||B(e)||C(e))return new N(e,t);throw new TypeError("Invalid source: ".concat(e))}function D(){return new u}function R(e){return new h(e)}function I(e,t){return t?e.bind(t):e}function F(e){return"function"===typeof e}function C(e){return F(null===e||void 0===e?void 0:e.on)}function M(e){return F(null===e||void 0===e?void 0:e.then)}function k(e){return e&&(C(e)||M(e)||F(e))}function L(e){return e&&Symbol.iterator in e}function B(e){return F(null===e||void 0===e?void 0:e.next)}t.WrappingIterator=N,t.wrap=j,t.empty=D,t.single=function(e){return new d(e)},t.fromArray=R,t.fromIterator=function(e){return new N(e)},t.fromIterable=function(e){return new N(e)},t.union=function(e){return new O(e)},t.range=function(e,t,r){return new p({start:e,end:t,step:r})},t.isFunction=F,t.isEventEmitter=C,t.isPromise=M,t.isSourceExpression=k,t.isIterable=L,t.isIterator=B},72768:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(4228),t)},73055:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(54039),t)},73148:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryExpressionCoalesce=void 0;const i=r(11716),a=r(97824),o=r(86089);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.COALESCE],termFunction:!1}))}async run(e){return new o.ExpressionFunctionCoalesce}}t.ActorFunctionFactoryExpressionCoalesce=s},73218:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryProcessExplainPhysical=void 0;const n=r(9141),i=r(52840),a=r(13953),o=r(34311);class s extends n.ActorQueryProcess{constructor(e){super(e)}async test(e){var t;const r=null!==(t=e.context.get(i.KeysInitQuery.explain))&&void 0!==t?t:e.context.get(new a.ActionContextKey("explain"));return"physical"!==r&&"physical-json"!==r?(0,a.failTest)("".concat(this.name," can only explain in 'physical' or 'physical-json' mode.")):(0,a.passTestVoid)()}async run(e){var t;let{operation:r,context:n}=await this.queryProcessor.parse(e.query,e.context);({operation:r,context:n}=await this.queryProcessor.optimize(r,n));const s=new o.MemoryPhysicalQueryPlanLogger;n=n.set(i.KeysInitQuery.physicalQueryPlanLogger,s);const c=await this.queryProcessor.evaluate(r,n);switch(c.type){case"bindings":await c.bindingsStream.toArray();break;case"quads":await c.quadStream.toArray();break;case"boolean":case"void":await c.execute()}const l=null!==(t=e.context.get(i.KeysInitQuery.explain))&&void 0!==t?t:e.context.getSafe(new a.ActionContextKey("explain"));return{result:{explain:!0,type:l,data:"physical"===l?s.toCompactString():s.toJson()}}}}t.ActorQueryProcessExplainPhysical=s},73242:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},73266:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionUnaryMinus=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.UMINUS,overloads:(0,i.declare)(i.SparqlOperator.UMINUS).numericConverter(()=>e=>-e).collect()})}}t.TermFunctionUnaryMinus=a},73412:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(12435),t)},73514:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BaseIRI:()=>m.A,BlankNode:()=>c.PB,DataFactory:()=>c.Ay,DefaultGraph:()=>c.yV,EntityIndex:()=>o.J,Lexer:()=>n.A,Literal:()=>c.uS,NamedNode:()=>c.Yo,Parser:()=>i.A,Quad:()=>c.kO,Reasoner:()=>u,Store:()=>o.A,StoreFactory:()=>s,StreamParser:()=>f,StreamWriter:()=>g,Term:()=>c.x1,Triple:()=>c.n7,Util:()=>y,Variable:()=>c.rT,Writer:()=>a.A,default:()=>v,getRulesFromDataset:()=>l,termFromId:()=>c.iN,termToId:()=>c.FL});var n=r(93437),i=r(49212),a=r(27644),o=r(68634);class s{dataset(e){return new o.A(e)}}var c=r(24209);function l(e){const t=[];for(const{subject:r,object:n}of e.match(null,c.Ay.namedNode("http://www.w3.org/2000/10/swap/log#implies"),null,c.Ay.defaultGraph())){const i=[...e.match(null,null,null,r)],a=[...e.match(null,null,null,n)];t.push({premise:i,conclusion:a})}return t}class u{constructor(e){this._store=e}_add(e,t,r,n,i){this._store._addToIndex(n.subjects,e,t,r)&&(this._store._addToIndex(n.predicates,t,r,e),this._store._addToIndex(n.objects,r,e,t),i())}_evaluatePremise(e,t,r){let n,i,a,o,s,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const[l,u,d]=e.premise[c].value,h=t[e.premise[c].content],p=!(a=l.value);for(a in p?h:{[a]:h[a]})if(o=h[a]){for(a in p&&(l.value=Number(a)),n=!(a=u.value),n?o:{[a]:o[a]})if(s=o[a]){for(a in n&&(u.value=Number(a)),i=!(a=d.value),i?s:{[a]:s[a]})i&&(d.value=Number(a)),c===e.premise.length-1?e.conclusion.forEach(e=>{this._add(e.subject.value,e.predicate.value,e.object.value,t,()=>{r(e)})}):this._evaluatePremise(e,t,r,c+1);i&&(d.value=null)}n&&(u.value=null)}p&&(l.value=null)}_evaluateRules(e,t,r){for(let n=0;n<e.length;n++)this._evaluatePremise(e[n],t,r)}_reasonGraphNaive(e,t){const r=[];function n(e){e.next&&e.next.forEach(t=>{r.push([e.subject.value,e.predicate.value,e.object.value,t])})}const i=e=>{e.forEach(e=>{this._add(e.subject.value,e.predicate.value,e.object.value,t,()=>{n(e)})})};let a;for(this._evaluateRules(e,t,n);void 0!==(a=r.pop());){const[e,r,o,s]=a,c=s.basePremise.subject.value;c||(s.basePremise.subject.value=e);const l=s.basePremise.predicate.value;l||(s.basePremise.predicate.value=r);const u=s.basePremise.object.value;u||(s.basePremise.object.value=o),0===s.premise.length?i(s.conclusion):this._evaluatePremise(s,t,n),c||(s.basePremise.subject.value=null),l||(s.basePremise.predicate.value=null),u||(s.basePremise.object.value=null)}}_createRule(e){let{premise:t,conclusion:r}=e;const n={},i=e=>"Variable"===e.termType?n[e.value]=n[e.value]||{}:{value:this._store._termToNewNumericId(e)},a=e=>({subject:i(e.subject),predicate:i(e.predicate),object:i(e.object)});return{premise:t.map(e=>a(e)),conclusion:r.map(e=>a(e)),variables:Object.values(n)}}reason(e){Array.isArray(e)||(e=l(e)),e=e.map(e=>this._createRule(e));for(const r of e)for(const t of e)for(let e=0;e<t.premise.length;e++){const n=t.premise[e];for(const i of r.conclusion){if(h(n.subject,i.subject)&&h(n.predicate,i.predicate)&&h(n.object,i.object)){const r=new Set,a=[];n.subject.value=n.subject.value||1,n.object.value=n.object.value||1,n.predicate.value=n.predicate.value||1;for(let n=0;n<t.premise.length;n++)n!==e&&a.push(d(t.premise[n],r));(i.next=i.next||[]).push({premise:a,conclusion:t.conclusion,basePremise:n})}t.variables.forEach(e=>{e.value=null})}}for(const r of e){const e=new Set;r.premise=r.premise.map(t=>d(t,e))}const t=this._store._getGraphs();for(const r in t)this._reasonGraphNaive(e,t[r]);this._store._size=null}}function d(e,t){let{subject:r,predicate:n,object:i}=e;const a=r.value||t.has(r)||(t.add(r),!1),o=n.value||t.has(n)||(t.add(n),!1),s=i.value||t.has(i)||(t.add(i),!1);return!a&&o?{content:"predicates",value:[n,i,r]}:s?{content:"objects",value:[i,r,n]}:{content:"subjects",value:[r,n,i]}}function h(e,t){return null===e.value&&(e.value=t.value),e.value===t.value}var p=r(94051);class f extends p.Transform{constructor(e){super({decodeStrings:!0}),this._readableState.objectMode=!0;const t=new i.A(e);let r,n;const a={onQuad:(e,t)=>{e&&this.emit("error",e)||t&&this.push(t)},onPrefix:(e,t)=>{this.emit("prefix",e,t)}};e&&e.comments&&(a.onComment=e=>{this.emit("comment",e)}),t.parse({on:(e,t)=>{switch(e){case"data":r=t;break;case"end":n=t}}},a),this._transform=(e,t,n)=>{r(e),n()},this._flush=e=>{n(),e()}}import(e){return e.on("data",e=>{this.write(e)}),e.on("end",()=>{this.end()}),e.on("error",e=>{this.emit("error",e)}),this}}class g extends p.Transform{constructor(e){super({encoding:"utf8",writableObjectMode:!0});const t=this._writer=new a.A({write:(e,t,r)=>{this.push(e),r&&r()},end:e=>{this.push(null),e&&e()}},e);this._transform=(e,r,n)=>{t.addQuad(e,n)},this._flush=e=>{t.end(e)}}import(e){return e.on("data",e=>{this.write(e)}),e.on("end",()=>{this.end()}),e.on("error",e=>{this.emit("error",e)}),e.on("prefix",(e,t)=>{this._writer.addPrefix(e,t)}),this}}var y=r(44539),m=r(3191);const v={Lexer:n.A,Parser:i.A,Writer:a.A,Store:o.A,StoreFactory:s,EntityIndex:o.J,StreamParser:f,StreamWriter:g,Util:y,Reasoner:u,BaseIRI:m.A,DataFactory:c.Ay,Term:c.x1,NamedNode:c.Yo,Literal:c.uS,BlankNode:c.PB,Variable:c.rT,DefaultGraph:c.yV,Quad:c.kO,Triple:c.n7,termFromId:c.iN,termToId:c.FL}},73645:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationExtend=void 0;const i=r(52241),a=r(13953),o=r(7979),s=r(97824),c=r(89266);class l extends i.ActorQueryOperationTypedMediated{constructor(e){super(e,"extend"),this.mediatorExpressionEvaluatorFactory=e.mediatorExpressionEvaluatorFactory}async testOperation(){return(0,a.passTestVoid)()}async runOperation(e,t){const{expression:r,input:i,variable:a}=e,l=(0,c.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:i,context:t}));if((await l.metadata()).variables.some(e=>e.variable.equals(a)))throw new Error("Illegal binding to variable '".concat(a.value,"' that has already been bound"));const u=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:r,context:t}),d=l.bindingsStream.transform({autoStart:!1,transform:async(e,r,n)=>{try{const t=await u.evaluate(e);n(e.set(a,t))}catch(i){(0,s.isExpressionError)(i)?(n(e),this.logWarn(t,"Expression error for extend operation (".concat(i.message,")")+"with bindings '".concat((0,o.bindingsToString)(e),"'"))):d.emit("error",i)}r()}});return{type:"bindings",bindingsStream:d,async metadata(){const e=await l.metadata();return n(n({},e),{},{variables:[...e.variables,{variable:a,canBeUndef:!1}]})}}}}t.ActorQueryOperationExtend=l},73697:(e,t,r)=>{var n=t;n.utils=r(97643),n.common=r(12629),n.sha=r(52624),n.ripemd=r(1859),n.hmac=r(67355),n.sha1=n.sha.sha1,n.sha256=n.sha.sha256,n.sha224=n.sha.sha224,n.sha384=n.sha.sha384,n.sha512=n.sha.sha512,n.ripemd160=n.ripemd.ripemd160},73729:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionReplace=void 0;const n=r(52460),i=r(11716),a=r(97824);class o extends i.TermFunctionBase{constructor(){super({arity:[3,4],operator:a.SparqlOperator.REPLACE,overloads:(0,a.declare)(a.SparqlOperator.REPLACE).onTernaryTyped([a.TypeURL.XSD_STRING,a.TypeURL.XSD_STRING,a.TypeURL.XSD_STRING],()=>(e,t,r)=>(0,a.string)(o.replace(e,t,r))).set([a.TypeURL.RDF_LANG_STRING,a.TypeURL.XSD_STRING,a.TypeURL.XSD_STRING],()=>e=>{let[t,r,n]=e;const i=o.replace(t.typedValue,r.typedValue,n.typedValue);return(0,a.langString)(i,t.language)}).onQuaternaryTyped([a.TypeURL.XSD_STRING,a.TypeURL.XSD_STRING,a.TypeURL.XSD_STRING,a.TypeURL.XSD_STRING],()=>(e,t,r,n)=>(0,a.string)(o.replace(e,t,r,n))).set([a.TypeURL.RDF_LANG_STRING,a.TypeURL.XSD_STRING,a.TypeURL.XSD_STRING,a.TypeURL.XSD_STRING],()=>e=>{let[t,r,n,i]=e;const s=o.replace(t.typedValue,r.typedValue,n.typedValue,i.typedValue);return(0,a.langString)(s,t.language)}).collect()})}static replace(e,t,r){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return i=n.TermFunctionRegex.cleanFlags(i),i.includes("x")&&(t=n.TermFunctionRegex.flagX(t)),i.includes("q")?t=n.TermFunctionRegex.flagQ(t):r=r.replaceAll("$0",()=>"$&"),i="".concat(i.replaceAll(/[qx]/g,""),"g"),e.replaceAll(new RegExp(t,i),r)}}t.TermFunctionReplace=o},73738:e=>{function t(r){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(r)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},73780:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(53117),t)},74079:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},74084:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(20694),t)},74266:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfMetadataAccumulatePageSize=void 0;const i=r(26638),a=r(13953);class o extends i.ActorRdfMetadataAccumulate{constructor(e){super(e)}async test(e){return(0,a.passTestVoid)()}async run(e){var t,r;return"initialize"===e.mode?{metadata:{}}:{metadata:n({},"pageSize"in e.accumulatedMetadata||"pageSize"in e.appendingMetadata?{pageSize:(null!==(t=e.accumulatedMetadata.pageSize)&&void 0!==t?t:0)+(null!==(r=e.appendingMetadata.pageSize)&&void 0!==r?r:0)}:{})}}}t.ActorRdfMetadataAccumulatePageSize=o},74317:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(30006),t)},74351:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(28404),t)},74567:(e,t,r)=>{"use strict";r.r(t),r.d(t,{BREAK:()=>ce,DirectiveLocation:()=>ee,Kind:()=>b,Lexer:()=>z,Location:()=>k,Source:()=>p,Token:()=>L,TokenKind:()=>_,getLocation:()=>f,getVisitFn:()=>de,isDefinitionNode:()=>we,isExecutableDefinitionNode:()=>xe,isSelectionNode:()=>Se,isTypeDefinitionNode:()=>Ae,isTypeExtensionNode:()=>Ne,isTypeNode:()=>Oe,isTypeSystemDefinitionNode:()=>Ee,isTypeSystemExtensionNode:()=>Pe,isValueNode:()=>Te,parse:()=>te,parseType:()=>ne,parseValue:()=>re,print:()=>he,printLocation:()=>g,printSourceLocation:()=>y,visit:()=>le,visitInParallel:()=>ue});"function"===typeof Symbol&&null!=Symbol.iterator&&Symbol.iterator,"function"===typeof Symbol&&null!=Symbol.asyncIterator&&Symbol.asyncIterator;var n="function"===typeof Symbol&&null!=Symbol.toStringTag?Symbol.toStringTag:"@@toStringTag";const i="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):void 0;function a(e){return a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}var o=10,s=2;function c(e){return l(e,[])}function l(e,t){switch(a(e)){case"string":return JSON.stringify(e);case"function":return e.name?"[function ".concat(e.name,"]"):"[function]";case"object":return null===e?"null":function(e,t){if(-1!==t.indexOf(e))return"[Circular]";var r=[].concat(t,[e]),n=function(e){var t=e[String(i)];if("function"===typeof t)return t;if("function"===typeof e.inspect)return e.inspect}(e);if(void 0!==n){var a=n.call(e);if(a!==e)return"string"===typeof a?a:l(a,r)}else if(Array.isArray(e))return function(e,t){if(0===e.length)return"[]";if(t.length>s)return"[Array]";for(var r=Math.min(o,e.length),n=e.length-r,i=[],a=0;a<r;++a)i.push(l(e[a],t));1===n?i.push("... 1 more item"):n>1&&i.push("... ".concat(n," more items"));return"["+i.join(", ")+"]"}(e,r);return function(e,t){var r=Object.keys(e);if(0===r.length)return"{}";if(t.length>s)return"["+function(e){var t=Object.prototype.toString.call(e).replace(/^\[object /,"").replace(/]$/,"");if("Object"===t&&"function"===typeof e.constructor){var r=e.constructor.name;if("string"===typeof r&&""!==r)return r}return t}(e)+"]";var n=r.map(function(r){return r+": "+l(e[r],t)});return"{ "+n.join(", ")+" }"}(e,r)}(e,t);default:return String(e)}}function u(e,t){if(!Boolean(e))throw new Error(t)}const d=function(e,t){return e instanceof t};function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var p=function(){function e(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"GraphQL request",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{line:1,column:1};"string"===typeof e||u(0,"Body must be a string. Received: ".concat(c(e),".")),this.body=e,this.name=t,this.locationOffset=r,this.locationOffset.line>0||u(0,"line in locationOffset is 1-indexed and must be positive."),this.locationOffset.column>0||u(0,"column in locationOffset is 1-indexed and must be positive.")}var t,r,i;return t=e,(r=[{key:n,get:function(){return"Source"}}])&&h(t.prototype,r),i&&h(t,i),e}();function f(e,t){for(var r,n=/\r\n|[\n\r]/g,i=1,a=t+1;(r=n.exec(e.body))&&r.index<t;)i+=1,a=t+1-(r.index+r[0].length);return{line:i,column:a}}function g(e){return y(e.source,f(e.source,e.start))}function y(e,t){var r=e.locationOffset.column-1,n=v(r)+e.body,i=t.line-1,a=e.locationOffset.line-1,o=t.line+a,s=1===t.line?r:0,c=t.column+s,l="".concat(e.name,":").concat(o,":").concat(c,"\n"),u=n.split(/\r\n|[\n\r]/g),d=u[i];if(d.length>120){for(var h=Math.floor(c/80),p=c%80,f=[],g=0;g<d.length;g+=80)f.push(d.slice(g,g+80));return l+m([["".concat(o),f[0]]].concat(f.slice(1,h+1).map(function(e){return["",e]}),[[" ",v(p-1)+"^"],["",f[h+1]]]))}return l+m([["".concat(o-1),u[i-1]],["".concat(o),d],["",v(c-1)+"^"],["".concat(o+1),u[i+1]]])}function m(e){var t=e.filter(function(e){e[0];return void 0!==e[1]}),r=Math.max.apply(Math,t.map(function(e){return e[0].length}));return t.map(function(e){var t,n=e[0],i=e[1];return v(r-(t=n).length)+t+(i?" | "+i:" |")}).join("\n")}function v(e){return Array(e+1).join(" ")}var b=Object.freeze({NAME:"Name",DOCUMENT:"Document",OPERATION_DEFINITION:"OperationDefinition",VARIABLE_DEFINITION:"VariableDefinition",SELECTION_SET:"SelectionSet",FIELD:"Field",ARGUMENT:"Argument",FRAGMENT_SPREAD:"FragmentSpread",INLINE_FRAGMENT:"InlineFragment",FRAGMENT_DEFINITION:"FragmentDefinition",VARIABLE:"Variable",INT:"IntValue",FLOAT:"FloatValue",STRING:"StringValue",BOOLEAN:"BooleanValue",NULL:"NullValue",ENUM:"EnumValue",LIST:"ListValue",OBJECT:"ObjectValue",OBJECT_FIELD:"ObjectField",DIRECTIVE:"Directive",NAMED_TYPE:"NamedType",LIST_TYPE:"ListType",NON_NULL_TYPE:"NonNullType",SCHEMA_DEFINITION:"SchemaDefinition",OPERATION_TYPE_DEFINITION:"OperationTypeDefinition",SCALAR_TYPE_DEFINITION:"ScalarTypeDefinition",OBJECT_TYPE_DEFINITION:"ObjectTypeDefinition",FIELD_DEFINITION:"FieldDefinition",INPUT_VALUE_DEFINITION:"InputValueDefinition",INTERFACE_TYPE_DEFINITION:"InterfaceTypeDefinition",UNION_TYPE_DEFINITION:"UnionTypeDefinition",ENUM_TYPE_DEFINITION:"EnumTypeDefinition",ENUM_VALUE_DEFINITION:"EnumValueDefinition",INPUT_OBJECT_TYPE_DEFINITION:"InputObjectTypeDefinition",DIRECTIVE_DEFINITION:"DirectiveDefinition",SCHEMA_EXTENSION:"SchemaExtension",SCALAR_TYPE_EXTENSION:"ScalarTypeExtension",OBJECT_TYPE_EXTENSION:"ObjectTypeExtension",INTERFACE_TYPE_EXTENSION:"InterfaceTypeExtension",UNION_TYPE_EXTENSION:"UnionTypeExtension",ENUM_TYPE_EXTENSION:"EnumTypeExtension",INPUT_OBJECT_TYPE_EXTENSION:"InputObjectTypeExtension"}),_=Object.freeze({SOF:"<SOF>",EOF:"<EOF>",BANG:"!",DOLLAR:"$",AMP:"&",PAREN_L:"(",PAREN_R:")",SPREAD:"...",COLON:":",EQUALS:"=",AT:"@",BRACKET_L:"[",BRACKET_R:"]",BRACE_L:"{",PIPE:"|",BRACE_R:"}",NAME:"Name",INT:"Int",FLOAT:"Float",STRING:"String",BLOCK_STRING:"BlockString",COMMENT:"Comment"});function w(e){return w="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function x(e){return x="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t){return!t||"object"!==x(t)&&"function"!==typeof t?A(e):t}function A(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function P(e){var t="function"===typeof Map?new Map:void 0;return P=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return N(e,arguments,R(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),D(n,e)},P(e)}function N(e,t,r){return N=j()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var i=new(Function.bind.apply(e,n));return r&&D(i,r.prototype),i},N.apply(null,arguments)}function j(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}function D(e,t){return D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},D(e,t)}function R(e){return R=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},R(e)}var I=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(o,e);var t,r,i,a=function(e){var t=j();return function(){var r,n=R(e);if(t){var i=R(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return E(this,r)}}(o);function o(e,t,r,n,i,s,c){var l,u,d,h;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(h=a.call(this,e)).name="GraphQLError",h.originalError=null!==s&&void 0!==s?s:void 0,h.nodes=F(Array.isArray(t)?t:t?[t]:void 0);for(var p=[],g=0,y=null!==(m=h.nodes)&&void 0!==m?m:[];g<y.length;g++){var m,v=y[g].loc;null!=v&&p.push(v)}p=F(p),h.source=null!==r&&void 0!==r?r:null===(l=p)||void 0===l?void 0:l[0].source,h.positions=null!==n&&void 0!==n?n:null===(u=p)||void 0===u?void 0:u.map(function(e){return e.start}),h.locations=n&&r?n.map(function(e){return f(r,e)}):null===(d=p)||void 0===d?void 0:d.map(function(e){return f(e.source,e.start)}),h.path=null!==i&&void 0!==i?i:void 0;var b,_=null===s||void 0===s?void 0:s.extensions;return null==c&&("object"==w(b=_)&&null!==b)?h.extensions=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?S(Object(r),!0).forEach(function(t){T(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},_):h.extensions=null!==c&&void 0!==c?c:{},Object.defineProperties(A(h),{message:{enumerable:!0},locations:{enumerable:null!=h.locations},path:{enumerable:null!=h.path},extensions:{enumerable:null!=h.extensions&&Object.keys(h.extensions).length>0},name:{enumerable:!1},nodes:{enumerable:!1},source:{enumerable:!1},positions:{enumerable:!1},originalError:{enumerable:!1}}),null!==s&&void 0!==s&&s.stack?(Object.defineProperty(A(h),"stack",{value:s.stack,writable:!0,configurable:!0}),E(h)):(Error.captureStackTrace?Error.captureStackTrace(A(h),o):Object.defineProperty(A(h),"stack",{value:Error().stack,writable:!0,configurable:!0}),h)}return t=o,(r=[{key:"toString",value:function(){return function(e){var t=e.message;if(e.nodes)for(var r=0,n=e.nodes;r<n.length;r++){var i=n[r];i.loc&&(t+="\n\n"+g(i.loc))}else if(e.source&&e.locations)for(var a=0,o=e.locations;a<o.length;a++){var s=o[a];t+="\n\n"+y(e.source,s)}return t}(this)}},{key:"toJSON",value:function(){return function(e){var t;e||u(0,"Received null or undefined error.");var r=null!==(t=e.message)&&void 0!==t?t:"An unknown error occurred.",n=e.locations,i=e.path,a=e.extensions;return a&&Object.keys(a).length>0?{message:r,locations:n,path:i,extensions:a}:{message:r,locations:n,path:i}}(this)}},{key:n,get:function(){return"Object"}}])&&O(t.prototype,r),i&&O(t,i),o}(P(Error));function F(e){return void 0===e||0===e.length?void 0:e}function C(e,t,r){return new I("Syntax Error: ".concat(r),void 0,e,[t])}function M(e){var t=e.prototype.toJSON;"function"===typeof t||function(e,t){if(!Boolean(e))throw new Error(null!=t?t:"Unexpected invariant triggered.")}(0),e.prototype.inspect=t,i&&(e.prototype[i]=t)}var k=function(){function e(e,t,r){this.start=e.start,this.end=t.end,this.startToken=e,this.endToken=t,this.source=r}return e.prototype.toJSON=function(){return{start:this.start,end:this.end}},e}();M(k);var L=function(){function e(e,t,r,n,i,a,o){this.kind=e,this.start=t,this.end=r,this.line=n,this.column=i,this.value=o,this.prev=a,this.next=null}return e.prototype.toJSON=function(){return{kind:this.kind,value:this.value,line:this.line,column:this.column}},e}();function B(e){return null!=e&&"string"===typeof e.kind}function U(e){var t=e.split(/\r\n|[\n\r]/g),r=function(e){for(var t,r=!0,n=!0,i=0,a=null,o=0;o<e.length;++o)switch(e.charCodeAt(o)){case 13:10===e.charCodeAt(o+1)&&++o;case 10:r=!1,n=!0,i=0;break;case 9:case 32:++i;break;default:n&&!r&&(null===a||i<a)&&(a=i),n=!1}return null!==(t=a)&&void 0!==t?t:0}(e);if(0!==r)for(var n=1;n<t.length;n++)t[n]=t[n].slice(r);for(var i=0;i<t.length&&V(t[i]);)++i;for(var a=t.length;a>i&&V(t[a-1]);)--a;return t.slice(i,a).join("\n")}function V(e){for(var t=0;t<e.length;++t)if(" "!==e[t]&&"\t"!==e[t])return!1;return!0}M(L);var z=function(){function e(e){var t=new L(_.SOF,0,0,0,0,null);this.source=e,this.lastToken=t,this.token=t,this.line=1,this.lineStart=0}var t=e.prototype;return t.advance=function(){return this.lastToken=this.token,this.token=this.lookahead()},t.lookahead=function(){var e=this.token;if(e.kind!==_.EOF)do{var t;e=null!==(t=e.next)&&void 0!==t?t:e.next=Q(this,e)}while(e.kind===_.COMMENT);return e},e}();function q(e){return isNaN(e)?_.EOF:e<127?JSON.stringify(String.fromCharCode(e)):'"\\u'.concat(("00"+e.toString(16).toUpperCase()).slice(-4),'"')}function Q(e,t){for(var r=e.source,n=r.body,i=n.length,a=t.end;a<i;){var o=n.charCodeAt(a),s=e.line,c=1+a-e.lineStart;switch(o){case 65279:case 9:case 32:case 44:++a;continue;case 10:++a,++e.line,e.lineStart=a;continue;case 13:10===n.charCodeAt(a+1)?a+=2:++a,++e.line,e.lineStart=a;continue;case 33:return new L(_.BANG,a,a+1,s,c,t);case 35:return H(r,a,s,c,t);case 36:return new L(_.DOLLAR,a,a+1,s,c,t);case 38:return new L(_.AMP,a,a+1,s,c,t);case 40:return new L(_.PAREN_L,a,a+1,s,c,t);case 41:return new L(_.PAREN_R,a,a+1,s,c,t);case 46:if(46===n.charCodeAt(a+1)&&46===n.charCodeAt(a+2))return new L(_.SPREAD,a,a+3,s,c,t);break;case 58:return new L(_.COLON,a,a+1,s,c,t);case 61:return new L(_.EQUALS,a,a+1,s,c,t);case 64:return new L(_.AT,a,a+1,s,c,t);case 91:return new L(_.BRACKET_L,a,a+1,s,c,t);case 93:return new L(_.BRACKET_R,a,a+1,s,c,t);case 123:return new L(_.BRACE_L,a,a+1,s,c,t);case 124:return new L(_.PIPE,a,a+1,s,c,t);case 125:return new L(_.BRACE_R,a,a+1,s,c,t);case 34:return 34===n.charCodeAt(a+1)&&34===n.charCodeAt(a+2)?$(r,a,s,c,t,e):K(r,a,s,c,t);case 45:case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return W(r,a,o,s,c,t);case 65:case 66:case 67:case 68:case 69:case 70:case 71:case 72:case 73:case 74:case 75:case 76:case 77:case 78:case 79:case 80:case 81:case 82:case 83:case 84:case 85:case 86:case 87:case 88:case 89:case 90:case 95:case 97:case 98:case 99:case 100:case 101:case 102:case 103:case 104:case 105:case 106:case 107:case 108:case 109:case 110:case 111:case 112:case 113:case 114:case 115:case 116:case 117:case 118:case 119:case 120:case 121:case 122:return Z(r,a,s,c,t)}throw C(r,a,G(o))}var l=e.line,u=1+a-e.lineStart;return new L(_.EOF,i,i,l,u,t)}function G(e){return e<32&&9!==e&&10!==e&&13!==e?"Cannot contain the invalid character ".concat(q(e),"."):39===e?"Unexpected single quote character ('), did you mean to use a double quote (\")?":"Cannot parse the unexpected character ".concat(q(e),".")}function H(e,t,r,n,i){var a,o=e.body,s=t;do{a=o.charCodeAt(++s)}while(!isNaN(a)&&(a>31||9===a));return new L(_.COMMENT,t,s,r,n,i,o.slice(t+1,s))}function W(e,t,r,n,i,a){var o=e.body,s=r,c=t,l=!1;if(45===s&&(s=o.charCodeAt(++c)),48===s){if((s=o.charCodeAt(++c))>=48&&s<=57)throw C(e,c,"Invalid number, unexpected digit after 0: ".concat(q(s),"."))}else c=X(e,c,s),s=o.charCodeAt(c);if(46===s&&(l=!0,s=o.charCodeAt(++c),c=X(e,c,s),s=o.charCodeAt(c)),69!==s&&101!==s||(l=!0,43!==(s=o.charCodeAt(++c))&&45!==s||(s=o.charCodeAt(++c)),c=X(e,c,s),s=o.charCodeAt(c)),46===s||function(e){return 95===e||e>=65&&e<=90||e>=97&&e<=122}(s))throw C(e,c,"Invalid number, expected digit but got: ".concat(q(s),"."));return new L(l?_.FLOAT:_.INT,t,c,n,i,a,o.slice(t,c))}function X(e,t,r){var n=e.body,i=t,a=r;if(a>=48&&a<=57){do{a=n.charCodeAt(++i)}while(a>=48&&a<=57);return i}throw C(e,i,"Invalid number, expected digit but got: ".concat(q(a),"."))}function K(e,t,r,n,i){for(var a=e.body,o=t+1,s=o,c=0,l="";o<a.length&&!isNaN(c=a.charCodeAt(o))&&10!==c&&13!==c;){if(34===c)return l+=a.slice(s,o),new L(_.STRING,t,o+1,r,n,i,l);if(c<32&&9!==c)throw C(e,o,"Invalid character within String: ".concat(q(c),"."));if(++o,92===c){switch(l+=a.slice(s,o-1),c=a.charCodeAt(o)){case 34:l+='"';break;case 47:l+="/";break;case 92:l+="\\";break;case 98:l+="\b";break;case 102:l+="\f";break;case 110:l+="\n";break;case 114:l+="\r";break;case 116:l+="\t";break;case 117:var u=Y(a.charCodeAt(o+1),a.charCodeAt(o+2),a.charCodeAt(o+3),a.charCodeAt(o+4));if(u<0){var d=a.slice(o+1,o+5);throw C(e,o,"Invalid character escape sequence: \\u".concat(d,"."))}l+=String.fromCharCode(u),o+=4;break;default:throw C(e,o,"Invalid character escape sequence: \\".concat(String.fromCharCode(c),"."))}s=++o}}throw C(e,o,"Unterminated string.")}function $(e,t,r,n,i,a){for(var o=e.body,s=t+3,c=s,l=0,u="";s<o.length&&!isNaN(l=o.charCodeAt(s));){if(34===l&&34===o.charCodeAt(s+1)&&34===o.charCodeAt(s+2))return u+=o.slice(c,s),new L(_.BLOCK_STRING,t,s+3,r,n,i,U(u));if(l<32&&9!==l&&10!==l&&13!==l)throw C(e,s,"Invalid character within String: ".concat(q(l),"."));10===l?(++s,++a.line,a.lineStart=s):13===l?(10===o.charCodeAt(s+1)?s+=2:++s,++a.line,a.lineStart=s):92===l&&34===o.charCodeAt(s+1)&&34===o.charCodeAt(s+2)&&34===o.charCodeAt(s+3)?(u+=o.slice(c,s)+'"""',c=s+=4):++s}throw C(e,s,"Unterminated string.")}function Y(e,t,r,n){return J(e)<<12|J(t)<<8|J(r)<<4|J(n)}function J(e){return e>=48&&e<=57?e-48:e>=65&&e<=70?e-55:e>=97&&e<=102?e-87:-1}function Z(e,t,r,n,i){for(var a=e.body,o=a.length,s=t+1,c=0;s!==o&&!isNaN(c=a.charCodeAt(s))&&(95===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122);)++s;return new L(_.NAME,t,s,r,n,i,a.slice(t,s))}var ee=Object.freeze({QUERY:"QUERY",MUTATION:"MUTATION",SUBSCRIPTION:"SUBSCRIPTION",FIELD:"FIELD",FRAGMENT_DEFINITION:"FRAGMENT_DEFINITION",FRAGMENT_SPREAD:"FRAGMENT_SPREAD",INLINE_FRAGMENT:"INLINE_FRAGMENT",VARIABLE_DEFINITION:"VARIABLE_DEFINITION",SCHEMA:"SCHEMA",SCALAR:"SCALAR",OBJECT:"OBJECT",FIELD_DEFINITION:"FIELD_DEFINITION",ARGUMENT_DEFINITION:"ARGUMENT_DEFINITION",INTERFACE:"INTERFACE",UNION:"UNION",ENUM:"ENUM",ENUM_VALUE:"ENUM_VALUE",INPUT_OBJECT:"INPUT_OBJECT",INPUT_FIELD_DEFINITION:"INPUT_FIELD_DEFINITION"});function te(e,t){return new ie(e,t).parseDocument()}function re(e,t){var r=new ie(e,t);r.expectToken(_.SOF);var n=r.parseValueLiteral(!1);return r.expectToken(_.EOF),n}function ne(e,t){var r=new ie(e,t);r.expectToken(_.SOF);var n=r.parseTypeReference();return r.expectToken(_.EOF),n}var ie=function(){function e(e,t){var r=function(e){return d(e,p)}(e)?e:new p(e);this._lexer=new z(r),this._options=t}var t=e.prototype;return t.parseName=function(){var e=this.expectToken(_.NAME);return{kind:b.NAME,value:e.value,loc:this.loc(e)}},t.parseDocument=function(){var e=this._lexer.token;return{kind:b.DOCUMENT,definitions:this.many(_.SOF,this.parseDefinition,_.EOF),loc:this.loc(e)}},t.parseDefinition=function(){if(this.peek(_.NAME))switch(this._lexer.token.value){case"query":case"mutation":case"subscription":return this.parseOperationDefinition();case"fragment":return this.parseFragmentDefinition();case"schema":case"scalar":case"type":case"interface":case"union":case"enum":case"input":case"directive":return this.parseTypeSystemDefinition();case"extend":return this.parseTypeSystemExtension()}else{if(this.peek(_.BRACE_L))return this.parseOperationDefinition();if(this.peekDescription())return this.parseTypeSystemDefinition()}throw this.unexpected()},t.parseOperationDefinition=function(){var e=this._lexer.token;if(this.peek(_.BRACE_L))return{kind:b.OPERATION_DEFINITION,operation:"query",name:void 0,variableDefinitions:[],directives:[],selectionSet:this.parseSelectionSet(),loc:this.loc(e)};var t,r=this.parseOperationType();return this.peek(_.NAME)&&(t=this.parseName()),{kind:b.OPERATION_DEFINITION,operation:r,name:t,variableDefinitions:this.parseVariableDefinitions(),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseOperationType=function(){var e=this.expectToken(_.NAME);switch(e.value){case"query":return"query";case"mutation":return"mutation";case"subscription":return"subscription"}throw this.unexpected(e)},t.parseVariableDefinitions=function(){return this.optionalMany(_.PAREN_L,this.parseVariableDefinition,_.PAREN_R)},t.parseVariableDefinition=function(){var e=this._lexer.token;return{kind:b.VARIABLE_DEFINITION,variable:this.parseVariable(),type:(this.expectToken(_.COLON),this.parseTypeReference()),defaultValue:this.expectOptionalToken(_.EQUALS)?this.parseValueLiteral(!0):void 0,directives:this.parseDirectives(!0),loc:this.loc(e)}},t.parseVariable=function(){var e=this._lexer.token;return this.expectToken(_.DOLLAR),{kind:b.VARIABLE,name:this.parseName(),loc:this.loc(e)}},t.parseSelectionSet=function(){var e=this._lexer.token;return{kind:b.SELECTION_SET,selections:this.many(_.BRACE_L,this.parseSelection,_.BRACE_R),loc:this.loc(e)}},t.parseSelection=function(){return this.peek(_.SPREAD)?this.parseFragment():this.parseField()},t.parseField=function(){var e,t,r=this._lexer.token,n=this.parseName();return this.expectOptionalToken(_.COLON)?(e=n,t=this.parseName()):t=n,{kind:b.FIELD,alias:e,name:t,arguments:this.parseArguments(!1),directives:this.parseDirectives(!1),selectionSet:this.peek(_.BRACE_L)?this.parseSelectionSet():void 0,loc:this.loc(r)}},t.parseArguments=function(e){var t=e?this.parseConstArgument:this.parseArgument;return this.optionalMany(_.PAREN_L,t,_.PAREN_R)},t.parseArgument=function(){var e=this._lexer.token,t=this.parseName();return this.expectToken(_.COLON),{kind:b.ARGUMENT,name:t,value:this.parseValueLiteral(!1),loc:this.loc(e)}},t.parseConstArgument=function(){var e=this._lexer.token;return{kind:b.ARGUMENT,name:this.parseName(),value:(this.expectToken(_.COLON),this.parseValueLiteral(!0)),loc:this.loc(e)}},t.parseFragment=function(){var e=this._lexer.token;this.expectToken(_.SPREAD);var t=this.expectOptionalKeyword("on");return!t&&this.peek(_.NAME)?{kind:b.FRAGMENT_SPREAD,name:this.parseFragmentName(),directives:this.parseDirectives(!1),loc:this.loc(e)}:{kind:b.INLINE_FRAGMENT,typeCondition:t?this.parseNamedType():void 0,directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(e)}},t.parseFragmentDefinition=function(){var e,t=this._lexer.token;return this.expectKeyword("fragment"),!0===(null===(e=this._options)||void 0===e?void 0:e.experimentalFragmentVariables)?{kind:b.FRAGMENT_DEFINITION,name:this.parseFragmentName(),variableDefinitions:this.parseVariableDefinitions(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}:{kind:b.FRAGMENT_DEFINITION,name:this.parseFragmentName(),typeCondition:(this.expectKeyword("on"),this.parseNamedType()),directives:this.parseDirectives(!1),selectionSet:this.parseSelectionSet(),loc:this.loc(t)}},t.parseFragmentName=function(){if("on"===this._lexer.token.value)throw this.unexpected();return this.parseName()},t.parseValueLiteral=function(e){var t=this._lexer.token;switch(t.kind){case _.BRACKET_L:return this.parseList(e);case _.BRACE_L:return this.parseObject(e);case _.INT:return this._lexer.advance(),{kind:b.INT,value:t.value,loc:this.loc(t)};case _.FLOAT:return this._lexer.advance(),{kind:b.FLOAT,value:t.value,loc:this.loc(t)};case _.STRING:case _.BLOCK_STRING:return this.parseStringLiteral();case _.NAME:switch(this._lexer.advance(),t.value){case"true":return{kind:b.BOOLEAN,value:!0,loc:this.loc(t)};case"false":return{kind:b.BOOLEAN,value:!1,loc:this.loc(t)};case"null":return{kind:b.NULL,loc:this.loc(t)};default:return{kind:b.ENUM,value:t.value,loc:this.loc(t)}}case _.DOLLAR:if(!e)return this.parseVariable()}throw this.unexpected()},t.parseStringLiteral=function(){var e=this._lexer.token;return this._lexer.advance(),{kind:b.STRING,value:e.value,block:e.kind===_.BLOCK_STRING,loc:this.loc(e)}},t.parseList=function(e){var t=this,r=this._lexer.token;return{kind:b.LIST,values:this.any(_.BRACKET_L,function(){return t.parseValueLiteral(e)},_.BRACKET_R),loc:this.loc(r)}},t.parseObject=function(e){var t=this,r=this._lexer.token;return{kind:b.OBJECT,fields:this.any(_.BRACE_L,function(){return t.parseObjectField(e)},_.BRACE_R),loc:this.loc(r)}},t.parseObjectField=function(e){var t=this._lexer.token,r=this.parseName();return this.expectToken(_.COLON),{kind:b.OBJECT_FIELD,name:r,value:this.parseValueLiteral(e),loc:this.loc(t)}},t.parseDirectives=function(e){for(var t=[];this.peek(_.AT);)t.push(this.parseDirective(e));return t},t.parseDirective=function(e){var t=this._lexer.token;return this.expectToken(_.AT),{kind:b.DIRECTIVE,name:this.parseName(),arguments:this.parseArguments(e),loc:this.loc(t)}},t.parseTypeReference=function(){var e,t=this._lexer.token;return this.expectOptionalToken(_.BRACKET_L)?(e=this.parseTypeReference(),this.expectToken(_.BRACKET_R),e={kind:b.LIST_TYPE,type:e,loc:this.loc(t)}):e=this.parseNamedType(),this.expectOptionalToken(_.BANG)?{kind:b.NON_NULL_TYPE,type:e,loc:this.loc(t)}:e},t.parseNamedType=function(){var e=this._lexer.token;return{kind:b.NAMED_TYPE,name:this.parseName(),loc:this.loc(e)}},t.parseTypeSystemDefinition=function(){var e=this.peekDescription()?this._lexer.lookahead():this._lexer.token;if(e.kind===_.NAME)switch(e.value){case"schema":return this.parseSchemaDefinition();case"scalar":return this.parseScalarTypeDefinition();case"type":return this.parseObjectTypeDefinition();case"interface":return this.parseInterfaceTypeDefinition();case"union":return this.parseUnionTypeDefinition();case"enum":return this.parseEnumTypeDefinition();case"input":return this.parseInputObjectTypeDefinition();case"directive":return this.parseDirectiveDefinition()}throw this.unexpected(e)},t.peekDescription=function(){return this.peek(_.STRING)||this.peek(_.BLOCK_STRING)},t.parseDescription=function(){if(this.peekDescription())return this.parseStringLiteral()},t.parseSchemaDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("schema");var r=this.parseDirectives(!0),n=this.many(_.BRACE_L,this.parseOperationTypeDefinition,_.BRACE_R);return{kind:b.SCHEMA_DEFINITION,description:t,directives:r,operationTypes:n,loc:this.loc(e)}},t.parseOperationTypeDefinition=function(){var e=this._lexer.token,t=this.parseOperationType();this.expectToken(_.COLON);var r=this.parseNamedType();return{kind:b.OPERATION_TYPE_DEFINITION,operation:t,type:r,loc:this.loc(e)}},t.parseScalarTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("scalar");var r=this.parseName(),n=this.parseDirectives(!0);return{kind:b.SCALAR_TYPE_DEFINITION,description:t,name:r,directives:n,loc:this.loc(e)}},t.parseObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("type");var r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),a=this.parseFieldsDefinition();return{kind:b.OBJECT_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:a,loc:this.loc(e)}},t.parseImplementsInterfaces=function(){var e;if(!this.expectOptionalKeyword("implements"))return[];if(!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLImplementsInterfaces)){var t=[];this.expectOptionalToken(_.AMP);do{t.push(this.parseNamedType())}while(this.expectOptionalToken(_.AMP)||this.peek(_.NAME));return t}return this.delimitedMany(_.AMP,this.parseNamedType)},t.parseFieldsDefinition=function(){var e;return!0===(null===(e=this._options)||void 0===e?void 0:e.allowLegacySDLEmptyFields)&&this.peek(_.BRACE_L)&&this._lexer.lookahead().kind===_.BRACE_R?(this._lexer.advance(),this._lexer.advance(),[]):this.optionalMany(_.BRACE_L,this.parseFieldDefinition,_.BRACE_R)},t.parseFieldDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),n=this.parseArgumentDefs();this.expectToken(_.COLON);var i=this.parseTypeReference(),a=this.parseDirectives(!0);return{kind:b.FIELD_DEFINITION,description:t,name:r,arguments:n,type:i,directives:a,loc:this.loc(e)}},t.parseArgumentDefs=function(){return this.optionalMany(_.PAREN_L,this.parseInputValueDef,_.PAREN_R)},t.parseInputValueDef=function(){var e=this._lexer.token,t=this.parseDescription(),r=this.parseName();this.expectToken(_.COLON);var n,i=this.parseTypeReference();this.expectOptionalToken(_.EQUALS)&&(n=this.parseValueLiteral(!0));var a=this.parseDirectives(!0);return{kind:b.INPUT_VALUE_DEFINITION,description:t,name:r,type:i,defaultValue:n,directives:a,loc:this.loc(e)}},t.parseInterfaceTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("interface");var r=this.parseName(),n=this.parseImplementsInterfaces(),i=this.parseDirectives(!0),a=this.parseFieldsDefinition();return{kind:b.INTERFACE_TYPE_DEFINITION,description:t,name:r,interfaces:n,directives:i,fields:a,loc:this.loc(e)}},t.parseUnionTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("union");var r=this.parseName(),n=this.parseDirectives(!0),i=this.parseUnionMemberTypes();return{kind:b.UNION_TYPE_DEFINITION,description:t,name:r,directives:n,types:i,loc:this.loc(e)}},t.parseUnionMemberTypes=function(){return this.expectOptionalToken(_.EQUALS)?this.delimitedMany(_.PIPE,this.parseNamedType):[]},t.parseEnumTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("enum");var r=this.parseName(),n=this.parseDirectives(!0),i=this.parseEnumValuesDefinition();return{kind:b.ENUM_TYPE_DEFINITION,description:t,name:r,directives:n,values:i,loc:this.loc(e)}},t.parseEnumValuesDefinition=function(){return this.optionalMany(_.BRACE_L,this.parseEnumValueDefinition,_.BRACE_R)},t.parseEnumValueDefinition=function(){var e=this._lexer.token,t=this.parseDescription(),r=this.parseName(),n=this.parseDirectives(!0);return{kind:b.ENUM_VALUE_DEFINITION,description:t,name:r,directives:n,loc:this.loc(e)}},t.parseInputObjectTypeDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("input");var r=this.parseName(),n=this.parseDirectives(!0),i=this.parseInputFieldsDefinition();return{kind:b.INPUT_OBJECT_TYPE_DEFINITION,description:t,name:r,directives:n,fields:i,loc:this.loc(e)}},t.parseInputFieldsDefinition=function(){return this.optionalMany(_.BRACE_L,this.parseInputValueDef,_.BRACE_R)},t.parseTypeSystemExtension=function(){var e=this._lexer.lookahead();if(e.kind===_.NAME)switch(e.value){case"schema":return this.parseSchemaExtension();case"scalar":return this.parseScalarTypeExtension();case"type":return this.parseObjectTypeExtension();case"interface":return this.parseInterfaceTypeExtension();case"union":return this.parseUnionTypeExtension();case"enum":return this.parseEnumTypeExtension();case"input":return this.parseInputObjectTypeExtension()}throw this.unexpected(e)},t.parseSchemaExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("schema");var t=this.parseDirectives(!0),r=this.optionalMany(_.BRACE_L,this.parseOperationTypeDefinition,_.BRACE_R);if(0===t.length&&0===r.length)throw this.unexpected();return{kind:b.SCHEMA_EXTENSION,directives:t,operationTypes:r,loc:this.loc(e)}},t.parseScalarTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("scalar");var t=this.parseName(),r=this.parseDirectives(!0);if(0===r.length)throw this.unexpected();return{kind:b.SCALAR_TYPE_EXTENSION,name:t,directives:r,loc:this.loc(e)}},t.parseObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("type");var t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return{kind:b.OBJECT_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i,loc:this.loc(e)}},t.parseInterfaceTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("interface");var t=this.parseName(),r=this.parseImplementsInterfaces(),n=this.parseDirectives(!0),i=this.parseFieldsDefinition();if(0===r.length&&0===n.length&&0===i.length)throw this.unexpected();return{kind:b.INTERFACE_TYPE_EXTENSION,name:t,interfaces:r,directives:n,fields:i,loc:this.loc(e)}},t.parseUnionTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("union");var t=this.parseName(),r=this.parseDirectives(!0),n=this.parseUnionMemberTypes();if(0===r.length&&0===n.length)throw this.unexpected();return{kind:b.UNION_TYPE_EXTENSION,name:t,directives:r,types:n,loc:this.loc(e)}},t.parseEnumTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("enum");var t=this.parseName(),r=this.parseDirectives(!0),n=this.parseEnumValuesDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return{kind:b.ENUM_TYPE_EXTENSION,name:t,directives:r,values:n,loc:this.loc(e)}},t.parseInputObjectTypeExtension=function(){var e=this._lexer.token;this.expectKeyword("extend"),this.expectKeyword("input");var t=this.parseName(),r=this.parseDirectives(!0),n=this.parseInputFieldsDefinition();if(0===r.length&&0===n.length)throw this.unexpected();return{kind:b.INPUT_OBJECT_TYPE_EXTENSION,name:t,directives:r,fields:n,loc:this.loc(e)}},t.parseDirectiveDefinition=function(){var e=this._lexer.token,t=this.parseDescription();this.expectKeyword("directive"),this.expectToken(_.AT);var r=this.parseName(),n=this.parseArgumentDefs(),i=this.expectOptionalKeyword("repeatable");this.expectKeyword("on");var a=this.parseDirectiveLocations();return{kind:b.DIRECTIVE_DEFINITION,description:t,name:r,arguments:n,repeatable:i,locations:a,loc:this.loc(e)}},t.parseDirectiveLocations=function(){return this.delimitedMany(_.PIPE,this.parseDirectiveLocation)},t.parseDirectiveLocation=function(){var e=this._lexer.token,t=this.parseName();if(void 0!==ee[t.value])return t;throw this.unexpected(e)},t.loc=function(e){var t;if(!0!==(null===(t=this._options)||void 0===t?void 0:t.noLocation))return new k(e,this._lexer.lastToken,this._lexer.source)},t.peek=function(e){return this._lexer.token.kind===e},t.expectToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t;throw C(this._lexer.source,t.start,"Expected ".concat(oe(e),", found ").concat(ae(t),"."))},t.expectOptionalToken=function(e){var t=this._lexer.token;if(t.kind===e)return this._lexer.advance(),t},t.expectKeyword=function(e){var t=this._lexer.token;if(t.kind!==_.NAME||t.value!==e)throw C(this._lexer.source,t.start,'Expected "'.concat(e,'", found ').concat(ae(t),"."));this._lexer.advance()},t.expectOptionalKeyword=function(e){var t=this._lexer.token;return t.kind===_.NAME&&t.value===e&&(this._lexer.advance(),!0)},t.unexpected=function(e){var t=null!==e&&void 0!==e?e:this._lexer.token;return C(this._lexer.source,t.start,"Unexpected ".concat(ae(t),"."))},t.any=function(e,t,r){this.expectToken(e);for(var n=[];!this.expectOptionalToken(r);)n.push(t.call(this));return n},t.optionalMany=function(e,t,r){if(this.expectOptionalToken(e)){var n=[];do{n.push(t.call(this))}while(!this.expectOptionalToken(r));return n}return[]},t.many=function(e,t,r){this.expectToken(e);var n=[];do{n.push(t.call(this))}while(!this.expectOptionalToken(r));return n},t.delimitedMany=function(e,t){this.expectOptionalToken(e);var r=[];do{r.push(t.call(this))}while(this.expectOptionalToken(e));return r},e}();function ae(e){var t=e.value;return oe(e.kind)+(null!=t?' "'.concat(t,'"'):"")}function oe(e){return function(e){return e===_.BANG||e===_.DOLLAR||e===_.AMP||e===_.PAREN_L||e===_.PAREN_R||e===_.SPREAD||e===_.COLON||e===_.EQUALS||e===_.AT||e===_.BRACKET_L||e===_.BRACKET_R||e===_.BRACE_L||e===_.PIPE||e===_.BRACE_R}(e)?'"'.concat(e,'"'):e}var se={Name:[],Document:["definitions"],OperationDefinition:["name","variableDefinitions","directives","selectionSet"],VariableDefinition:["variable","type","defaultValue","directives"],Variable:["name"],SelectionSet:["selections"],Field:["alias","name","arguments","directives","selectionSet"],Argument:["name","value"],FragmentSpread:["name","directives"],InlineFragment:["typeCondition","directives","selectionSet"],FragmentDefinition:["name","variableDefinitions","typeCondition","directives","selectionSet"],IntValue:[],FloatValue:[],StringValue:[],BooleanValue:[],NullValue:[],EnumValue:[],ListValue:["values"],ObjectValue:["fields"],ObjectField:["name","value"],Directive:["name","arguments"],NamedType:["name"],ListType:["type"],NonNullType:["type"],SchemaDefinition:["description","directives","operationTypes"],OperationTypeDefinition:["type"],ScalarTypeDefinition:["description","name","directives"],ObjectTypeDefinition:["description","name","interfaces","directives","fields"],FieldDefinition:["description","name","arguments","type","directives"],InputValueDefinition:["description","name","type","defaultValue","directives"],InterfaceTypeDefinition:["description","name","interfaces","directives","fields"],UnionTypeDefinition:["description","name","directives","types"],EnumTypeDefinition:["description","name","directives","values"],EnumValueDefinition:["description","name","directives"],InputObjectTypeDefinition:["description","name","directives","fields"],DirectiveDefinition:["description","name","arguments","locations"],SchemaExtension:["directives","operationTypes"],ScalarTypeExtension:["name","directives"],ObjectTypeExtension:["name","interfaces","directives","fields"],InterfaceTypeExtension:["name","interfaces","directives","fields"],UnionTypeExtension:["name","directives","types"],EnumTypeExtension:["name","directives","values"],InputObjectTypeExtension:["name","directives","fields"]},ce=Object.freeze({});function le(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:se,n=void 0,i=Array.isArray(e),a=[e],o=-1,s=[],l=void 0,u=void 0,d=void 0,h=[],p=[],f=e;do{var g=++o===a.length,y=g&&0!==s.length;if(g){if(u=0===p.length?void 0:h[h.length-1],l=d,d=p.pop(),y){if(i)l=l.slice();else{for(var m={},v=0,b=Object.keys(l);v<b.length;v++){var _=b[v];m[_]=l[_]}l=m}for(var w=0,x=0;x<s.length;x++){var S=s[x][0],T=s[x][1];i&&(S-=w),i&&null===T?(l.splice(S,1),w++):l[S]=T}}o=n.index,a=n.keys,s=n.edits,i=n.inArray,n=n.prev}else{if(u=d?i?o:a[o]:void 0,null===(l=d?d[u]:f)||void 0===l)continue;d&&h.push(u)}var O,E=void 0;if(!Array.isArray(l)){if(!B(l))throw new Error("Invalid AST Node: ".concat(c(l),"."));var A=de(t,l.kind,g);if(A){if((E=A.call(t,l,u,d,h,p))===ce)break;if(!1===E){if(!g){h.pop();continue}}else if(void 0!==E&&(s.push([u,E]),!g)){if(!B(E)){h.pop();continue}l=E}}}if(void 0===E&&y&&s.push([u,l]),g)h.pop();else n={inArray:i,index:o,keys:a,edits:s,prev:n},a=(i=Array.isArray(l))?l:null!==(O=r[l.kind])&&void 0!==O?O:[],o=-1,s=[],d&&p.push(d),d=l}while(void 0!==n);return 0!==s.length&&(f=s[s.length-1][1]),f}function ue(e){var t=new Array(e.length);return{enter:function(r){for(var n=0;n<e.length;n++)if(null==t[n]){var i=de(e[n],r.kind,!1);if(i){var a=i.apply(e[n],arguments);if(!1===a)t[n]=r;else if(a===ce)t[n]=ce;else if(void 0!==a)return a}}},leave:function(r){for(var n=0;n<e.length;n++)if(null==t[n]){var i=de(e[n],r.kind,!0);if(i){var a=i.apply(e[n],arguments);if(a===ce)t[n]=ce;else if(void 0!==a&&!1!==a)return a}}else t[n]===r&&(t[n]=null)}}}function de(e,t,r){var n=e[t];if(n){if(!r&&"function"===typeof n)return n;var i=r?n.leave:n.enter;if("function"===typeof i)return i}else{var a=r?e.leave:e.enter;if(a){if("function"===typeof a)return a;var o=a[t];if("function"===typeof o)return o}}}function he(e){return le(e,{leave:pe})}var pe={Name:function(e){return e.value},Variable:function(e){return"$"+e.name},Document:function(e){return ge(e.definitions,"\n\n")+"\n"},OperationDefinition:function(e){var t=e.operation,r=e.name,n=me("(",ge(e.variableDefinitions,", "),")"),i=ge(e.directives," "),a=e.selectionSet;return r||i||n||"query"!==t?ge([t,ge([r,n]),i,a]," "):a},VariableDefinition:function(e){var t=e.variable,r=e.type,n=e.defaultValue,i=e.directives;return t+": "+r+me(" = ",n)+me(" ",ge(i," "))},SelectionSet:function(e){return ye(e.selections)},Field:function(e){var t=e.alias,r=e.name,n=e.arguments,i=e.directives,a=e.selectionSet,o=me("",t,": ")+r,s=o+me("(",ge(n,", "),")");return s.length>80&&(s=o+me("(\n",ve(ge(n,"\n")),"\n)")),ge([s,ge(i," "),a]," ")},Argument:function(e){return e.name+": "+e.value},FragmentSpread:function(e){return"..."+e.name+me(" ",ge(e.directives," "))},InlineFragment:function(e){var t=e.typeCondition,r=e.directives,n=e.selectionSet;return ge(["...",me("on ",t),ge(r," "),n]," ")},FragmentDefinition:function(e){var t=e.name,r=e.typeCondition,n=e.variableDefinitions,i=e.directives,a=e.selectionSet;return"fragment ".concat(t).concat(me("(",ge(n,", "),")")," ")+"on ".concat(r," ").concat(me("",ge(i," ")," "))+a},IntValue:function(e){return e.value},FloatValue:function(e){return e.value},StringValue:function(e,t){var r=e.value;return e.block?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=-1===e.indexOf("\n"),i=" "===e[0]||"\t"===e[0],a='"'===e[e.length-1],o="\\"===e[e.length-1],s=!n||a||o||r,c="";return!s||n&&i||(c+="\n"+t),c+=t?e.replace(/\n/g,"\n"+t):e,s&&(c+="\n"),'"""'+c.replace(/"""/g,'\\"""')+'"""'}(r,"description"===t?"":"  "):JSON.stringify(r)},BooleanValue:function(e){return e.value?"true":"false"},NullValue:function(){return"null"},EnumValue:function(e){return e.value},ListValue:function(e){return"["+ge(e.values,", ")+"]"},ObjectValue:function(e){return"{"+ge(e.fields,", ")+"}"},ObjectField:function(e){return e.name+": "+e.value},Directive:function(e){return"@"+e.name+me("(",ge(e.arguments,", "),")")},NamedType:function(e){return e.name},ListType:function(e){return"["+e.type+"]"},NonNullType:function(e){return e.type+"!"},SchemaDefinition:fe(function(e){var t=e.directives,r=e.operationTypes;return ge(["schema",ge(t," "),ye(r)]," ")}),OperationTypeDefinition:function(e){return e.operation+": "+e.type},ScalarTypeDefinition:fe(function(e){return ge(["scalar",e.name,ge(e.directives," ")]," ")}),ObjectTypeDefinition:fe(function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return ge(["type",t,me("implements ",ge(r," & ")),ge(n," "),ye(i)]," ")}),FieldDefinition:fe(function(e){var t=e.name,r=e.arguments,n=e.type,i=e.directives;return t+(_e(r)?me("(\n",ve(ge(r,"\n")),"\n)"):me("(",ge(r,", "),")"))+": "+n+me(" ",ge(i," "))}),InputValueDefinition:fe(function(e){var t=e.name,r=e.type,n=e.defaultValue,i=e.directives;return ge([t+": "+r,me("= ",n),ge(i," ")]," ")}),InterfaceTypeDefinition:fe(function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return ge(["interface",t,me("implements ",ge(r," & ")),ge(n," "),ye(i)]," ")}),UnionTypeDefinition:fe(function(e){var t=e.name,r=e.directives,n=e.types;return ge(["union",t,ge(r," "),n&&0!==n.length?"= "+ge(n," | "):""]," ")}),EnumTypeDefinition:fe(function(e){var t=e.name,r=e.directives,n=e.values;return ge(["enum",t,ge(r," "),ye(n)]," ")}),EnumValueDefinition:fe(function(e){return ge([e.name,ge(e.directives," ")]," ")}),InputObjectTypeDefinition:fe(function(e){var t=e.name,r=e.directives,n=e.fields;return ge(["input",t,ge(r," "),ye(n)]," ")}),DirectiveDefinition:fe(function(e){var t=e.name,r=e.arguments,n=e.repeatable,i=e.locations;return"directive @"+t+(_e(r)?me("(\n",ve(ge(r,"\n")),"\n)"):me("(",ge(r,", "),")"))+(n?" repeatable":"")+" on "+ge(i," | ")}),SchemaExtension:function(e){var t=e.directives,r=e.operationTypes;return ge(["extend schema",ge(t," "),ye(r)]," ")},ScalarTypeExtension:function(e){return ge(["extend scalar",e.name,ge(e.directives," ")]," ")},ObjectTypeExtension:function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return ge(["extend type",t,me("implements ",ge(r," & ")),ge(n," "),ye(i)]," ")},InterfaceTypeExtension:function(e){var t=e.name,r=e.interfaces,n=e.directives,i=e.fields;return ge(["extend interface",t,me("implements ",ge(r," & ")),ge(n," "),ye(i)]," ")},UnionTypeExtension:function(e){var t=e.name,r=e.directives,n=e.types;return ge(["extend union",t,ge(r," "),n&&0!==n.length?"= "+ge(n," | "):""]," ")},EnumTypeExtension:function(e){var t=e.name,r=e.directives,n=e.values;return ge(["extend enum",t,ge(r," "),ye(n)]," ")},InputObjectTypeExtension:function(e){var t=e.name,r=e.directives,n=e.fields;return ge(["extend input",t,ge(r," "),ye(n)]," ")}};function fe(e){return function(t){return ge([t.description,e(t)],"\n")}}function ge(e){var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return null!==(t=null===e||void 0===e?void 0:e.filter(function(e){return e}).join(r))&&void 0!==t?t:""}function ye(e){return me("{\n",ve(ge(e,"\n")),"\n}")}function me(e,t){return null!=t&&""!==t?e+t+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:""):""}function ve(e){return me("  ",e.replace(/\n/g,"\n  "))}function be(e){return-1!==e.indexOf("\n")}function _e(e){return null!=e&&e.some(be)}function we(e){return xe(e)||Ee(e)||Pe(e)}function xe(e){return e.kind===b.OPERATION_DEFINITION||e.kind===b.FRAGMENT_DEFINITION}function Se(e){return e.kind===b.FIELD||e.kind===b.FRAGMENT_SPREAD||e.kind===b.INLINE_FRAGMENT}function Te(e){return e.kind===b.VARIABLE||e.kind===b.INT||e.kind===b.FLOAT||e.kind===b.STRING||e.kind===b.BOOLEAN||e.kind===b.NULL||e.kind===b.ENUM||e.kind===b.LIST||e.kind===b.OBJECT}function Oe(e){return e.kind===b.NAMED_TYPE||e.kind===b.LIST_TYPE||e.kind===b.NON_NULL_TYPE}function Ee(e){return e.kind===b.SCHEMA_DEFINITION||Ae(e)||e.kind===b.DIRECTIVE_DEFINITION}function Ae(e){return e.kind===b.SCALAR_TYPE_DEFINITION||e.kind===b.OBJECT_TYPE_DEFINITION||e.kind===b.INTERFACE_TYPE_DEFINITION||e.kind===b.UNION_TYPE_DEFINITION||e.kind===b.ENUM_TYPE_DEFINITION||e.kind===b.INPUT_OBJECT_TYPE_DEFINITION}function Pe(e){return e.kind===b.SCHEMA_EXTENSION||Ne(e)}function Ne(e){return e.kind===b.SCALAR_TYPE_EXTENSION||e.kind===b.OBJECT_TYPE_EXTENSION||e.kind===b.INTERFACE_TYPE_EXTENSION||e.kind===b.UNION_TYPE_EXTENSION||e.kind===b.ENUM_TYPE_EXTENSION||e.kind===b.INPUT_OBJECT_TYPE_EXTENSION}},74705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryProcessSequential=void 0;const n=r(9141),i=r(52840),a=r(13953),o=r(7979),s=r(89266),c=r(85160);class l extends n.ActorQueryProcess{constructor(e){super(e)}async test(e){var t;return(null!==(t=e.context.get(i.KeysInitQuery.explain))&&void 0!==t?t:e.context.get(new a.ActionContextKey("explain")))?(0,a.failTest)("".concat(this.name," is not able to explain queries.")):(0,a.passTestVoid)()}async run(e){let{operation:t,context:r}=await this.parse(e.query,e.context);({operation:t,context:r}=await this.optimize(t,r));return{result:await this.evaluate(t,r)}}async parse(e,t){let r;if(t=(await this.mediatorContextPreprocess.mediate({context:t,initialize:!0})).context,"string"===typeof e){const n=(t=t.set(i.KeysInitQuery.queryString,e)).get(i.KeysInitQuery.baseIRI),a=t.get(i.KeysInitQuery.queryFormat),o=await this.mediatorQueryParse.mediate({context:t,query:e,queryFormat:a,baseIRI:n});r=o.operation,o.baseIRI&&(t=t.set(i.KeysInitQuery.baseIRI,o.baseIRI))}else r=e;if(t.has(i.KeysInitQuery.initialBindings)){const e=t.getSafe(i.KeysInitQuery.dataFactory),n=new c.Factory(e),a=await o.BindingsFactory.create(this.mediatorMergeBindingsContext,t,e);r=(0,s.materializeOperation)(r,t.get(i.KeysInitQuery.initialBindings),n,a,{strictTargetVariables:!0}),t=t.delete(i.KeysInitQuery.queryString)}return{operation:r,context:t}}async optimize(e,t){return t=t.set(i.KeysInitQuery.query,e),({operation:e,context:t}=await this.mediatorOptimizeQueryOperation.mediate({context:t,operation:e})),{operation:e,context:t=t.set(i.KeysInitQuery.query,e)}}async evaluate(e,t){const r=await this.mediatorQueryOperation.mediate({context:t,operation:e});return r.context=t,r}}t.ActorQueryProcessSequential=l},74746:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermLang=void 0;const i=r(11716),a=r(97824),o=r(82487);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.LANG],termFunction:!0}))}async run(e){return new o.TermFunctionLang}}t.ActorFunctionFactoryTermLang=s},74920:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV1State=void 0;const n=r(43480),i=r(66948),a={};function o(e,t,r){var n,i;return null!==(n=e.msecs)&&void 0!==n||(e.msecs=-1/0),null!==(i=e.nsecs)&&void 0!==i||(e.nsecs=0),t===e.msecs?(e.nsecs++,e.nsecs>=1e4&&(e.node=void 0,e.nsecs=0)):t>e.msecs?e.nsecs=0:t<e.msecs&&(e.node=void 0),e.node||(e.node=r.slice(10,16),e.node[0]|=1,e.clockseq=16383&(r[8]<<8|r[9])),e.msecs=t,e}function s(e,t,r,n,i,a){let o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0;if(e.length<16)throw new Error("Random bytes length must be >= 16");if(a){if(o<0||o+16>a.length)throw new RangeError("UUID byte range ".concat(o,":").concat(o+15," is out of buffer bounds"))}else a=new Uint8Array(16),o=0;null!==t&&void 0!==t||(t=Date.now()),null!==r&&void 0!==r||(r=0),null!==n&&void 0!==n||(n=16383&(e[8]<<8|e[9])),null!==i&&void 0!==i||(i=e.slice(10,16));const s=(1e4*(268435455&(t+=122192928e5))+r)%4294967296;a[o++]=s>>>24&255,a[o++]=s>>>16&255,a[o++]=s>>>8&255,a[o++]=255&s;const c=t/4294967296*1e4&268435455;a[o++]=c>>>8&255,a[o++]=255&c,a[o++]=c>>>24&15|16,a[o++]=c>>>16&255,a[o++]=n>>>8|128,a[o++]=255&n;for(let l=0;l<6;++l)a[o++]=i[l];return a}t.updateV1State=o,t.default=function(e,t,r){var c,l;let u;const d=null!==(c=null===(l=e)||void 0===l?void 0:l._v6)&&void 0!==c&&c;if(e){const t=Object.keys(e);1===t.length&&"_v6"===t[0]&&(e=void 0)}if(e){var h,p,f,g;u=s(null!==(h=null!==(p=e.random)&&void 0!==p?p:null===(f=(g=e).rng)||void 0===f?void 0:f.call(g))&&void 0!==h?h:(0,n.default)(),e.msecs,e.nsecs,e.clockseq,e.node,t,r)}else{const e=Date.now(),i=(0,n.default)();o(a,e,i),u=s(i,a.msecs,a.nsecs,d?void 0:a.clockseq,d?void 0:a.node,t,r)}return null!==t&&void 0!==t?t:(0,i.unsafeStringify)(u)}},75065:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationSource=void 0;const n=r(52241),i=r(52840),a=r(13953),o=r(66179),s=r(89266),c=r(85160);class l extends n.ActorQueryOperation{constructor(e){super(e)}async test(e){return(0,s.getOperationSource)(e.operation)?(0,a.passTest)({httpRequests:1}):(0,a.failTest)("Actor ".concat(this.name," requires an operation with source annotation."))}async run(e){const t=e.context.get(i.KeysInitQuery.physicalQueryPlanLogger);t&&(t.logOperation(e.operation.type,void 0,e.operation,e.context.get(i.KeysInitQuery.physicalQueryPlanNode),this.name,{}),e.context=e.context.set(i.KeysInitQuery.physicalQueryPlanNode,e.operation));const r=(0,s.getOperationSource)(e.operation),n=r.context?e.context.merge(r.context):e.context;let a=!1;if(c.Util.recurseOperation(e.operation,{construct:()=>(a=!0,!1)}),a){const t=r.source.queryQuads(e.operation,n);return{type:"quads",quadStream:t,metadata:(0,o.getMetadataQuads)(t)}}switch(e.operation.type){case c.Algebra.types.ASK:return{type:"boolean",execute:()=>r.source.queryBoolean(e.operation,n)};case c.Algebra.types.COMPOSITE_UPDATE:case c.Algebra.types.DELETE_INSERT:case c.Algebra.types.LOAD:case c.Algebra.types.CLEAR:case c.Algebra.types.CREATE:case c.Algebra.types.DROP:case c.Algebra.types.ADD:case c.Algebra.types.MOVE:case c.Algebra.types.COPY:return{type:"void",execute:()=>r.source.queryVoid(e.operation,n)}}const l=r.source.queryBindings(e.operation,n);return{type:"bindings",bindingsStream:l,metadata:(0,o.getMetadataBindings)(l)}}}t.ActorQueryOperationSource=l},75078:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathOneOrMore=void 0;const i=r(56840),a=r(52840),o=r(7979),s=r(89266),c=r(72758),l=r(85160);class u extends i.ActorAbstractPath{constructor(e){super(e,l.Algebra.types.ONE_OR_MORE_PATH)}async runOperation(e,t){const r=t.getSafe(a.KeysInitQuery.dataFactory),i=new l.Factory(r),u=await o.BindingsFactory.create(this.mediatorMergeBindingsContext,t,r),d=await this.isPathArbitraryLengthDistinct(i,t,e);if(d.operation)return d.operation;t=d.context;const h=e.predicate;if("Variable"!==e.subject.termType&&"Variable"===e.object.termType){const r=e.object,a=await this.getObjectsPredicateStarEval(e.subject,h.path,r,e.graph,t,!1,i,u),o=("Variable"===e.graph.termType?[r,e.graph]:[r]).map(e=>({variable:e,canBeUndef:!1}));return{type:"bindings",bindingsStream:a.bindingsStream,metadata:async()=>n(n({},await a.metadata()),{},{variables:o})}}if("Variable"===e.subject.termType&&"Variable"===e.object.termType){const r=i.createDistinct(i.createPath(e.subject,e.predicate.path,e.object,e.graph)),a=(0,s.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:t,operation:r})),o=e.subject,l=e.object,d={},p=new c.MultiTransformIterator(a.bindingsStream,{multiTransform:r=>{const n=r.get(o),a=r.get(l),s="Variable"===e.graph.termType?r.get(e.graph):e.graph;return new c.TransformIterator(async()=>{const r=new c.BufferedIterator;return await this.getSubjectAndObjectBindingsPredicateStar(o,l,n,a,h.path,s,t,d,{},r,{count:0},i,u),r.map(t=>("Variable"===e.graph.termType&&(t=t.set(e.graph,s)),t))},{autoStart:!1,maxBufferSize:128})},autoStart:!1}),f=("Variable"===e.graph.termType?[o,l,e.graph]:[o,l]).map(e=>({variable:e,canBeUndef:!1}));return{type:"bindings",bindingsStream:p,metadata:async()=>n(n({},await a.metadata()),{},{variables:f})}}if("Variable"===e.subject.termType&&"Variable"!==e.object.termType)return this.mediatorQueryOperation.mediate({context:t,operation:i.createPath(e.object,i.createOneOrMorePath(i.createInv(h.path)),e.subject,e.graph)});const p=this.generateVariable(r),f=(0,s.getSafeBindings)(await this.mediatorQueryOperation.mediate({context:t,operation:i.createPath(e.subject,h,p,e.graph)}));return{type:"bindings",bindingsStream:f.bindingsStream.map(t=>e.object.equals(t.get(p))?"Variable"===e.graph.termType?u.bindings([[e.graph,t.get(e.graph)]]):u.bindings():null),metadata:async()=>n(n({},await f.metadata()),{},{variables:("Variable"===e.graph.termType?[e.graph]:[]).map(e=>({variable:e,canBeUndef:!1}))})}}}t.ActorQueryOperationPathOneOrMore=u},75339:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(12905);t.default=function(e){if(!(0,n.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},75393:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationOrderBy=void 0;const n=r(52241),i=r(13953),a=r(97824),o=r(89266),s=r(85160),c=r(81350);class l extends n.ActorQueryOperationTypedMediated{constructor(e){var t;super(e,"orderby"),this.window=null!==(t=e.window)&&void 0!==t?t:Number.POSITIVE_INFINITY,this.mediatorExpressionEvaluatorFactory=e.mediatorExpressionEvaluatorFactory,this.mediatorTermComparatorFactory=e.mediatorTermComparatorFactory}async testOperation(){return(0,i.passTestVoid)()}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),n=(0,o.getSafeBindings)(r),i={window:this.window};let{bindingsStream:s}=n;const l=await this.mediatorTermComparatorFactory.mediate({context:t});for(let o=e.expressions.length-1;o>=0;o--){let r=e.expressions[o];const n=this.isAscending(r);r=this.extractSortExpression(r);const u=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:r,context:t}),d=async(e,t,r)=>{try{r({bindings:e,result:await u.evaluate(e)})}catch(n){(0,a.isExpressionError)(n)||s.emit("error",n),r({bindings:e,result:void 0})}t()},h=s.transform({transform:d}),p=new c.SortIterator(h,(e,t)=>{let r=l.orderTypes(e.result,t.result);return n||(r*=-1),r},i);s=p.map(e=>{let{bindings:t}=e;return t})}return{type:"bindings",bindingsStream:s,metadata:n.metadata}}extractSortExpression(e){const{expressionType:t,operator:r}=e;return t!==s.Algebra.expressionTypes.OPERATOR?e:"desc"===r?e.args[0]:e}isAscending(e){const{expressionType:t,operator:r}=e;return t!==s.Algebra.expressionTypes.OPERATOR||"desc"!==r}}t.ActorQueryOperationOrderBy=l},75482:e=>{function t(e,t){if(!e)throw new Error(t||"Assertion failed")}e.exports=t,t.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)}},75587:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},75740:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfUpdateQuadsDestination=t.deskolemize=t.deskolemizeStream=void 0;const i=r(51561),a=r(52840),o=r(13953),s=r(93830);function c(e,t,r){return null===t||void 0===t?void 0:t.map(t=>(0,i.deskolemizeQuad)(e,t,r))}function l(e){var t;const r=e.context.getSafe(a.KeysInitQuery.dataFactory),i=e.context.get(a.KeysRdfUpdateQuads.destination),o=null===(t=e.context.get(a.KeysQuerySourceIdentify.sourceIds))||void 0===t?void 0:t.get(i);return o?n(n({},e),{},{quadStreamInsert:c(r,e.quadStreamInsert,o),quadStreamDelete:c(r,e.quadStreamDelete,o)}):e}t.deskolemizeStream=c,t.deskolemize=l;class u extends s.ActorRdfUpdateQuads{async test(e){return(0,o.passTestVoid)()}async run(e){const t=await this.getDestination(e.context);return await this.getOutput(t,l(e))}async getOutput(e,t){return{execute:async()=>{await e.update({insert:t.quadStreamInsert,delete:t.quadStreamDelete}),await(t.deleteGraphs?e.deleteGraphs(t.deleteGraphs.graphs,t.deleteGraphs.requireExistence,t.deleteGraphs.dropGraphs):Promise.resolve()),await(t.createGraphs?e.createGraphs(t.createGraphs.graphs,t.createGraphs.requireNonExistence):Promise.resolve())}}}}t.ActorRdfUpdateQuadsDestination=u},75811:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(82868),t)},75871:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(53442),t)},75918:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryDedicated=void 0;const n=r(13953),i=r(63091);class a extends i.ActorFunctionFactory{constructor(e){super(e)}async test(e){return!this.functionNames.includes(e.functionName)||!this.termFunction&&e.requireTermExpression?(0,n.failTest)("Actor ".concat(this.name,' can not provide implementation for "').concat(e.functionName,'", only for ').concat(this.termFunction?"":"non-termExpression ").concat(this.functionNames.join(" and "),".")):(0,n.passTestVoid)()}}t.ActorFunctionFactoryDedicated=a},76019:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(56931),t)},76128:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6281),t)},76759:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryResultSerializeSparqlCsv=void 0;const n=r(16746),i=r(13953),a=r(94051);class o extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}static bindingToCsvBindings(e){if(!e)return"";let t=e.value;if("Literal"===e.termType)t="".concat(t);else if("BlankNode"===e.termType)t="_:".concat(t);else if("Quad"===e.termType){let r=o.bindingToCsvBindings(e.object);"Literal"===e.object.termType&&(r='"'.concat(r.replaceAll('"','""'),'"')),t="<< ".concat(o.bindingToCsvBindings(e.subject)," ").concat(o.bindingToCsvBindings(e.predicate)," ").concat(r," >>")}else t="<".concat(t,">");return/[\n\r",]/.test(t)&&(t='"'.concat(t.replaceAll('"','""'),'"')),t}async testHandleChecked(e,t){return"bindings"!==e.type?(0,i.failTest)("This actor can only handle bindings streams."):(0,i.passTestVoid)()}async runHandle(e,t,r){const n=e,i=new a.Readable,s=await n.metadata();return i.push("".concat(s.variables.map(e=>e.variable.value).join(","),"\r\n")),i.wrap(n.bindingsStream.map(e=>"".concat(s.variables.map(t=>o.bindingToCsvBindings(e.get(t.variable))).join(","),"\r\n"))),{data:i}}}t.ActorQueryResultSerializeSparqlCsv=o},76878:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(75393),t)},76915:e=>{"use strict";var t=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,r=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,n=/\s|\uFEFF|\xA0/,i=/\r?\n[\x20\x09]+/g,a=/[;,"]/,o=/[;,"]|\s/,s=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,c=1,l=2,u=4;function d(e){return e.replace(r,"")}function h(e){return n.test(e)}function p(e,t){for(;h(e[t]);)t++;return t}function f(e){return o.test(e)||!s.test(e)}class g{constructor(e){this.refs=[],e&&this.parse(e)}rel(e){for(var t=[],r=e.toLowerCase(),n=0;n<this.refs.length;n++)"string"===typeof this.refs[n].rel&&this.refs[n].rel.toLowerCase()===r&&t.push(this.refs[n]);return t}get(e,t){e=e.toLowerCase(),t=t.toLowerCase();for(var r=[],n=0;n<this.refs.length;n++)"string"===typeof this.refs[n][e]&&this.refs[n][e].toLowerCase()===t&&r.push(this.refs[n]);return r}set(e){return this.refs.push(e),this}setUnique(e){return this.refs.some(t=>{return r=t,n=e,Object.keys(r).length===Object.keys(n).length&&Object.keys(r).every(e=>e in n&&r[e]===n[e]);var r,n})||this.refs.push(e),this}has(e,t){e=e.toLowerCase(),t=t.toLowerCase();for(var r=0;r<this.refs.length;r++)if("string"===typeof this.refs[r][e]&&this.refs[r][e].toLowerCase()===t)return!0;return!1}parse(e,t){e=d(e=(t=t||0)?e.slice(t):e).replace(i,"");for(var r=c,n=e.length,o=(t=0,null);t<n;)if(r===c){if(h(e[t])){t++;continue}if("<"!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);if(null!=o&&(null!=o.rel?this.refs.push(...g.expandRelations(o)):this.refs.push(o)),-1===(y=e.indexOf(">",t)))throw new Error("Expected end of URI delimiter at offset "+t);o={uri:e.slice(t+1,y)},t=y,r=l,t++}else if(r===l){if(h(e[t])){t++;continue}if(";"===e[t])r=u,t++;else{if(","!==e[t])throw new Error('Unexpected character "'+e[t]+'" at offset '+t);r=c,t++}}else{if(r!==u)throw new Error('Unknown parser state "'+r+'"');if(";"===e[t]||h(e[t])){t++;continue}-1===(y=e.indexOf("=",t))&&(y=e.indexOf(";",t)),-1===y&&(y=e.length);var s=d(e.slice(t,y)).toLowerCase(),f="";if('"'===e[t=p(e,t=y+1)])for(t++;t<n;){if('"'===e[t]){t++;break}"\\"===e[t]&&t++,f+=e[t],t++}else{for(var y=t+1;!a.test(e[y])&&y<n;)y++;f=e.slice(t,y),t=y}switch(o[s]&&g.isSingleOccurenceAttr(s)||("*"===s[s.length-1]?o[s]=g.parseExtendedValue(f):(f="type"===s?f.toLowerCase():f,null!=o[s]?Array.isArray(o[s])?o[s].push(f):o[s]=[o[s],f]:o[s]=f)),e[t]){case",":r=c;break;case";":r=u}t++}return null!=o&&(null!=o.rel?this.refs.push(...g.expandRelations(o)):this.refs.push(o)),o=null,this}toString(){for(var e=[],t="",r=null,n=0;n<this.refs.length;n++)r=this.refs[n],t=Object.keys(this.refs[n]).reduce(function(e,t){return"uri"===t?e:e+"; "+g.formatAttribute(t,r[t])},"<"+r.uri+">"),e.push(t);return e.join(", ")}}g.isCompatibleEncoding=function(e){return t.test(e)},g.parse=function(e,t){return(new g).parse(e,t)},g.isSingleOccurenceAttr=function(e){return"rel"===e||"type"===e||"media"===e||"title"===e||"title*"===e},g.isTokenAttr=function(e){return"rel"===e||"type"===e||"anchor"===e},g.escapeQuotes=function(e){return e.replace(/"/g,'\\"')},g.expandRelations=function(e){return e.rel.split(" ").map(function(t){var r=Object.assign({},e);return r.rel=t,r})},g.parseExtendedValue=function(e){var t=/([^']+)?(?:'([^']*)')?(.+)/.exec(e);return{language:t[2].toLowerCase(),encoding:g.isCompatibleEncoding(t[1])?null:t[1].toLowerCase(),value:g.isCompatibleEncoding(t[1])?decodeURIComponent(t[3]):t[3]}},g.formatExtendedAttribute=function(e,t){var r=(t.encoding||"utf-8").toUpperCase();return e+"="+r+"'"+(t.language||"en")+"'"+(Buffer.isBuffer(t.value)&&g.isCompatibleEncoding(r)?t.value.toString(r):Buffer.isBuffer(t.value)?t.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(t.value))},g.formatAttribute=function(e,t){return Array.isArray(t)?t.map(t=>g.formatAttribute(e,t)).join("; "):"*"===e[e.length-1]||"string"!==typeof t?g.formatExtendedAttribute(e,t):(g.isTokenAttr(e)?t=f(t)?'"'+g.escapeQuotes(t)+'"':g.escapeQuotes(t):f(t)&&(t='"'+(t=(t=encodeURIComponent(t)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),e+"="+t)},e.exports=g},77226:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.BusQueryOperation=void 0;const i=r(13953);class a extends i.BusIndexed{constructor(e){super(n(n({},e),{},{actorIdentifierFields:["operationName"],actionIdentifierFields:["operation","type"]}))}}t.BusQueryOperation=a},77301:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(30336),i=r(92566),a=r(34498);t.default=function(e,t,r){var o,s,c,l;if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const u=null!==(o=null!==(s=(e=e||{}).random)&&void 0!==s?s:null===(c=(l=e).rng)||void 0===c?void 0:c.call(l))&&void 0!==o?o:(0,i.default)();if(u.length<16)throw new Error("Random bytes length must be >= 16");if(u[6]=15&u[6]|64,u[8]=63&u[8]|128,t){if((r=r||0)<0||r+16>t.length)throw new RangeError("UUID byte range ".concat(r,":").concat(r+15," is out of buffer bounds"));for(let e=0;e<16;++e)t[r+e]=u[e];return t}return(0,a.unsafeStringify)(u)}},77315:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},77350:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryExpressionBound=void 0;const i=r(11716),a=r(97824),o=r(9261);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.BOUND],termFunction:!1}))}async run(e){return new o.ExpressionFunctionBound}}t.ActorFunctionFactoryExpressionBound=s},77353:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorContextPreprocess=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e)}}t.ActorContextPreprocess=i},77378:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(8174),t)},77405:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(65793),t),i(r(59709),t)},77460:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(82620),t)},77472:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(90312),t)},77621:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionMd5=void 0;const n=r(11716),i=r(97824),a=r(94908);class o extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.MD5,overloads:(0,i.declare)(i.SparqlOperator.MD5).onString1Typed(()=>e=>(0,i.string)((0,a.hash)(e))).collect()})}}t.TermFunctionMd5=o},77672:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionBase=t.ExpressionFunctionBase=void 0;const n=r(52840),i=r(97824);class a{constructor(e){let{arity:t,operator:r,apply:n}=e;this.arity=t,this.operator=r,this.apply=n}checkArity(e){return Array.isArray(this.arity)?this.arity.includes(e.length):this.arity===Number.POSITIVE_INFINITY||e.length===this.arity}}t.ExpressionFunctionBase=a;t.TermFunctionBase=class extends a{constructor(e){let{arity:t,operator:r,overloads:n}=e;super({arity:t,operator:r,apply:async e=>{let{args:t,exprEval:r,mapping:n}=e;return this.applyOnTerms(await Promise.all(t.map(e=>r.evaluatorExpressionEvaluation(e,n))),r)}}),this.supportsTermExpressions=!0,this.overloads=n}applyOnTerms(e,t){var r;return(null!==(r=this.overloads.search(e,t.context.getSafe(n.KeysExpressionEvaluator.superTypeProvider),t.context.getSafe(n.KeysInitQuery.functionArgumentsCache)))&&void 0!==r?r:this.handleInvalidTypes(e))(t)(e)}handleInvalidTypes(e){throw new i.InvalidArgumentTypes(e,this.operator)}}},77736:(e,t,r)=>{var n=r(73738).default,i=r(89045);e.exports=function(e){var t=i(e,"string");return"symbol"==n(t)?t:t+""},e.exports.__esModule=!0,e.exports.default=e.exports},77987:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfSerializeJsonLd=void 0;const n=r(5230),i=r(45610);class a extends n.ActorRdfSerializeFixedMediaTypes{constructor(e){super(e)}async runHandle(e,t,r){const n=new i.JsonLdSerializer({space:" ".repeat(this.jsonStringifyIndentSpaces)});let a;return"pipe"in e.quadStream?(e.quadStream.on("error",e=>n.emit("error",e)),a=e.quadStream.pipe(n)):a=n.import(e.quadStream),{data:a}}}t.ActorRdfSerializeJsonLd=a},78104:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryProcessExplainLogical=void 0;const n=r(9141),i=r(52840),a=r(13953);class o extends n.ActorQueryProcess{constructor(e){super(e)}async test(e){var t;return"logical"!==(null!==(t=e.context.get(i.KeysInitQuery.explain))&&void 0!==t?t:e.context.get(new a.ActionContextKey("explain")))?(0,a.failTest)("".concat(this.name," can only explain in 'logical' mode.")):(0,a.passTestVoid)()}async run(e){let{operation:t,context:r}=await this.queryProcessor.parse(e.query,e.context);return({operation:t,context:r}=await this.queryProcessor.optimize(t,r)),{result:{explain:!0,type:"logical",data:t}}}}t.ActorQueryProcessExplainLogical=o},78374:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.MediatedLinkedRdfSourcesAsyncRdfIterator=void 0;const i=r(52840),a=r(5359);class o extends a.LinkedRdfSourcesAsyncRdfIterator{constructor(e,t,r,n,i,a,o,s,c,l,u,d,h,p){super(e,t,r,n,a,o,s,c?{maxBufferSize:Number.POSITIVE_INFINITY}:void 0),this.wasForcefullyClosed=!1,this.forceSourceType=i,this.mediatorMetadataAccumulate=l,this.mediatorRdfResolveHypermediaLinks=u,this.mediatorRdfResolveHypermediaLinksQueue=d,this.handledUrls={[a]:!0},this.aggregatedStore=c,this.dataFactory=h,this.algebraFactory=p}close(){this.aggregatedStore?this.getLinkQueue().then(e=>{this.isCloseable(e,!1)?(this.aggregatedStore&&setTimeout(()=>this.aggregatedStore.end()),super.close()):this.wasForcefullyClosed=!0}).catch(e=>super.destroy(e)):super.close()}destroy(e){this.aggregatedStore?this.getLinkQueue().then(t=>{(null!==e&&void 0!==e?e:this.isCloseable(t,!1))?(this.aggregatedStore&&setTimeout(()=>this.aggregatedStore.end()),super.destroy(e)):this.wasForcefullyClosed=!0}).catch(e=>super.destroy(e)):super.destroy(e)}isCloseable(e,t){return(t?e.isEmpty():this.wasForcefullyClosed||e.isEmpty())&&!this.areIteratorsRunning()}canStartNewIterator(){return!this.wasForcefullyClosed&&this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||super.canStartNewIterator()}canStartNewIteratorConsiderReadable(){return!this.aggregatedStore}isRunning(){return this.aggregatedStore&&this.aggregatedStore.hasRunningIterators()||!this.done}getLinkQueue(){return this.linkQueue||(this.linkQueue=this.mediatorRdfResolveHypermediaLinksQueue.mediate({firstUrl:this.firstUrl,context:this.context}).then(e=>e.linkQueue)),this.linkQueue}async getSourceLinks(e,t){try{const{links:r}=await this.mediatorRdfResolveHypermediaLinks.mediate({context:this.context,metadata:e}),a=this.context.get(i.KeysStatistics.discoveredLinks);if(a)for(const e of r)a.updateStatistic({url:e.url,metadata:n({},e.metadata)},t.link);return r.filter(e=>!this.handledUrls[e.url]&&(this.handledUrls[e.url]=!0,!0))}catch(r){return[]}}startIterator(e){if(this.aggregatedStore&&!this.aggregatedStore.containedSources.has(e.link.url)){var t;null===(t=this.aggregatedStore)||void 0===t||t.containedSources.add(e.link.url);const r=e.source.queryBindings(this.algebraFactory.createPattern(this.dataFactory.variable("s"),this.dataFactory.variable("p"),this.dataFactory.variable("o"),this.dataFactory.variable("g")),this.context.set(i.KeysQueryOperation.unionDefaultGraph,!0)).map(e=>this.dataFactory.quad(e.get("s"),e.get("p"),e.get("o"),e.get("g")));this.aggregatedStore.import(r).on("end",()=>{super.startIterator(e)})}else super.startIterator(e)}async accumulateMetadata(e,t){return(await this.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:e,appendingMetadata:t,context:this.context})).metadata}updateMetadata(e){var t;super.updateMetadata(e),null===(t=this.aggregatedStore)||void 0===t||t.setBaseMetadata(e,!0)}}t.MediatedLinkedRdfSourcesAsyncRdfIterator=o},78381:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(37067),t)},78528:(e,t,r)=>{"use strict";const{SymbolDispose:n}=r(28931),{AbortError:i,codes:a}=r(60056),{isNodeStream:o,isWebStream:s,kControllerErrorFunction:c}=r(60782),l=r(20227),{ERR_INVALID_ARG_TYPE:u}=a;let d;e.exports.addAbortSignal=function(t,r){if(((e,t)=>{if("object"!==typeof e||!("aborted"in e))throw new u(t,"AbortSignal",e)})(t,"signal"),!o(r)&&!s(r))throw new u("stream",["ReadableStream","WritableStream","Stream"],r);return e.exports.addAbortSignalNoValidate(t,r)},e.exports.addAbortSignalNoValidate=function(e,t){if("object"!==typeof e||!("aborted"in e))return t;const a=o(t)?()=>{t.destroy(new i(void 0,{cause:e.reason}))}:()=>{t[c](new i(void 0,{cause:e.reason}))};if(e.aborted)a();else{d=d||r(91887).addAbortListener;const i=d(e,a);l(t,i[n])}return t}},78655:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperationJoinBgp=void 0;const n=r(49065),i=r(52840),a=r(13953),o=r(85160);class s extends n.ActorOptimizeQueryOperation{async test(e){return(0,a.passTestVoid)()}async run(e){const t=e.context.getSafe(i.KeysInitQuery.dataFactory),r=new o.Factory(t);return{operation:o.Util.mapOperation(e.operation,{join:(e,t)=>e.input.every(e=>"bgp"===e.type)?{recurse:!1,result:t.createBgp(e.input.flatMap(e=>e.patterns))}:{recurse:!1,result:e}},r),context:e.context}}}t.ActorOptimizeQueryOperationJoinBgp=s},78694:(e,t,r)=>{"use strict";var n=r(59966).Buffer,i=n.isEncoding||function(e){switch((e=""+e)&&e.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function a(e){var t;switch(this.encoding=function(e){var t=function(e){if(!e)return"utf8";for(var t;;)switch(e){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return e;default:if(t)return;e=(""+e).toLowerCase(),t=!0}}(e);if("string"!==typeof t&&(n.isEncoding===i||!i(e)))throw new Error("Unknown encoding: "+e);return t||e}(e),this.encoding){case"utf16le":this.text=c,this.end=l,t=4;break;case"utf8":this.fillLast=s,t=4;break;case"base64":this.text=u,this.end=d,t=3;break;default:return this.write=h,void(this.end=p)}this.lastNeed=0,this.lastTotal=0,this.lastChar=n.allocUnsafe(t)}function o(e){return e<=127?0:e>>5===6?2:e>>4===14?3:e>>3===30?4:e>>6===2?-1:-2}function s(e){var t=this.lastTotal-this.lastNeed,r=function(e,t){if(128!==(192&t[0]))return e.lastNeed=0,"\ufffd";if(e.lastNeed>1&&t.length>1){if(128!==(192&t[1]))return e.lastNeed=1,"\ufffd";if(e.lastNeed>2&&t.length>2&&128!==(192&t[2]))return e.lastNeed=2,"\ufffd"}}(this,e);return void 0!==r?r:this.lastNeed<=e.length?(e.copy(this.lastChar,t,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(e.copy(this.lastChar,t,0,e.length),void(this.lastNeed-=e.length))}function c(e,t){if((e.length-t)%2===0){var r=e.toString("utf16le",t);if(r){var n=r.charCodeAt(r.length-1);if(n>=55296&&n<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=e[e.length-1],e.toString("utf16le",t,e.length-1)}function l(e){var t=e&&e.length?this.write(e):"";if(this.lastNeed){var r=this.lastTotal-this.lastNeed;return t+this.lastChar.toString("utf16le",0,r)}return t}function u(e,t){var r=(e.length-t)%3;return 0===r?e.toString("base64",t):(this.lastNeed=3-r,this.lastTotal=3,1===r?this.lastChar[0]=e[e.length-1]:(this.lastChar[0]=e[e.length-2],this.lastChar[1]=e[e.length-1]),e.toString("base64",t,e.length-r))}function d(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+this.lastChar.toString("base64",0,3-this.lastNeed):t}function h(e){return e.toString(this.encoding)}function p(e){return e&&e.length?this.write(e):""}t.StringDecoder=a,a.prototype.write=function(e){if(0===e.length)return"";var t,r;if(this.lastNeed){if(void 0===(t=this.fillLast(e)))return"";r=this.lastNeed,this.lastNeed=0}else r=0;return r<e.length?t?t+this.text(e,r):this.text(e,r):t||""},a.prototype.end=function(e){var t=e&&e.length?this.write(e):"";return this.lastNeed?t+"\ufffd":t},a.prototype.text=function(e,t){var r=function(e,t,r){var n=t.length-1;if(n<r)return 0;var i=o(t[n]);if(i>=0)return i>0&&(e.lastNeed=i-1),i;if(--n<r||-2===i)return 0;if(i=o(t[n]),i>=0)return i>0&&(e.lastNeed=i-2),i;if(--n<r||-2===i)return 0;if(i=o(t[n]),i>=0)return i>0&&(2===i?i=0:e.lastNeed=i-3),i;return 0}(this,e,t);if(!this.lastNeed)return e.toString("utf8",t);this.lastTotal=r;var n=e.length-(r-this.lastNeed);return e.copy(this.lastChar,0,n),e.toString("utf8",t,n)},a.prototype.fillLast=function(e){if(this.lastNeed<=e.length)return e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);e.copy(this.lastChar,this.lastTotal-this.lastNeed,0,e.length),this.lastNeed-=e.length}},78699:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(80520),t)},78707:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0});const i=r(34498),a=r(1194),o=r(81859);t.default=function(e,t,r){null!==e&&void 0!==e||(e={}),null!==r&&void 0!==r||(r=0);let s=(0,a.default)(n(n({},e),{},{_v6:!0}),new Uint8Array(16));if(s=(0,o.default)(s),t){for(let e=0;e<16;e++)t[r+e]=s[e];return t}return(0,i.unsafeStringify)(s)}},78818:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(9657),t)},78853:(e,t,r)=>{"use strict";e.exports=r(5896)},79169:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(19632),t)},79182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionLesserThan=void 0;const n=r(11716),i=r(52840),a=r(97824);class o extends n.TermFunctionBase{constructor(e){super({arity:2,operator:a.SparqlOperator.LT,overloads:(0,a.declare)(a.SparqlOperator.LT).numberTest(()=>(e,t)=>e<t).stringTest(()=>(e,t)=>-1===e.localeCompare(t)).booleanTest(()=>(e,t)=>e<t).dateTimeTest(e=>(t,r)=>(0,a.toUTCDate)(t,e.context.getSafe(i.KeysExpressionEvaluator.defaultTimeZone)).getTime()<(0,a.toUTCDate)(r,e.context.getSafe(i.KeysExpressionEvaluator.defaultTimeZone)).getTime()).copy({from:[a.TypeURL.XSD_DATE_TIME,a.TypeURL.XSD_DATE_TIME],to:[a.TypeURL.XSD_DATE,a.TypeURL.XSD_DATE]}).set([a.TypeURL.XSD_YEAR_MONTH_DURATION,a.TypeURL.XSD_YEAR_MONTH_DURATION],()=>e=>{let[t,r]=e;return(0,a.bool)((0,a.yearMonthDurationsToMonths)((0,a.defaultedYearMonthDurationRepresentation)(t.typedValue))<(0,a.yearMonthDurationsToMonths)((0,a.defaultedYearMonthDurationRepresentation)(r.typedValue)))}).set([a.TypeURL.XSD_DAY_TIME_DURATION,a.TypeURL.XSD_DAY_TIME_DURATION],()=>e=>{let[t,r]=e;return(0,a.bool)((0,a.dayTimeDurationsToSeconds)((0,a.defaultedDayTimeDurationRepresentation)(t.typedValue))<(0,a.dayTimeDurationsToSeconds)((0,a.defaultedDayTimeDurationRepresentation)(r.typedValue)))}).set([a.TypeURL.XSD_TIME,a.TypeURL.XSD_TIME],e=>t=>{let[r,n]=t;return(0,a.bool)((0,a.toUTCDate)((0,a.defaultedDateTimeRepresentation)(r.typedValue),e.context.getSafe(i.KeysExpressionEvaluator.defaultTimeZone)).getTime()<(0,a.toUTCDate)((0,a.defaultedDateTimeRepresentation)(n.typedValue),e.context.getSafe(i.KeysExpressionEvaluator.defaultTimeZone)).getTime())}).set(["quad","quad"],e=>t=>{var r;let[n,i]=t;const o=this.quadComponentTest(n.subject,i.subject,e);if(void 0!==o)return(0,a.bool)(o);const s=this.quadComponentTest(n.predicate,i.predicate,e);if(void 0!==s)return(0,a.bool)(s);const c=this.quadComponentTest(n.object,i.object,e);return void 0!==c?(0,a.bool)(c):(0,a.bool)(null!==(r=this.quadComponentTest(n.graph,i.graph,e))&&void 0!==r&&r)},!1).collect()}),this.equalityFunction=e}quadComponentTest(e,t,r){if(this.equalityFunction.applyOnTerms([e,t],r).typedValue)return;return this.applyOnTerms([e,t],r).typedValue}}t.TermFunctionLesserThan=o},79254:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.stringQuadToQuad=t.quadToStringQuad=t.stringToTerm=t.getLiteralLanguage=t.getLiteralType=t.getLiteralValue=t.termToString=void 0;const n=new(r(92832).DataFactory);function i(e){if(e)switch(e.termType){case"NamedNode":case"DefaultGraph":return e.value;case"BlankNode":return"_:"+e.value;case"Literal":const t=e;return'"'+t.value+'"'+(t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==t.datatype.value?"^^"+t.datatype.value:"")+(t.language?"@"+t.language:"");case"Quad":return"<<".concat(i(e.subject)," ").concat(i(e.predicate)," ").concat(i(e.object)).concat("DefaultGraph"===e.graph.termType?"":" "+i(e.graph),">>");case"Variable":return"?"+e.value}}function a(e){const t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]}function o(e){const t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function s(e){const t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]?t[1].toLowerCase():""}function c(e,t){if(t=t||n,!e||!e.length)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":if(!t.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return t.variable(e.substr(1));case'"':const r=s(e),n=t.namedNode(o(e));return t.literal(a(e),r||n);default:if("<"===e[0]&&e.length>4&&"<"===e[1]&&">"===e[e.length-1]&&">"===e[e.length-2]){const r=e.slice(2,-2).trim();let n=[],i=0,a=0,o=!1;for(let t=0;t<r.length;t++){const s=r[t];if("<"===s&&i++,">"===s){if(0===i)throw new Error("Found closing tag without opening tag in "+e);i--}if('"'===s){let e=!1,n=t;for(;n-- >0&&"\\"===r[n];)e=!e;e||(o=!o)}if(" "===s&&!o&&0===i){for(n.push(r.slice(a,t));" "===r[t+1];)t+=1;a=t+1}}if(0!==i)throw new Error("Found opening tag without closing tag in "+e);if(n.push(r.slice(a,r.length)),3!==n.length&&4!==n.length)throw new Error("Nested quad syntax error "+e);return n=n.map(e=>e.startsWith("<")&&!e.includes(" ")?e.slice(1,-1):e),t.quad(c(n[0]),c(n[1]),c(n[2]),n[3]?c(n[3]):void 0)}return t.namedNode(e)}}t.termToString=i,t.getLiteralValue=a,t.getLiteralType=o,t.getLiteralLanguage=s,t.stringToTerm=c,t.quadToStringQuad=function(e){return{subject:i(e.subject),predicate:i(e.predicate),object:i(e.object),graph:i(e.graph)}},t.stringQuadToQuad=function(e,t){return(t=t||n).quad(c(e.subject,t),c(e.predicate,t),c(e.object,t),c(e.graph,t))}},79370:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(51657),t)},79411:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionTriple=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:3,operator:i.SparqlOperator.TRIPLE,overloads:(0,i.declare)(i.SparqlOperator.TRIPLE).onTerm3(e=>function(){return new i.Quad(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2],new i.DefaultGraph)}).collect()})}}t.TermFunctionTriple=a},79632:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathInv=void 0;const n=r(56840),i=r(52840),a=r(85160);class o extends n.ActorAbstractPath{constructor(e){super(e,a.Algebra.types.INV)}async runOperation(e,t){const r=t.getSafe(i.KeysInitQuery.dataFactory),n=new a.Factory(r),o=e.predicate,s=n.createPath(e.object,o.path,e.subject,e.graph);return this.mediatorQueryOperation.mediate({operation:s,context:t})}}t.ActorQueryOperationPathInv=o},79648:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(63172),t)},80021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionLcase=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.LCASE,overloads:(0,i.declare)(i.SparqlOperator.LCASE).onString1Typed(()=>e=>(0,i.string)(e.toLowerCase())).onLangString1(()=>e=>(0,i.langString)(e.typedValue.toLowerCase(),e.language)).collect()})}}t.TermFunctionLcase=a},80148:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(67017),t)},80174:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(87911),t)},80305:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(19435),t),i(r(59683),t),i(r(37294),t),i(r(12410),t),i(r(13492),t),i(r(70706),t),i(r(60913),t)},80337:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorBindingsAggregatorFactoryGroupConcat=void 0;const n=r(85830),i=r(52840),a=r(13953),o=r(55852);class s extends n.ActorBindingsAggregatorFactory{constructor(e){super(e)}async test(e){return"group_concat"!==e.expr.aggregator?(0,a.failTest)("This actor only supports the 'group_concat' aggregator."):(0,a.passTestVoid)()}async run(e){let{context:t,expr:r}=e;return new o.GroupConcatAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:r.expression,context:t}),r.distinct,t.getSafe(i.KeysInitQuery.dataFactory),r.separator)}}t.ActorBindingsAggregatorFactoryGroupConcat=s},80480:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermXsdToYearMonthDuration=void 0;const i=r(11716),a=r(97824),o=r(24349);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.TypeURL.XSD_YEAR_MONTH_DURATION],termFunction:!0}))}async run(e){return new o.TermFunctionXsdToYearMonthDuration}}t.ActorFunctionFactoryTermXsdToYearMonthDuration=s},80520:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinOptionalHash=void 0;const n=r(1140),i=r(13953),a=r(7979),o=r(11745),s=r(82956),c=r(72758),l=r(45494);class u extends n.ActorRdfJoin{constructor(e){super(e,{logicalType:"optional",physicalName:"hash-".concat(e.canHandleUndefs?"undef":"def","-").concat(e.blocking?"blocking":"nonblocking"),limitEntries:2,canHandleUndefs:e.canHandleUndefs,requiresVariableOverlap:!0})}static constructIndex(e,t){return e?new o.BindingsIndexUndef(t,e=>e&&"Variable"!==e.termType?(0,l.termToString)(e):"",!0):new o.BindingsIndexDef(t,a.bindingsToCompactString)}async getOutput(e){const t=e.entries[1].output,r=e.entries[0].output,i=await n.ActorRdfJoin.getMetadatas(e.entries),a=n.ActorRdfJoin.overlappingVariables(i);let o;return o=this.blocking?new s.ClosableTransformIterator(async()=>{const e=u.constructIndex(this.canHandleUndefs,a);return await new Promise(r=>{t.bindingsStream.on("data",t=>{var r;(null!==(r=e.getFirst(t,!0))&&void 0!==r?r:e.put(t,[])).push(t)}),t.bindingsStream.on("end",r),t.bindingsStream.on("error",e=>{o.emit("error",e)})}),new c.MultiTransformIterator(r.bindingsStream,{multiTransform:t=>new c.ArrayIterator(e.get(t).flat().map(e=>n.ActorRdfJoin.joinBindings(t,e)).filter(e=>null!==e),{autoStart:!1}),optional:!0,autoStart:!1})},{autoStart:!1,onClose(){t.bindingsStream.destroy(),r.bindingsStream.destroy()}}):new s.ClosableTransformIterator(async()=>{const e=u.constructIndex(this.canHandleUndefs,a);let i=!0;return t.bindingsStream.on("data",t=>{var r;(null!==(r=e.getFirst(t,!0))&&void 0!==r?r:e.put(t,new c.BufferedIterator({autoStart:!1})))._push(t)}),t.bindingsStream.on("end",()=>{for(const t of e.values())t.close();i=!1}),t.bindingsStream.on("error",e=>{o.emit("error",e)}),new c.MultiTransformIterator(r.bindingsStream,{multiTransform:t=>{let r=e.get(t);0===r.length&&(r=i?[e.put(t,new c.BufferedIterator({autoStart:!1}))]:[]);return new c.UnionIterator(r.map(e=>e.clone()),{autoStart:!1}).map(e=>n.ActorRdfJoin.joinBindings(t,e))},optional:!0,autoStart:!1})},{autoStart:!1,onClose(){t.bindingsStream.destroy(),r.bindingsStream.destroy()}}),{result:{type:"bindings",bindingsStream:o,metadata:async()=>await this.constructResultMetadata(e.entries,i,e.context,{},!0)}}}async getJoinCoefficients(e,t){const{metadatas:r}=t,a=n.ActorRdfJoin.getRequestInitialTimes(r),o=n.ActorRdfJoin.getRequestItemTimes(r);let s=r[0].cardinality.value+r[1].cardinality.value;return this.canHandleUndefs||(s*=.8),this.blocking&&(s*=.9),(0,i.passTestWithSideData)({iterations:s,persistedItems:r[0].cardinality.value,blockingItems:this.blocking?r[0].cardinality.value:0,requestTime:a[0]+r[0].cardinality.value*o[0]+a[1]+r[1].cardinality.value*o[1]},t)}}t.ActorRdfJoinOptionalHash=u},80558:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(38769),t)},80705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.termToString=i,t.getLiteralValue=a,t.getLiteralType=o,t.getLiteralLanguage=s,t.getLiteralDirection=c,t.stringToTerm=l,t.quadToStringQuad=function(e){return{subject:i(e.subject),predicate:i(e.predicate),object:i(e.object),graph:i(e.graph)}},t.stringQuadToQuad=function(e,t){return(t=t||n).quad(l(e.subject,t),l(e.predicate,t),l(e.object,t),l(e.graph,t))};const n=new(r(80305).DataFactory);function i(e){if(e)switch(e.termType){case"NamedNode":case"DefaultGraph":return e.value;case"BlankNode":return"_:"+e.value;case"Literal":const t=e;return'"'+t.value+'"'+(t.datatype&&"http://www.w3.org/2001/XMLSchema#string"!==t.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"!==t.datatype.value&&"http://www.w3.org/1999/02/22-rdf-syntax-ns#dirLangString"!==t.datatype.value?"^^"+t.datatype.value:"")+(t.language?"@"+t.language:"")+(t.direction?"--"+t.direction:"");case"Quad":return"<<".concat(i(e.subject)," ").concat(i(e.predicate)," ").concat(i(e.object)).concat("DefaultGraph"===e.graph.termType?"":" "+i(e.graph),">>");case"Variable":return"?"+e.value}}function a(e){const t=/^"([^]*)"/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]}function o(e){const t=/^"[^]*"(?:\^\^([^"]+)|(@)[^@"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");return t[1]||(t[2]?"http://www.w3.org/1999/02/22-rdf-syntax-ns#langString":"http://www.w3.org/2001/XMLSchema#string")}function s(e){const t=/^"[^]*"(?:@([^@"]+)|\^\^[^"]+)?$/.exec(e);if(!t)throw new Error(e+" is not a literal");if(t[1]){let e=t[1].toLowerCase();const r=e.indexOf("--");return r>=0&&(e=e.slice(0,r)),e}return""}function c(e){const t=e.indexOf("--",e.lastIndexOf('"'));if(t>=0){const r=e.slice(t+2,e.length);if("ltr"===r||"rtl"===r)return r;throw new Error(e+" is not a literal with a valid direction")}return""}function l(e,t){if(t=t||n,!e||!e.length)return t.defaultGraph();switch(e[0]){case"_":return t.blankNode(e.substr(2));case"?":if(!t.variable)throw new Error("Missing 'variable()' method on the given DataFactory");return t.variable(e.substr(1));case'"':const r=s(e),n=c(e),i=t.namedNode(o(e));return t.literal(a(e),r?{language:r,direction:n}:i);default:if("<"===e[0]&&e.length>4&&"<"===e[1]&&">"===e[e.length-1]&&">"===e[e.length-2]){const r=e.slice(2,-2).trim();let n=[],i=0,a=0,o=!1;for(let t=0;t<r.length;t++){const s=r[t];if("<"===s&&i++,">"===s){if(0===i)throw new Error("Found closing tag without opening tag in "+e);i--}if('"'===s){let e=!1,n=t;for(;n-- >0&&"\\"===r[n];)e=!e;e||(o=!o)}if(" "===s&&!o&&0===i){for(n.push(r.slice(a,t));" "===r[t+1];)t+=1;a=t+1}}if(0!==i)throw new Error("Found opening tag without closing tag in "+e);if(n.push(r.slice(a,r.length)),3!==n.length&&4!==n.length)throw new Error("Nested quad syntax error "+e);return n=n.map(e=>e.startsWith("<")&&!e.includes(" ")?e.slice(1,-1):e),t.quad(l(n[0]),l(n[1]),l(n[2]),n[3]?l(n[3]):void 0)}return t.namedNode(e)}}},80736:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(68846),t),i(r(97082),t),i(r(40029),t),i(r(28215),t),i(r(34017),t),i(r(69413),t),i(r(2514),t)},80801:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(61111),t)},80839:(e,t,r)=>{"use strict";r.r(t),r.d(t,{clearImmediate:()=>c,setImmediate:()=>s});let n=1;const i=new Map;let a,o=!1,s=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return i.set(n,[e,r]),a(n),n++},c=e=>{i.delete(e)};function l(e){if(o)setTimeout(l,0,e);else{const t=i.get(e);if(t){o=!0;try{t[0](...t[1])}finally{c(e),o=!1}}}}const u="undefined"===typeof self?"undefined"===typeof r.g?void 0:r.g:self;u.setImmediate?(s=u.setImmediate,c=u.clearImmediate):u.importScripts?function(){const e=new MessageChannel;e.port1.onmessage=e=>{l(e.data)},a=t=>{e.port2.postMessage(t)}}():function(){const e="setImmediate$".concat(Math.random(),"$");window.addEventListener("message",t=>{"string"===typeof t.data&&t.data.startsWith(e)&&l(+t.data.slice(e.length))}),a=t=>{window.postMessage(e+t,"*")}}()},80874:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},80893:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationJoin=void 0;const n=r(52241),i=r(1140),a=r(13953),o=r(66179),s=r(89266),c=r(72758),l=r(92832);class u extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"join")}async testOperation(e,t){return(0,a.passTestVoid)()}async runOperation(e,t){const r=(await Promise.all(e.input.map(async e=>({output:await this.mediatorQueryOperation.mediate({operation:e,context:t}),operation:e})))).map(e=>{let{output:t,operation:r}=e;return{output:(0,s.getSafeBindings)(t),operation:r}});if((await Promise.all(r.map(e=>e.output.metadata()))).some(e=>0===e.cardinality.value&&"exact"===e.cardinality.type)){for(const e of r)e.output.bindingsStream.close();return{bindingsStream:new c.ArrayIterator([],{autoStart:!1}),metadata:async()=>({state:new o.MetadataValidationState,cardinality:{type:"exact",value:0},variables:i.ActorRdfJoin.joinVariables(new l.DataFactory,await i.ActorRdfJoin.getMetadatas(r))}),type:"bindings"}}return this.mediatorJoin.mediate({type:"inner",entries:r,context:t})}}t.ActorQueryOperationJoin=u},80967:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.asTermType=void 0,t.asTermType=function(e){if("namedNode"===e||"literal"===e||"blankNode"===e||"quad"===e)return e}},81231:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6072),t),i(r(24341),t)},81350:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SortIterator=void 0;const n=r(72758);class i extends n.TransformIterator{constructor(e,t,r){super(e,r);const n=r&&r.window;this.windowLength=Number.isFinite(n)&&n>0?n:Number.POSITIVE_INFINITY,this.sort=t,this.sorted=[]}_read(e,t){let r,{length:n}=this.sorted;for(;n!==this.windowLength&&(r=this.source.read(),null!==r);){let e,t,i=0,a=n-1;for(;i<=a;)e=Math.trunc((i+a)/2),t=this.sort(r,this.sorted[e]),t<0?i=e+1:t>0?a=e-1:(i=e,a=-1);this.sorted.splice(i,0,r),n++}n===this.windowLength&&this._push(this.sorted.pop()),t()}_flush(e){let{length:t}=this.sorted;for(;t--;)this._push(this.sorted.pop());e()}}t.SortIterator=i},81433:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermStrEnds=void 0;const i=r(11716),a=r(97824),o=r(16226);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.STRENDS],termFunction:!0}))}async run(e){return new o.TermFunctionStrEnds}}t.ActorFunctionFactoryTermStrEnds=s},81455:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(62090),t)},81574:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.prepareEvaluatorActionContext=void 0;const n=r(52840),i=r(22347),a=r(14975);t.prepareEvaluatorActionContext=function(e){let t=e;if(t.has(n.KeysInitQuery.extensionFunctionCreator)&&t.has(n.KeysInitQuery.extensionFunctions))throw new Error("Illegal simultaneous usage of extensionFunctionCreator and extensionFunctions in context");if(t.has(n.KeysInitQuery.extensionFunctionCreator))t=t.set(n.KeysExpressionEvaluator.extensionFunctionCreator,t.get(n.KeysInitQuery.extensionFunctionCreator));else if(t.has(n.KeysInitQuery.extensionFunctions)){const e=t.getSafe(n.KeysInitQuery.extensionFunctions);t=t.set(n.KeysExpressionEvaluator.extensionFunctionCreator,async t=>e[t.value])}else t=t.setDefault(n.KeysExpressionEvaluator.extensionFunctionCreator,async()=>{});return t=t.setDefault(n.KeysExpressionEvaluator.defaultTimeZone,(0,a.extractTimeZone)(t.getSafe(n.KeysInitQuery.queryTimestamp))),t=t.setDefault(n.KeysExpressionEvaluator.superTypeProvider,{cache:new i.LRUCache({max:1e3}),discoverer:()=>"term"}),t}},81626:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermRound=void 0;const i=r(11716),a=r(97824),o=r(99781);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.ROUND],termFunction:!0}))}async run(e){return new o.TermFunctionRound}}t.ActorFunctionFactoryTermRound=s},81726:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(82145),t),i(r(11193),t)},81756:e=>{e.exports=function(e,t,r){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:r;throw new TypeError("Private element is not present on this object")},e.exports.__esModule=!0,e.exports.default=e.exports},81838:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},81859:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(16588),i=r(34498);t.default=function(e){const t=function(e){return Uint8Array.of((15&e[6])<<4|e[7]>>4&15,(15&e[7])<<4|(240&e[4])>>4,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,(15&e[1])<<4|(240&e[2])>>4,96|15&e[2],e[3],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"===typeof e?(0,n.default)(e):e);return"string"===typeof e?(0,i.unsafeStringify)(t):t}},82090:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermLangmatches=void 0;const i=r(11716),a=r(97824),o=r(22853);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.LANG_MATCHES],termFunction:!0}))}async run(e){return new o.TermFunctionLangmatches}}t.ActorFunctionFactoryTermLangmatches=s},82145:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationConstruct=void 0;const i=r(52241),a=r(52840),o=r(13953),s=r(89266),c=r(57078),l=r(85160),u=r(11193);class d extends i.ActorQueryOperationTypedMediated{constructor(e){super(e,"construct")}static getVariables(e){return(0,c.uniqTerms)([].concat.apply([],e.map(e=>(0,c.getVariables)((0,c.getTermsNested)(e)))))}async testOperation(e,t){return(0,o.passTestVoid)()}async runOperation(e,t){const r=t.getSafe(a.KeysInitQuery.dataFactory),i=d.getVariables(e.template),o={type:l.Algebra.types.PROJECT,input:e.input,variables:i},c=(0,s.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:o,context:t}));return{metadata:()=>c.metadata().then(t=>n(n({},t),{},{order:void 0,cardinality:{type:t.cardinality.type,value:t.cardinality.value*e.template.length},availableOrders:void 0})),quadStream:new u.BindingsToQuadsIterator(r,e.template,c.bindingsStream),type:"quads"}}}t.ActorQueryOperationConstruct=d},82421:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchPatternMappings=t.matchPatternComplete=t.matchPattern=t.matchTerm=t.getValueNestedPath=t.someTermsNested=t.someTerms=t.everyTermsNested=t.everyTerms=t.reduceTermsNested=t.reduceTerms=t.mapTermsNested=t.mapTerms=t.filterQuadTermNamesNested=t.filterQuadTermNames=t.filterTermsNested=t.filterTerms=t.forEachTermsNested=t.forEachTerms=t.collectNamedTerms=t.getNamedTerms=t.getTermsNested=t.getTerms=t.TRIPLE_TERM_NAMES=t.QUAD_TERM_NAMES=void 0;const n=new(r(92832).DataFactory);function i(e,t){return t&&"DefaultGraph"===e.graph.termType?[e.subject,e.predicate,e.object]:[e.subject,e.predicate,e.object,e.graph]}function a(e,t){return t(e.subject,"subject")&&t(e.predicate,"predicate")&&t(e.object,"object")&&t(e.graph,"graph")}function o(e,t){return!t||"Variable"===t.termType||"Quad"===t.termType&&"Quad"===e.termType&&c(e,t)||t.equals(e)}function s(e,t,r,n,i){return o(e.subject,t)&&o(e.predicate,r)&&o(e.object,n)&&o(e.graph,i)}function c(e,t){return s(e,t.subject,t.predicate,t.object,t.graph)}t.QUAD_TERM_NAMES=["subject","predicate","object","graph"],t.TRIPLE_TERM_NAMES=["subject","predicate","object"],t.getTerms=i,t.getTermsNested=function e(t,r){const n=[];for(const a of i(t,r))"Quad"===a.termType?e(a,r).forEach(e=>n.push(e)):n.push(a);return n},t.getNamedTerms=function(e){return[{key:"subject",value:e.subject},{key:"predicate",value:e.predicate},{key:"object",value:e.object},{key:"graph",value:e.graph}]},t.collectNamedTerms=function(e,t,r){const i={};return e.forEach(e=>i[e.key]=e.value),t&&(i.subject=i.subject||t("subject"),i.predicate=i.predicate||t("predicate"),i.object=i.object||t("object"),i.graph=i.graph||t("graph")),(r||n).quad(i.subject,i.predicate,i.object,i.graph)},t.forEachTerms=function(e,t){t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph")},t.forEachTermsNested=function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];"Quad"===t.subject.termType?e(t.subject,r,[...n,"subject"]):r(t.subject,[...n,"subject"]),"Quad"===t.predicate.termType?e(t.predicate,r,[...n,"predicate"]):r(t.predicate,[...n,"predicate"]),"Quad"===t.object.termType?e(t.object,r,[...n,"object"]):r(t.object,[...n,"object"]),"Quad"===t.graph.termType?e(t.graph,r,[...n,"graph"]):r(t.graph,[...n,"graph"])},t.filterTerms=function(e,t){const r=[];return t(e.subject,"subject")&&r.push(e.subject),t(e.predicate,"predicate")&&r.push(e.predicate),t(e.object,"object")&&r.push(e.object),t(e.graph,"graph")&&r.push(e.graph),r},t.filterTermsNested=function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=[];return"Quad"===t.subject.termType?i=[...i,...e(t.subject,r,[...n,"subject"])]:r(t.subject,[...n,"subject"])&&i.push(t.subject),"Quad"===t.predicate.termType?i=[...i,...e(t.predicate,r,[...n,"predicate"])]:r(t.predicate,[...n,"predicate"])&&i.push(t.predicate),"Quad"===t.object.termType?i=[...i,...e(t.object,r,[...n,"object"])]:r(t.object,[...n,"object"])&&i.push(t.object),"Quad"===t.graph.termType?i=[...i,...e(t.graph,r,[...n,"graph"])]:r(t.graph,[...n,"graph"])&&i.push(t.graph),i},t.filterQuadTermNames=function(e,t){const r=[];return t(e.subject,"subject")&&r.push("subject"),t(e.predicate,"predicate")&&r.push("predicate"),t(e.object,"object")&&r.push("object"),t(e.graph,"graph")&&r.push("graph"),r},t.filterQuadTermNamesNested=function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=[];const a=[...n,"subject"];"Quad"===t.subject.termType?i=[...i,...e(t.subject,r,a)]:r(t.subject,a)&&i.push(a);const o=[...n,"predicate"];"Quad"===t.predicate.termType?i=[...i,...e(t.predicate,r,o)]:r(t.predicate,o)&&i.push(o);const s=[...n,"object"];"Quad"===t.object.termType?i=[...i,...e(t.object,r,s)]:r(t.object,s)&&i.push(s);const c=[...n,"graph"];return"Quad"===t.graph.termType?i=[...i,...e(t.graph,r,c)]:r(t.graph,c)&&i.push(c),i},t.mapTerms=function(e,t,r){return(r||n).quad(t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph"))},t.mapTermsNested=function e(t,r,i){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(i||n).quad("Quad"===t.subject.termType?e(t.subject,r,i,[...a,"subject"]):r(t.subject,[...a,"subject"]),"Quad"===t.predicate.termType?e(t.predicate,r,i,[...a,"predicate"]):r(t.predicate,[...a,"predicate"]),"Quad"===t.object.termType?e(t.object,r,i,[...a,"object"]):r(t.object,[...a,"object"]),"Quad"===t.graph.termType?e(t.graph,r,i,[...a,"graph"]):r(t.graph,[...a,"graph"]))},t.reduceTerms=function(e,t,r){let n=r;return n=t(n,e.subject,"subject"),n=t(n,e.predicate,"predicate"),n=t(n,e.object,"object"),t(n,e.graph,"graph")},t.reduceTermsNested=function e(t,r,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=n;return a="Quad"===t.subject.termType?e(t.subject,r,a,[...i,"subject"]):r(a,t.subject,[...i,"subject"]),a="Quad"===t.predicate.termType?e(t.predicate,r,a,[...i,"predicate"]):r(a,t.predicate,[...i,"predicate"]),a="Quad"===t.object.termType?e(t.object,r,a,[...i,"object"]):r(a,t.object,[...i,"object"]),a="Quad"===t.graph.termType?e(t.graph,r,a,[...i,"graph"]):r(a,t.graph,[...i,"graph"]),a},t.everyTerms=a,t.everyTermsNested=function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return("Quad"===t.subject.termType?e(t.subject,r,[...n,"subject"]):r(t.subject,[...n,"subject"]))&&("Quad"===t.predicate.termType?e(t.predicate,r,[...n,"predicate"]):r(t.predicate,[...n,"predicate"]))&&("Quad"===t.object.termType?e(t.object,r,[...n,"object"]):r(t.object,[...n,"object"]))&&("Quad"===t.graph.termType?e(t.graph,r,[...n,"graph"]):r(t.graph,[...n,"graph"]))},t.someTerms=function(e,t){return t(e.subject,"subject")||t(e.predicate,"predicate")||t(e.object,"object")||t(e.graph,"graph")},t.someTermsNested=function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return("Quad"===t.subject.termType?e(t.subject,r,[...n,"subject"]):r(t.subject,[...n,"subject"]))||("Quad"===t.predicate.termType?e(t.predicate,r,[...n,"predicate"]):r(t.predicate,[...n,"predicate"]))||("Quad"===t.object.termType?e(t.object,r,[...n,"object"]):r(t.object,[...n,"object"]))||("Quad"===t.graph.termType?e(t.graph,r,[...n,"graph"]):r(t.graph,[...n,"graph"]))},t.getValueNestedPath=function e(t,r){if(0===r.length)return t;if("Quad"===t.termType)return e(t[r[0]],r.slice(1));throw new Error("Tried to get ".concat(r[0]," from term of type ").concat(t.termType))},t.matchTerm=o,t.matchPattern=s,t.matchPatternComplete=c,t.matchPatternMappings=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n={};return function e(t,i){return a(t,(t,a)=>{var o,s;const c=i[a];switch(t.termType){case"Variable":return r.skipVarMapping&&"Variable"===c.termType||(null!==(s=null===(o=n[t.value])||void 0===o?void 0:o.equals(c))&&void 0!==s?s:(n[t.value]=c,!0));case"Quad":return"Quad"===c.termType&&e(t,c);default:return t.equals(c)}})}(t,e)&&(!r.returnMappings||n)}},82487:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionLang=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.LANG,overloads:(0,i.declare)(i.SparqlOperator.LANG).onLiteral1(()=>e=>{var t;return(0,i.string)(null!==(t=e.language)&&void 0!==t?t:"")}).collect()})}}t.TermFunctionLang=a},82620:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationPathNps=void 0;const n=r(56840),i=r(52840),a=r(89266),o=r(85160);class s extends n.ActorAbstractPath{constructor(e){super(e,o.Algebra.types.NPS)}async runOperation(e,t){const r=t.getSafe(i.KeysInitQuery.dataFactory),n=new o.Factory(r),s=e.predicate,c=this.generateVariable(r,e),l=Object.assign(n.createPattern(e.subject,c,e.object,e.graph),{metadata:s.metadata}),u=(0,a.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:l,context:t}));return{type:"bindings",bindingsStream:u.bindingsStream.map(e=>s.iris.some(t=>t.equals(e.get(c)))?null:e.delete(c)),metadata:u.metadata}}}t.ActorQueryOperationPathNps=s},82653:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionMonth=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.MONTH,overloads:(0,i.declare)(i.SparqlOperator.MONTH).onDateTime1(()=>e=>(0,i.integer)(e.typedValue.month)).set([i.TypeURL.XSD_DATE],()=>e=>{let[t]=e;return(0,i.integer)(t.typedValue.month)}).collect()})}}t.TermFunctionMonth=a},82663:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(23976),t),i(r(92092),t)},82773:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperation=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e)}}t.ActorQueryOperation=i},82781:(e,t,r)=>{"use strict";var n=r(12897).default;const{ObjectDefineProperties:i,ObjectGetOwnPropertyDescriptor:a,ObjectKeys:o,ObjectSetPrototypeOf:s}=r(28931);e.exports=u;const c=r(87091),l=r(64999);s(u.prototype,c.prototype),s(u,c);{const e=o(l.prototype);for(let t=0;t<e.length;t++){const r=e[t];u.prototype[r]||(u.prototype[r]=l.prototype[r])}}function u(e){if(!(this instanceof u))return new u(e);c.call(this,e),l.call(this,e),e?(this.allowHalfOpen=!1!==e.allowHalfOpen,!1===e.readable&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===e.writable&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}let d,h;function p(){return void 0===d&&(d={}),d}i(u.prototype,{writable:n({__proto__:null},a(l.prototype,"writable")),writableHighWaterMark:n({__proto__:null},a(l.prototype,"writableHighWaterMark")),writableObjectMode:n({__proto__:null},a(l.prototype,"writableObjectMode")),writableBuffer:n({__proto__:null},a(l.prototype,"writableBuffer")),writableLength:n({__proto__:null},a(l.prototype,"writableLength")),writableFinished:n({__proto__:null},a(l.prototype,"writableFinished")),writableCorked:n({__proto__:null},a(l.prototype,"writableCorked")),writableEnded:n({__proto__:null},a(l.prototype,"writableEnded")),writableNeedDrain:n({__proto__:null},a(l.prototype,"writableNeedDrain")),destroyed:{__proto__:null,get(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set(e){this._readableState&&this._writableState&&(this._readableState.destroyed=e,this._writableState.destroyed=e)}}}),u.fromWeb=function(e,t){return p().newStreamDuplexFromReadableWritablePair(e,t)},u.toWeb=function(e){return p().newReadableWritablePairFromDuplex(e)},u.from=function(e){return h||(h=r(86179)),h(e,"body")}},82786:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionIsLiteral=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.IS_LITERAL,overloads:(0,i.declare)(i.SparqlOperator.IS_LITERAL).onTerm1(()=>e=>(0,i.bool)("literal"===e.termType)).collect()})}}t.TermFunctionIsLiteral=a},82787:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(32838),t)},82818:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionStrDt=void 0;const n=r(11716),i=r(52840),a=r(97824);class o extends n.TermFunctionBase{constructor(){super({arity:2,operator:a.SparqlOperator.STRDT,overloads:(0,a.declare)(a.SparqlOperator.STRDT).set([a.TypeURL.XSD_STRING,"namedNode"],e=>t=>{let[r,n]=t;const o=e.context.getSafe(i.KeysInitQuery.dataFactory),s=o.literal(r.typedValue,o.namedNode(n.value));return new a.TermTransformer(e.context.getSafe(i.KeysExpressionEvaluator.superTypeProvider)).transformLiteral(s)}).collect()})}}t.TermFunctionStrDt=o},82868:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryEngine=void 0;const n=r(27560),i=r(94162);class a extends n.QueryEngineBase{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:i())}}t.QueryEngine=a},82881:e=>{function t(e){function r(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return t=function(e){this.s=e,this.n=e.next},t.prototype={s:null,n:null,next:function(){return r(this.n.apply(this.s,arguments))},return:function(e){var t=this.s.return;return void 0===t?Promise.resolve({value:e,done:!0}):r(t.apply(this.s,arguments))},throw:function(e){var t=this.s.return;return void 0===t?Promise.reject(e):r(t.apply(this.s,arguments))}},new t(e)}e.exports=function(e){var r,n,i,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,i=Symbol.iterator);a--;){if(n&&null!=(r=e[n]))return r.call(e);if(i&&null!=(r=e[i]))return new t(r.call(e));n="@@asyncIterator",i="@@iterator"}throw new TypeError("Object is not async iterable")},e.exports.__esModule=!0,e.exports.default=e.exports},82956:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(99758),t),i(r(19901),t),i(r(5745),t),i(r(91753),t)},82991:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeHandlerSelectionInlineFragment=void 0;const n=r(88511);class i extends n.NodeHandlerSelectionAdapter{constructor(e,t){super("InlineFragment",e,t)}handle(e,t){const r={alias:void 0,arguments:void 0,directives:e.directives,kind:"Field",name:{kind:"Name",value:t.subject.value},selectionSet:e.selectionSet},n=e.typeCondition?[this.util.newTypePattern(t.subject,e.typeCondition,t)]:[];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(t,r,!1,n))}}t.NodeHandlerSelectionInlineFragment=i},83107:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(92971),t)},83119:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Quad=void 0;t.Quad=class{constructor(e,t,r,n){this.termType="Quad",this.value="",this.subject=e,this.predicate=t,this.object=r,this.graph=n}equals(e){return!!e&&("Quad"===e.termType||!e.termType)&&this.subject.equals(e.subject)&&this.predicate.equals(e.predicate)&&this.object.equals(e.object)&&this.graph.equals(e.graph)}}},83174:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryResultSerializeJson=void 0;const n=r(16746),i=r(13953),a=r(72758),o=r(45494),s=r(94051);class c extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,t){return["bindings","quads","boolean"].includes(e.type)?(0,i.passTestVoid)():(0,i.failTest)("This actor can only handle bindings or quad streams.")}async runHandle(e,t,r){const n=new s.Readable;if(n._read=()=>{},"bindings"===e.type||"quads"===e.type){let t="bindings"===e.type?(0,a.wrap)(e.bindingsStream).map(e=>JSON.stringify(Object.fromEntries([...e].map(e=>{let[t,r]=e;return[t.value,o.termToString(r)]})))):(0,a.wrap)(e.quadStream).map(e=>JSON.stringify(o.quadToStringQuad(e))),r=!0;t=t.map(e=>{const t="".concat(r?"":",","\n").concat(e);return r=!1,t}).prepend(["["]).append(["\n]\n"]),n.wrap(t)}else try{n.push("".concat(JSON.stringify(await e.execute()),"\n")),n.push(null)}catch(i){setTimeout(()=>n.emit("error",i))}return{data:n}}}t.ActorQueryResultSerializeJson=c},83399:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfSerializeShaclc=void 0;const n=r(5230),i=r(34360),a=r(94051),o=r(92889);class s extends n.ActorRdfSerializeFixedMediaTypes{constructor(e){super(e)}async runHandle(e,t){const r=new a.Readable;r._read=()=>{};try{const n={};e.quadStream.on("prefix",(e,t)=>{n[e]=t});const{text:a}=await(0,o.write)(await(0,i.default)(e.quadStream),{errorOnUnused:!0,extendedSyntax:"text/shaclc-ext"===t,prefixes:n});r.push(a),r.push(null)}catch(n){r._read=()=>{r.emit("error",n)}}return{data:r,triples:!0}}}t.ActorRdfSerializeShaclc=s},83406:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="00000000-0000-0000-0000-000000000000"},83410:(e,t,r)=>{"use strict";var n=r(97643),i=r(12629),a=r(61510),o=r(75482),s=n.sum32,c=n.sum32_4,l=n.sum32_5,u=a.ch32,d=a.maj32,h=a.s0_256,p=a.s1_256,f=a.g0_256,g=a.g1_256,y=i.BlockHash,m=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function v(){if(!(this instanceof v))return new v;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=m,this.W=new Array(64)}n.inherits(v,y),e.exports=v,v.blockSize=512,v.outSize=256,v.hmacStrength=192,v.padLength=64,v.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=c(g(r[n-2]),r[n-7],f(r[n-15]),r[n-16]);var i=this.h[0],a=this.h[1],y=this.h[2],m=this.h[3],v=this.h[4],b=this.h[5],_=this.h[6],w=this.h[7];for(o(this.k.length===r.length),n=0;n<r.length;n++){var x=l(w,p(v),u(v,b,_),this.k[n],r[n]),S=s(h(i),d(i,a,y));w=_,_=b,b=v,v=s(m,x),m=y,y=a,a=i,i=s(x,S)}this.h[0]=s(this.h[0],i),this.h[1]=s(this.h[1],a),this.h[2]=s(this.h[2],y),this.h[3]=s(this.h[3],m),this.h[4]=s(this.h[4],v),this.h[5]=s(this.h[5],b),this.h[6]=s(this.h[6],_),this.h[7]=s(this.h[7],w)},v.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h,"big"):n.split32(this.h,"big")}},83435:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorHashQuads=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e)}}t.ActorHashQuads=i},83504:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorHttpInvalidateListenable=void 0;const n=r(13953),i=r(6939);class a extends i.ActorHttpInvalidate{constructor(e){super(e),this.invalidateListeners=[],this.invalidateListeners=[]}addInvalidateListener(e){this.invalidateListeners.push(e)}async test(e){return(0,n.passTestVoid)()}async run(e){for(const t of this.invalidateListeners)t(e);return{}}}t.ActorHttpInvalidateListenable=a},83526:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(73218),t),i(r(34311),t)},83718:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermNot=void 0;const i=r(11716),a=r(97824),o=r(1773);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.NOT],termFunction:!0}))}async run(e){return new o.TermFunctionNot}}t.ActorFunctionFactoryTermNot=s},83736:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataFactory=void 0;const n=r(42e3),i=r(13243),a=r(55065),o=r(21123),s=r(83119),c=r(61424);let l=0;t.DataFactory=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||"df_".concat(l++,"_")}namedNode(e){return new o.NamedNode(e)}blankNode(e){return new n.BlankNode(e||"".concat(this.blankNodePrefix).concat(this.blankNodeCounter++))}literal(e,t){return new a.Literal(e,t)}variable(e){return new c.Variable(e)}defaultGraph(){return i.DefaultGraph.INSTANCE}quad(e,t,r,n){return new s.Quad(e,t,r,n||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(a.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},83836:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(69845),t)},83855:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationMinus=void 0;const n=r(52241),i=r(13953),a=r(89266);class o extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"minus")}async testOperation(e,t){return(0,i.passTestVoid)()}async runOperation(e,t){const r=(await Promise.all(e.input.map(async e=>({output:await this.mediatorQueryOperation.mediate({operation:e,context:t}),operation:e})))).map(e=>{let{output:t,operation:r}=e;return{output:(0,a.getSafeBindings)(t),operation:r}});return this.mediatorJoin.mediate({type:"minus",entries:r,context:t})}}t.ActorQueryOperationMinus=o},83994:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CHAR="\t\n\r -\ud7ff\ue000-\ufffd\ud800\udc00-\udbff\udfff",t.S=" \t\r\n",t.NAME_START_CHAR=":A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd\ud800\udc00-\udb7f\udfff",t.NAME_CHAR="-"+t.NAME_START_CHAR+".0-9\xb7\u0300-\u036f\u203f-\u2040",t.CHAR_RE=new RegExp("^["+t.CHAR+"]$","u"),t.S_RE=new RegExp("^["+t.S+"]+$","u"),t.NAME_START_CHAR_RE=new RegExp("^["+t.NAME_START_CHAR+"]$","u"),t.NAME_CHAR_RE=new RegExp("^["+t.NAME_CHAR+"]$","u"),t.NAME_RE=new RegExp("^["+t.NAME_START_CHAR+"]["+t.NAME_CHAR+"]*$","u"),t.NMTOKEN_RE=new RegExp("^["+t.NAME_CHAR+"]+$","u");function r(e){return e>=65&&e<=90||e>=97&&e<=122||58===e||95===e||8204===e||8205===e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=767||e>=880&&e<=893||e>=895&&e<=8191||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}t.S_LIST=[32,10,13,9],t.isChar=function(e){return e>=32&&e<=55295||10===e||13===e||9===e||e>=57344&&e<=65533||e>=65536&&e<=1114111},t.isS=function(e){return 32===e||10===e||13===e||9===e},t.isNameStartChar=r,t.isNameChar=function(e){return r(e)||e>=48&&e<=57||45===e||46===e||183===e||e>=768&&e<=879||e>=8255&&e<=8256}},84125:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PendingStreamsIndex=void 0;const n=r(59347),i=r(10293);class a{constructor(){this.indexedStreams=new Map,this.allStreams=[]}termToString(e){return e&&"Variable"!==e.termType?(0,n.termToString)(e):a.ID_VARIABLE}addPatternListener(e,t,r,n,i){this.allStreams.push(e);const o="".concat(this.termToString(t)).concat(a.ID_SEPARATOR).concat(this.termToString(r)).concat(a.ID_SEPARATOR).concat(this.termToString(n)).concat(a.ID_SEPARATOR).concat(this.termToString(i));let s=this.indexedStreams.get(o);s||(s=[],this.indexedStreams.set(o,s)),s.push(e)}getPendingStreamsForQuad(e){let t=[(0,i.getTerms)(e).map(e=>(0,n.termToString)(e))];for(let n=0;n<i.QUAD_TERM_NAMES.length;n++){const e=t;t=[];for(const r of e){t.push(r);const e=[...r];e[n]=a.ID_VARIABLE,t.push(e)}}const r=[];for(const n of t){const e=this.indexedStreams.get(n.join(a.ID_SEPARATOR));e&&r.push(...e)}return r}}a.ID_VARIABLE="?",a.ID_SEPARATOR=":",t.PendingStreamsIndex=a},84182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionIsBlank=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.IS_BLANK,overloads:(0,i.declare)(i.SparqlOperator.IS_BLANK).onTerm1(()=>e=>(0,i.bool)("blankNode"===e.termType)).collect()})}}t.TermFunctionIsBlank=a},84312:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionSubStr=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:[2,3],operator:i.SparqlOperator.SUBSTR,overloads:(0,i.declare)(i.SparqlOperator.SUBSTR).onBinaryTyped([i.TypeURL.XSD_STRING,i.TypeURL.XSD_INTEGER],()=>(e,t)=>(0,i.string)([...e].slice(t-1).join(""))).onBinary([i.TypeURL.RDF_LANG_STRING,i.TypeURL.XSD_INTEGER],()=>(e,t)=>{const r=[...e.typedValue].slice(t.typedValue-1).join("");return(0,i.langString)(r,e.language)}).onTernaryTyped([i.TypeURL.XSD_STRING,i.TypeURL.XSD_INTEGER,i.TypeURL.XSD_INTEGER],()=>(e,t,r)=>(0,i.string)([...e].slice(t-1,r+t-1).join(""))).onTernary([i.TypeURL.RDF_LANG_STRING,i.TypeURL.XSD_INTEGER,i.TypeURL.XSD_INTEGER],()=>(e,t,r)=>{const n=[...e.typedValue].slice(t.typedValue-1,r.typedValue+t.typedValue-1).join("");return(0,i.langString)(n,e.language)}).collect()})}}t.TermFunctionSubStr=a},84344:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermObject=void 0;const i=r(11716),a=r(97824),o=r(69533);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.OBJECT],termFunction:!0}))}async run(e){return new o.TermFunctionObject}}t.ActorFunctionFactoryTermObject=s},84350:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(48096),t)},84357:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeValueHandlerBoolean=void 0;const n=r(71506);class i extends n.NodeValueHandlerAdapter{constructor(e,t){super("BooleanValue",e,t),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#boolean")}handle(e,t,r){return{terms:[this.util.dataFactory.literal(e.value?"true":"false",this.datatype)]}}}t.NodeValueHandlerBoolean=i},84391:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(97004)},84396:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},84461:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(87555),t)},84468:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetadataValidationState=void 0;t.MetadataValidationState=class{constructor(){this.invalidateListeners=[],this.valid=!0}addInvalidateListener(e){this.invalidateListeners.push(e)}invalidate(){if(this.valid){this.valid=!1;for(const e of this.invalidateListeners)e()}}}},84509:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(19496),t)},84765:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermStrUuid=void 0;const i=r(11716),a=r(97824),o=r(45882);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.STRUUID],termFunction:!0}))}async run(e){return new o.TermFunctionStrUuid}}t.ActorFunctionFactoryTermStrUuid=s},84852:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6329),t)},85160:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Util=t.toSparqlJs=t.toSparql=t.Factory=t.Algebra=t.translate=void 0;const s=o(r(18179));t.translate=s.default;const c=a(r(28680));t.Algebra=c;const l=o(r(21634));t.Factory=l.default;const u=r(9715);Object.defineProperty(t,"toSparql",{enumerable:!0,get:function(){return u.toSparql}}),Object.defineProperty(t,"toSparqlJs",{enumerable:!0,get:function(){return u.toSparqlJs}});const d=o(r(33510));t.Util=d.default},85219:(e,t,r)=>{"use strict";var n=r(12897).default;const{ObjectSetPrototypeOf:i,Symbol:a}=r(28931);e.exports=u;const{ERR_METHOD_NOT_IMPLEMENTED:o}=r(60056).codes,s=r(82781),{getHighWaterMark:c}=r(68550);i(u.prototype,s.prototype),i(u,s);const l=a("kCallback");function u(e){if(!(this instanceof u))return new u(e);const t=e?c(this,e,"readableHighWaterMark",!0):null;0===t&&(e=n(n({},e),{},{highWaterMark:null,readableHighWaterMark:t,writableHighWaterMark:e.writableHighWaterMark||0})),s.call(this,e),this._readableState.sync=!1,this[l]=null,e&&("function"===typeof e.transform&&(this._transform=e.transform),"function"===typeof e.flush&&(this._flush=e.flush)),this.on("prefinish",h)}function d(e){"function"!==typeof this._flush||this.destroyed?(this.push(null),e&&e()):this._flush((t,r)=>{t?e?e(t):this.destroy(t):(null!=r&&this.push(r),this.push(null),e&&e())})}function h(){this._final!==d&&d.call(this)}u.prototype._final=d,u.prototype._transform=function(e,t,r){throw new o("_transform()")},u.prototype._write=function(e,t,r){const n=this._readableState,i=this._writableState,a=n.length;this._transform(e,t,(e,t)=>{e?r(e):(null!=t&&this.push(t),i.ended||a===n.length||n.length<n.highWaterMark?r():this[l]=r)})},u.prototype._read=function(){if(this[l]){const e=this[l];this[l]=null,e()}}},85238:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0;const n=r(45702),i=r(43485);var a=r(43485);function o(e,t,r,a){return(0,i.default)(80,n.default,e,t,r,a)}Object.defineProperty(t,"DNS",{enumerable:!0,get:function(){return a.DNS}}),Object.defineProperty(t,"URL",{enumerable:!0,get:function(){return a.URL}}),o.DNS=i.DNS,o.URL=i.URL,t.default=o},85391:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(38636),t)},85434:(e,t,r)=>{"use strict";var n=r(93513).default,i=r(82881).default,a=r(53344).default,o=r(42958).default;const s=globalThis.AbortController||r(13641).AbortController,{codes:{ERR_INVALID_ARG_VALUE:c,ERR_INVALID_ARG_TYPE:l,ERR_MISSING_ARGS:u,ERR_OUT_OF_RANGE:d},AbortError:h}=r(60056),{validateAbortSignal:p,validateInteger:f,validateObject:g}=r(8870),y=r(28931).Symbol("kWeak"),m=r(28931).Symbol("kResistStopPropagation"),{finished:v}=r(20227),b=r(71963),{addAbortSignalNoValidate:_}=r(78528),{isWritable:w,isNodeStream:x}=r(60782),{deprecate:S}=r(91887),{ArrayPrototypePush:T,Boolean:O,MathFloor:E,Number:A,NumberIsNaN:P,Promise:N,PromiseReject:j,PromiseResolve:D,PromisePrototypeThen:R,Symbol:I}=r(28931),F=I("kEmpty"),C=I("kEof");function M(e,t){if("function"!==typeof e)throw new l("fn",["Function","AsyncFunction"],e);null!=t&&g(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&p(t.signal,"options.signal");let n=1;null!=(null===t||void 0===t?void 0:t.concurrency)&&(n=E(t.concurrency));let s=n-1;return null!=(null===t||void 0===t?void 0:t.highWaterMark)&&(s=E(t.highWaterMark)),f(n,"options.concurrency",1),f(s,"options.highWaterMark",0),s+=n,function(){var c=o(function*(){const o=r(91887).AbortSignalAny([null===t||void 0===t?void 0:t.signal].filter(O)),c=this,l=[],u={signal:o};let d,p,f=!1,g=0;function y(){f=!0,m()}function m(){g-=1,v()}function v(){p&&!f&&g<n&&l.length<s&&(p(),p=null)}!async function(){try{var t,r=!1,a=!1;try{for(var v,b=i(c);r=!(v=await b.next()).done;r=!1){let t=v.value;if(f)return;if(o.aborted)throw new h;try{if(t=e(t,u),t===F)continue;t=D(t)}catch(_){t=j(_)}g+=1,R(t,m,y),l.push(t),d&&(d(),d=null),!f&&(l.length>=s||g>=n)&&await new N(e=>{p=e})}}catch(_){a=!0,t=_}finally{try{r&&null!=b.return&&await b.return()}finally{if(a)throw t}}l.push(C)}catch(_){const e=j(_);R(e,m,y),l.push(e)}finally{f=!0,d&&(d(),d=null)}}();try{for(;;){for(;l.length>0;){const e=yield a(l[0]);if(e===C)return;if(o.aborted)throw new h;e!==F&&(yield e),l.shift(),v()}yield a(new N(e=>{d=e}))}}finally{f=!0,p&&(p(),p=null)}});return function(){return c.apply(this,arguments)}}().call(this)}async function k(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;var r,n=!1,a=!1;try{for(var o,s=i(L.call(this,e,t));n=!(o=await s.next()).done;n=!1){o.value;return!0}}catch(c){a=!0,r=c}finally{try{n&&null!=s.return&&await s.return()}finally{if(a)throw r}}return!1}function L(e,t){if("function"!==typeof e)throw new l("fn",["Function","AsyncFunction"],e);return M.call(this,async function(t,r){return await e(t,r)?t:F},t)}class B extends u{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}function U(e){if(e=A(e),P(e))return 0;if(e<0)throw new d("number",">= 0",e);return e}e.exports.streamReturningOperators={asIndexedPairs:S(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return null!=e&&g(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&p(e.signal,"options.signal"),function(){var t=o(function*(){let t=0;var r,n=!1,o=!1;try{for(var s,c=i(this);n=!(s=yield a(c.next())).done;n=!1){const r=s.value;var l;if(null!==e&&void 0!==e&&null!==(l=e.signal)&&void 0!==l&&l.aborted)throw new h({cause:e.signal.reason});yield[t++,r]}}catch(u){o=!0,r=u}finally{try{n&&null!=c.return&&(yield a(c.return()))}finally{if(o)throw r}}});return function(){return t.apply(this,arguments)}}().call(this)},"readable.asIndexedPairs will be removed in a future version."),drop:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&g(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&p(t.signal,"options.signal"),e=U(e),function(){var r=o(function*(){var r;if(null!==t&&void 0!==t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new h;var n,o=!1,s=!1;try{for(var c,l=i(this);o=!(c=yield a(l.next())).done;o=!1){const r=c.value;var u;if(null!==t&&void 0!==t&&null!==(u=t.signal)&&void 0!==u&&u.aborted)throw new h;e--<=0&&(yield r)}}catch(d){s=!0,n=d}finally{try{o&&null!=l.return&&(yield a(l.return()))}finally{if(s)throw n}}});return function(){return r.apply(this,arguments)}}().call(this)},filter:L,flatMap:function(e,t){const r=M.call(this,e,t);return function(){var e=o(function*(){var e,t=!1,o=!1;try{for(var s,c=i(r);t=!(s=yield a(c.next())).done;t=!1){const e=s.value;yield*n(i(e),a)}}catch(l){o=!0,e=l}finally{try{t&&null!=c.return&&(yield a(c.return()))}finally{if(o)throw e}}});return function(){return e.apply(this,arguments)}}().call(this)},map:M,take:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return null!=t&&g(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&p(t.signal,"options.signal"),e=U(e),function(){var r=o(function*(){var r;if(null!==t&&void 0!==t&&null!==(r=t.signal)&&void 0!==r&&r.aborted)throw new h;var n,o=!1,s=!1;try{for(var c,l=i(this);o=!(c=yield a(l.next())).done;o=!1){const r=c.value;var u;if(null!==t&&void 0!==t&&null!==(u=t.signal)&&void 0!==u&&u.aborted)throw new h;if(e-- >0&&(yield r),e<=0)return}}catch(d){s=!0,n=d}finally{try{o&&null!=l.return&&(yield a(l.return()))}finally{if(s)throw n}}});return function(){return r.apply(this,arguments)}}().call(this)},compose:function(e,t){if(null!=t&&g(t,"options"),null!=(null===t||void 0===t?void 0:t.signal)&&p(t.signal,"options.signal"),x(e)&&!w(e))throw new c("stream",e,"must be writable");const r=b(this,e);return null!==t&&void 0!==t&&t.signal&&_(t.signal,r),r}},e.exports.promiseReturningOperators={every:async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if("function"!==typeof e)throw new l("fn",["Function","AsyncFunction"],e);return!await k.call(this,async function(){return!await e(...arguments)},t)},forEach:async function(e,t){if("function"!==typeof e)throw new l("fn",["Function","AsyncFunction"],e);var r,n=!1,a=!1;try{for(var o,s=i(M.call(this,async function(t,r){return await e(t,r),F},t));n=!(o=await s.next()).done;n=!1){o.value}}catch(c){a=!0,r=c}finally{try{n&&null!=s.return&&await s.return()}finally{if(a)throw r}}},reduce:async function(e,t,r){var n;if("function"!==typeof e)throw new l("reducer",["Function","AsyncFunction"],e);null!=r&&g(r,"options"),null!=(null===r||void 0===r?void 0:r.signal)&&p(r.signal,"options.signal");let a=arguments.length>1;if(null!==r&&void 0!==r&&null!==(n=r.signal)&&void 0!==n&&n.aborted){const e=new h(void 0,{cause:r.signal.reason});throw this.once("error",()=>{}),await v(this.destroy(e)),e}const o=new s,c=o.signal;if(null!==r&&void 0!==r&&r.signal){const e={once:!0,[y]:this,[m]:!0};r.signal.addEventListener("abort",()=>o.abort(),e)}let u=!1;try{var d,f=!1,b=!1;try{for(var _,w=i(this);f=!(_=await w.next()).done;f=!1){const n=_.value;var x;if(u=!0,null!==r&&void 0!==r&&null!==(x=r.signal)&&void 0!==x&&x.aborted)throw new h;a?t=await e(t,n,{signal:c}):(t=n,a=!0)}}catch(S){b=!0,d=S}finally{try{f&&null!=w.return&&await w.return()}finally{if(b)throw d}}if(!u&&!a)throw new B}finally{o.abort()}return t},toArray:async function(e){null!=e&&g(e,"options"),null!=(null===e||void 0===e?void 0:e.signal)&&p(e.signal,"options.signal");const t=[];var r,n=!1,a=!1;try{for(var o,s=i(this);n=!(o=await s.next()).done;n=!1){const r=o.value;var c;if(null!==e&&void 0!==e&&null!==(c=e.signal)&&void 0!==c&&c.aborted)throw new h(void 0,{cause:e.signal.reason});T(t,r)}}catch(l){a=!0,r=l}finally{try{n&&null!=s.return&&await s.return()}finally{if(a)throw r}}return t},some:k,find:async function(e,t){var r,n=!1,a=!1;try{for(var o,s=i(L.call(this,e,t));n=!(o=await s.next()).done;n=!1){return o.value}}catch(c){a=!0,r=c}finally{try{n&&null!=s.return&&await s.return()}finally{if(a)throw r}}}}},85589:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperationRewriteMove=void 0;const n=r(49065),i=r(52840),a=r(13953),o=r(85160);class s extends n.ActorOptimizeQueryOperation{constructor(e){super(e)}async test(e){return(0,a.passTestVoid)()}async run(e){const t=e.context.getSafe(i.KeysInitQuery.dataFactory),r=new o.Factory(t);return{operation:o.Util.mapOperation(e.operation,{[o.Algebra.types.MOVE](e,t){let r;if("string"===typeof e.destination&&"string"===typeof e.source&&e.destination===e.source||"string"!==typeof e.destination&&"string"!==typeof e.source&&e.destination.equals(e.source))r=t.createCompositeUpdate([]);else{const n=[t.createDrop(e.destination,!0),t.createAdd(e.source,e.destination,e.silent),t.createDrop(e.source)];r=t.createCompositeUpdate(n)}return{result:r,recurse:!1}}},r),context:e.context}}}t.ActorOptimizeQueryOperationRewriteMove=s},85663:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(5518),t)},85830:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(15812),t),i(r(14468),t)},86089:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionFunctionCoalesce=void 0;const n=r(11716),i=r(97824);class a extends n.ExpressionFunctionBase{constructor(){super({arity:Number.POSITIVE_INFINITY,operator:i.SparqlOperator.COALESCE,apply:async e=>{let{args:t,mapping:r,exprEval:n}=e;const a=[];for(const i of t)try{return await n.evaluatorExpressionEvaluation(i,r)}catch(o){a.push(o)}throw new i.CoalesceError(a)}})}}t.ExpressionFunctionCoalesce=a},86179:(e,t,r)=>{var n=r(53344).default,i=r(42958).default;const a=r(62285),o=r(26382),{isReadable:s,isWritable:c,isIterable:l,isNodeStream:u,isReadableNodeStream:d,isWritableNodeStream:h,isDuplexNodeStream:p,isReadableStream:f,isWritableStream:g}=r(60782),y=r(20227),{AbortError:m,codes:{ERR_INVALID_ARG_TYPE:v,ERR_INVALID_RETURN_VALUE:b}}=r(60056),{destroyer:_}=r(36725),w=r(82781),x=r(87091),S=r(64999),{createDeferredPromise:T}=r(91887),O=r(96151),E=globalThis.Blob||o.Blob,A="undefined"!==typeof E?function(e){return e instanceof E}:function(e){return!1},P=globalThis.AbortController||r(13641).AbortController,{FunctionPrototypeCall:N}=r(28931);class j extends w{constructor(e){super(e),!1===(null===e||void 0===e?void 0:e.readable)&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),!1===(null===e||void 0===e?void 0:e.writable)&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}function D(e){const t=e.readable&&"function"!==typeof e.readable.read?x.wrap(e.readable):e.readable,r=e.writable;let n,i,a,o,l,u=!!s(t),d=!!c(r);function h(e){const t=o;o=null,t?t(e):e&&l.destroy(e)}return l=new j({readableObjectMode:!(null===t||void 0===t||!t.readableObjectMode),writableObjectMode:!(null===r||void 0===r||!r.writableObjectMode),readable:u,writable:d}),d&&(y(r,e=>{d=!1,e&&_(t,e),h(e)}),l._write=function(e,t,i){r.write(e,t)?i():n=i},l._final=function(e){r.end(),i=e},r.on("drain",function(){if(n){const e=n;n=null,e()}}),r.on("finish",function(){if(i){const e=i;i=null,e()}})),u&&(y(t,e=>{u=!1,e&&_(t,e),h(e)}),t.on("readable",function(){if(a){const e=a;a=null,e()}}),t.on("end",function(){l.push(null)}),l._read=function(){for(;;){const e=t.read();if(null===e)return void(a=l._read);if(!l.push(e))return}}),l._destroy=function(e,s){e||null===o||(e=new m),a=null,n=null,i=null,null===o?s(e):(o=s,_(r,e),_(t,e))},l}e.exports=function e(t,r){if(p(t))return t;if(d(t))return D({readable:t});if(h(t))return D({writable:t});if(u(t))return D({writable:!1,readable:!1});if(f(t))return D({readable:x.fromWeb(t)});if(g(t))return D({writable:S.fromWeb(t)});if("function"===typeof t){const{value:e,write:o,final:s,destroy:c}=function(e){let{promise:t,resolve:r}=T();const o=new P,s=o.signal,c=e(i(function*(){for(;;){const e=t;t=null;const{chunk:i,done:o,cb:c}=yield n(e);if(a.nextTick(c),o)return;if(s.aborted)throw new m(void 0,{cause:s.reason});({promise:t,resolve:r}=T()),yield i}})(),{signal:s});return{value:c,write(e,t,n){const i=r;r=null,i({chunk:e,done:!1,cb:n})},final(e){const t=r;r=null,t({done:!0,cb:e})},destroy(e,t){o.abort(),t(e)}}}(t);if(l(e))return O(j,e,{objectMode:!0,write:o,final:s,destroy:c});const u=null===e||void 0===e?void 0:e.then;if("function"===typeof u){let t;const r=N(u,e,e=>{if(null!=e)throw new b("nully","body",e)},e=>{_(t,e)});return t=new j({objectMode:!0,readable:!1,write:o,final(e){s(async()=>{try{await r,a.nextTick(e,null)}catch(t){a.nextTick(e,t)}})},destroy:c})}throw new b("Iterable, AsyncIterable or AsyncFunction",r,e)}if(A(t))return e(t.arrayBuffer());if(l(t))return O(j,t,{objectMode:!0,writable:!1});if(f(null===t||void 0===t?void 0:t.readable)&&g(null===t||void 0===t?void 0:t.writable))return j.fromWeb(t);if("object"===typeof(null===t||void 0===t?void 0:t.writable)||"object"===typeof(null===t||void 0===t?void 0:t.readable)){return D({readable:null!==t&&void 0!==t&&t.readable?d(null===t||void 0===t?void 0:t.readable)?null===t||void 0===t?void 0:t.readable:e(t.readable):void 0,writable:null!==t&&void 0!==t&&t.writable?h(null===t||void 0===t?void 0:t.writable)?null===t||void 0===t?void 0:t.writable:e(t.writable):void 0})}const o=null===t||void 0===t?void 0:t.then;if("function"===typeof o){let e;return N(o,t,t=>{null!=t&&e.push(t),e.push(null)},t=>{_(e,t)}),e=new j({objectMode:!0,writable:!1,read(){}})}throw new v(r,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],t)}},86190:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OverloadTree=void 0;const n=r(11032),i=r(124);class a{constructor(e,t){this.identifier=e,this.implementation=void 0,this.generalOverloads=Object.create(null),this.literalOverLoads=[],this.depth=null!==t&&void 0!==t?t:0,this.promotionCount=void 0}getSubtree(e){const t=(0,i.asGeneralType)(e);if(t)return this.generalOverloads[t];for(const[r,n]of this.literalOverLoads)if(e===r)return n}getImplementationExact(e){let t=this;for(const r of e)if(t=t.getSubtree(r),!t)return;return t.implementation}search(e,t,r){var i;let a=r[this.identifier],o=0;for(;o<e.length&&null!==(s=a)&&void 0!==s&&s.cache;){var s;const t=e[o],r=(0,n.isLiteralTermExpression)(t);a=a.cache[r?r.dataType:t.termType],o++}if(o===e.length&&null!==(i=a)&&void 0!==i&&i.func)return a.func;const c=[];if(0===e.length)return this.implementation;for(c.push(...this.getSubTreeWithArg(e[0],t).map(e=>({node:e,index:1})));c.length>0;){const{index:n,node:i}=c.pop();if(n===e.length&&i.implementation)return this.addToCache(r,e,i.implementation),i.implementation;c.push(...i.getSubTreeWithArg(e[n],t).map(e=>({node:e,index:n+1})))}}addToCache(e,t,r){function i(e,t){return t in e||(e[t]={}),e[t]}let a=i(e,this.identifier);for(const s of t){var o;const e=(0,n.isLiteralTermExpression)(s),t=e?e.dataType:s.termType;a.cache=null!==(o=a.cache)&&void 0!==o?o:{},a=i(a.cache,t)}a.func=r}addOverload(e,t){this._addOverload([...e],t,0)}_addOverload(e,t,r){const[n,...o]=e;if(!n)return void((void 0===this.promotionCount||r<=this.promotionCount)&&(this.promotionCount=r,this.implementation=t));let s=this.getSubtree(n);if(!s){const e=new a(this.identifier,this.depth+1),t=(0,i.asGeneralType)(n);t&&(this.generalOverloads[t]=e);const r=(0,i.asOverrideType)(n);r&&this.literalOverLoads.push([r,e]),s=e}if(s._addOverload(o,t,r),i.typePromotion[n])for(const a of i.typePromotion[n])this.addPromotedOverload(a.typeToPromote,t,a.conversionFunction,o,r)}addPromotedOverload(e,t,r,n,i){let o=this.getSubtree(e);if(!o){const t=new a(this.identifier,this.depth+1);this.literalOverLoads.push([e,t]),o=t}o._addOverload(n,e=>n=>t(e)([...n.slice(0,this.depth),r(n[this.depth]),...n.slice(this.depth+1,n.length)]),i+1)}getSubTreeWithArg(e,t){const r=[],a=(0,n.isLiteralTermExpression)(e);if(this.generalOverloads.term&&r.push(this.generalOverloads.term),this.generalOverloads[e.termType]&&r.push(this.generalOverloads[e.termType]),a){const e=(0,i.asKnownLiteralType)(a.dataType);let n;n=e?i.superTypeDictTable[e]:(0,i.getSuperTypes)(a.dataType,t);const o=this.literalOverLoads.filter(e=>{let[t,r]=e;return t in n}).map(e=>{let[t,r]=e;return[n[t],r]});o.sort((e,t)=>{let[r,n]=e,[i,a]=t;return r-i}),r.push(...o.map(e=>{let[t,r]=e;return r}))}return r}}t.OverloadTree=a},86231:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TERM_TYPES=void 0,t.uniqTerms=function(e){const t={};return e.filter(e=>{const r=(0,n.termToString)(e);return!(r in t)&&(t[r]=!0)})},t.getTermsOfType=i,t.getNamedNodes=function(e){return i(e,"NamedNode")},t.getBlankNodes=function(e){return i(e,"BlankNode")},t.getLiterals=function(e){return i(e,"Literal")},t.getVariables=function(e){return i(e,"Variable")},t.getDefaultGraphs=function(e){return i(e,"DefaultGraph")},t.getQuads=function(e){return i(e,"Quad")};const n=r(59347);function i(e,t){return e.filter(e=>e.termType===t)}t.TERM_TYPES=["NamedNode","BlankNode","Literal","Variable","DefaultGraph","Quad"]},86240:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(71506),t),i(r(84357),t),i(r(9536),t),i(r(9791),t),i(r(98800),t),i(r(57537),t),i(r(70784),t),i(r(61362),t),i(r(37440),t),i(r(18241),t)},86318:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExpressionFunctionLogicalOr=void 0;const n=r(11716),i=r(97824);class a extends n.ExpressionFunctionBase{constructor(){super({arity:2,operator:i.SparqlOperator.LOGICAL_OR,apply:async e=>{let{args:t,mapping:r,exprEval:n}=e;const[a,o]=t;try{const e=await n.evaluatorExpressionEvaluation(a,r);if(e.coerceEBV())return(0,i.bool)(!0);const t=(await n.evaluatorExpressionEvaluation(o,r)).coerceEBV();return(0,i.bool)(t)}catch(s){if(!(await n.evaluatorExpressionEvaluation(o,r)).coerceEBV())throw s;return(0,i.bool)(!0)}}})}}t.ExpressionFunctionLogicalOr=a},86735:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(16588),i=r(34498);t.default=function(e){const t=function(e){return Uint8Array.of((15&e[3])<<4|e[4]>>4&15,(15&e[4])<<4|(240&e[5])>>4,(15&e[5])<<4|15&e[6],e[7],(15&e[1])<<4|(240&e[2])>>4,(15&e[2])<<4|(240&e[3])>>4,16|(240&e[0])>>4,(15&e[0])<<4|(240&e[1])>>4,e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15])}("string"===typeof e?(0,n.default)(e):e);return"string"===typeof e?(0,i.unsafeStringify)(t):t}},86962:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermHours=void 0;const i=r(11716),a=r(97824),o=r(33625);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.HOURS],termFunction:!0}))}async run(e){return new o.TermFunctionHours}}t.ActorFunctionFactoryTermHours=s},87083:(e,t)=>{"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,a,o){return n((s=n(n(t,e),n(i,o)))<<(c=a)|s>>>32-c,r);var s,c}function a(e,t,r,n,a,o,s){return i(t&r|~t&n,e,t,a,o,s)}function o(e,t,r,n,a,o,s){return i(t&n|r&~n,e,t,a,o,s)}function s(e,t,r,n,a,o,s){return i(t^r^n,e,t,a,o,s)}function c(e,t,r,n,a,o,s){return i(r^(t|~n),e,t,a,o,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(e){const t=new Uint8Array(4*e.length);for(let r=0;r<4*e.length;r++)t[r]=e[r>>2]>>>r%4*8&255;return t}(function(e,t){const i=new Uint32Array(r(t)).fill(0);i.set(e),i[t>>5]|=128<<t%32,i[i.length-1]=t,e=i;let l=1732584193,u=-271733879,d=-1732584194,h=271733878;for(let r=0;r<e.length;r+=16){const t=l,i=u,p=d,f=h;l=a(l,u,d,h,e[r],7,-680876936),h=a(h,l,u,d,e[r+1],12,-389564586),d=a(d,h,l,u,e[r+2],17,606105819),u=a(u,d,h,l,e[r+3],22,-1044525330),l=a(l,u,d,h,e[r+4],7,-176418897),h=a(h,l,u,d,e[r+5],12,1200080426),d=a(d,h,l,u,e[r+6],17,-1473231341),u=a(u,d,h,l,e[r+7],22,-45705983),l=a(l,u,d,h,e[r+8],7,1770035416),h=a(h,l,u,d,e[r+9],12,-1958414417),d=a(d,h,l,u,e[r+10],17,-42063),u=a(u,d,h,l,e[r+11],22,-1990404162),l=a(l,u,d,h,e[r+12],7,1804603682),h=a(h,l,u,d,e[r+13],12,-40341101),d=a(d,h,l,u,e[r+14],17,-1502002290),u=a(u,d,h,l,e[r+15],22,1236535329),l=o(l,u,d,h,e[r+1],5,-165796510),h=o(h,l,u,d,e[r+6],9,-1069501632),d=o(d,h,l,u,e[r+11],14,643717713),u=o(u,d,h,l,e[r],20,-373897302),l=o(l,u,d,h,e[r+5],5,-701558691),h=o(h,l,u,d,e[r+10],9,38016083),d=o(d,h,l,u,e[r+15],14,-660478335),u=o(u,d,h,l,e[r+4],20,-405537848),l=o(l,u,d,h,e[r+9],5,568446438),h=o(h,l,u,d,e[r+14],9,-1019803690),d=o(d,h,l,u,e[r+3],14,-187363961),u=o(u,d,h,l,e[r+8],20,1163531501),l=o(l,u,d,h,e[r+13],5,-1444681467),h=o(h,l,u,d,e[r+2],9,-51403784),d=o(d,h,l,u,e[r+7],14,1735328473),u=o(u,d,h,l,e[r+12],20,-1926607734),l=s(l,u,d,h,e[r+5],4,-378558),h=s(h,l,u,d,e[r+8],11,-2022574463),d=s(d,h,l,u,e[r+11],16,1839030562),u=s(u,d,h,l,e[r+14],23,-35309556),l=s(l,u,d,h,e[r+1],4,-1530992060),h=s(h,l,u,d,e[r+4],11,1272893353),d=s(d,h,l,u,e[r+7],16,-155497632),u=s(u,d,h,l,e[r+10],23,-1094730640),l=s(l,u,d,h,e[r+13],4,681279174),h=s(h,l,u,d,e[r],11,-358537222),d=s(d,h,l,u,e[r+3],16,-722521979),u=s(u,d,h,l,e[r+6],23,76029189),l=s(l,u,d,h,e[r+9],4,-640364487),h=s(h,l,u,d,e[r+12],11,-421815835),d=s(d,h,l,u,e[r+15],16,530742520),u=s(u,d,h,l,e[r+2],23,-995338651),l=c(l,u,d,h,e[r],6,-198630844),h=c(h,l,u,d,e[r+7],10,1126891415),d=c(d,h,l,u,e[r+14],15,-1416354905),u=c(u,d,h,l,e[r+5],21,-57434055),l=c(l,u,d,h,e[r+12],6,1700485571),h=c(h,l,u,d,e[r+3],10,-1894986606),d=c(d,h,l,u,e[r+10],15,-1051523),u=c(u,d,h,l,e[r+1],21,-2054922799),l=c(l,u,d,h,e[r+8],6,1873313359),h=c(h,l,u,d,e[r+15],10,-30611744),d=c(d,h,l,u,e[r+6],15,-1560198380),u=c(u,d,h,l,e[r+13],21,1309151649),l=c(l,u,d,h,e[r+4],6,-145523070),h=c(h,l,u,d,e[r+11],10,-1120210379),d=c(d,h,l,u,e[r+2],15,718787259),u=c(u,d,h,l,e[r+9],21,-343485551),l=n(l,t),u=n(u,i),d=n(d,p),h=n(h,f)}return Uint32Array.of(l,u,d,h)}(function(e){if(0===e.length)return new Uint32Array;const t=new Uint32Array(r(8*e.length)).fill(0);for(let r=0;r<e.length;r++)t[r>>2]|=(255&e[r])<<r%4*8;return t}(e),8*e.length))}},87091:(e,t,r)=>{"use strict";var n=r(12897).default,i=r(53344).default,a=r(42958).default;const o=r(62285),{ArrayPrototypeIndexOf:s,NumberIsInteger:c,NumberIsNaN:l,NumberParseInt:u,ObjectDefineProperties:d,ObjectKeys:h,ObjectSetPrototypeOf:p,Promise:f,SafeSet:g,SymbolAsyncDispose:y,SymbolAsyncIterator:m,Symbol:v}=r(28931);e.exports=$,$.ReadableState=K;const{EventEmitter:b}=r(27284),{Stream:_,prependListener:w}=r(5220),{Buffer:x}=r(26382),{addAbortSignal:S}=r(78528),T=r(20227);let O=r(91887).debuglog("stream",e=>{O=e});const E=r(97044),A=r(36725),{getHighWaterMark:P,getDefaultHighWaterMark:N}=r(68550),{aggregateTwoErrors:j,codes:{ERR_INVALID_ARG_TYPE:D,ERR_METHOD_NOT_IMPLEMENTED:R,ERR_OUT_OF_RANGE:I,ERR_STREAM_PUSH_AFTER_EOF:F,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:C},AbortError:M}=r(60056),{validateObject:k}=r(8870),L=v("kPaused"),{StringDecoder:B}=r(78694),U=r(96151);p($.prototype,_.prototype),p($,_);const V=()=>{},{errorOrDestroy:z}=A,q=1,Q=16,G=32,H=2048,W=4096;function X(e){return{enumerable:!1,get(){return 0!==(this.state&e)},set(t){t?this.state|=e:this.state&=~e}}}function K(e,t,n){"boolean"!==typeof n&&(n=t instanceof r(82781)),this.state=H|W|Q|G,e&&e.objectMode&&(this.state|=q),n&&e&&e.readableObjectMode&&(this.state|=q),this.highWaterMark=e?P(this,e,"readableHighWaterMark",n):N(!1),this.buffer=new E,this.length=0,this.pipes=[],this.flowing=null,this[L]=null,e&&!1===e.emitClose&&(this.state&=~H),e&&!1===e.autoDestroy&&(this.state&=~W),this.errored=null,this.defaultEncoding=e&&e.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,e&&e.encoding&&(this.decoder=new B(e.encoding),this.encoding=e.encoding)}function $(e){if(!(this instanceof $))return new $(e);const t=this instanceof r(82781);this._readableState=new K(e,this,t),e&&("function"===typeof e.read&&(this._read=e.read),"function"===typeof e.destroy&&(this._destroy=e.destroy),"function"===typeof e.construct&&(this._construct=e.construct),e.signal&&!t&&S(e.signal,this)),_.call(this,e),A.construct(this,()=>{this._readableState.needReadable&&re(this,this._readableState)})}function Y(e,t,r,n){O("readableAddChunk",t);const i=e._readableState;let a;if(0===(i.state&q)&&("string"===typeof t?(r=r||i.defaultEncoding,i.encoding!==r&&(n&&i.encoding?t=x.from(t,r).toString(i.encoding):(t=x.from(t,r),r=""))):t instanceof x?r="":_._isUint8Array(t)?(t=_._uint8ArrayToBuffer(t),r=""):null!=t&&(a=new D("chunk",["string","Buffer","Uint8Array"],t))),a)z(e,a);else if(null===t)i.state&=-9,function(e,t){if(O("onEofChunk"),t.ended)return;if(t.decoder){const e=t.decoder.end();e&&e.length&&(t.buffer.push(e),t.length+=t.objectMode?1:e.length)}t.ended=!0,t.sync?ee(e):(t.needReadable=!1,t.emittedReadable=!0,te(e))}(e,i);else if(0!==(i.state&q)||t&&t.length>0)if(n)if(0!==(4&i.state))z(e,new C);else{if(i.destroyed||i.errored)return!1;J(e,i,t,!0)}else if(i.ended)z(e,new F);else{if(i.destroyed||i.errored)return!1;i.state&=-9,i.decoder&&!r?(t=i.decoder.write(t),i.objectMode||0!==t.length?J(e,i,t,!1):re(e,i)):J(e,i,t,!1)}else n||(i.state&=-9,re(e,i));return!i.ended&&(i.length<i.highWaterMark||0===i.length)}function J(e,t,r,n){t.flowing&&0===t.length&&!t.sync&&e.listenerCount("data")>0?(0!==(65536&t.state)?t.awaitDrainWriters.clear():t.awaitDrainWriters=null,t.dataEmitted=!0,e.emit("data",r)):(t.length+=t.objectMode?1:r.length,n?t.buffer.unshift(r):t.buffer.push(r),0!==(64&t.state)&&ee(e)),re(e,t)}d(K.prototype,{objectMode:X(q),ended:X(2),endEmitted:X(4),reading:X(8),constructed:X(Q),sync:X(G),needReadable:X(64),emittedReadable:X(128),readableListening:X(256),resumeScheduled:X(512),errorEmitted:X(1024),emitClose:X(H),autoDestroy:X(W),destroyed:X(8192),closed:X(16384),closeEmitted:X(32768),multiAwaitDrain:X(65536),readingMore:X(1<<17),dataEmitted:X(1<<18)}),$.prototype.destroy=A.destroy,$.prototype._undestroy=A.undestroy,$.prototype._destroy=function(e,t){t(e)},$.prototype[b.captureRejectionSymbol]=function(e){this.destroy(e)},$.prototype[y]=function(){let e;return this.destroyed||(e=this.readableEnded?null:new M,this.destroy(e)),new f((t,r)=>T(this,n=>n&&n!==e?r(n):t(null)))},$.prototype.push=function(e,t){return Y(this,e,t,!1)},$.prototype.unshift=function(e,t){return Y(this,e,t,!0)},$.prototype.isPaused=function(){const e=this._readableState;return!0===e[L]||!1===e.flowing},$.prototype.setEncoding=function(e){const t=new B(e);this._readableState.decoder=t,this._readableState.encoding=this._readableState.decoder.encoding;const r=this._readableState.buffer;let n="";for(const i of r)n+=t.write(i);return r.clear(),""!==n&&r.push(n),this._readableState.length=n.length,this};function Z(e,t){return e<=0||0===t.length&&t.ended?0:0!==(t.state&q)?1:l(e)?t.flowing&&t.length?t.buffer.first().length:t.length:e<=t.length?e:t.ended?t.length:0}function ee(e){const t=e._readableState;O("emitReadable",t.needReadable,t.emittedReadable),t.needReadable=!1,t.emittedReadable||(O("emitReadable",t.flowing),t.emittedReadable=!0,o.nextTick(te,e))}function te(e){const t=e._readableState;O("emitReadable_",t.destroyed,t.length,t.ended),t.destroyed||t.errored||!t.length&&!t.ended||(e.emit("readable"),t.emittedReadable=!1),t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark,se(e)}function re(e,t){!t.readingMore&&t.constructed&&(t.readingMore=!0,o.nextTick(ne,e,t))}function ne(e,t){for(;!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&0===t.length);){const r=t.length;if(O("maybeReadMore read 0"),e.read(0),r===t.length)break}t.readingMore=!1}function ie(e){const t=e._readableState;t.readableListening=e.listenerCount("readable")>0,t.resumeScheduled&&!1===t[L]?t.flowing=!0:e.listenerCount("data")>0?e.resume():t.readableListening||(t.flowing=null)}function ae(e){O("readable nexttick read 0"),e.read(0)}function oe(e,t){O("resume",t.reading),t.reading||e.read(0),t.resumeScheduled=!1,e.emit("resume"),se(e),t.flowing&&!t.reading&&e.read(0)}function se(e){const t=e._readableState;for(O("flow",t.flowing);t.flowing&&null!==e.read(););}function ce(e,t){"function"!==typeof e.read&&(e=$.wrap(e,{objectMode:!0}));const r=function(e,t){return le.apply(this,arguments)}(e,t);return r.stream=e,r}function le(){return(le=a(function*(e,t){let r,n=V;function a(t){this===e?(n(),n=V):n=t}e.on("readable",a);const o=T(e,{writable:!1},e=>{r=e?j(r,e):null,n(),n=V});try{for(;;){const t=e.destroyed?null:e.read();if(null!==t)yield t;else{if(r)throw r;if(null===r)return;yield i(new f(a))}}}catch(s){throw r=j(r,s),r}finally{!r&&!1===(null===t||void 0===t?void 0:t.destroyOnReturn)||void 0!==r&&!e._readableState.autoDestroy?(e.off("readable",a),o()):A.destroyer(e,null)}})).apply(this,arguments)}function ue(e,t){if(0===t.length)return null;let r;return t.objectMode?r=t.buffer.shift():!e||e>=t.length?(r=t.decoder?t.buffer.join(""):1===t.buffer.length?t.buffer.first():t.buffer.concat(t.length),t.buffer.clear()):r=t.buffer.consume(e,t.decoder),r}function de(e){const t=e._readableState;O("endReadable",t.endEmitted),t.endEmitted||(t.ended=!0,o.nextTick(he,t,e))}function he(e,t){if(O("endReadableNT",e.endEmitted,e.length),!e.errored&&!e.closeEmitted&&!e.endEmitted&&0===e.length)if(e.endEmitted=!0,t.emit("end"),t.writable&&!1===t.allowHalfOpen)o.nextTick(pe,t);else if(e.autoDestroy){const e=t._writableState;(!e||e.autoDestroy&&(e.finished||!1===e.writable))&&t.destroy()}}function pe(e){e.writable&&!e.writableEnded&&!e.destroyed&&e.end()}let fe;function ge(){return void 0===fe&&(fe={}),fe}$.prototype.read=function(e){O("read",e),void 0===e?e=NaN:c(e)||(e=u(e,10));const t=this._readableState,r=e;if(e>t.highWaterMark&&(t.highWaterMark=function(e){if(e>1073741824)throw new I("size","<= 1GiB",e);return e--,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,++e}(e)),0!==e&&(t.state&=-129),0===e&&t.needReadable&&((0!==t.highWaterMark?t.length>=t.highWaterMark:t.length>0)||t.ended))return O("read: emitReadable",t.length,t.ended),0===t.length&&t.ended?de(this):ee(this),null;if(0===(e=Z(e,t))&&t.ended)return 0===t.length&&de(this),null;let n,i=0!==(64&t.state);if(O("need readable",i),(0===t.length||t.length-e<t.highWaterMark)&&(i=!0,O("length less than watermark",i)),t.ended||t.reading||t.destroyed||t.errored||!t.constructed)i=!1,O("reading, ended or constructing",i);else if(i){O("do read"),t.state|=8|G,0===t.length&&(t.state|=64);try{this._read(t.highWaterMark)}catch(a){z(this,a)}t.state&=~G,t.reading||(e=Z(r,t))}return n=e>0?ue(e,t):null,null===n?(t.needReadable=t.length<=t.highWaterMark,e=0):(t.length-=e,t.multiAwaitDrain?t.awaitDrainWriters.clear():t.awaitDrainWriters=null),0===t.length&&(t.ended||(t.needReadable=!0),r!==e&&t.ended&&de(this)),null===n||t.errorEmitted||t.closeEmitted||(t.dataEmitted=!0,this.emit("data",n)),n},$.prototype._read=function(e){throw new R("_read()")},$.prototype.pipe=function(e,t){const r=this,n=this._readableState;1===n.pipes.length&&(n.multiAwaitDrain||(n.multiAwaitDrain=!0,n.awaitDrainWriters=new g(n.awaitDrainWriters?[n.awaitDrainWriters]:[]))),n.pipes.push(e),O("pipe count=%d opts=%j",n.pipes.length,t);const i=(!t||!1!==t.end)&&e!==o.stdout&&e!==o.stderr?s:y;function a(t,i){O("onunpipe"),t===r&&i&&!1===i.hasUnpiped&&(i.hasUnpiped=!0,function(){O("cleanup"),e.removeListener("close",p),e.removeListener("finish",f),c&&e.removeListener("drain",c);e.removeListener("error",h),e.removeListener("unpipe",a),r.removeListener("end",s),r.removeListener("end",y),r.removeListener("data",d),l=!0,c&&n.awaitDrainWriters&&(!e._writableState||e._writableState.needDrain)&&c()}())}function s(){O("onend"),e.end()}let c;n.endEmitted?o.nextTick(i):r.once("end",i),e.on("unpipe",a);let l=!1;function u(){l||(1===n.pipes.length&&n.pipes[0]===e?(O("false write response, pause",0),n.awaitDrainWriters=e,n.multiAwaitDrain=!1):n.pipes.length>1&&n.pipes.includes(e)&&(O("false write response, pause",n.awaitDrainWriters.size),n.awaitDrainWriters.add(e)),r.pause()),c||(c=function(e,t){return function(){const r=e._readableState;r.awaitDrainWriters===t?(O("pipeOnDrain",1),r.awaitDrainWriters=null):r.multiAwaitDrain&&(O("pipeOnDrain",r.awaitDrainWriters.size),r.awaitDrainWriters.delete(t)),r.awaitDrainWriters&&0!==r.awaitDrainWriters.size||!e.listenerCount("data")||e.resume()}}(r,e),e.on("drain",c))}function d(t){O("ondata");const r=e.write(t);O("dest.write",r),!1===r&&u()}function h(t){if(O("onerror",t),y(),e.removeListener("error",h),0===e.listenerCount("error")){const r=e._writableState||e._readableState;r&&!r.errorEmitted?z(e,t):e.emit("error",t)}}function p(){e.removeListener("finish",f),y()}function f(){O("onfinish"),e.removeListener("close",p),y()}function y(){O("unpipe"),r.unpipe(e)}return r.on("data",d),w(e,"error",h),e.once("close",p),e.once("finish",f),e.emit("pipe",r),!0===e.writableNeedDrain?u():n.flowing||(O("pipe resume"),r.resume()),e},$.prototype.unpipe=function(e){const t=this._readableState;if(0===t.pipes.length)return this;if(!e){const e=t.pipes;t.pipes=[],this.pause();for(let t=0;t<e.length;t++)e[t].emit("unpipe",this,{hasUnpiped:!1});return this}const r=s(t.pipes,e);return-1===r||(t.pipes.splice(r,1),0===t.pipes.length&&this.pause(),e.emit("unpipe",this,{hasUnpiped:!1})),this},$.prototype.on=function(e,t){const r=_.prototype.on.call(this,e,t),n=this._readableState;return"data"===e?(n.readableListening=this.listenerCount("readable")>0,!1!==n.flowing&&this.resume()):"readable"===e&&(n.endEmitted||n.readableListening||(n.readableListening=n.needReadable=!0,n.flowing=!1,n.emittedReadable=!1,O("on readable",n.length,n.reading),n.length?ee(this):n.reading||o.nextTick(ae,this))),r},$.prototype.addListener=$.prototype.on,$.prototype.removeListener=function(e,t){const r=_.prototype.removeListener.call(this,e,t);return"readable"===e&&o.nextTick(ie,this),r},$.prototype.off=$.prototype.removeListener,$.prototype.removeAllListeners=function(e){const t=_.prototype.removeAllListeners.apply(this,arguments);return"readable"!==e&&void 0!==e||o.nextTick(ie,this),t},$.prototype.resume=function(){const e=this._readableState;return e.flowing||(O("resume"),e.flowing=!e.readableListening,function(e,t){t.resumeScheduled||(t.resumeScheduled=!0,o.nextTick(oe,e,t))}(this,e)),e[L]=!1,this},$.prototype.pause=function(){return O("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(O("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[L]=!0,this},$.prototype.wrap=function(e){let t=!1;e.on("data",r=>{!this.push(r)&&e.pause&&(t=!0,e.pause())}),e.on("end",()=>{this.push(null)}),e.on("error",e=>{z(this,e)}),e.on("close",()=>{this.destroy()}),e.on("destroy",()=>{this.destroy()}),this._read=()=>{t&&e.resume&&(t=!1,e.resume())};const r=h(e);for(let n=1;n<r.length;n++){const t=r[n];void 0===this[t]&&"function"===typeof e[t]&&(this[t]=e[t].bind(e))}return this},$.prototype[m]=function(){return ce(this)},$.prototype.iterator=function(e){return void 0!==e&&k(e,"options"),ce(this,e)},d($.prototype,{readable:{__proto__:null,get(){const e=this._readableState;return!!e&&!1!==e.readable&&!e.destroyed&&!e.errorEmitted&&!e.endEmitted},set(e){this._readableState&&(this._readableState.readable=!!e)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!(!1===this._readableState.readable||!this._readableState.destroyed&&!this._readableState.errored||this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(e){this._readableState&&(this._readableState.flowing=e)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.objectMode}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return!!this._readableState&&this._readableState.closed}},destroyed:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.destroyed},set(e){this._readableState&&(this._readableState.destroyed=e)}},readableEnded:{__proto__:null,enumerable:!1,get(){return!!this._readableState&&this._readableState.endEmitted}}}),d(K.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return!1!==this[L]},set(e){this[L]=!!e}}}),$._fromList=ue,$.from=function(e,t){return U($,e,t)},$.fromWeb=function(e,t){return ge().newStreamReadableFromReadableStream(e,t)},$.toWeb=function(e,t){return ge().newReadableStreamFromStreamReadable(e,t)},$.wrap=function(e,t){var r,i;return new $(n(n({objectMode:null===(r=null!==(i=e.readableObjectMode)&&void 0!==i?i:e.objectMode)||void 0===r||r},t),{},{destroy(t,r){A.destroyer(e,t),r(t)}})).wrap(e)}},87364:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(98756),t)},87495:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(19260),t)},87555:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperationJoinConnected=void 0;const i=r(49065),a=r(52840),o=r(13953),s=r(85160);class c extends i.ActorOptimizeQueryOperation{async test(e){return(0,o.passTestVoid)()}async run(e){const t=e.context.getSafe(a.KeysInitQuery.dataFactory),r=new s.Factory(t);return{operation:s.Util.mapOperation(e.operation,{join:(e,t)=>({recurse:!1,result:c.cluster(e,t)})},r),context:e.context}}static cluster(e,t){let r,n=e.input.map(e=>({inScopeVariables:Object.fromEntries(s.Util.inScopeVariables(e).map(e=>[e.value,!0])),entries:[e]}));do{r=n,n=c.clusterIteration(r)}while(r.length!==n.length);const i=n.map(e=>1===e.entries.length?e.entries[0]:t.createJoin(e.entries));return 1===i.length?i[0]:t.createJoin(i,!1)}static clusterIteration(e){const t=[];for(const r of e){let e=!1;for(const i of t)if(c.haveOverlappingVariables(r.inScopeVariables,i.inScopeVariables)){i.entries=[...i.entries,...r.entries],i.inScopeVariables=n(n({},i.inScopeVariables),r.inScopeVariables),e=!0;break}e||t.push({inScopeVariables:r.inScopeVariables,entries:r.entries})}return t}static haveOverlappingVariables(e,t){for(const r of Object.keys(e))if(t[r])return!0;return!1}}t.ActorOptimizeQueryOperationJoinConnected=c},87792:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(65659),t)},87794:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.StreamingStoreMetadata=void 0;const i=r(82956),a=r(66179),o=r(16261);class s extends o.StreamingStore{constructor(e,t,r){super(e),this.started=!1,this.containedSources=new Set,this.runningIterators=new Set,this.iteratorCreatedListeners=new Set,this.baseMetadata={state:new a.MetadataValidationState,cardinality:{type:"exact",value:0},variables:[]},this.metadataAccumulator=t,this.emitPartialCardinalities=r}import(e){return this.ended||super.import(e),e}hasRunningIterators(){return this.runningIterators.size>0}match(e,t,r,n){const o=super.match(e,t,r,n),s=new i.ClosableTransformIterator(o,{autoStart:!1,onClose:()=>{this.runningIterators.delete(s)}});let c=this.getStore().countQuads(e,t,r,n);const l={state:new a.MetadataValidationState,cardinality:{type:"estimate",value:c}};s.setProperty("metadata",l),s.setProperty("lastCount",c),this.emitPartialCardinalities&&o.on("quad",()=>{s.setProperty("lastCount",++c),this.updateMetadataState(s,c)}),this.runningIterators.add(s);for(const i of this.iteratorCreatedListeners)i();return s}setBaseMetadata(e,t){if(this.baseMetadata=n({},e),this.baseMetadata.cardinality={type:"exact",value:0},t)for(const r of this.runningIterators){const e=r.getProperty("lastCount");this.updateMetadataState(r,e)}}updateMetadataState(e,t){const r={state:new a.MetadataValidationState,cardinality:{type:"estimate",value:t},variables:[]};this.metadataAccumulator(this.baseMetadata,r).then(t=>{t.state=new a.MetadataValidationState;const r=e.getProperty("metadata");e.setProperty("metadata",t),null===r||void 0===r||r.state.invalidate()}).catch(()=>{})}addIteratorCreatedListener(e){this.iteratorCreatedListeners.add(e)}removeIteratorCreatedListener(e){this.iteratorCreatedListeners.delete(e)}}t.StreamingStoreMetadata=s},87911:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorHashQuadsMurmur=void 0;const n=r(23634),i=r(13953),a=r(17860);class o extends n.ActorHashQuads{async test(e){return(0,i.passTestVoid)()}async run(e){return{hashFunction:e=>{const t=a(e.subject.value);return t.hash(e.predicate.value),t.hash(e.object.value),t.hash(e.graph.value),t.result()}}}}t.ActorHashQuadsMurmur=o},87945:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(30234),t)},88483:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(38550),t)},88511:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeHandlerSelectionAdapter=void 0;const n=r(85160),i=r(68676),a=r(16703);class o extends a.NodeHandlerAdapter{constructor(e,t,r){super(e,t,r)}getNodeQuadContextFieldNode(e,t,r){return this.getNodeQuadContextSelectionSet(e.selectionSet,t,Object.assign(Object.assign({},r),{path:this.util.appendFieldToPath(r.path,t)}))}fieldToOperation(e,t,r,a){const o=r;let s,c=0;if(("id"===t.name.value||"graph"===t.name.value)&&(r=!1,t.arguments))for(const n of t.arguments)"_"===n.name.value&&this.util.handleNodeValue(n.value,t.name.value,e);const l=this.util.getFieldLabel(t);if(e.singularizeState===i.SingularizeState.SINGLE&&(e.singularizeVariables[this.util.nameToVariable(l,e).value]=!0),r){const t=this.handleMetaField(e,l,a);if(t)return t}const u=a?[this.util.operationFactory.createBgp(a)]:[],d=this.getNodeQuadContextFieldNode(t,l,e);let h=d.subject||this.util.nameToVariable(l,e),p=d.graph||e.graph;d.auxiliaryPatterns&&u.push(this.util.operationFactory.createBgp(d.auxiliaryPatterns));let f=!0,g=null;if(r&&t.arguments&&t.arguments.length)for(const n of t.arguments){if("_"===n.name.value){const i=this.util.handleNodeValue(n.value,t.name.value,e);g=i.terms,u.push(this.util.operationFactory.createBgp(i.terms.map(r=>this.util.createQuadPattern(e.subject,t.name,r,e.graph,e.context)))),i.auxiliaryPatterns&&u.push(this.util.operationFactory.createBgp(i.auxiliaryPatterns)),r=!1;break}if("graph"===n.name.value){const r=this.util.handleNodeValue(n.value,t.name.value,e);if(1!==r.terms.length)throw new Error("Only single values can be set as graph, but got ".concat(r.terms.length," at ").concat(t.name.value));p=r.terms[0],e=Object.assign(Object.assign({},e),{graph:p}),r.auxiliaryPatterns&&u.push(this.util.operationFactory.createBgp(r.auxiliaryPatterns));break}if("alt"===n.name.value){let r=n.value;"ListValue"!==r.kind&&(r={kind:"ListValue",values:[r]}),u.push(this.util.createQuadPath(e.subject,t.name,r,h,e.graph,e.context)),f=!1;break}}if(r&&f&&u.push(this.util.operationFactory.createBgp([this.util.createQuadPattern(e.subject,t.name,h,e.graph,e.context)])),t.arguments&&t.arguments.length)for(const n of t.arguments)if("_"===n.name.value||"graph"===n.name.value||"alt"===n.name.value);else if("first"===n.name.value){if("IntValue"!==n.value.kind)throw new Error("Invalid value type for 'first' argument: "+n.value.kind);s=parseInt(n.value.value,10)}else if("offset"===n.name.value){if("IntValue"!==n.value.kind)throw new Error("Invalid value type for 'offset' argument: "+n.value.kind);c=parseInt(n.value.value,10)}else{const t=this.util.handleNodeValue(n.value,n.name.value,e);u.push(this.util.operationFactory.createBgp(t.terms.map(t=>this.util.createQuadPattern(h,n.name,t,e.graph,e.context)))),t.auxiliaryPatterns&&u.push(this.util.operationFactory.createBgp(t.auxiliaryPatterns))}const y=this.getDirectiveOutputs(t.directives,l,e);if(!y)return this.util.operationFactory.createBgp([]);let m=this.util.joinOperations(u);if(t.selectionSet&&t.selectionSet.selections.length){if(g){if(1!==g.length)throw new Error("Only single values can be set as id, but got ".concat(g.length," at ").concat(t.name.value));h=g[0]}const r=Object.assign(Object.assign(Object.assign({},e),o?{path:this.util.appendFieldToPath(e.path,l)}:{}),{graph:p,subject:o?h:e.subject});let n=!1;const i=t.selectionSet.selections.filter(e=>"Field"!==e.kind||"totalCount"!==e.name.value||(n=!0,!1));let a=this.util.joinOperations(u.concat(i.map(e=>this.util.handleNode(e,r))));if(n){const t=this.util.dataFactory.variable("var"+this.settings.expressionVariableCounter++),r=this.util.dataFactory.variable(h.value+this.settings.variableDelimiter+"totalCount"),n=this.util.operationFactory.createBoundAggregate(t,"count",this.util.operationFactory.createTermExpression(h),!1),o=this.util.operationFactory.createProject(this.util.operationFactory.createExtend(this.util.operationFactory.createGroup(m,[],[n]),r,this.util.operationFactory.createTermExpression(t)),[r]);e.terminalVariables.push(r),a=i.length?this.util.operationFactory.createJoin([this.util.operationFactory.createProject(a,[]),o]):o}m=a}else r&&"Variable"===h.termType&&e.terminalVariables.push(h);return(c||s)&&(m=this.util.operationFactory.createSlice(this.util.operationFactory.createProject(m,n.Util.inScopeVariables(m)),c,s)),this.handleDirectiveOutputs(y,m)}handleMetaField(e,t,r){if("__typename"===t){const n=this.util.nameToVariable(t,e);return e.terminalVariables.push(n),this.util.operationFactory.createBgp([this.util.operationFactory.createPattern(e.subject,this.util.dataFactory.namedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),this.util.nameToVariable(t,e),e.graph)].concat(r||[]))}}}t.NodeHandlerSelectionAdapter=o},88514:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(42e3),t),i(r(83736),t),i(r(13243),t),i(r(55065),t),i(r(21123),t),i(r(83119),t),i(r(61424),t)},88776:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryResultSerializeTable=void 0;const n=r(16746),i=r(52840),a=r(13953),o=r(45494),s=r(57078),c=r(94051);class l extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e),this.padding=l.repeat(" ",this.columnWidth)}static repeat(e,t){return e.repeat(t)}async testHandleChecked(e,t){return["bindings","quads"].includes(e.type)?(0,a.passTestVoid)():(0,a.failTest)("This actor can only handle bindings or quad streams.")}termToString(e){return"Quad"===e.termType?(0,o.termToString)(e):e.value}pad(e){return e.length<=this.columnWidth?e+this.padding.slice(e.length):"".concat(e.slice(0,this.columnWidth-1),"\u2026")}pushHeader(e,t){const r=t.map(e=>this.pad(e.value)).join(" ");e.push("".concat(r,"\n").concat(l.repeat("-",r.length),"\n"))}createRow(e,t){return"".concat(e.map(e=>t.has(e)?this.termToString(t.get(e)):"").map(e=>this.pad(e)).join(" "),"\n")}async runHandle(e,t,r){const n=new c.Readable;let a;if("bindings"===e.type){a=e.bindingsStream.map(e=>this.createRow(t,e));const t=(await e.metadata()).variables.map(e=>e.variable);this.pushHeader(n,t)}else{a=e.quadStream.map(e=>"".concat((0,s.getTerms)(e).map(e=>this.pad(this.termToString(e))).join(" "),"\n"));const t=e.context.getSafe(i.KeysInitQuery.dataFactory);this.pushHeader(n,s.QUAD_TERM_NAMES.map(e=>t.variable(e)))}return n.wrap(a),{data:n}}}t.ActorQueryResultSerializeTable=l},88783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MediatorJoinCoefficientsFixed=void 0;const n=r(52840),i=r(13953);class a extends i.Mediator{constructor(e){super(e)}async mediateWith(e,t){const r=[],a=t.map(e=>{let{reply:t}=e;return t}),o=(await Promise.all(a)).map(e=>{if(!e.isFailed())return{value:e.get(),sideData:e.getSideData()};r.push(e.getFailMessage())});let s=o.map(e=>{if(e)return e.value.iterations*this.cpuWeight+e.value.persistedItems*this.memoryWeight+e.value.blockingItems*this.timeWeight+e.value.requestTime*this.ioWeight});const c=Math.max(...s.filter(e=>void 0!==e)),l=e.context.get(n.KeysQueryOperation.limitIndicator);l&&(s=s.map((e,t)=>{var r,n;return void 0!==e&&(null===(r=o[t])||void 0===r?void 0:r.value).blockingItems>0&&(null===(n=o[t])||void 0===n?void 0:n.value).iterations>l?e+c:e}));let u=-1,d=Number.POSITIVE_INFINITY;for(const[n,i]of s.entries())void 0!==i&&(-1===u||i<d)&&(u=n,d=i);if(u<0)return(0,i.failTest)(this.constructFailureMessage(e,r));const h=t[u].actor;var p;h.includeInLogs&&(null===(p=i.Actor.getContextLogger(e.context))||void 0===p||p.debug("Determined physical join operator '".concat(h.logicalType,"-").concat(h.physicalName,"'"),{entries:e.entries.length,variables:await Promise.all(e.entries.map(async e=>(await e.output.metadata()).variables.map(e=>e.variable.value))),costs:Object.fromEntries(s.map((e,r)=>["".concat(t[r].actor.logicalType,"-").concat(t[r].actor.physicalName),e]).filter(e=>void 0!==e[1])),coefficients:Object.fromEntries(o.map((e,r)=>["".concat(t[r].actor.logicalType,"-").concat(t[r].actor.physicalName),null===e||void 0===e?void 0:e.value]).filter(e=>void 0!==e[1]))}));return(0,i.passTestWithSideData)(h,o[u].sideData)}}t.MediatorJoinCoefficientsFixed=a},88786:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(84344),t)},88846:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(94270),t)},89005:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryProcess=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e)}}t.ActorQueryProcess=i},89045:(e,t,r)=>{var n=r(73738).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},89146:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryResultSerializeSimple=void 0;const n=r(16746),i=r(13953),a=r(72758),o=r(45494),s=r(94051);class c extends n.ActorQueryResultSerializeFixedMediaTypes{constructor(e){super(e)}async testHandleChecked(e,t){return["bindings","quads","boolean","void"].includes(e.type)?(0,i.passTestVoid)():(0,i.failTest)("This actor can only handle bindings streams, quad streams, booleans, or updates.")}static termToString(e){return"Quad"===e.termType?(0,o.termToString)(e):e.value}async runHandle(e,t,r){const n=new s.Readable;return"bindings"===e.type?n.wrap(e.bindingsStream.map(e=>"".concat([...e].map(e=>{let[t,r]=e;return"?".concat(t.value,": ").concat(c.termToString(r))}).join("\n"),"\n\n"))):"quads"===e.type?n.wrap(e.quadStream.map(e=>"subject: ".concat(c.termToString(e.subject),"\n")+"predicate: ".concat(c.termToString(e.predicate),"\n")+"object: ".concat(c.termToString(e.object),"\n")+"graph: ".concat(c.termToString(e.graph),"\n\n"))):n.wrap((0,a.wrap)("boolean"===e.type?e.execute().then(e=>["".concat(e,"\n")]):e.execute().then(()=>["ok\n"]))),{data:n}}}t.ActorQueryResultSerializeSimple=c},89266:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(25957),t),i(r(35661),t),i(r(49275),t),i(r(55923),t),i(r(28909),t)},89465:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SparqlOperator=t.TypeURL=t.typedLiteral=t.TypeAlias=void 0;const n=r(92832);var i;!function(e){e.SPARQL_NUMERIC="SPARQL_NUMERIC",e.SPARQL_STRINGLY="SPARQL_STRINGLY"}(i||(t.TypeAlias=i={}));const a=new n.DataFactory;var o,s;t.typedLiteral=function(e,t){return a.literal(e,a.namedNode(t))},function(e){e.XSD_ANY_URI="http://www.w3.org/2001/XMLSchema#anyURI",e.XSD_STRING="http://www.w3.org/2001/XMLSchema#string",e.RDF_LANG_STRING="http://www.w3.org/1999/02/22-rdf-syntax-ns#langString",e.XSD_BOOLEAN="http://www.w3.org/2001/XMLSchema#boolean",e.XSD_DATE_TIME="http://www.w3.org/2001/XMLSchema#dateTime",e.XSD_DATE_TIME_STAMP="http://www.w3.org/2001/XMLSchema#dateTimeStamp",e.XSD_DATE="http://www.w3.org/2001/XMLSchema#date",e.XSD_G_MONTH="http://www.w3.org/2001/XMLSchema#gMonth",e.XSD_G_MONTHDAY="http://www.w3.org/2001/XMLSchema#gMonthDay",e.XSD_G_YEAR="http://www.w3.org/2001/XMLSchema#gYear",e.XSD_G_YEAR_MONTH="http://www.w3.org/2001/XMLSchema#gYearMonth",e.XSD_TIME="http://www.w3.org/2001/XMLSchema#time",e.XSD_G_DAY="http://www.w3.org/2001/XMLSchema#gDay",e.XSD_DECIMAL="http://www.w3.org/2001/XMLSchema#decimal",e.XSD_FLOAT="http://www.w3.org/2001/XMLSchema#float",e.XSD_DOUBLE="http://www.w3.org/2001/XMLSchema#double",e.XSD_INTEGER="http://www.w3.org/2001/XMLSchema#integer",e.XSD_NON_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonPositiveInteger",e.XSD_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#negativeInteger",e.XSD_LONG="http://www.w3.org/2001/XMLSchema#long",e.XSD_INT="http://www.w3.org/2001/XMLSchema#int",e.XSD_SHORT="http://www.w3.org/2001/XMLSchema#short",e.XSD_BYTE="http://www.w3.org/2001/XMLSchema#byte",e.XSD_NON_NEGATIVE_INTEGER="http://www.w3.org/2001/XMLSchema#nonNegativeInteger",e.XSD_POSITIVE_INTEGER="http://www.w3.org/2001/XMLSchema#positiveInteger",e.XSD_UNSIGNED_LONG="http://www.w3.org/2001/XMLSchema#unsignedLong",e.XSD_UNSIGNED_INT="http://www.w3.org/2001/XMLSchema#unsignedInt",e.XSD_UNSIGNED_SHORT="http://www.w3.org/2001/XMLSchema#unsignedShort",e.XSD_UNSIGNED_BYTE="http://www.w3.org/2001/XMLSchema#unsignedByte",e.XSD_NORMALIZED_STRING="http://www.w3.org/2001/XMLSchema#normalizedString",e.XSD_TOKEN="http://www.w3.org/2001/XMLSchema#token",e.XSD_LANGUAGE="http://www.w3.org/2001/XMLSchema#language",e.XSD_NM_TOKEN="http://www.w3.org/2001/XMLSchema#NMTOKEN",e.XSD_NAME="http://www.w3.org/2001/XMLSchema#name",e.XSD_NC_NAME="http://www.w3.org/2001/XMLSchema#NCName",e.XSD_ENTITY="http://www.w3.org/2001/XMLSchema#ENTITY",e.XSD_ID="http://www.w3.org/2001/XMLSchema#ID",e.XSD_ID_REF="http://www.w3.org/2001/XMLSchema#IDREF",e.XSD_DURATION="http://www.w3.org/2001/XMLSchema#duration",e.XSD_YEAR_MONTH_DURATION="http://www.w3.org/2001/XMLSchema#yearMonthDuration",e.XSD_DAY_TIME_DURATION="http://www.w3.org/2001/XMLSchema#dayTimeDuration",e.XSD_UNTYPED_ATOMIC="http://www.w3.org/2001/XMLSchema#untypedAtomic"}(o||(t.TypeURL=o={})),function(e){e.NOT="!",e.UMINUS="uminus",e.UPLUS="uplus",e.LOGICAL_OR="||",e.LOGICAL_AND="&&",e.EQUAL="=",e.NOT_EQUAL="!=",e.LT="<",e.GT=">",e.LTE="<=",e.GTE=">=",e.SAME_TERM="sameterm",e.IN="in",e.NOT_IN="notin",e.MULTIPLICATION="*",e.DIVISION="/",e.ADDITION="+",e.SUBTRACTION="-",e.IS_IRI="isiri",e.IS_URI="isuri",e.IS_BLANK="isblank",e.IS_LITERAL="isliteral",e.IS_NUMERIC="isnumeric",e.STR="str",e.LANG="lang",e.DATATYPE="datatype",e.IRI="iri",e.URI="uri",e.BNODE="bnode",e.STRDT="strdt",e.STRLANG="strlang",e.UUID="uuid",e.STRUUID="struuid",e.STRLEN="strlen",e.SUBSTR="substr",e.UCASE="ucase",e.LCASE="lcase",e.STRSTARTS="strstarts",e.STRENDS="strends",e.CONTAINS="contains",e.STRBEFORE="strbefore",e.STRAFTER="strafter",e.ENCODE_FOR_URI="encode_for_uri",e.CONCAT="concat",e.LANG_MATCHES="langmatches",e.REGEX="regex",e.REPLACE="replace",e.ABS="abs",e.ROUND="round",e.CEIL="ceil",e.FLOOR="floor",e.RAND="rand",e.NOW="now",e.YEAR="year",e.MONTH="month",e.DAY="day",e.HOURS="hours",e.MINUTES="minutes",e.SECONDS="seconds",e.TIMEZONE="timezone",e.TZ="tz",e.MD5="md5",e.SHA1="sha1",e.SHA256="sha256",e.SHA384="sha384",e.SHA512="sha512",e.TRIPLE="triple",e.SUBJECT="subject",e.PREDICATE="predicate",e.OBJECT="object",e.IS_TRIPLE="istriple",e.BOUND="bound",e.IF="if",e.COALESCE="coalesce"}(s||(t.SparqlOperator=s={}))},89836:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateV7State=void 0;const n=r(92566),i=r(34498),a={};function o(e,t,r){var n,i;return null!==(n=e.msecs)&&void 0!==n||(e.msecs=-1/0),null!==(i=e.seq)&&void 0!==i||(e.seq=0),t>e.msecs?(e.seq=r[6]<<23|r[7]<<16|r[8]<<8|r[9],e.msecs=t):(e.seq=e.seq+1|0,0===e.seq&&e.msecs++),e}function s(e,t,r,n){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(e.length<16)throw new Error("Random bytes length must be >= 16");if(n){if(i<0||i+16>n.length)throw new RangeError("UUID byte range ".concat(i,":").concat(i+15," is out of buffer bounds"))}else n=new Uint8Array(16),i=0;return null!==t&&void 0!==t||(t=Date.now()),null!==r&&void 0!==r||(r=127*e[6]<<24|e[7]<<16|e[8]<<8|e[9]),n[i++]=t/1099511627776&255,n[i++]=t/4294967296&255,n[i++]=t/16777216&255,n[i++]=t/65536&255,n[i++]=t/256&255,n[i++]=255&t,n[i++]=112|r>>>28&15,n[i++]=r>>>20&255,n[i++]=128|r>>>14&63,n[i++]=r>>>6&255,n[i++]=r<<2&255|3&e[10],n[i++]=e[11],n[i++]=e[12],n[i++]=e[13],n[i++]=e[14],n[i++]=e[15],n}t.updateV7State=o,t.default=function(e,t,r){let c;if(e){var l,u,d;c=s(null!==(l=null!==(u=e.random)&&void 0!==u?u:null===(d=e.rng)||void 0===d?void 0:d.call(e))&&void 0!==l?l:(0,n.default)(),e.msecs,e.seq,t,r)}else{const e=Date.now(),i=(0,n.default)();o(a,e,i),c=s(i,a.msecs,a.seq,t,r)}return null!==t&&void 0!==t?t:(0,i.unsafeStringify)(c)}},89842:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfSerializeFixedMediaTypes=void 0;const n=r(82663),i=r(13953);class a extends n.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(){return(0,i.passTestVoid)()}}t.ActorRdfSerializeFixedMediaTypes=a},90083:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuerySourceHypermedia=void 0;const n=r(3497),i=r(52840),a=r(72758),o=r(21691),s=r(94051),c=r(85160),l=r(78374),u=r(87794);t.QuerySourceHypermedia=class{constructor(e,t,r,n,i,a,s,c,l,u){this.referenceValue=t,this.cacheSize=e,this.firstUrl=t,this.forceSourceType=r,this.maxIterators=n,this.mediators=s,this.aggregateStore=i,this.emitPartialCardinalities=a,this.logWarning=c,this.dataFactory=l,this.bindingsFactory=u,this.sourcesState=new o.LRUCache({max:this.cacheSize})}async getSelectorShape(e){return(await this.getSourceCached({url:this.firstUrl},{},e,this.getAggregateStore(e))).source.getSelectorShape(e)}queryBindings(e,t,r){const a=this.getAggregateStore(t);if(a&&"pattern"===e.type&&a.started)return new n.QuerySourceRdfJs(a,t.getSafe(i.KeysInitQuery.dataFactory),this.bindingsFactory).queryBindings(e,t);0===this.sourcesState.size&&this.getSourceCached({url:this.firstUrl},{},t,a).catch(e=>u.destroy(e));const o=t.getSafe(i.KeysInitQuery.dataFactory),s=new c.Factory(o),u=new l.MediatedLinkedRdfSourcesAsyncRdfIterator(this.cacheSize,e,r,t,this.forceSourceType,this.firstUrl,this.maxIterators,(e,r)=>this.getSourceCached(e,r,t,a),a,this.mediators.mediatorMetadataAccumulate,this.mediators.mediatorRdfResolveHypermediaLinks,this.mediators.mediatorRdfResolveHypermediaLinksQueue,o,s);if(a){a.started=!0;const e=()=>u.kickstart();a.addIteratorCreatedListener(e),u.on("end",()=>a.removeIteratorCreatedListener(e))}return u}queryQuads(e,t){return new a.TransformIterator(async()=>(await this.getSourceCached({url:this.firstUrl},{},t,this.getAggregateStore(t))).source.queryQuads(e,t))}async queryBoolean(e,t){const r=await this.getSourceCached({url:this.firstUrl},{},t,this.getAggregateStore(t));return await r.source.queryBoolean(e,t)}async queryVoid(e,t){const r=await this.getSourceCached({url:this.firstUrl},{},t,this.getAggregateStore(t));return await r.source.queryVoid(e,t)}async getSource(e,t,r,n){var a;e.context&&(r=r.merge(e.context));let o,c,l=e.url;if("sparql"===this.forceSourceType&&1===(null===(a=r.get(i.KeysQueryOperation.querySources))||void 0===a?void 0:a.length))o=new s.Readable,o.read=()=>null,({metadata:c}=await this.mediators.mediatorMetadataAccumulate.mediate({context:r,mode:"initialize"}));else try{var u;const t=await this.mediators.mediatorDereferenceRdf.mediate({context:r,url:l});l=t.url;const n=await this.mediators.mediatorMetadata.mediate({context:r,url:l,quads:t.data,triples:null===(u=t.metadata)||void 0===u?void 0:u.triples});n.data.on("error",()=>{}),c=(await this.mediators.mediatorMetadataExtract.mediate({context:r,url:l,metadata:n.metadata,headers:t.headers,requestTime:t.requestTime})).metadata,o=n.data,e.transform&&(o=await e.transform(o))}catch(p){o=new s.Readable,o.read=()=>(setTimeout(()=>o.emit("error",p)),null),({metadata:c}=await this.mediators.mediatorMetadataAccumulate.mediate({context:r,mode:"initialize"})),this.logWarning("Metadata extraction for ".concat(l," failed: ").concat(p.message))}null===n||void 0===n||n.setBaseMetadata(c,!1),null===n||void 0===n||n.containedSources.add(e.url),null===n||void 0===n||n.import(o);const{source:d,dataset:h}=await this.mediators.mediatorQuerySourceIdentifyHypermedia.mediate({context:r,forceSourceType:e.url===this.firstUrl?this.forceSourceType:void 0,handledDatasets:t,metadata:c,quads:o,url:l});return h&&(t[h]=!0),{link:e,source:d,metadata:c,handledDatasets:t}}getSourceCached(e,t,r,n){let i=this.sourcesState.get(e.url);return i||(i=this.getSource(e,t,r,n),e.url!==this.firstUrl&&void 0!==n||this.sourcesState.set(e.url,i),i)}getAggregateStore(e){let t;if(this.aggregateStore){const r=e.get(i.KeysQuerySourceIdentify.hypermediaSourcesAggregatedStores);if(r)return t=r.get(this.firstUrl),t||(t=new u.StreamingStoreMetadata(void 0,async(t,r)=>(await this.mediators.mediatorMetadataAccumulate.mediate({mode:"append",accumulatedMetadata:t,appendingMetadata:r,context:e})).metadata,this.emitPartialCardinalities),r.set(this.firstUrl,t)),t}}toString(){return"QuerySourceHypermedia(".concat(this.firstUrl,")")}}},90115:(e,t,r)=>{"use strict";var n=r(12897).default,i=r(91847).default,a=r(93312).default,o=r(42459).default,s=r(37088).default,c=r(81756).default,l=r(16668).default,u=r(43693).default;const d=["context","forceRefresh"];Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;const h="object"===typeof performance&&performance&&"function"===typeof performance.now?performance:Date,p=new Set,f="object"===typeof process&&process?process:{},g=(e,t,r,n)=>{"function"===typeof f.emitWarning?f.emitWarning(e,t,r,n):console.error("[".concat(r,"] ").concat(t,": ").concat(e))};let y=globalThis.AbortController,m=globalThis.AbortSignal;if("undefined"===typeof y){var v;m=class{constructor(){u(this,"onabort",void 0),u(this,"_onabort",[]),u(this,"reason",void 0),u(this,"aborted",!1)}addEventListener(e,t){this._onabort.push(t)}},y=class{constructor(){u(this,"signal",new m),t()}abort(e){var t,r;if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);null===(t=(r=this.signal).onabort)||void 0===t||t.call(r,e)}}};let e="1"!==(null===(v=f.env)||void 0===v?void 0:v.LRU_CACHE_IGNORE_AC_WARNING);const t=()=>{e&&(e=!1,g("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const b=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),_=e=>b(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?w:null:null;class w extends Array{constructor(e){super(e),this.fill(0)}}class x{static create(e){const t=_(e);if(!t)return[];S._=!0;const r=new x(e,t);return S._=!1,r}constructor(e,t){if(u(this,"heap",void 0),u(this,"length",void 0),!S._)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}var S={_:!1},T=new WeakMap,O=new WeakMap,E=new WeakMap,A=new WeakMap,P=new WeakMap,N=new WeakMap,j=new WeakMap,D=new WeakMap,R=new WeakMap,I=new WeakMap,F=new WeakMap,C=new WeakMap,M=new WeakMap,k=new WeakMap,L=new WeakMap,B=new WeakMap,U=new WeakMap,V=new WeakMap,z=new WeakMap,q=new WeakMap,Q=new WeakMap,G=new WeakMap,H=new WeakMap,W=new WeakSet,X=new WeakMap,K=new WeakMap,$=new WeakMap,Y=new WeakMap,J=new WeakMap,Z=new WeakMap,ee=new WeakMap;class te{static unsafeExposeInternals(e){return{starts:l(z,e),ttls:l(q,e),sizes:l(V,e),keyMap:l(R,e),keyList:l(I,e),valList:l(F,e),next:l(C,e),prev:l(M,e),get head(){return l(k,e)},get tail(){return l(L,e)},free:l(B,e),isBackgroundFetch:t=>c(W,e,le).call(e,t),backgroundFetch:(t,r,n,i)=>c(W,e,ce).call(e,t,r,n,i),moveToTail:t=>c(W,e,de).call(e,t),indexes:t=>c(W,e,ie).call(e,t),rindexes:t=>c(W,e,ae).call(e,t),isStale:t=>l(Y,e).call(e,t)}}get max(){return l(T,this)}get maxSize(){return l(O,this)}get calculatedSize(){return l(D,this)}get size(){return l(j,this)}get fetchMethod(){return l(P,this)}get memoMethod(){return l(N,this)}get dispose(){return l(E,this)}get disposeAfter(){return l(A,this)}constructor(e){a(this,W),o(this,T,void 0),o(this,O,void 0),o(this,E,void 0),o(this,A,void 0),o(this,P,void 0),o(this,N,void 0),u(this,"ttl",void 0),u(this,"ttlResolution",void 0),u(this,"ttlAutopurge",void 0),u(this,"updateAgeOnGet",void 0),u(this,"updateAgeOnHas",void 0),u(this,"allowStale",void 0),u(this,"noDisposeOnSet",void 0),u(this,"noUpdateTTL",void 0),u(this,"maxEntrySize",void 0),u(this,"sizeCalculation",void 0),u(this,"noDeleteOnFetchRejection",void 0),u(this,"noDeleteOnStaleGet",void 0),u(this,"allowStaleOnFetchAbort",void 0),u(this,"allowStaleOnFetchRejection",void 0),u(this,"ignoreFetchAbort",void 0),o(this,j,void 0),o(this,D,void 0),o(this,R,void 0),o(this,I,void 0),o(this,F,void 0),o(this,C,void 0),o(this,M,void 0),o(this,k,void 0),o(this,L,void 0),o(this,B,void 0),o(this,U,void 0),o(this,V,void 0),o(this,z,void 0),o(this,q,void 0),o(this,Q,void 0),o(this,G,void 0),o(this,H,void 0),o(this,X,()=>{}),o(this,K,()=>{}),o(this,$,()=>{}),o(this,Y,()=>!1),o(this,J,e=>{}),o(this,Z,(e,t,r)=>{}),o(this,ee,(e,t,r,n)=>{if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0}),u(this,Symbol.toStringTag,"LRUCache");const{max:t=0,ttl:r,ttlResolution:n=1,ttlAutopurge:i,updateAgeOnGet:d,updateAgeOnHas:h,allowStale:f,dispose:y,disposeAfter:m,noDisposeOnSet:v,noUpdateTTL:w,maxSize:S=0,maxEntrySize:ie=0,sizeCalculation:ae,fetchMethod:oe,memoMethod:se,noDeleteOnFetchRejection:ce,noDeleteOnStaleGet:le,allowStaleOnFetchRejection:ue,allowStaleOnFetchAbort:de,ignoreFetchAbort:he}=e;if(0!==t&&!b(t))throw new TypeError("max option must be a nonnegative integer");const pe=t?_(t):Array;if(!pe)throw new Error("invalid max value: "+t);if(s(T,this,t),s(O,this,S),this.maxEntrySize=ie||l(O,this),this.sizeCalculation=ae,this.sizeCalculation){if(!l(O,this)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!==typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==se&&"function"!==typeof se)throw new TypeError("memoMethod must be a function if defined");if(s(N,this,se),void 0!==oe&&"function"!==typeof oe)throw new TypeError("fetchMethod must be a function if specified");if(s(P,this,oe),s(G,this,!!oe),s(R,this,new Map),s(I,this,new Array(t).fill(void 0)),s(F,this,new Array(t).fill(void 0)),s(C,this,new pe(t)),s(M,this,new pe(t)),s(k,this,0),s(L,this,0),s(B,this,x.create(t)),s(j,this,0),s(D,this,0),"function"===typeof y&&s(E,this,y),"function"===typeof m?(s(A,this,m),s(U,this,[])):(s(A,this,void 0),s(U,this,void 0)),s(Q,this,!!l(E,this)),s(H,this,!!l(A,this)),this.noDisposeOnSet=!!v,this.noUpdateTTL=!!w,this.noDeleteOnFetchRejection=!!ce,this.allowStaleOnFetchRejection=!!ue,this.allowStaleOnFetchAbort=!!de,this.ignoreFetchAbort=!!he,0!==this.maxEntrySize){if(0!==l(O,this)&&!b(l(O,this)))throw new TypeError("maxSize must be a positive integer if specified");if(!b(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");c(W,this,ne).call(this)}if(this.allowStale=!!f,this.noDeleteOnStaleGet=!!le,this.updateAgeOnGet=!!d,this.updateAgeOnHas=!!h,this.ttlResolution=b(n)||0===n?n:1,this.ttlAutopurge=!!i,this.ttl=r||0,this.ttl){if(!b(this.ttl))throw new TypeError("ttl must be a positive integer if specified");c(W,this,re).call(this)}if(0===l(T,this)&&0===this.ttl&&0===l(O,this))throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!l(T,this)&&!l(O,this)){const e="LRU_CACHE_UNBOUNDED";if((e=>!p.has(e))(e)){p.add(e);g("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,te)}}}getRemainingTTL(e){return l(R,this).has(e)?1/0:0}*entries(){for(const e of c(W,this,ie).call(this))void 0===l(F,this)[e]||void 0===l(I,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield[l(I,this)[e],l(F,this)[e]])}*rentries(){for(const e of c(W,this,ae).call(this))void 0===l(F,this)[e]||void 0===l(I,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield[l(I,this)[e],l(F,this)[e]])}*keys(){for(const e of c(W,this,ie).call(this)){const t=l(I,this)[e];void 0===t||c(W,this,le).call(this,l(F,this)[e])||(yield t)}}*rkeys(){for(const e of c(W,this,ae).call(this)){const t=l(I,this)[e];void 0===t||c(W,this,le).call(this,l(F,this)[e])||(yield t)}}*values(){for(const e of c(W,this,ie).call(this)){void 0===l(F,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield l(F,this)[e])}}*rvalues(){for(const e of c(W,this,ae).call(this)){void 0===l(F,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield l(F,this)[e])}}[Symbol.iterator](){return this.entries()}find(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const r of c(W,this,ie).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;if(void 0!==i&&e(i,l(I,this)[r],this))return this.get(l(I,this)[r],t)}}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;for(const r of c(W,this,ie).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,l(I,this)[r],this)}}rforEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;for(const r of c(W,this,ae).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,l(I,this)[r],this)}}purgeStale(){let e=!1;for(const t of c(W,this,ae).call(this,{allowStale:!0}))l(Y,this).call(this,t)&&(c(W,this,he).call(this,l(I,this)[t],"expire"),e=!0);return e}info(e){const t=l(R,this).get(e);if(void 0===t)return;const r=l(F,this)[t],n=c(W,this,le).call(this,r)?r.__staleWhileFetching:r;if(void 0===n)return;const i={value:n};if(l(q,this)&&l(z,this)){const e=l(q,this)[t],r=l(z,this)[t];if(e&&r){const t=e-(h.now()-r);i.ttl=t,i.start=Date.now()}}return l(V,this)&&(i.size=l(V,this)[t]),i}dump(){const e=[];for(const t of c(W,this,ie).call(this,{allowStale:!0})){const r=l(I,this)[t],n=l(F,this)[t],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;if(void 0===i||void 0===r)continue;const a={value:i};if(l(q,this)&&l(z,this)){a.ttl=l(q,this)[t];const e=h.now()-l(z,this)[t];a.start=Math.floor(Date.now()-e)}l(V,this)&&(a.size=l(V,this)[t]),e.unshift([r,a])}return e}load(e){this.clear();for(const[t,r]of e){if(r.start){const e=Date.now()-r.start;r.start=h.now()-e}this.set(t,r.value,r)}}set(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===t)return this.delete(e),this;const{ttl:n=this.ttl,start:i,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:u}=r;let{noUpdateTTL:d=this.noUpdateTTL}=r;const h=l(ee,this).call(this,e,t,r.size||0,o);if(this.maxEntrySize&&h>this.maxEntrySize)return u&&(u.set="miss",u.maxEntrySizeExceeded=!0),c(W,this,he).call(this,e,"set"),this;let p=0===l(j,this)?void 0:l(R,this).get(e);if(void 0===p){var f;p=0===l(j,this)?l(L,this):0!==l(B,this).length?l(B,this).pop():l(j,this)===l(T,this)?c(W,this,se).call(this,!1):l(j,this),l(I,this)[p]=e,l(F,this)[p]=t,l(R,this).set(e,p),l(C,this)[l(L,this)]=p,l(M,this)[p]=l(L,this),s(L,this,p),s(j,this,(f=l(j,this),f++,f)),l(Z,this).call(this,p,h,u),u&&(u.set="add"),d=!1}else{c(W,this,de).call(this,p);const r=l(F,this)[p];if(t!==r){if(l(G,this)&&c(W,this,le).call(this,r)){r.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:t}=r;if(void 0!==t&&!a){var g,y;if(l(Q,this))null===(g=l(E,this))||void 0===g||g.call(this,t,e,"set");if(l(H,this))null===(y=l(U,this))||void 0===y||y.push([t,e,"set"])}}else if(!a){var m,v;if(l(Q,this))null===(m=l(E,this))||void 0===m||m.call(this,r,e,"set");if(l(H,this))null===(v=l(U,this))||void 0===v||v.push([r,e,"set"])}if(l(J,this).call(this,p),l(Z,this).call(this,p,h,u),l(F,this)[p]=t,u){u.set="replace";const e=r&&c(W,this,le).call(this,r)?r.__staleWhileFetching:r;void 0!==e&&(u.oldValue=e)}}else u&&(u.set="update")}if(0===n||l(q,this)||c(W,this,re).call(this),l(q,this)&&(d||l($,this).call(this,p,n,i),u&&l(K,this).call(this,u,p)),!a&&l(H,this)&&l(U,this)){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var b;null===(b=l(A,this))||void 0===b||b.call(this,...t)}}return this}pop(){try{for(;l(j,this);){const e=l(F,this)[l(k,this)];if(c(W,this,se).call(this,!0),c(W,this,le).call(this,e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(l(H,this)&&l(U,this)){const t=l(U,this);let r;for(;r=null===t||void 0===t?void 0:t.shift();){var e;null===(e=l(A,this))||void 0===e||e.call(this,...r)}}}}has(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=t,i=l(R,this).get(e);if(void 0!==i){const e=l(F,this)[i];if(c(W,this,le).call(this,e)&&void 0===e.__staleWhileFetching)return!1;if(!l(Y,this).call(this,i))return r&&l(X,this).call(this,i),n&&(n.has="hit",l(K,this).call(this,n,i)),!0;n&&(n.has="stale",l(K,this).call(this,n,i))}else n&&(n.has="miss");return!1}peek(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale}=t,n=l(R,this).get(e);if(void 0===n||!r&&l(Y,this).call(this,n))return;const i=l(F,this)[n];return c(W,this,le).call(this,i)?i.__staleWhileFetching:i}async fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:s=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:y,forceRefresh:m=!1,status:v,signal:b}=t;if(!l(G,this))return v&&(v.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,status:v});const _={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:a,noDisposeOnSet:o,size:s,sizeCalculation:u,noUpdateTTL:d,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:g,ignoreFetchAbort:f,status:v,signal:b};let w=l(R,this).get(e);if(void 0===w){v&&(v.fetch="miss");const t=c(W,this,ce).call(this,e,w,_,y);return t.__returned=t}{const t=l(F,this)[w];if(c(W,this,le).call(this,t)){const e=r&&void 0!==t.__staleWhileFetching;return v&&(v.fetch="inflight",e&&(v.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const i=l(Y,this).call(this,w);if(!m&&!i)return v&&(v.fetch="hit"),c(W,this,de).call(this,w),n&&l(X,this).call(this,w),v&&l(K,this).call(this,v,w),t;const a=c(W,this,ce).call(this,e,w,_,y),o=void 0!==a.__staleWhileFetching&&r;return v&&(v.fetch=i?"stale":"refresh",o&&i&&(v.returnedStale=!0)),o?a.__staleWhileFetching:a.__returned=a}}async forceFetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await this.fetch(e,t);if(void 0===r)throw new Error("fetch() returned undefined");return r}memo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=l(N,this);if(!r)throw new Error("no memoMethod provided to constructor");const{context:n,forceRefresh:a}=t,o=i(t,d),s=this.get(e,o);if(!a&&void 0!==s)return s;const c=r(e,s,{options:o,context:n});return this.set(e,c,o),c}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:a}=t,o=l(R,this).get(e);if(void 0!==o){const t=l(F,this)[o],s=c(W,this,le).call(this,t);return a&&l(K,this).call(this,a,o),l(Y,this).call(this,o)?(a&&(a.get="stale"),s?(a&&r&&void 0!==t.__staleWhileFetching&&(a.returnedStale=!0),r?t.__staleWhileFetching:void 0):(i||c(W,this,he).call(this,e,"expire"),a&&r&&(a.returnedStale=!0),r?t:void 0)):(a&&(a.get="hit"),s?t.__staleWhileFetching:(c(W,this,de).call(this,o),n&&l(X,this).call(this,o),t))}a&&(a.get="miss")}delete(e){return c(W,this,he).call(this,e,"delete")}clear(){return c(W,this,pe).call(this,"delete")}}function re(){var e=this;const t=new w(l(T,this)),r=new w(l(T,this));s(q,this,t),s(z,this,r),s($,this,function(n,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.now();if(r[n]=0!==i?a:0,t[n]=i,0!==i&&e.ttlAutopurge){const t=setTimeout(()=>{l(Y,e).call(e,n)&&c(W,e,he).call(e,l(I,e)[n],"expire")},i+1);t.unref&&t.unref()}}),s(X,this,e=>{r[e]=0!==t[e]?h.now():0}),s(K,this,(e,a)=>{if(t[a]){const o=t[a],s=r[a];if(!o||!s)return;e.ttl=o,e.start=s,e.now=n||i();const c=e.now-s;e.remainingTTL=o-c}});let n=0;const i=()=>{const e=h.now();if(this.ttlResolution>0){n=e;const t=setTimeout(()=>n=0,this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=e=>{const a=l(R,this).get(e);if(void 0===a)return 0;const o=t[a],s=r[a];if(!o||!s)return 1/0;return o-((n||i())-s)},s(Y,this,e=>{const a=r[e],o=t[e];return!!o&&!!a&&(n||i())-a>o})}function ne(){const e=new w(l(T,this));s(D,this,0),s(V,this,e),s(J,this,t=>{s(D,this,l(D,this)-e[t]),e[t]=0}),s(ee,this,(e,t,r,n)=>{if(c(W,this,le).call(this,t))return 0;if(!b(r)){if(!n)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!==typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(t,e),!b(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r}),s(Z,this,(t,r,n)=>{if(e[t]=r,l(O,this)){const r=l(O,this)-e[t];for(;l(D,this)>r;)c(W,this,se).call(this,!0)}s(D,this,l(D,this)+e[t]),n&&(n.entrySize=r,n.totalCalculatedSize=l(D,this))})}function ie(){var e=this;let{allowStale:t=this.allowStale}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){if(l(j,e))for(let r=l(L,e);c(W,e,oe).call(e,r)&&(!t&&l(Y,e).call(e,r)||(yield r),r!==l(k,e));)r=l(M,e)[r]}()}function ae(){var e=this;let{allowStale:t=this.allowStale}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){if(l(j,e))for(let r=l(k,e);c(W,e,oe).call(e,r)&&(!t&&l(Y,e).call(e,r)||(yield r),r!==l(L,e));)r=l(C,e)[r]}()}function oe(e){return void 0!==e&&l(R,this).get(l(I,this)[e])===e}function se(e){var t;const r=l(k,this),n=l(I,this)[r],i=l(F,this)[r];if(l(G,this)&&c(W,this,le).call(this,i))i.__abortController.abort(new Error("evicted"));else if(l(Q,this)||l(H,this)){var a,o;if(l(Q,this))null===(a=l(E,this))||void 0===a||a.call(this,i,n,"evict");if(l(H,this))null===(o=l(U,this))||void 0===o||o.push([i,n,"evict"])}return l(J,this).call(this,r),e&&(l(I,this)[r]=void 0,l(F,this)[r]=void 0,l(B,this).push(r)),1===l(j,this)?(s(k,this,s(L,this,0)),l(B,this).length=0):s(k,this,l(C,this)[r]),l(R,this).delete(n),s(j,this,(t=l(j,this),t--,t)),r}function ce(e,t,r,i){var a=this;const o=void 0===t?void 0:l(F,this)[t];if(c(W,this,le).call(this,o))return o;const s=new y,{signal:u}=r;null===u||void 0===u||u.addEventListener("abort",()=>s.abort(u.reason),{signal:s.signal});const d={signal:s.signal,options:r,context:i},h=function(n){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{aborted:o}=s.signal,u=r.ignoreFetchAbort&&void 0!==n;if(r.status&&(o&&!i?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,u&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),o&&!u&&!i)return p(s.signal.reason);const h=f;return l(F,a)[t]===f&&(void 0===n?h.__staleWhileFetching?l(F,a)[t]=h.__staleWhileFetching:c(W,a,he).call(a,e,"fetch"):(r.status&&(r.status.fetchUpdated=!0),a.set(e,n,d.options))),n},p=n=>{const{aborted:i}=s.signal,a=i&&r.allowStaleOnFetchAbort,o=a||r.allowStaleOnFetchRejection,u=o||r.noDeleteOnFetchRejection,d=f;if(l(F,this)[t]===f){!u||void 0===d.__staleWhileFetching?c(W,this,he).call(this,e,"fetch"):a||(l(F,this)[t]=d.__staleWhileFetching)}if(o)return r.status&&void 0!==d.__staleWhileFetching&&(r.status.returnedStale=!0),d.__staleWhileFetching;if(d.__returned===d)throw n};r.status&&(r.status.fetchDispatched=!0);const f=new Promise((t,n)=>{var i;const a=null===(i=l(P,this))||void 0===i?void 0:i.call(this,e,o,d);a&&a instanceof Promise&&a.then(e=>t(void 0===e?void 0:e),n),s.signal.addEventListener("abort",()=>{r.ignoreFetchAbort&&!r.allowStaleOnFetchAbort||(t(void 0),r.allowStaleOnFetchAbort&&(t=e=>h(e,!0)))})}).then(h,e=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=e),p(e))),g=Object.assign(f,{__abortController:s,__staleWhileFetching:o,__returned:void 0});return void 0===t?(this.set(e,g,n(n({},d.options),{},{status:void 0})),t=l(R,this).get(e)):l(F,this)[t]=g,g}function le(e){if(!l(G,this))return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof y}function ue(e,t){l(M,this)[t]=e,l(C,this)[e]=t}function de(e){e!==l(L,this)&&(e===l(k,this)?s(k,this,l(C,this)[e]):c(W,this,ue).call(this,l(M,this)[e],l(C,this)[e]),c(W,this,ue).call(this,l(L,this),e),s(L,this,e))}function he(e,t){var r;let n=!1;if(0!==l(j,this)){const r=l(R,this).get(e);if(void 0!==r)if(n=!0,1===l(j,this))c(W,this,pe).call(this,t);else{var i;l(J,this).call(this,r);const n=l(F,this)[r];if(c(W,this,le).call(this,n))n.__abortController.abort(new Error("deleted"));else if(l(Q,this)||l(H,this)){var a,o;if(l(Q,this))null===(a=l(E,this))||void 0===a||a.call(this,n,e,t);if(l(H,this))null===(o=l(U,this))||void 0===o||o.push([n,e,t])}if(l(R,this).delete(e),l(I,this)[r]=void 0,l(F,this)[r]=void 0,r===l(L,this))s(L,this,l(M,this)[r]);else if(r===l(k,this))s(k,this,l(C,this)[r]);else{const e=l(M,this)[r];l(C,this)[e]=l(C,this)[r];const t=l(C,this)[r];l(M,this)[t]=l(M,this)[r]}s(j,this,(i=l(j,this),i--,i)),l(B,this).push(r)}}if(l(H,this)&&null!==(r=l(U,this))&&void 0!==r&&r.length){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var u;null===(u=l(A,this))||void 0===u||u.call(this,...t)}}return n}function pe(e){for(const i of c(W,this,ae).call(this,{allowStale:!0})){const n=l(F,this)[i];if(c(W,this,le).call(this,n))n.__abortController.abort(new Error("deleted"));else{const a=l(I,this)[i];var t,r;if(l(Q,this))null===(t=l(E,this))||void 0===t||t.call(this,n,a,e);if(l(H,this))null===(r=l(U,this))||void 0===r||r.push([n,a,e])}}if(l(R,this).clear(),l(F,this).fill(void 0),l(I,this).fill(void 0),l(q,this)&&l(z,this)&&(l(q,this).fill(0),l(z,this).fill(0)),l(V,this)&&l(V,this).fill(0),s(k,this,0),s(L,this,0),l(B,this).length=0,s(D,this,0),s(j,this,0),l(H,this)&&l(U,this)){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var n;null===(n=l(A,this))||void 0===n||n.call(this,...t)}}}t.LRUCache=te},90237:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.readableFromWeb=void 0;var n=r(62767);Object.defineProperty(t,"readableFromWeb",{enumerable:!0,get:function(){return n.readableFromWeb}})},90239:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},90312:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermSha1=void 0;const i=r(11716),a=r(97824),o=r(96797);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.SHA1],termFunction:!0}))}async run(e){return new o.TermFunctionSha1}}t.ActorFunctionFactoryTermSha1=s},90355:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(53425),t),i(r(65358),t),i(r(90239),t),i(r(57736),t),i(r(97469),t),i(r(96858),t),i(r(71418),t),i(r(28094),t),i(r(70593),t),i(r(73242),t),i(r(22984),t),i(r(8991),t),i(r(84396),t),i(r(10600),t),i(r(75587),t),i(r(14165),t),i(r(31619),t),i(r(9814),t),i(r(5252),t),i(r(57331),t),i(r(3472),t)},90366:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(35276),t)},90501:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(6582),t)},90676:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinSelectivity=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e)}}t.ActorRdfJoinSelectivity=i},90933:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionSha384=void 0;const n=r(11716),i=r(97824),a=r(73697);class o extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.SHA384,overloads:(0,i.declare)(i.SparqlOperator.SHA384).onString1Typed(()=>e=>(0,i.string)((0,a.sha384)().update(e).digest("hex"))).collect()})}}t.TermFunctionSha384=o},91306:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionStrLang=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:2,operator:i.SparqlOperator.STRLANG,overloads:(0,i.declare)(i.SparqlOperator.STRLANG).onBinaryTyped([i.TypeURL.XSD_STRING,i.TypeURL.XSD_STRING],()=>(e,t)=>new i.LangStringLiteral(e,t.toLowerCase())).collect()})}}t.TermFunctionStrLang=a},91567:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionAddition=void 0;const n=r(11716),i=r(97824),a=r(1991);class o extends n.TermFunctionBase{constructor(){super({arity:2,operator:i.SparqlOperator.ADDITION,overloads:(0,i.declare)(i.SparqlOperator.ADDITION).arithmetic(()=>(e,t)=>new a.BigNumber(e).plus(t).toNumber()).set([i.TypeURL.XSD_DATE_TIME,i.TypeURL.XSD_DAY_TIME_DURATION],()=>e=>{let[t,r]=e;return new i.DateTimeLiteral((0,i.addDurationToDateTime)(t.typedValue,(0,i.defaultedDurationRepresentation)(r.typedValue)))}).copy({from:[i.TypeURL.XSD_DATE_TIME,i.TypeURL.XSD_DAY_TIME_DURATION],to:[i.TypeURL.XSD_DATE_TIME,i.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([i.TypeURL.XSD_DATE,i.TypeURL.XSD_DAY_TIME_DURATION],()=>e=>{let[t,r]=e;return new i.DateLiteral((0,i.addDurationToDateTime)((0,i.defaultedDateTimeRepresentation)(t.typedValue),(0,i.defaultedDurationRepresentation)(r.typedValue)))}).copy({from:[i.TypeURL.XSD_DATE,i.TypeURL.XSD_DAY_TIME_DURATION],to:[i.TypeURL.XSD_DATE,i.TypeURL.XSD_YEAR_MONTH_DURATION]}).set([i.TypeURL.XSD_TIME,i.TypeURL.XSD_DAY_TIME_DURATION],()=>e=>{let[t,r]=e;return new i.TimeLiteral((0,i.addDurationToDateTime)((0,i.defaultedDateTimeRepresentation)(t.typedValue),(0,i.defaultedDurationRepresentation)(r.typedValue)))}).copy({from:[i.TypeURL.XSD_TIME,i.TypeURL.XSD_DAY_TIME_DURATION],to:[i.TypeURL.XSD_TIME,i.TypeURL.XSD_YEAR_MONTH_DURATION]}).collect()})}}t.TermFunctionAddition=o},91753:(e,t)=>{"use strict";function r(e,t,n){if(!("_profileInstrumented"in e)){if(e._profileInstrumented=!0,"_read"in e){const r=e._read;e._read=(n,i)=>{const a=performance.now();r.call(e,n,()=>{t.timeSelf+=performance.now()-a,i()})}}if("read"in e){const r=e.read;e.read=()=>{const i=performance.now(),a=r.call(e);return n&&a&&t.count++,t.timeSelf+=performance.now()-i,a}}if(n){const r=performance.now();e.on("end",()=>{t.timeLife=performance.now()-r})}"_source"in e&&r(e._source,t,!1)}}Object.defineProperty(t,"__esModule",{value:!0}),t.instrumentIterator=void 0,t.instrumentIterator=function(e){const t={count:0,timeSelf:0,timeLife:0};return r(e,t,!0),new Promise(r=>{e.on("end",()=>{r(t)})})}},91837:(e,t,r)=>{"use strict";var n=r(12897).default,i=r(91847).default,a=r(93312).default,o=r(42459).default,s=r(37088).default,c=r(81756).default,l=r(16668).default,u=r(43693).default;const d=["context","forceRefresh"];Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=void 0;const h="object"===typeof performance&&performance&&"function"===typeof performance.now?performance:Date,p=new Set,f="object"===typeof process&&process?process:{},g=(e,t,r,n)=>{"function"===typeof f.emitWarning?f.emitWarning(e,t,r,n):console.error("[".concat(r,"] ").concat(t,": ").concat(e))};let y=globalThis.AbortController,m=globalThis.AbortSignal;if("undefined"===typeof y){var v;m=class{constructor(){u(this,"onabort",void 0),u(this,"_onabort",[]),u(this,"reason",void 0),u(this,"aborted",!1)}addEventListener(e,t){this._onabort.push(t)}},y=class{constructor(){u(this,"signal",new m),t()}abort(e){var t,r;if(!this.signal.aborted){this.signal.reason=e,this.signal.aborted=!0;for(const t of this.signal._onabort)t(e);null===(t=(r=this.signal).onabort)||void 0===t||t.call(r,e)}}};let e="1"!==(null===(v=f.env)||void 0===v?void 0:v.LRU_CACHE_IGNORE_AC_WARNING);const t=()=>{e&&(e=!1,g("AbortController is not defined. If using lru-cache in node 14, load an AbortController polyfill from the `node-abort-controller` package. A minimal polyfill is provided for use by LRUCache.fetch(), but it should not be relied upon in other contexts (eg, passing it to other APIs that use AbortController/AbortSignal might have undesirable effects). You may disable this with LRU_CACHE_IGNORE_AC_WARNING=1 in the env.","NO_ABORT_CONTROLLER","ENOTSUP",t))}}Symbol("type");const b=e=>e&&e===Math.floor(e)&&e>0&&isFinite(e),_=e=>b(e)?e<=Math.pow(2,8)?Uint8Array:e<=Math.pow(2,16)?Uint16Array:e<=Math.pow(2,32)?Uint32Array:e<=Number.MAX_SAFE_INTEGER?w:null:null;class w extends Array{constructor(e){super(e),this.fill(0)}}class x{static create(e){const t=_(e);if(!t)return[];S._=!0;const r=new x(e,t);return S._=!1,r}constructor(e,t){if(u(this,"heap",void 0),u(this,"length",void 0),!S._)throw new TypeError("instantiate Stack using Stack.create(n)");this.heap=new t(e),this.length=0}push(e){this.heap[this.length++]=e}pop(){return this.heap[--this.length]}}var S={_:!1},T=new WeakMap,O=new WeakMap,E=new WeakMap,A=new WeakMap,P=new WeakMap,N=new WeakMap,j=new WeakMap,D=new WeakMap,R=new WeakMap,I=new WeakMap,F=new WeakMap,C=new WeakMap,M=new WeakMap,k=new WeakMap,L=new WeakMap,B=new WeakMap,U=new WeakMap,V=new WeakMap,z=new WeakMap,q=new WeakMap,Q=new WeakMap,G=new WeakMap,H=new WeakMap,W=new WeakSet,X=new WeakMap,K=new WeakMap,$=new WeakMap,Y=new WeakMap,J=new WeakMap,Z=new WeakMap,ee=new WeakMap;class te{static unsafeExposeInternals(e){return{starts:l(z,e),ttls:l(q,e),sizes:l(V,e),keyMap:l(R,e),keyList:l(I,e),valList:l(F,e),next:l(C,e),prev:l(M,e),get head(){return l(k,e)},get tail(){return l(L,e)},free:l(B,e),isBackgroundFetch:t=>c(W,e,le).call(e,t),backgroundFetch:(t,r,n,i)=>c(W,e,ce).call(e,t,r,n,i),moveToTail:t=>c(W,e,de).call(e,t),indexes:t=>c(W,e,ie).call(e,t),rindexes:t=>c(W,e,ae).call(e,t),isStale:t=>l(Y,e).call(e,t)}}get max(){return l(T,this)}get maxSize(){return l(O,this)}get calculatedSize(){return l(D,this)}get size(){return l(j,this)}get fetchMethod(){return l(P,this)}get memoMethod(){return l(N,this)}get dispose(){return l(E,this)}get disposeAfter(){return l(A,this)}constructor(e){a(this,W),o(this,T,void 0),o(this,O,void 0),o(this,E,void 0),o(this,A,void 0),o(this,P,void 0),o(this,N,void 0),u(this,"ttl",void 0),u(this,"ttlResolution",void 0),u(this,"ttlAutopurge",void 0),u(this,"updateAgeOnGet",void 0),u(this,"updateAgeOnHas",void 0),u(this,"allowStale",void 0),u(this,"noDisposeOnSet",void 0),u(this,"noUpdateTTL",void 0),u(this,"maxEntrySize",void 0),u(this,"sizeCalculation",void 0),u(this,"noDeleteOnFetchRejection",void 0),u(this,"noDeleteOnStaleGet",void 0),u(this,"allowStaleOnFetchAbort",void 0),u(this,"allowStaleOnFetchRejection",void 0),u(this,"ignoreFetchAbort",void 0),o(this,j,void 0),o(this,D,void 0),o(this,R,void 0),o(this,I,void 0),o(this,F,void 0),o(this,C,void 0),o(this,M,void 0),o(this,k,void 0),o(this,L,void 0),o(this,B,void 0),o(this,U,void 0),o(this,V,void 0),o(this,z,void 0),o(this,q,void 0),o(this,Q,void 0),o(this,G,void 0),o(this,H,void 0),o(this,X,()=>{}),o(this,K,()=>{}),o(this,$,()=>{}),o(this,Y,()=>!1),o(this,J,e=>{}),o(this,Z,(e,t,r)=>{}),o(this,ee,(e,t,r,n)=>{if(r||n)throw new TypeError("cannot set size without setting maxSize or maxEntrySize on cache");return 0}),u(this,Symbol.toStringTag,"LRUCache");const{max:t=0,ttl:r,ttlResolution:n=1,ttlAutopurge:i,updateAgeOnGet:d,updateAgeOnHas:h,allowStale:f,dispose:y,disposeAfter:m,noDisposeOnSet:v,noUpdateTTL:w,maxSize:S=0,maxEntrySize:ie=0,sizeCalculation:ae,fetchMethod:oe,memoMethod:se,noDeleteOnFetchRejection:ce,noDeleteOnStaleGet:le,allowStaleOnFetchRejection:ue,allowStaleOnFetchAbort:de,ignoreFetchAbort:he}=e;if(0!==t&&!b(t))throw new TypeError("max option must be a nonnegative integer");const pe=t?_(t):Array;if(!pe)throw new Error("invalid max value: "+t);if(s(T,this,t),s(O,this,S),this.maxEntrySize=ie||l(O,this),this.sizeCalculation=ae,this.sizeCalculation){if(!l(O,this)&&!this.maxEntrySize)throw new TypeError("cannot set sizeCalculation without setting maxSize or maxEntrySize");if("function"!==typeof this.sizeCalculation)throw new TypeError("sizeCalculation set to non-function")}if(void 0!==se&&"function"!==typeof se)throw new TypeError("memoMethod must be a function if defined");if(s(N,this,se),void 0!==oe&&"function"!==typeof oe)throw new TypeError("fetchMethod must be a function if specified");if(s(P,this,oe),s(G,this,!!oe),s(R,this,new Map),s(I,this,new Array(t).fill(void 0)),s(F,this,new Array(t).fill(void 0)),s(C,this,new pe(t)),s(M,this,new pe(t)),s(k,this,0),s(L,this,0),s(B,this,x.create(t)),s(j,this,0),s(D,this,0),"function"===typeof y&&s(E,this,y),"function"===typeof m?(s(A,this,m),s(U,this,[])):(s(A,this,void 0),s(U,this,void 0)),s(Q,this,!!l(E,this)),s(H,this,!!l(A,this)),this.noDisposeOnSet=!!v,this.noUpdateTTL=!!w,this.noDeleteOnFetchRejection=!!ce,this.allowStaleOnFetchRejection=!!ue,this.allowStaleOnFetchAbort=!!de,this.ignoreFetchAbort=!!he,0!==this.maxEntrySize){if(0!==l(O,this)&&!b(l(O,this)))throw new TypeError("maxSize must be a positive integer if specified");if(!b(this.maxEntrySize))throw new TypeError("maxEntrySize must be a positive integer if specified");c(W,this,ne).call(this)}if(this.allowStale=!!f,this.noDeleteOnStaleGet=!!le,this.updateAgeOnGet=!!d,this.updateAgeOnHas=!!h,this.ttlResolution=b(n)||0===n?n:1,this.ttlAutopurge=!!i,this.ttl=r||0,this.ttl){if(!b(this.ttl))throw new TypeError("ttl must be a positive integer if specified");c(W,this,re).call(this)}if(0===l(T,this)&&0===this.ttl&&0===l(O,this))throw new TypeError("At least one of max, maxSize, or ttl is required");if(!this.ttlAutopurge&&!l(T,this)&&!l(O,this)){const e="LRU_CACHE_UNBOUNDED";if((e=>!p.has(e))(e)){p.add(e);g("TTL caching without ttlAutopurge, max, or maxSize can result in unbounded memory consumption.","UnboundedCacheWarning",e,te)}}}getRemainingTTL(e){return l(R,this).has(e)?1/0:0}*entries(){for(const e of c(W,this,ie).call(this))void 0===l(F,this)[e]||void 0===l(I,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield[l(I,this)[e],l(F,this)[e]])}*rentries(){for(const e of c(W,this,ae).call(this))void 0===l(F,this)[e]||void 0===l(I,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield[l(I,this)[e],l(F,this)[e]])}*keys(){for(const e of c(W,this,ie).call(this)){const t=l(I,this)[e];void 0===t||c(W,this,le).call(this,l(F,this)[e])||(yield t)}}*rkeys(){for(const e of c(W,this,ae).call(this)){const t=l(I,this)[e];void 0===t||c(W,this,le).call(this,l(F,this)[e])||(yield t)}}*values(){for(const e of c(W,this,ie).call(this)){void 0===l(F,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield l(F,this)[e])}}*rvalues(){for(const e of c(W,this,ae).call(this)){void 0===l(F,this)[e]||c(W,this,le).call(this,l(F,this)[e])||(yield l(F,this)[e])}}[Symbol.iterator](){return this.entries()}find(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const r of c(W,this,ie).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;if(void 0!==i&&e(i,l(I,this)[r],this))return this.get(l(I,this)[r],t)}}forEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;for(const r of c(W,this,ie).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,l(I,this)[r],this)}}rforEach(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this;for(const r of c(W,this,ae).call(this)){const n=l(F,this)[r],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;void 0!==i&&e.call(t,i,l(I,this)[r],this)}}purgeStale(){let e=!1;for(const t of c(W,this,ae).call(this,{allowStale:!0}))l(Y,this).call(this,t)&&(c(W,this,he).call(this,l(I,this)[t],"expire"),e=!0);return e}info(e){const t=l(R,this).get(e);if(void 0===t)return;const r=l(F,this)[t],n=c(W,this,le).call(this,r)?r.__staleWhileFetching:r;if(void 0===n)return;const i={value:n};if(l(q,this)&&l(z,this)){const e=l(q,this)[t],r=l(z,this)[t];if(e&&r){const t=e-(h.now()-r);i.ttl=t,i.start=Date.now()}}return l(V,this)&&(i.size=l(V,this)[t]),i}dump(){const e=[];for(const t of c(W,this,ie).call(this,{allowStale:!0})){const r=l(I,this)[t],n=l(F,this)[t],i=c(W,this,le).call(this,n)?n.__staleWhileFetching:n;if(void 0===i||void 0===r)continue;const a={value:i};if(l(q,this)&&l(z,this)){a.ttl=l(q,this)[t];const e=h.now()-l(z,this)[t];a.start=Math.floor(Date.now()-e)}l(V,this)&&(a.size=l(V,this)[t]),e.unshift([r,a])}return e}load(e){this.clear();for(const[t,r]of e){if(r.start){const e=Date.now()-r.start;r.start=h.now()-e}this.set(t,r.value,r)}}set(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(void 0===t)return this.delete(e),this;const{ttl:n=this.ttl,start:i,noDisposeOnSet:a=this.noDisposeOnSet,sizeCalculation:o=this.sizeCalculation,status:u}=r;let{noUpdateTTL:d=this.noUpdateTTL}=r;const h=l(ee,this).call(this,e,t,r.size||0,o);if(this.maxEntrySize&&h>this.maxEntrySize)return u&&(u.set="miss",u.maxEntrySizeExceeded=!0),c(W,this,he).call(this,e,"set"),this;let p=0===l(j,this)?void 0:l(R,this).get(e);if(void 0===p){var f;p=0===l(j,this)?l(L,this):0!==l(B,this).length?l(B,this).pop():l(j,this)===l(T,this)?c(W,this,se).call(this,!1):l(j,this),l(I,this)[p]=e,l(F,this)[p]=t,l(R,this).set(e,p),l(C,this)[l(L,this)]=p,l(M,this)[p]=l(L,this),s(L,this,p),s(j,this,(f=l(j,this),f++,f)),l(Z,this).call(this,p,h,u),u&&(u.set="add"),d=!1}else{c(W,this,de).call(this,p);const r=l(F,this)[p];if(t!==r){if(l(G,this)&&c(W,this,le).call(this,r)){r.__abortController.abort(new Error("replaced"));const{__staleWhileFetching:t}=r;if(void 0!==t&&!a){var g,y;if(l(Q,this))null===(g=l(E,this))||void 0===g||g.call(this,t,e,"set");if(l(H,this))null===(y=l(U,this))||void 0===y||y.push([t,e,"set"])}}else if(!a){var m,v;if(l(Q,this))null===(m=l(E,this))||void 0===m||m.call(this,r,e,"set");if(l(H,this))null===(v=l(U,this))||void 0===v||v.push([r,e,"set"])}if(l(J,this).call(this,p),l(Z,this).call(this,p,h,u),l(F,this)[p]=t,u){u.set="replace";const e=r&&c(W,this,le).call(this,r)?r.__staleWhileFetching:r;void 0!==e&&(u.oldValue=e)}}else u&&(u.set="update")}if(0===n||l(q,this)||c(W,this,re).call(this),l(q,this)&&(d||l($,this).call(this,p,n,i),u&&l(K,this).call(this,u,p)),!a&&l(H,this)&&l(U,this)){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var b;null===(b=l(A,this))||void 0===b||b.call(this,...t)}}return this}pop(){try{for(;l(j,this);){const e=l(F,this)[l(k,this)];if(c(W,this,se).call(this,!0),c(W,this,le).call(this,e)){if(e.__staleWhileFetching)return e.__staleWhileFetching}else if(void 0!==e)return e}}finally{if(l(H,this)&&l(U,this)){const t=l(U,this);let r;for(;r=null===t||void 0===t?void 0:t.shift();){var e;null===(e=l(A,this))||void 0===e||e.call(this,...r)}}}}has(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{updateAgeOnHas:r=this.updateAgeOnHas,status:n}=t,i=l(R,this).get(e);if(void 0!==i){const e=l(F,this)[i];if(c(W,this,le).call(this,e)&&void 0===e.__staleWhileFetching)return!1;if(!l(Y,this).call(this,i))return r&&l(X,this).call(this,i),n&&(n.has="hit",l(K,this).call(this,n,i)),!0;n&&(n.has="stale",l(K,this).call(this,n,i))}else n&&(n.has="miss");return!1}peek(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale}=t,n=l(R,this).get(e);if(void 0===n||!r&&l(Y,this).call(this,n))return;const i=l(F,this)[n];return c(W,this,le).call(this,i)?i.__staleWhileFetching:i}async fetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,ttl:a=this.ttl,noDisposeOnSet:o=this.noDisposeOnSet,size:s=0,sizeCalculation:u=this.sizeCalculation,noUpdateTTL:d=this.noUpdateTTL,noDeleteOnFetchRejection:h=this.noDeleteOnFetchRejection,allowStaleOnFetchRejection:p=this.allowStaleOnFetchRejection,ignoreFetchAbort:f=this.ignoreFetchAbort,allowStaleOnFetchAbort:g=this.allowStaleOnFetchAbort,context:y,forceRefresh:m=!1,status:v,signal:b}=t;if(!l(G,this))return v&&(v.fetch="get"),this.get(e,{allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,status:v});const _={allowStale:r,updateAgeOnGet:n,noDeleteOnStaleGet:i,ttl:a,noDisposeOnSet:o,size:s,sizeCalculation:u,noUpdateTTL:d,noDeleteOnFetchRejection:h,allowStaleOnFetchRejection:p,allowStaleOnFetchAbort:g,ignoreFetchAbort:f,status:v,signal:b};let w=l(R,this).get(e);if(void 0===w){v&&(v.fetch="miss");const t=c(W,this,ce).call(this,e,w,_,y);return t.__returned=t}{const t=l(F,this)[w];if(c(W,this,le).call(this,t)){const e=r&&void 0!==t.__staleWhileFetching;return v&&(v.fetch="inflight",e&&(v.returnedStale=!0)),e?t.__staleWhileFetching:t.__returned=t}const i=l(Y,this).call(this,w);if(!m&&!i)return v&&(v.fetch="hit"),c(W,this,de).call(this,w),n&&l(X,this).call(this,w),v&&l(K,this).call(this,v,w),t;const a=c(W,this,ce).call(this,e,w,_,y),o=void 0!==a.__staleWhileFetching&&r;return v&&(v.fetch=i?"stale":"refresh",o&&i&&(v.returnedStale=!0)),o?a.__staleWhileFetching:a.__returned=a}}async forceFetch(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=await this.fetch(e,t);if(void 0===r)throw new Error("fetch() returned undefined");return r}memo(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=l(N,this);if(!r)throw new Error("no memoMethod provided to constructor");const{context:n,forceRefresh:a}=t,o=i(t,d),s=this.get(e,o);if(!a&&void 0!==s)return s;const c=r(e,s,{options:o,context:n});return this.set(e,c,o),c}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{allowStale:r=this.allowStale,updateAgeOnGet:n=this.updateAgeOnGet,noDeleteOnStaleGet:i=this.noDeleteOnStaleGet,status:a}=t,o=l(R,this).get(e);if(void 0!==o){const t=l(F,this)[o],s=c(W,this,le).call(this,t);return a&&l(K,this).call(this,a,o),l(Y,this).call(this,o)?(a&&(a.get="stale"),s?(a&&r&&void 0!==t.__staleWhileFetching&&(a.returnedStale=!0),r?t.__staleWhileFetching:void 0):(i||c(W,this,he).call(this,e,"expire"),a&&r&&(a.returnedStale=!0),r?t:void 0)):(a&&(a.get="hit"),s?t.__staleWhileFetching:(c(W,this,de).call(this,o),n&&l(X,this).call(this,o),t))}a&&(a.get="miss")}delete(e){return c(W,this,he).call(this,e,"delete")}clear(){return c(W,this,pe).call(this,"delete")}}function re(){var e=this;const t=new w(l(T,this)),r=new w(l(T,this));s(q,this,t),s(z,this,r),s($,this,function(n,i){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h.now();if(r[n]=0!==i?a:0,t[n]=i,0!==i&&e.ttlAutopurge){const t=setTimeout(()=>{l(Y,e).call(e,n)&&c(W,e,he).call(e,l(I,e)[n],"expire")},i+1);t.unref&&t.unref()}}),s(X,this,e=>{r[e]=0!==t[e]?h.now():0}),s(K,this,(e,a)=>{if(t[a]){const o=t[a],s=r[a];if(!o||!s)return;e.ttl=o,e.start=s,e.now=n||i();const c=e.now-s;e.remainingTTL=o-c}});let n=0;const i=()=>{const e=h.now();if(this.ttlResolution>0){n=e;const t=setTimeout(()=>n=0,this.ttlResolution);t.unref&&t.unref()}return e};this.getRemainingTTL=e=>{const a=l(R,this).get(e);if(void 0===a)return 0;const o=t[a],s=r[a];if(!o||!s)return 1/0;return o-((n||i())-s)},s(Y,this,e=>{const a=r[e],o=t[e];return!!o&&!!a&&(n||i())-a>o})}function ne(){const e=new w(l(T,this));s(D,this,0),s(V,this,e),s(J,this,t=>{s(D,this,l(D,this)-e[t]),e[t]=0}),s(ee,this,(e,t,r,n)=>{if(c(W,this,le).call(this,t))return 0;if(!b(r)){if(!n)throw new TypeError("invalid size value (must be positive integer). When maxSize or maxEntrySize is used, sizeCalculation or size must be set.");if("function"!==typeof n)throw new TypeError("sizeCalculation must be a function");if(r=n(t,e),!b(r))throw new TypeError("sizeCalculation return invalid (expect positive integer)")}return r}),s(Z,this,(t,r,n)=>{if(e[t]=r,l(O,this)){const r=l(O,this)-e[t];for(;l(D,this)>r;)c(W,this,se).call(this,!0)}s(D,this,l(D,this)+e[t]),n&&(n.entrySize=r,n.totalCalculatedSize=l(D,this))})}function ie(){var e=this;let{allowStale:t=this.allowStale}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){if(l(j,e))for(let r=l(L,e);c(W,e,oe).call(e,r)&&(!t&&l(Y,e).call(e,r)||(yield r),r!==l(k,e));)r=l(M,e)[r]}()}function ae(){var e=this;let{allowStale:t=this.allowStale}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function*(){if(l(j,e))for(let r=l(k,e);c(W,e,oe).call(e,r)&&(!t&&l(Y,e).call(e,r)||(yield r),r!==l(L,e));)r=l(C,e)[r]}()}function oe(e){return void 0!==e&&l(R,this).get(l(I,this)[e])===e}function se(e){var t;const r=l(k,this),n=l(I,this)[r],i=l(F,this)[r];if(l(G,this)&&c(W,this,le).call(this,i))i.__abortController.abort(new Error("evicted"));else if(l(Q,this)||l(H,this)){var a,o;if(l(Q,this))null===(a=l(E,this))||void 0===a||a.call(this,i,n,"evict");if(l(H,this))null===(o=l(U,this))||void 0===o||o.push([i,n,"evict"])}return l(J,this).call(this,r),e&&(l(I,this)[r]=void 0,l(F,this)[r]=void 0,l(B,this).push(r)),1===l(j,this)?(s(k,this,s(L,this,0)),l(B,this).length=0):s(k,this,l(C,this)[r]),l(R,this).delete(n),s(j,this,(t=l(j,this),t--,t)),r}function ce(e,t,r,i){var a=this;const o=void 0===t?void 0:l(F,this)[t];if(c(W,this,le).call(this,o))return o;const s=new y,{signal:u}=r;null===u||void 0===u||u.addEventListener("abort",()=>s.abort(u.reason),{signal:s.signal});const d={signal:s.signal,options:r,context:i},h=function(n){let i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const{aborted:o}=s.signal,u=r.ignoreFetchAbort&&void 0!==n;if(r.status&&(o&&!i?(r.status.fetchAborted=!0,r.status.fetchError=s.signal.reason,u&&(r.status.fetchAbortIgnored=!0)):r.status.fetchResolved=!0),o&&!u&&!i)return p(s.signal.reason);const h=f;return l(F,a)[t]===f&&(void 0===n?h.__staleWhileFetching?l(F,a)[t]=h.__staleWhileFetching:c(W,a,he).call(a,e,"fetch"):(r.status&&(r.status.fetchUpdated=!0),a.set(e,n,d.options))),n},p=n=>{const{aborted:i}=s.signal,a=i&&r.allowStaleOnFetchAbort,o=a||r.allowStaleOnFetchRejection,u=o||r.noDeleteOnFetchRejection,d=f;if(l(F,this)[t]===f){!u||void 0===d.__staleWhileFetching?c(W,this,he).call(this,e,"fetch"):a||(l(F,this)[t]=d.__staleWhileFetching)}if(o)return r.status&&void 0!==d.__staleWhileFetching&&(r.status.returnedStale=!0),d.__staleWhileFetching;if(d.__returned===d)throw n};r.status&&(r.status.fetchDispatched=!0);const f=new Promise((t,n)=>{var i;const a=null===(i=l(P,this))||void 0===i?void 0:i.call(this,e,o,d);a&&a instanceof Promise&&a.then(e=>t(void 0===e?void 0:e),n),s.signal.addEventListener("abort",()=>{r.ignoreFetchAbort&&!r.allowStaleOnFetchAbort||(t(void 0),r.allowStaleOnFetchAbort&&(t=e=>h(e,!0)))})}).then(h,e=>(r.status&&(r.status.fetchRejected=!0,r.status.fetchError=e),p(e))),g=Object.assign(f,{__abortController:s,__staleWhileFetching:o,__returned:void 0});return void 0===t?(this.set(e,g,n(n({},d.options),{},{status:void 0})),t=l(R,this).get(e)):l(F,this)[t]=g,g}function le(e){if(!l(G,this))return!1;const t=e;return!!t&&t instanceof Promise&&t.hasOwnProperty("__staleWhileFetching")&&t.__abortController instanceof y}function ue(e,t){l(M,this)[t]=e,l(C,this)[e]=t}function de(e){e!==l(L,this)&&(e===l(k,this)?s(k,this,l(C,this)[e]):c(W,this,ue).call(this,l(M,this)[e],l(C,this)[e]),c(W,this,ue).call(this,l(L,this),e),s(L,this,e))}function he(e,t){var r;let n=!1;if(0!==l(j,this)){const r=l(R,this).get(e);if(void 0!==r)if(n=!0,1===l(j,this))c(W,this,pe).call(this,t);else{var i;l(J,this).call(this,r);const n=l(F,this)[r];if(c(W,this,le).call(this,n))n.__abortController.abort(new Error("deleted"));else if(l(Q,this)||l(H,this)){var a,o;if(l(Q,this))null===(a=l(E,this))||void 0===a||a.call(this,n,e,t);if(l(H,this))null===(o=l(U,this))||void 0===o||o.push([n,e,t])}if(l(R,this).delete(e),l(I,this)[r]=void 0,l(F,this)[r]=void 0,r===l(L,this))s(L,this,l(M,this)[r]);else if(r===l(k,this))s(k,this,l(C,this)[r]);else{const e=l(M,this)[r];l(C,this)[e]=l(C,this)[r];const t=l(C,this)[r];l(M,this)[t]=l(M,this)[r]}s(j,this,(i=l(j,this),i--,i)),l(B,this).push(r)}}if(l(H,this)&&null!==(r=l(U,this))&&void 0!==r&&r.length){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var u;null===(u=l(A,this))||void 0===u||u.call(this,...t)}}return n}function pe(e){for(const i of c(W,this,ae).call(this,{allowStale:!0})){const n=l(F,this)[i];if(c(W,this,le).call(this,n))n.__abortController.abort(new Error("deleted"));else{const a=l(I,this)[i];var t,r;if(l(Q,this))null===(t=l(E,this))||void 0===t||t.call(this,n,a,e);if(l(H,this))null===(r=l(U,this))||void 0===r||r.push([n,a,e])}}if(l(R,this).clear(),l(F,this).fill(void 0),l(I,this).fill(void 0),l(q,this)&&l(z,this)&&(l(q,this).fill(0),l(z,this).fill(0)),l(V,this)&&l(V,this).fill(0),s(k,this,0),s(L,this,0),l(B,this).length=0,s(D,this,0),s(j,this,0),l(H,this)&&l(U,this)){const e=l(U,this);let t;for(;t=null===e||void 0===e?void 0:e.shift();){var n;null===(n=l(A,this))||void 0===n||n.call(this,...t)}}}t.LRUCache=te},91847:(e,t,r)=>{var n=r(54893);e.exports=function(e,t){if(null==e)return{};var r,i,a=n(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a},e.exports.__esModule=!0,e.exports.default=e.exports},91887:(e,t,r)=>{"use strict";const n=r(26382),{format:i,inspect:a}=r(48092),{codes:{ERR_INVALID_ARG_TYPE:o}}=r(60056),{kResistStopPropagation:s,AggregateError:c,SymbolDispose:l}=r(28931),u=globalThis.AbortSignal||r(13641).AbortSignal,d=globalThis.AbortController||r(13641).AbortController,h=Object.getPrototypeOf(async function(){}).constructor,p=globalThis.Blob||n.Blob,f="undefined"!==typeof p?function(e){return e instanceof p}:function(e){return!1},g=(e,t)=>{if(void 0!==e&&(null===e||"object"!==typeof e||!("aborted"in e)))throw new o(t,"AbortSignal",e)};e.exports={AggregateError:c,kEmptyObject:Object.freeze({}),once(e){let t=!1;return function(){if(!t){t=!0;for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];e.apply(this,n)}}},createDeferredPromise:function(){let e,t;return{promise:new Promise((r,n)=>{e=r,t=n}),resolve:e,reject:t}},promisify:e=>new Promise((t,r)=>{e(function(e){if(e)return r(e);for(var n=arguments.length,i=new Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];return t(...i)})}),debuglog:()=>function(){},format:i,inspect:a,types:{isAsyncFunction:e=>e instanceof h,isArrayBufferView:e=>ArrayBuffer.isView(e)},isBlob:f,deprecate:(e,t)=>e,addAbortListener:r(27284).addAbortListener||function(e,t){if(void 0===e)throw new o("signal","AbortSignal",e);let r;return g(e,"signal"),((e,t)=>{if("function"!==typeof e)throw new o(t,"Function",e)})(t,"listener"),e.aborted?queueMicrotask(()=>t()):(e.addEventListener("abort",t,{__proto__:null,once:!0,[s]:!0}),r=()=>{e.removeEventListener("abort",t)}),{__proto__:null,[l](){var e;null===(e=r)||void 0===e||e()}}},AbortSignalAny:u.any||function(e){if(1===e.length)return e[0];const t=new d,r=()=>t.abort();return e.forEach(e=>{g(e,"signals"),e.addEventListener("abort",r,{once:!0})}),t.signal.addEventListener("abort",()=>{e.forEach(e=>e.removeEventListener("abort",r))},{once:!0}),t.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")},92092:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorAbstractMediaTypedFixed=void 0;const n=r(13953),i=r(23976);class a extends i.ActorAbstractMediaTyped{constructor(e){super(e);const t=this.priorityScale||0===this.priorityScale?this.priorityScale:1;if(this.mediaTypePriorities)for(const[r,[n,i]]of Object.entries(this.mediaTypePriorities).entries())this.mediaTypePriorities[n]=t*i;this.mediaTypePriorities=Object.freeze(this.mediaTypePriorities),this.mediaTypeFormats=Object.freeze(this.mediaTypeFormats)}async testHandle(e,t,r){return t&&t in this.mediaTypePriorities?await this.testHandleChecked(e,r):(0,n.failTest)("Unrecognized media type: ".concat(t))}async testMediaType(e){return(0,n.passTestVoid)()}async getMediaTypes(e){return this.mediaTypePriorities}async testMediaTypeFormats(e){return(0,n.passTestVoid)()}async getMediaTypeFormats(e){return this.mediaTypeFormats}}t.ActorAbstractMediaTypedFixed=a},92119:(e,t,r)=>{"use strict";r.r(t),r.d(t,{Collection:()=>T,Iterable:()=>Tn,List:()=>ar,Map:()=>Ct,OrderedMap:()=>vr,OrderedSet:()=>on,PairSorting:()=>dn,Range:()=>zr,Record:()=>hn,Repeat:()=>bn,Seq:()=>W,Set:()=>Cr,Stack:()=>Tr,fromJS:()=>_n,get:()=>at,getIn:()=>qr,has:()=>it,hasIn:()=>Gr,hash:()=>pe,is:()=>le,isAssociative:()=>S,isCollection:()=>v,isImmutable:()=>R,isIndexed:()=>x,isKeyed:()=>_,isList:()=>ir,isMap:()=>oe,isOrdered:()=>F,isOrderedMap:()=>se,isOrderedSet:()=>Dr,isPlainObject:()=>tt,isRecord:()=>D,isSeq:()=>N,isSet:()=>jr,isStack:()=>Sr,isValueObject:()=>ce,merge:()=>wt,mergeDeep:()=>St,mergeDeepWith:()=>Tt,mergeWith:()=>xt,remove:()=>st,removeIn:()=>pt,set:()=>ct,setIn:()=>dt,update:()=>gt,updateIn:()=>lt,version:()=>Sn});var n="delete",i=32,a=31,o={};function s(e){e&&(e.value=!0)}function c(){}function l(e){return void 0===e.size&&(e.size=e.__iterate(d)),e.size}function u(e,t){if("number"!==typeof t){var r=t>>>0;if(""+r!==t||4294967295===r)return NaN;t=r}return t<0?l(e)+t:t}function d(){return!0}function h(e,t,r){return(0===e&&!y(e)||void 0!==r&&e<=-r)&&(void 0===t||void 0!==r&&t>=r)}function p(e,t){return g(e,t,0)}function f(e,t){return g(e,t,t)}function g(e,t,r){return void 0===e?r:y(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function y(e){return e<0||0===e&&1/e===-1/0}var m="@@__IMMUTABLE_ITERABLE__@@";function v(e){return Boolean(e&&e[m])}var b="@@__IMMUTABLE_KEYED__@@";function _(e){return Boolean(e&&e[b])}var w="@@__IMMUTABLE_INDEXED__@@";function x(e){return Boolean(e&&e[w])}function S(e){return _(e)||x(e)}var T=function(e){return v(e)?e:W(e)},O=function(e){function t(e){return _(e)?e:X(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(T),E=function(e){function t(e){return x(e)?e:K(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(T),A=function(e){function t(e){return v(e)&&!S(e)?e:$(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(T);T.Keyed=O,T.Indexed=E,T.Set=A;var P="@@__IMMUTABLE_SEQ__@@";function N(e){return Boolean(e&&e[P])}var j="@@__IMMUTABLE_RECORD__@@";function D(e){return Boolean(e&&e[j])}function R(e){return v(e)||D(e)}var I="@@__IMMUTABLE_ORDERED__@@";function F(e){return Boolean(e&&e[I])}var C="function"===typeof Symbol&&Symbol.iterator,M="@@iterator",k=C||M,L=function(e){this.next=e};function B(e,t,r,n){var i=0===e?t:1===e?r:[t,r];return n?n.value=i:n={value:i,done:!1},n}function U(){return{value:void 0,done:!0}}function V(e){return!!Array.isArray(e)||!!Q(e)}function z(e){return e&&"function"===typeof e.next}function q(e){var t=Q(e);return t&&t.call(e)}function Q(e){var t=e&&(C&&e[C]||e[M]);if("function"===typeof t)return t}L.prototype.toString=function(){return"[Iterator]"},L.KEYS=0,L.VALUES=1,L.ENTRIES=2,L.prototype.inspect=L.prototype.toSource=function(){return this.toString()},L.prototype[k]=function(){return this};var G=Object.prototype.hasOwnProperty;function H(e){return!(!Array.isArray(e)&&"string"!==typeof e)||e&&"object"===typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var W=function(e){function t(e){return void 0===e||null===e?te():R(e)?e.toSeq():function(e){var t=ie(e);if(t)return function(e){var t=Q(e);return t&&t===e.entries}(e)?t.fromEntrySeq():function(e){var t=Q(e);return t&&t===e.keys}(e)?t.toSetSeq():t;if("object"===typeof e)return new J(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var r=this._cache;if(r){for(var n=r.length,i=0;i!==n;){var a=r[t?n-++i:i++];if(!1===e(a[1],a[0],this))break}return i}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var r=this._cache;if(r){var n=r.length,i=0;return new L(function(){if(i===n)return{value:void 0,done:!0};var a=r[t?n-++i:i++];return B(e,a[0],a[1])})}return this.__iteratorUncached(e,t)},t}(T),X=function(e){function t(e){return void 0===e||null===e?te().toKeyedSeq():v(e)?_(e)?e.toSeq():e.fromEntrySeq():D(e)?e.toSeq():re(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(W),K=function(e){function t(e){return void 0===e||null===e?te():v(e)?_(e)?e.entrySeq():e.toIndexedSeq():D(e)?e.toSeq().entrySeq():ne(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(W),$=function(e){function t(e){return(v(e)&&!S(e)?e:K(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(W);W.isSeq=N,W.Keyed=X,W.Set=$,W.Indexed=K,W.prototype[P]=!0;var Y=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[u(this,e)]:t},t.prototype.__iterate=function(e,t){for(var r=this._array,n=r.length,i=0;i!==n;){var a=t?n-++i:i++;if(!1===e(r[a],a,this))break}return i},t.prototype.__iterator=function(e,t){var r=this._array,n=r.length,i=0;return new L(function(){if(i===n)return{value:void 0,done:!0};var a=t?n-++i:i++;return B(e,a,r[a])})},t}(K),J=function(e){function t(e){var t=Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return G.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var r=this._object,n=this._keys,i=n.length,a=0;a!==i;){var o=n[t?i-++a:a++];if(!1===e(r[o],o,this))break}return a},t.prototype.__iterator=function(e,t){var r=this._object,n=this._keys,i=n.length,a=0;return new L(function(){if(a===i)return{value:void 0,done:!0};var o=n[t?i-++a:a++];return B(e,o,r[o])})},t}(X);J.prototype[I]=!0;var Z,ee=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var r=q(this._collection),n=0;if(z(r))for(var i;!(i=r.next()).done&&!1!==e(i.value,n++,this););return n},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var r=q(this._collection);if(!z(r))return new L(U);var n=0;return new L(function(){var t=r.next();return t.done?t:B(e,n++,t.value)})},t}(K);function te(){return Z||(Z=new Y([]))}function re(e){var t=ie(e);if(t)return t.fromEntrySeq();if("object"===typeof e)return new J(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function ne(e){var t=ie(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function ie(e){return H(e)?new Y(e):V(e)?new ee(e):void 0}var ae="@@__IMMUTABLE_MAP__@@";function oe(e){return Boolean(e&&e[ae])}function se(e){return oe(e)&&F(e)}function ce(e){return Boolean(e&&"function"===typeof e.equals&&"function"===typeof e.hashCode)}function le(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"===typeof e.valueOf&&"function"===typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(ce(e)&&ce(t)&&e.equals(t))}var ue="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var r=65535&(e|=0),n=65535&(t|=0);return r*n+((e>>>16)*n+r*(t>>>16)<<16>>>0)|0};function de(e){return e>>>1&1073741824|3221225471&e}var he=Object.prototype.valueOf;function pe(e){if(null==e)return fe(e);if("function"===typeof e.hashCode)return de(e.hashCode(e));var t,r=(t=e).valueOf!==he&&"function"===typeof t.valueOf?t.valueOf(t):t;if(null==r)return fe(r);switch(typeof r){case"boolean":return r?1108378657:1108378656;case"number":return function(e){if(e!==e||e===1/0)return 0;var t=0|e;t!==e&&(t^=4294967295*e);for(;e>4294967295;)t^=e/=4294967295;return de(t)}(r);case"string":return r.length>Te?function(e){var t=Ae[e];void 0===t&&(t=ge(e),Ee===Oe&&(Ee=0,Ae={}),Ee++,Ae[e]=t);return t}(r):ge(r);case"object":case"function":return function(e){var t;if(_e&&void 0!==(t=be.get(e)))return t;if(t=e[Se],void 0!==t)return t;if(!me){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Se]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=ve(),_e)be.set(e,t);else{if(void 0!==ye&&!1===ye(e))throw new Error("Non-extensible objects are not allowed as keys.");if(me)Object.defineProperty(e,Se,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Se]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Se]=t}}return t}(r);case"symbol":return function(e){var t=we[e];if(void 0!==t)return t;return t=ve(),we[e]=t,t}(r);default:if("function"===typeof r.toString)return ge(r.toString());throw new Error("Value type "+typeof r+" cannot be hashed.")}}function fe(e){return null===e?1108378658:1108378659}function ge(e){for(var t=0,r=0;r<e.length;r++)t=31*t+e.charCodeAt(r)|0;return de(t)}var ye=Object.isExtensible,me=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function ve(){var e=++xe;return 1073741824&xe&&(xe=0),e}var be,_e="function"===typeof WeakMap;_e&&(be=new WeakMap);var we=Object.create(null),xe=0,Se="__immutablehash__";"function"===typeof Symbol&&(Se=Symbol(Se));var Te=16,Oe=255,Ee=0,Ae={},Pe=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=Fe(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var r=this,n=Ie(this,e,t);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(e,t)}),n},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t,n){return e(t,n,r)},t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(X);Pe.prototype[I]=!0;var Ne=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this,n=0;return t&&l(this),this._iter.__iterate(function(i){return e(i,t?r.size-++n:n++,r)},t)},t.prototype.__iterator=function(e,t){var r=this,n=this._iter.__iterator(1,t),i=0;return t&&l(this),new L(function(){var a=n.next();return a.done?a:B(e,t?r.size-++i:i++,a.value,a)})},t}(K),je=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t){return e(t,t,r)},t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(1,t);return new L(function(){var t=r.next();return t.done?t:B(e,t.value,t.value,t)})},t}($),De=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var r=this;return this._iter.__iterate(function(t){if(t){Ge(t);var n=v(t);return e(n?t.get(1):t[1],n?t.get(0):t[0],r)}},t)},t.prototype.__iterator=function(e,t){var r=this._iter.__iterator(1,t);return new L(function(){for(;;){var t=r.next();if(t.done)return t;var n=t.value;if(n){Ge(n);var i=v(n);return B(e,i?n.get(0):n[0],i?n.get(1):n[1],t)}}})},t}(X);function Re(e){var t=We(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Xe,t.__iterateUncached=function(t,r){var n=this;return e.__iterate(function(e,r){return!1!==t(r,e,n)},r)},t.__iteratorUncached=function(t,r){if(2===t){var n=e.__iterator(t,r);return new L(function(){var e=n.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(1===t?0:1,r)},t}function Ie(e,t,r){var n=We(e);return n.size=e.size,n.has=function(t){return e.has(t)},n.get=function(n,i){var a=e.get(n,o);return a===o?i:t.call(r,a,n,e)},n.__iterateUncached=function(n,i){var a=this;return e.__iterate(function(e,i,o){return!1!==n(t.call(r,e,i,o),i,a)},i)},n.__iteratorUncached=function(n,i){var a=e.__iterator(2,i);return new L(function(){var i=a.next();if(i.done)return i;var o=i.value,s=o[0];return B(n,s,t.call(r,o[1],s,e),i)})},n}function Fe(e,t){var r=this,n=We(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Re(e);return t.reverse=function(){return e.flip()},t}),n.get=function(r,n){return e.get(t?r:-1-r,n)},n.has=function(r){return e.has(t?r:-1-r)},n.includes=function(t){return e.includes(t)},n.cacheResult=Xe,n.__iterate=function(r,n){var i=this,a=0;return n&&l(e),e.__iterate(function(e,o){return r(e,t?o:n?i.size-++a:a++,i)},!n)},n.__iterator=function(n,i){var a=0;i&&l(e);var o=e.__iterator(2,!i);return new L(function(){var e=o.next();if(e.done)return e;var s=e.value;return B(n,t?s[0]:i?r.size-++a:a++,s[1],e)})},n}function Ce(e,t,r,n){var i=We(e);return n&&(i.has=function(n){var i=e.get(n,o);return i!==o&&!!t.call(r,i,n,e)},i.get=function(n,i){var a=e.get(n,o);return a!==o&&t.call(r,a,n,e)?a:i}),i.__iterateUncached=function(i,a){var o=this,s=0;return e.__iterate(function(e,a,c){if(t.call(r,e,a,c))return s++,i(e,n?a:s-1,o)},a),s},i.__iteratorUncached=function(i,a){var o=e.__iterator(2,a),s=0;return new L(function(){for(;;){var a=o.next();if(a.done)return a;var c=a.value,l=c[0],u=c[1];if(t.call(r,u,l,e))return B(i,n?l:s++,u,a)}})},i}function Me(e,t,r,n){var i=e.size;if(h(t,r,i))return e;if("undefined"===typeof i&&(t<0||r<0))return Me(e.toSeq().cacheResult(),t,r,n);var a,o=p(t,i),s=f(r,i)-o;s===s&&(a=s<0?0:s);var c=We(e);return c.size=0===a?a:e.size&&a||void 0,!n&&N(e)&&a>=0&&(c.get=function(t,r){return(t=u(this,t))>=0&&t<a?e.get(t+o,r):r}),c.__iterateUncached=function(t,r){var i=this;if(0===a)return 0;if(r)return this.cacheResult().__iterate(t,r);var s=0,c=!0,l=0;return e.__iterate(function(e,r){if(!c||!(c=s++<o))return l++,!1!==t(e,n?r:l-1,i)&&l!==a}),l},c.__iteratorUncached=function(t,r){if(0!==a&&r)return this.cacheResult().__iterator(t,r);if(0===a)return new L(U);var i=e.__iterator(t,r),s=0,c=0;return new L(function(){for(;s++<o;)i.next();if(++c>a)return{value:void 0,done:!0};var e=i.next();return n||1===t||e.done?e:B(t,c-1,0===t?void 0:e.value[1],e)})},c}function ke(e,t,r,n){var i=We(e);return i.__iterateUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterate(i,a);var s=!0,c=0;return e.__iterate(function(e,a,l){if(!s||!(s=t.call(r,e,a,l)))return c++,i(e,n?a:c-1,o)}),c},i.__iteratorUncached=function(i,a){var o=this;if(a)return this.cacheResult().__iterator(i,a);var s=e.__iterator(2,a),c=!0,l=0;return new L(function(){var e,a,u;do{if((e=s.next()).done)return n||1===i?e:B(i,l++,0===i?void 0:e.value[1],e);var d=e.value;a=d[0],u=d[1],c&&(c=t.call(r,u,a,o))}while(c);return 2===i?e:B(i,a,u,e)})},i}Ne.prototype.cacheResult=Pe.prototype.cacheResult=je.prototype.cacheResult=De.prototype.cacheResult=Xe;var Le=function(e){function t(e){this._wrappedIterables=e.flatMap(function(e){return e._wrappedIterables?e._wrappedIterables:[e]}),this.size=this._wrappedIterables.reduce(function(e,t){if(void 0!==e){var r=t.size;if(void 0!==r)return e+r}},0),this[b]=this._wrappedIterables[0][b],this[w]=this._wrappedIterables[0][w],this[I]=this._wrappedIterables[0][I]}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(0!==this._wrappedIterables.length){if(t)return this.cacheResult().__iterate(e,t);for(var r=0,n=_(this),i=n?2:1,a=this._wrappedIterables[r].__iterator(i,t),o=!0,s=0;o;){for(var c=a.next();c.done;){if(++r===this._wrappedIterables.length)return s;c=(a=this._wrappedIterables[r].__iterator(i,t)).next()}o=!1!==(n?e(c.value[1],c.value[0],this):e(c.value,s,this)),s++}return s}},t.prototype.__iteratorUncached=function(e,t){var r=this;if(0===this._wrappedIterables.length)return new L(U);if(t)return this.cacheResult().__iterator(e,t);var n=0,i=this._wrappedIterables[n].__iterator(e,t);return new L(function(){for(var a=i.next();a.done;){if(++n===r._wrappedIterables.length)return a;a=(i=r._wrappedIterables[n].__iterator(e,t)).next()}return a})},t}(W);function Be(e,t,r){var n=We(e);return n.__iterateUncached=function(i,a){if(a)return this.cacheResult().__iterate(i,a);var o=0,s=!1;return function e(c,l){c.__iterate(function(a,c){return(!t||l<t)&&v(a)?e(a,l+1):(o++,!1===i(a,r?c:o-1,n)&&(s=!0)),!s},a)}(e,0),o},n.__iteratorUncached=function(n,i){if(i)return this.cacheResult().__iterator(n,i);var a=e.__iterator(n,i),o=[],s=0;return new L(function(){for(;a;){var e=a.next();if(!1===e.done){var c=e.value;if(2===n&&(c=c[1]),t&&!(o.length<t)||!v(c))return r?e:B(n,s++,c,e);o.push(a),a=c.__iterator(n,i)}else a=o.pop()}return{value:void 0,done:!0}})},n}function Ue(e,t,r){t||(t=Ke);var n=_(e),i=0,a=e.toSeq().map(function(t,n){return[n,t,i++,r?r(t,n,e):t]}).valueSeq().toArray();return a.sort(function(e,r){return t(e[3],r[3])||e[2]-r[2]}).forEach(n?function(e,t){a[t].length=2}:function(e,t){a[t]=e[1]}),n?X(a):x(e)?K(a):$(a)}function Ve(e,t,r){if(t||(t=Ke),r){var n=e.toSeq().map(function(t,n){return[t,r(t,n,e)]}).reduce(function(e,r){return ze(t,e[1],r[1])?r:e});return n&&n[0]}return e.reduce(function(e,r){return ze(t,e,r)?r:e})}function ze(e,t,r){var n=e(r,t);return 0===n&&r!==t&&(void 0===r||null===r||r!==r)||n>0}function qe(e,t,r,n){var i=We(e),a=new Y(r).map(function(e){return e.size});return i.size=n?a.max():a.min(),i.__iterate=function(e,t){for(var r,n=this.__iterator(1,t),i=0;!(r=n.next()).done&&!1!==e(r.value,i++,this););return i},i.__iteratorUncached=function(e,i){var a=r.map(function(e){return e=T(e),q(i?e.reverse():e)}),o=0,s=!1;return new L(function(){var r;return s||(r=a.map(function(e){return e.next()}),s=n?r.every(function(e){return e.done}):r.some(function(e){return e.done})),s?{value:void 0,done:!0}:B(e,o++,t.apply(null,r.map(function(e){return e.value})))})},i}function Qe(e,t){return e===t?e:N(e)?t:e.constructor(t)}function Ge(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function He(e){return _(e)?O:x(e)?E:A}function We(e){return Object.create((_(e)?X:x(e)?K:$).prototype)}function Xe(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):W.prototype.cacheResult.call(this)}function Ke(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function $e(e,t){t=t||0;for(var r=Math.max(0,e.length-t),n=new Array(r),i=0;i<r;i++)n[i]=e[i+t];return n}function Ye(e,t){if(!e)throw new Error(t)}function Je(e){Ye(e!==1/0,"Cannot perform this action with an infinite size.")}function Ze(e){if(H(e)&&"string"!==typeof e)return e;if(F(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}var et=Object.prototype.toString;function tt(e){if(!e||"object"!==typeof e||"[object Object]"!==et.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var r=t,n=Object.getPrototypeOf(t);null!==n;)r=n,n=Object.getPrototypeOf(r);return r===t}function rt(e){return"object"===typeof e&&(R(e)||Array.isArray(e)||tt(e))}function nt(e){try{return"string"===typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function it(e,t){return R(e)?e.has(t):rt(e)&&G.call(e,t)}function at(e,t,r){return R(e)?e.get(t,r):it(e,t)?"function"===typeof e.get?e.get(t):e[t]:r}function ot(e){if(Array.isArray(e))return $e(e);var t={};for(var r in e)G.call(e,r)&&(t[r]=e[r]);return t}function st(e,t){if(!rt(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(R(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!G.call(e,t))return e;var r=ot(e);return Array.isArray(r)?r.splice(t,1):delete r[t],r}function ct(e,t,r){if(!rt(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(R(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,r)}if(G.call(e,t)&&r===e[t])return e;var n=ot(e);return n[t]=r,n}function lt(e,t,r,n){n||(n=r,r=void 0);var i=ut(R(e),e,Ze(t),0,r,n);return i===o?r:i}function ut(e,t,r,n,i,a){var s=t===o;if(n===r.length){var c=s?i:t,l=a(c);return l===c?t:l}if(!s&&!rt(t))throw new TypeError("Cannot update within non-data-structure value in path ["+Array.from(r).slice(0,n).map(nt)+"]: "+t);var u=r[n],d=s?o:at(t,u,o),h=ut(d===o?e:R(d),d,r,n+1,i,a);return h===d?t:h===o?st(t,u):ct(s?e?Wt():{}:t,u,h)}function dt(e,t,r){return lt(e,t,o,function(){return r})}function ht(e,t){return dt(this,e,t)}function pt(e,t){return lt(e,t,function(){return o})}function ft(e){return pt(this,e)}function gt(e,t,r,n){return lt(e,[t],r,n)}function yt(e,t,r){return 1===arguments.length?e(this):gt(this,e,t,r)}function mt(e,t,r){return lt(this,e,t,r)}function vt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return _t(this,e)}function bt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];if("function"!==typeof e)throw new TypeError("Invalid merger function: "+e);return _t(this,t,e)}function _t(e,t,r){for(var n=[],i=0;i<t.length;i++){var a=O(t[i]);0!==a.size&&n.push(a)}return 0===n.length?e:0!==e.toSeq().size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var t=r?function(t,n){gt(e,n,o,function(e){return e===o?t:r(e,t,n)})}:function(t,r){e.set(r,t)},i=0;i<n.length;i++)n[i].forEach(t)}):D(e)?e:e.constructor(n[0])}function wt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Et(e,t)}function xt(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Et(t,r,e)}function St(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Ot(e,t)}function Tt(e,t){for(var r=[],n=arguments.length-2;n-- >0;)r[n]=arguments[n+2];return Ot(t,r,e)}function Ot(e,t,r){return Et(e,t,function(e){function t(r,n,i){return rt(r)&&rt(n)&&function(e,t){var r=W(e),n=W(t);return x(r)===x(n)&&_(r)===_(n)}(r,n)?Et(r,[n],t):e?e(r,n,i):n}return t}(r))}function Et(e,t,r){if(!rt(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(R(e))return"function"===typeof r&&e.mergeWith?e.mergeWith.apply(e,[r].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var n=Array.isArray(e),i=e,a=n?E:O,o=n?function(t){i===e&&(i=ot(i)),i.push(t)}:function(t,n){var a=G.call(i,n),o=a&&r?r(i[n],t,n):t;a&&o===i[n]||(i===e&&(i=ot(i)),i[n]=o)},s=0;s<t.length;s++)a(t[s]).forEach(o);return i}function At(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Ot(this,e)}function Pt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return Ot(this,t,e)}function Nt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return lt(this,e,Wt(),function(e){return Et(e,t)})}function jt(e){for(var t=[],r=arguments.length-1;r-- >0;)t[r]=arguments[r+1];return lt(this,e,Wt(),function(e){return Ot(e,t)})}function Dt(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Rt(){return this.__ownerID?this:this.__ensureOwner(new c)}function It(){return this.__ensureOwner()}function Ft(){return this.__altered}var Ct=function(e){function t(t){return void 0===t||null===t?Wt():oe(t)&&!F(t)?t:Wt().withMutations(function(r){var n=e(t);Je(n.size),n.forEach(function(e,t){return r.set(t,e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return Xt(this,e,t)},t.prototype.remove=function(e){return Xt(this,e,o)},t.prototype.deleteAll=function(e){var t=T(e);return 0===t.size?this:this.withMutations(function(e){t.forEach(function(t){return e.remove(t)})})},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Wt()},t.prototype.sort=function(e){return vr(Ue(this,e))},t.prototype.sortBy=function(e,t){return vr(Ue(this,t,e))},t.prototype.map=function(e,t){var r=this;return this.withMutations(function(n){n.forEach(function(i,a){n.set(a,e.call(t,i,a,r))})})},t.prototype.__iterator=function(e,t){return new qt(this,e,t)},t.prototype.__iterate=function(e,t){var r=this,n=0;return this._root&&this._root.iterate(function(t){return n++,e(t[1],t[0],r)},t),n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ht(this.size,this._root,e,this.__hash):0===this.size?Wt():(this.__ownerID=e,this.__altered=!1,this)},t}(O);Ct.isMap=oe;var Mt=Ct.prototype;Mt[ae]=!0,Mt[n]=Mt.remove,Mt.removeAll=Mt.deleteAll,Mt.setIn=ht,Mt.removeIn=Mt.deleteIn=ft,Mt.update=yt,Mt.updateIn=mt,Mt.merge=Mt.concat=vt,Mt.mergeWith=bt,Mt.mergeDeep=At,Mt.mergeDeepWith=Pt,Mt.mergeIn=Nt,Mt.mergeDeepIn=jt,Mt.withMutations=Dt,Mt.wasAltered=Ft,Mt.asImmutable=It,Mt["@@transducer/init"]=Mt.asMutable=Rt,Mt["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},Mt["@@transducer/result"]=function(e){return e.asImmutable()};var kt=function(e,t){this.ownerID=e,this.entries=t};kt.prototype.get=function(e,t,r,n){for(var i=this.entries,a=0,o=i.length;a<o;a++)if(le(r,i[a][0]))return i[a][1];return n},kt.prototype.update=function(e,t,r,n,i,a,l){for(var u=i===o,d=this.entries,h=0,p=d.length;h<p&&!le(n,d[h][0]);h++);var f=h<p;if(f?d[h][1]===i:u)return this;if(s(l),(u||!f)&&s(a),!u||1!==d.length){if(!f&&!u&&d.length>=er)return function(e,t,r,n){e||(e=new c);for(var i=new Vt(e,pe(r),[r,n]),a=0;a<t.length;a++){var o=t[a];i=i.update(e,0,void 0,o[0],o[1])}return i}(e,d,n,i);var g=e&&e===this.ownerID,y=g?d:$e(d);return f?u?h===p-1?y.pop():y[h]=y.pop():y[h]=[n,i]:y.push([n,i]),g?(this.entries=y,this):new kt(e,y)}};var Lt=function(e,t,r){this.ownerID=e,this.bitmap=t,this.nodes=r};Lt.prototype.get=function(e,t,r,n){void 0===t&&(t=pe(r));var i=1<<((0===e?t:t>>>e)&a),o=this.bitmap;return 0===(o&i)?n:this.nodes[Jt(o&i-1)].get(e+5,t,r,n)},Lt.prototype.update=function(e,t,r,n,s,c,l){void 0===r&&(r=pe(n));var u=(0===t?r:r>>>t)&a,d=1<<u,h=this.bitmap,p=0!==(h&d);if(!p&&s===o)return this;var f=Jt(h&d-1),g=this.nodes,y=p?g[f]:void 0,m=Kt(y,e,t+5,r,n,s,c,l);if(m===y)return this;if(!p&&m&&g.length>=tr)return function(e,t,r,n,a){for(var o=0,s=new Array(i),c=0;0!==r;c++,r>>>=1)s[c]=1&r?t[o++]:void 0;return s[n]=a,new Bt(e,o+1,s)}(e,g,h,u,m);if(p&&!m&&2===g.length&&$t(g[1^f]))return g[1^f];if(p&&m&&1===g.length&&$t(m))return m;var v=e&&e===this.ownerID,b=p?m?h:h^d:h|d,_=p?m?Zt(g,f,m,v):function(e,t,r){var n=e.length-1;if(r&&t===n)return e.pop(),e;for(var i=new Array(n),a=0,o=0;o<n;o++)o===t&&(a=1),i[o]=e[o+a];return i}(g,f,v):function(e,t,r,n){var i=e.length+1;if(n&&t+1===i)return e[t]=r,e;for(var a=new Array(i),o=0,s=0;s<i;s++)s===t?(a[s]=r,o=-1):a[s]=e[s+o];return a}(g,f,m,v);return v?(this.bitmap=b,this.nodes=_,this):new Lt(e,b,_)};var Bt=function(e,t,r){this.ownerID=e,this.count=t,this.nodes=r};Bt.prototype.get=function(e,t,r,n){void 0===t&&(t=pe(r));var i=(0===e?t:t>>>e)&a,o=this.nodes[i];return o?o.get(e+5,t,r,n):n},Bt.prototype.update=function(e,t,r,n,i,s,c){void 0===r&&(r=pe(n));var l=(0===t?r:r>>>t)&a,u=i===o,d=this.nodes,h=d[l];if(u&&!h)return this;var p=Kt(h,e,t+5,r,n,i,s,c);if(p===h)return this;var f=this.count;if(h){if(!p&&--f<rr)return function(e,t,r,n){for(var i=0,a=0,o=new Array(r),s=0,c=1,l=t.length;s<l;s++,c<<=1){var u=t[s];void 0!==u&&s!==n&&(i|=c,o[a++]=u)}return new Lt(e,i,o)}(e,d,f,l)}else f++;var g=e&&e===this.ownerID,y=Zt(d,l,p,g);return g?(this.count=f,this.nodes=y,this):new Bt(e,f,y)};var Ut=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entries=r};Ut.prototype.get=function(e,t,r,n){for(var i=this.entries,a=0,o=i.length;a<o;a++)if(le(r,i[a][0]))return i[a][1];return n},Ut.prototype.update=function(e,t,r,n,i,a,c){void 0===r&&(r=pe(n));var l=i===o;if(r!==this.keyHash)return l?this:(s(c),s(a),Yt(this,e,t,r,[n,i]));for(var u=this.entries,d=0,h=u.length;d<h&&!le(n,u[d][0]);d++);var p=d<h;if(p?u[d][1]===i:l)return this;if(s(c),(l||!p)&&s(a),l&&2===h)return new Vt(e,this.keyHash,u[1^d]);var f=e&&e===this.ownerID,g=f?u:$e(u);return p?l?d===h-1?g.pop():g[d]=g.pop():g[d]=[n,i]:g.push([n,i]),f?(this.entries=g,this):new Ut(e,this.keyHash,g)};var Vt=function(e,t,r){this.ownerID=e,this.keyHash=t,this.entry=r};Vt.prototype.get=function(e,t,r,n){return le(r,this.entry[0])?this.entry[1]:n},Vt.prototype.update=function(e,t,r,n,i,a,c){var l=i===o,u=le(n,this.entry[0]);return(u?i===this.entry[1]:l)?this:(s(c),l?void s(a):u?e&&e===this.ownerID?(this.entry[1]=i,this):new Vt(e,this.keyHash,[n,i]):(s(a),Yt(this,e,t,pe(n),[n,i])))},kt.prototype.iterate=Ut.prototype.iterate=function(e,t){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===e(r[t?i-n:n]))return!1},Lt.prototype.iterate=Bt.prototype.iterate=function(e,t){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var a=r[t?i-n:n];if(a&&!1===a.iterate(e,t))return!1}},Vt.prototype.iterate=function(e,t){return e(this.entry)};var zt,qt=function(e){function t(e,t,r){this._type=t,this._reverse=r,this._stack=e._root&&Gt(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var r=t.node,n=t.index++,i=void 0;if(r.entry){if(0===n)return Qt(e,r.entry)}else if(r.entries){if(n<=(i=r.entries.length-1))return Qt(e,r.entries[this._reverse?i-n:n])}else if(n<=(i=r.nodes.length-1)){var a=r.nodes[this._reverse?i-n:n];if(a){if(a.entry)return Qt(e,a.entry);t=this._stack=Gt(a,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(L);function Qt(e,t){return B(e,t[0],t[1])}function Gt(e,t){return{node:e,index:0,__prev:t}}function Ht(e,t,r,n){var i=Object.create(Mt);return i.size=e,i._root=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Wt(){return zt||(zt=Ht(0))}function Xt(e,t,r){var n,i;if(e._root){var a={value:!1},s={value:!1};if(n=Kt(e._root,e.__ownerID,0,void 0,t,r,a,s),!s.value)return e;i=e.size+(a.value?r===o?-1:1:0)}else{if(r===o)return e;i=1,n=new kt(e.__ownerID,[[t,r]])}return e.__ownerID?(e.size=i,e._root=n,e.__hash=void 0,e.__altered=!0,e):n?Ht(i,n):Wt()}function Kt(e,t,r,n,i,a,c,l){return e?e.update(t,r,n,i,a,c,l):a===o?e:(s(l),s(c),new Vt(t,n,[i,a]))}function $t(e){return e.constructor===Vt||e.constructor===Ut}function Yt(e,t,r,n,i){if(e.keyHash===n)return new Ut(t,n,[e.entry,i]);var o,s=(0===r?e.keyHash:e.keyHash>>>r)&a,c=(0===r?n:n>>>r)&a,l=s===c?[Yt(e,t,r+5,n,i)]:(o=new Vt(t,n,i),s<c?[e,o]:[o,e]);return new Lt(t,1<<s|1<<c,l)}function Jt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function Zt(e,t,r,n){var i=n?e:$e(e);return i[t]=r,i}var er=8,tr=16,rr=8,nr="@@__IMMUTABLE_LIST__@@";function ir(e){return Boolean(e&&e[nr])}var ar=function(e){function t(t){var r=dr();if(void 0===t||null===t)return r;if(ir(t))return t;var n=e(t),a=n.size;return 0===a?r:(Je(a),a>0&&a<i?ur(0,a,5,null,new sr(n.toArray())):r.withMutations(function(e){e.setSize(a),n.forEach(function(t,r){return e.set(r,t)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=u(this,e))>=0&&e<this.size){var r=fr(this,e+=this._origin);return r&&r.array[e&a]}return t},t.prototype.set=function(e,t){return function(e,t,r){if(t=u(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?gr(e,t).set(0,r):gr(e,0,t+1).set(t,r)});t+=e._origin;var n=e._tail,i=e._root,a={value:!1};t>=yr(e._capacity)?n=hr(n,e.__ownerID,0,t,r,a):i=hr(i,e.__ownerID,e._level,t,r,a);if(!a.value)return e;if(e.__ownerID)return e._root=i,e._tail=n,e.__hash=void 0,e.__altered=!0,e;return ur(e._origin,e._capacity,e._level,i,n)}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):dr()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(r){gr(r,0,t+e.length);for(var n=0;n<e.length;n++)r.set(t+n,e[n])})},t.prototype.pop=function(){return gr(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){gr(t,-e.length);for(var r=0;r<e.length;r++)t.set(r,e[r])})},t.prototype.shift=function(){return gr(this,1)},t.prototype.shuffle=function(e){return void 0===e&&(e=Math.random),this.withMutations(function(t){for(var r,n,i=t.size;i;)r=Math.floor(e()*i--),n=t.get(r),t.set(r,t.get(i)),t.set(i,n)})},t.prototype.concat=function(){for(var t=arguments,r=[],n=0;n<arguments.length;n++){var i=t[n],a=e("string"!==typeof i&&V(i)?i:[i]);0!==a.size&&r.push(a)}return 0===r.length?this:0!==this.size||this.__ownerID||1!==r.length?this.withMutations(function(e){r.forEach(function(t){return t.forEach(function(t){return e.push(t)})})}):this.constructor(r[0])},t.prototype.setSize=function(e){return gr(this,0,e)},t.prototype.map=function(e,t){var r=this;return this.withMutations(function(n){for(var i=0;i<r.size;i++)n.set(i,e.call(t,n.get(i),i,r))})},t.prototype.slice=function(e,t){var r=this.size;return h(e,t,r)?this:gr(this,p(e,r),f(t,r))},t.prototype.__iterator=function(e,t){var r=t?this.size:0,n=lr(this,t);return new L(function(){var i=n();return i===cr?{value:void 0,done:!0}:B(e,t?--r:r++,i)})},t.prototype.__iterate=function(e,t){for(var r,n=t?this.size:0,i=lr(this,t);(r=i())!==cr&&!1!==e(r,t?--n:n++,this););return n},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?ur(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?dr():(this.__ownerID=e,this.__altered=!1,this)},t}(E);ar.isList=ir;var or=ar.prototype;or[nr]=!0,or[n]=or.remove,or.merge=or.concat,or.setIn=ht,or.deleteIn=or.removeIn=ft,or.update=yt,or.updateIn=mt,or.mergeIn=Nt,or.mergeDeepIn=jt,or.withMutations=Dt,or.wasAltered=Ft,or.asImmutable=It,or["@@transducer/init"]=or.asMutable=Rt,or["@@transducer/step"]=function(e,t){return e.push(t)},or["@@transducer/result"]=function(e){return e.asImmutable()};var sr=function(e,t){this.array=e,this.ownerID=t};sr.prototype.removeBefore=function(e,t,r){if(0===(r&(1<<t+5)-1)||0===this.array.length)return this;var n=r>>>t&a;if(n>=this.array.length)return new sr([],e);var i,o=0===n;if(t>0){var s=this.array[n];if((i=s&&s.removeBefore(e,t-5,r))===s&&o)return this}if(o&&!i)return this;var c=pr(this,e);if(!o)for(var l=0;l<n;l++)c.array[l]=void 0;return i&&(c.array[n]=i),c},sr.prototype.removeAfter=function(e,t,r){if(r===(t?1<<t+5:i)||0===this.array.length)return this;var n,o=r-1>>>t&a;if(o>=this.array.length)return this;if(t>0){var s=this.array[o];if((n=s&&s.removeAfter(e,t-5,r))===s&&o===this.array.length-1)return this}var c=pr(this,e);return c.array.splice(o+1),n&&(c.array[o]=n),c};var cr={};function lr(e,t){var r=e._origin,n=e._capacity,a=yr(n),o=e._tail;return s(e._root,e._level,0);function s(e,c,l){return 0===c?function(e,s){var c=s===a?o&&o.array:e&&e.array,l=s>r?0:r-s,u=n-s;u>i&&(u=i);return function(){if(l===u)return cr;var e=t?--u:l++;return c&&c[e]}}(e,l):function(e,a,o){var c,l=e&&e.array,u=o>r?0:r-o>>a,d=1+(n-o>>a);d>i&&(d=i);return function(){for(;;){if(c){var e=c();if(e!==cr)return e;c=null}if(u===d)return cr;var r=t?--d:u++;c=s(l&&l[r],a-5,o+(r<<a))}}}(e,c,l)}}function ur(e,t,r,n,i,a,o){var s=Object.create(or);return s.size=t-e,s._origin=e,s._capacity=t,s._level=r,s._root=n,s._tail=i,s.__ownerID=a,s.__hash=o,s.__altered=!1,s}function dr(){return ur(0,0,5)}function hr(e,t,r,n,i,o){var c,l=n>>>r&a,u=e&&l<e.array.length;if(!u&&void 0===i)return e;if(r>0){var d=e&&e.array[l],h=hr(d,t,r-5,n,i,o);return h===d?e:((c=pr(e,t)).array[l]=h,c)}return u&&e.array[l]===i?e:(o&&s(o),c=pr(e,t),void 0===i&&l===c.array.length-1?c.array.pop():c.array[l]=i,c)}function pr(e,t){return t&&e&&t===e.ownerID?e:new sr(e?e.array.slice():[],t)}function fr(e,t){if(t>=yr(e._capacity))return e._tail;if(t<1<<e._level+5){for(var r=e._root,n=e._level;r&&n>0;)r=r.array[t>>>n&a],n-=5;return r}}function gr(e,t,r){void 0!==t&&(t|=0),void 0!==r&&(r|=0);var n=e.__ownerID||new c,i=e._origin,o=e._capacity,s=i+t,l=void 0===r?o:r<0?o+r:i+r;if(s===i&&l===o)return e;if(s>=l)return e.clear();for(var u=e._level,d=e._root,h=0;s+h<0;)d=new sr(d&&d.array.length?[void 0,d]:[],n),h+=1<<(u+=5);h&&(s+=h,i+=h,l+=h,o+=h);for(var p=yr(o),f=yr(l);f>=1<<u+5;)d=new sr(d&&d.array.length?[d]:[],n),u+=5;var g=e._tail,y=f<p?fr(e,l-1):f>p?new sr([],n):g;if(g&&f>p&&s<o&&g.array.length){for(var m=d=pr(d,n),v=u;v>5;v-=5){var b=p>>>v&a;m=m.array[b]=pr(m.array[b],n)}m.array[p>>>5&a]=g}if(l<o&&(y=y&&y.removeAfter(n,0,l)),s>=f)s-=f,l-=f,u=5,d=null,y=y&&y.removeBefore(n,0,s);else if(s>i||f<p){for(h=0;d;){var _=s>>>u&a;if(_!==f>>>u&a)break;_&&(h+=(1<<u)*_),u-=5,d=d.array[_]}d&&s>i&&(d=d.removeBefore(n,u,s-h)),d&&f<p&&(d=d.removeAfter(n,u,f-h)),h&&(s-=h,l-=h)}return e.__ownerID?(e.size=l-s,e._origin=s,e._capacity=l,e._level=u,e._root=d,e._tail=y,e.__hash=void 0,e.__altered=!0,e):ur(s,l,u,d,y)}function yr(e){return e<i?0:e-1>>>5<<5}var mr,vr=function(e){function t(e){return void 0===e||null===e?_r():se(e)?e:_r().withMutations(function(t){var r=O(e);Je(r.size),r.forEach(function(e,r){return t.set(r,e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var r=this._map.get(e);return void 0!==r?this._list.get(r)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):_r()},t.prototype.set=function(e,t){return wr(this,e,t)},t.prototype.remove=function(e){return wr(this,e,o)},t.prototype.__iterate=function(e,t){var r=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],r)},t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),r=this._list.__ensureOwner(e);return e?br(t,r,e,this.__hash):0===this.size?_r():(this.__ownerID=e,this.__altered=!1,this._map=t,this._list=r,this)},t}(Ct);function br(e,t,r,n){var i=Object.create(vr.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function _r(){return mr||(mr=br(Wt(),dr()))}function wr(e,t,r){var n,a,s=e._map,c=e._list,l=s.get(t),u=void 0!==l;if(r===o){if(!u)return e;c.size>=i&&c.size>=2*s.size?(n=(a=c.filter(function(e,t){return void 0!==e&&l!==t})).toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(n.__ownerID=a.__ownerID=e.__ownerID)):(n=s.remove(t),a=l===c.size-1?c.pop():c.set(l,void 0))}else if(u){if(r===c.get(l)[1])return e;n=s,a=c.set(l,[t,r])}else n=s.set(t,c.size),a=c.set(c.size,[t,r]);return e.__ownerID?(e.size=n.size,e._map=n,e._list=a,e.__hash=void 0,e.__altered=!0,e):br(n,a)}vr.isOrderedMap=se,vr.prototype[I]=!0,vr.prototype[n]=vr.prototype.remove;var xr="@@__IMMUTABLE_STACK__@@";function Sr(e){return Boolean(e&&e[xr])}var Tr=function(e){function t(e){return void 0===e||null===e?Pr():Sr(e)?e:Pr().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var r=this._head;for(e=u(this,e);r&&e--;)r=r.next;return r?r.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,r=this._head,n=arguments.length-1;n>=0;n--)r={value:e[n],next:r};return this.__ownerID?(this.size=t,this._head=r,this.__hash=void 0,this.__altered=!0,this):Ar(t,r)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&Sr(t))return t;Je(t.size);var r=this.size,n=this._head;return t.__iterate(function(e){r++,n={value:e,next:n}},!0),this.__ownerID?(this.size=r,this._head=n,this.__hash=void 0,this.__altered=!0,this):Ar(r,n)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Pr()},t.prototype.slice=function(t,r){if(h(t,r,this.size))return this;var n=p(t,this.size);if(f(r,this.size)!==this.size)return e.prototype.slice.call(this,t,r);for(var i=this.size-n,a=this._head;n--;)a=a.next;return this.__ownerID?(this.size=i,this._head=a,this.__hash=void 0,this.__altered=!0,this):Ar(i,a)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ar(this.size,this._head,e,this.__hash):0===this.size?Pr():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var r=this;if(t)return new Y(this.toArray()).__iterate(function(t,n){return e(t,n,r)},t);for(var n=0,i=this._head;i&&!1!==e(i.value,n++,this);)i=i.next;return n},t.prototype.__iterator=function(e,t){if(t)return new Y(this.toArray()).__iterator(e,t);var r=0,n=this._head;return new L(function(){if(n){var t=n.value;return n=n.next,B(e,r++,t)}return{value:void 0,done:!0}})},t}(E);Tr.isStack=Sr;var Or,Er=Tr.prototype;function Ar(e,t,r,n){var i=Object.create(Er);return i.size=e,i._head=t,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Pr(){return Or||(Or=Ar(0))}Er[xr]=!0,Er.shift=Er.pop,Er.unshift=Er.push,Er.unshiftAll=Er.pushAll,Er.withMutations=Dt,Er.wasAltered=Ft,Er.asImmutable=It,Er["@@transducer/init"]=Er.asMutable=Rt,Er["@@transducer/step"]=function(e,t){return e.unshift(t)},Er["@@transducer/result"]=function(e){return e.asImmutable()};var Nr="@@__IMMUTABLE_SET__@@";function jr(e){return Boolean(e&&e[Nr])}function Dr(e){return jr(e)&&F(e)}function Rr(e,t){if(e===t)return!0;if(!v(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||_(e)!==_(t)||x(e)!==x(t)||F(e)!==F(t))return!1;if(0===e.size&&0===t.size)return!0;var r=!S(e);if(F(e)){var n=e.entries();return t.every(function(e,t){var i=n.next().value;return i&&le(i[1],e)&&(r||le(i[0],t))})&&n.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"===typeof e.cacheResult&&e.cacheResult();else{i=!0;var a=e;e=t,t=a}var s=!0,c=t.__iterate(function(t,n){if(r?!e.has(t):i?!le(t,e.get(n,o)):!le(e.get(n,o),t))return s=!1,!1});return s&&e.size===c}function Ir(e,t){var r=function(r){e.prototype[r]=t[r]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function Fr(e){if(!e||"object"!==typeof e)return e;if(!v(e)){if(!rt(e))return e;e=W(e)}if(_(e)){var t={};return e.__iterate(function(e,r){t[r]=Fr(e)}),t}var r=[];return e.__iterate(function(e){r.push(Fr(e))}),r}var Cr=function(e){function t(t){return void 0===t||null===t?Ur():jr(t)&&!F(t)?t:Ur().withMutations(function(r){var n=e(t);Je(n.size),n.forEach(function(e){return r.add(e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(O(e).keySeq())},t.intersect=function(e){return(e=T(e).toArray()).length?kr.intersect.apply(t(e.pop()),e):Ur()},t.union=function(e){return(e=T(e).toArray()).length?kr.union.apply(t(e.pop()),e):Ur()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return Lr(this,this._map.set(e,e))},t.prototype.remove=function(e){return Lr(this,this._map.remove(e))},t.prototype.clear=function(){return Lr(this,this._map.clear())},t.prototype.map=function(e,t){var r=this,n=!1,i=Lr(this,this._map.mapEntries(function(i){var a=i[1],o=e.call(t,a,a,r);return o!==a&&(n=!0),[o,o]},t));return n?i:this},t.prototype.union=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(r){for(var n=0;n<t.length;n++)"string"===typeof t[n]?r.add(t[n]):e(t[n]).forEach(function(e){return r.add(e)})}):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map(function(t){return e(t)});var n=[];return this.forEach(function(e){t.every(function(t){return t.includes(e)})||n.push(e)}),this.withMutations(function(e){n.forEach(function(t){e.remove(t)})})},t.prototype.subtract=function(){for(var t=[],r=arguments.length;r--;)t[r]=arguments[r];if(0===t.length)return this;t=t.map(function(t){return e(t)});var n=[];return this.forEach(function(e){t.some(function(t){return t.includes(e)})&&n.push(e)}),this.withMutations(function(e){n.forEach(function(t){e.remove(t)})})},t.prototype.sort=function(e){return on(Ue(this,e))},t.prototype.sortBy=function(e,t){return on(Ue(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var r=this;return this._map.__iterate(function(t){return e(t,t,r)},t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(A);Cr.isSet=jr;var Mr,kr=Cr.prototype;function Lr(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Br(e,t){var r=Object.create(kr);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function Ur(){return Mr||(Mr=Br(Wt()))}kr[Nr]=!0,kr[n]=kr.remove,kr.merge=kr.concat=kr.union,kr.withMutations=Dt,kr.asImmutable=It,kr["@@transducer/init"]=kr.asMutable=Rt,kr["@@transducer/step"]=function(e,t){return e.add(t)},kr["@@transducer/result"]=function(e){return e.asImmutable()},kr.__empty=Ur,kr.__make=Br;var Vr,zr=function(e){function t(e,r,n){if(void 0===n&&(n=1),!(this instanceof t))return new t(e,r,n);if(Ye(0!==n,"Cannot step a Range by 0"),Ye(void 0!==e,"You must define a start value when using Range"),Ye(void 0!==r,"You must define an end value when using Range"),n=Math.abs(n),r<e&&(n=-n),this._start=e,this._end=r,this._step=n,this.size=Math.max(0,Math.ceil((r-e)/n-1)+1),0===this.size){if(Vr)return Vr;Vr=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+u(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,r){return h(e,r,this.size)?this:(e=p(e,this.size),(r=f(r,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(r,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var r=t/this._step;if(r>=0&&r<this.size)return r}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var r=this.size,n=this._step,i=t?this._start+(r-1)*n:this._start,a=0;a!==r&&!1!==e(i,t?r-++a:a++,this);)i+=t?-n:n;return a},t.prototype.__iterator=function(e,t){var r=this.size,n=this._step,i=t?this._start+(r-1)*n:this._start,a=0;return new L(function(){if(a===r)return{value:void 0,done:!0};var o=i;return i+=t?-n:n,B(e,t?r-++a:a++,o)})},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:Rr(this,e)},t}(K);function qr(e,t,r){for(var n=Ze(t),i=0;i!==n.length;)if((e=at(e,n[i++],o))===o)return r;return e}function Qr(e,t){return qr(this,e,t)}function Gr(e,t){return qr(e,t,o)!==o}function Hr(){Je(this.size);var e={};return this.__iterate(function(t,r){e[r]=t}),e}T.Iterator=L,Ir(T,{toArray:function(){Je(this.size);var e=new Array(this.size||0),t=_(this),r=0;return this.__iterate(function(n,i){e[r++]=t?[i,n]:n}),e},toIndexedSeq:function(){return new Ne(this)},toJS:function(){return Fr(this)},toKeyedSeq:function(){return new Pe(this,!0)},toMap:function(){return Ct(this.toKeyedSeq())},toObject:Hr,toOrderedMap:function(){return vr(this.toKeyedSeq())},toOrderedSet:function(){return on(_(this)?this.valueSeq():this)},toSet:function(){return Cr(_(this)?this.valueSeq():this)},toSetSeq:function(){return new je(this)},toSeq:function(){return x(this)?this.toIndexedSeq():_(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Tr(_(this)?this.valueSeq():this)},toList:function(){return ar(_(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Qe(this,function(e,t){var r=_(e),n=[e].concat(t).map(function(e){return v(e)?r&&(e=O(e)):e=r?re(e):ne(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===n.length)return e;if(1===n.length){var i=n[0];if(i===e||r&&_(i)||x(e)&&x(i))return i}return new Le(n)}(this,e))},includes:function(e){return this.some(function(t){return le(t,e)})},entries:function(){return this.__iterator(2)},every:function(e,t){Je(this.size);var r=!0;return this.__iterate(function(n,i,a){if(!e.call(t,n,i,a))return r=!1,!1}),r},filter:function(e,t){return Qe(this,Ce(this,e,t,!0))},partition:function(e,t){return function(e,t,r){var n=_(e),i=[[],[]];e.__iterate(function(a,o){i[t.call(r,a,o,e)?1:0].push(n?[o,a]:a)});var a=He(e);return i.map(function(t){return Qe(e,a(t))})}(this,e,t)},find:function(e,t,r){var n=this.findEntry(e,t);return n?n[1]:r},forEach:function(e,t){return Je(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Je(this.size),e=void 0!==e?""+e:",";var t="",r=!0;return this.__iterate(function(n){r?r=!1:t+=e,t+=null!==n&&void 0!==n?n.toString():""}),t},keys:function(){return this.__iterator(0)},map:function(e,t){return Qe(this,Ie(this,e,t))},reduce:function(e,t,r){return Yr(this,e,t,r,arguments.length<2,!1)},reduceRight:function(e,t,r){return Yr(this,e,t,r,arguments.length<2,!0)},reverse:function(){return Qe(this,Fe(this,!0))},slice:function(e,t){return Qe(this,Me(this,e,t,!0))},some:function(e,t){Je(this.size);var r=!1;return this.__iterate(function(n,i,a){if(e.call(t,n,i,a))return r=!0,!1}),r},sort:function(e){return Qe(this,Ue(this,e))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return l(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,r){var n=Ct().asMutable();return e.__iterate(function(i,a){n.update(t.call(r,i,a,e),0,function(e){return e+1})}),n.asImmutable()}(this,e,t)},equals:function(e){return Rr(this,e)},entrySeq:function(){var e=this;if(e._cache)return new Y(e._cache);var t=e.toSeq().map(Zr).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(en(e),t)},findEntry:function(e,t,r){var n=r;return this.__iterate(function(r,i,a){if(e.call(t,r,i,a))return n=[i,r],!1}),n},findKey:function(e,t){var r=this.findEntry(e,t);return r&&r[0]},findLast:function(e,t,r){return this.toKeyedSeq().reverse().find(e,t,r)},findLastEntry:function(e,t,r){return this.toKeyedSeq().reverse().findEntry(e,t,r)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(d,null,e)},flatMap:function(e,t){return Qe(this,function(e,t,r){var n=He(e);return e.toSeq().map(function(i,a){return n(t.call(r,i,a,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return Qe(this,Be(this,e,!0))},fromEntrySeq:function(){return new De(this)},get:function(e,t){return this.find(function(t,r){return le(r,e)},void 0,t)},getIn:Qr,groupBy:function(e,t){return function(e,t,r){var n=_(e),i=(F(e)?vr():Ct()).asMutable();e.__iterate(function(a,o){i.update(t.call(r,a,o,e),function(e){return(e=e||[]).push(n?[o,a]:a),e})});var a=He(e);return i.map(function(t){return Qe(e,a(t))}).asImmutable()}(this,e,t)},has:function(e){return this.get(e,o)!==o},hasIn:function(e){return Gr(this,e)},isSubset:function(e){return e="function"===typeof e.includes?e:T(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"===typeof e.isSubset?e:T(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return le(t,e)})},keySeq:function(){return this.toSeq().map(Jr).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Ve(this,e)},maxBy:function(e,t){return Ve(this,t,e)},min:function(e){return Ve(this,e?tn(e):nn)},minBy:function(e,t){return Ve(this,t?tn(t):nn,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return Qe(this,ke(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(en(e),t)},sortBy:function(e,t){return Qe(this,Ue(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return Qe(this,function(e,t,r){var n=We(e);return n.__iterateUncached=function(n,i){var a=this;if(i)return this.cacheResult().__iterate(n,i);var o=0;return e.__iterate(function(e,i,s){return t.call(r,e,i,s)&&++o&&n(e,i,a)}),o},n.__iteratorUncached=function(n,i){var a=this;if(i)return this.cacheResult().__iterator(n,i);var o=e.__iterator(2,i),s=!0;return new L(function(){if(!s)return{value:void 0,done:!0};var e=o.next();if(e.done)return e;var i=e.value,c=i[0],l=i[1];return t.call(r,l,c,a)?2===n?e:B(n,c,l,e):(s=!1,{value:void 0,done:!0})})},n}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(en(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=F(e),r=_(e),n=t?1:0;return e.__iterate(r?t?function(e,t){n=31*n+an(pe(e),pe(t))|0}:function(e,t){n=n+an(pe(e),pe(t))|0}:t?function(e){n=31*n+pe(e)|0}:function(e){n=n+pe(e)|0}),function(e,t){return t=ue(t,3432918353),t=ue(t<<15|t>>>-15,461845907),t=ue(t<<13|t>>>-13,5),t=ue((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=de((t=ue(t^t>>>13,3266489909))^t>>>16)}(e.size,n)}(this))}});var Wr=T.prototype;Wr[m]=!0,Wr[k]=Wr.values,Wr.toJSON=Wr.toArray,Wr.__toStringMapper=nt,Wr.inspect=Wr.toSource=function(){return this.toString()},Wr.chain=Wr.flatMap,Wr.contains=Wr.includes,Ir(O,{flip:function(){return Qe(this,Re(this))},mapEntries:function(e,t){var r=this,n=0;return Qe(this,this.toSeq().map(function(i,a){return e.call(t,[a,i],n++,r)}).fromEntrySeq())},mapKeys:function(e,t){var r=this;return Qe(this,this.toSeq().flip().map(function(n,i){return e.call(t,n,i,r)}).flip())}});var Xr=O.prototype;Xr[b]=!0,Xr[k]=Wr.entries,Xr.toJSON=Hr,Xr.__toStringMapper=function(e,t){return nt(t)+": "+nt(e)},Ir(E,{toKeyedSeq:function(){return new Pe(this,!1)},filter:function(e,t){return Qe(this,Ce(this,e,t,!1))},findIndex:function(e,t){var r=this.findEntry(e,t);return r?r[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return Qe(this,Fe(this,!1))},slice:function(e,t){return Qe(this,Me(this,e,t,!1))},splice:function(e,t){var r=arguments.length;if(t=Math.max(t||0,0),0===r||2===r&&!t)return this;e=p(e,e<0?this.count():this.size);var n=this.slice(0,e);return Qe(this,1===r?n:n.concat($e(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var r=this.findLastEntry(e,t);return r?r[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return Qe(this,Be(this,e,!1))},get:function(e,t){return(e=u(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,r){return r===e},void 0,t)},has:function(e){return(e=u(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return Qe(this,function(e,t){var r=We(e);return r.size=e.size&&2*e.size-1,r.__iterateUncached=function(r,n){var i=this,a=0;return e.__iterate(function(e){return(!a||!1!==r(t,a++,i))&&!1!==r(e,a++,i)},n),a},r.__iteratorUncached=function(r,n){var i,a=e.__iterator(1,n),o=0;return new L(function(){return(!i||o%2)&&(i=a.next()).done?i:o%2?B(r,o++,t):B(r,o++,i.value,i)})},r}(this,e))},interleave:function(){var e=[this].concat($e(arguments)),t=qe(this.toSeq(),K.of,e),r=t.flatten(!0);return t.size&&(r.size=t.size*e.length),Qe(this,r)},keySeq:function(){return zr(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return Qe(this,ke(this,e,t,!1))},zip:function(){return Qe(this,qe(this,rn,[this].concat($e(arguments))))},zipAll:function(){return Qe(this,qe(this,rn,[this].concat($e(arguments)),!0))},zipWith:function(e){var t=$e(arguments);return t[0]=this,Qe(this,qe(this,e,t))}});var Kr=E.prototype;Kr[w]=!0,Kr[I]=!0,Ir(A,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var $r=A.prototype;function Yr(e,t,r,n,i,a){return Je(e.size),e.__iterate(function(e,a,o){i?(i=!1,r=e):r=t.call(n,r,e,a,o)},a),r}function Jr(e,t){return t}function Zr(e,t){return[t,e]}function en(e){return function(){return!e.apply(this,arguments)}}function tn(e){return function(){return-e.apply(this,arguments)}}function rn(){return $e(arguments)}function nn(e,t){return e<t?1:e>t?-1:0}function an(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}$r.has=Wr.includes,$r.contains=$r.includes,$r.keys=$r.values,Ir(X,Xr),Ir(K,Kr),Ir($,$r);var on=function(e){function t(e){return void 0===e||null===e?un():Dr(e)?e:un().withMutations(function(t){var r=A(e);Je(r.size),r.forEach(function(e){return t.add(e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(O(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(Cr);on.isOrderedSet=Dr;var sn,cn=on.prototype;function ln(e,t){var r=Object.create(cn);return r.size=e?e.size:0,r._map=e,r.__ownerID=t,r}function un(){return sn||(sn=ln(_r()))}cn[I]=!0,cn.zip=Kr.zip,cn.zipWith=Kr.zipWith,cn.zipAll=Kr.zipAll,cn.__empty=un,cn.__make=ln;var dn={LeftThenRight:-1,RightThenLeft:1};var hn=function(e,t){var r;!function(e){if(D(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(R(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===e||"object"!==typeof e)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(e);var n=function(a){var o=this;if(a instanceof n)return a;if(!(this instanceof n))return new n(a);if(!r){r=!0;var s=Object.keys(e),c=i._indices={};i._name=t,i._keys=s,i._defaultValues=e;for(var l=0;l<s.length;l++){var u=s[l];c[u]=l,i[u]?"object"===typeof console&&console.warn&&console.warn("Cannot define "+gn(this)+' with property "'+u+'" since that property name is part of the Record API.'):mn(i,u)}}return this.__ownerID=void 0,this._values=ar().withMutations(function(e){e.setSize(o._keys.length),O(a).forEach(function(t,r){e.set(o._indices[r],t===o._defaultValues[r]?void 0:t)})}),this},i=n.prototype=Object.create(pn);return i.constructor=n,t&&(n.displayName=t),n};hn.prototype.toString=function(){for(var e,t=gn(this)+" { ",r=this._keys,n=0,i=r.length;n!==i;n++)t+=(n?", ":"")+(e=r[n])+": "+nt(this.get(e));return t+" }"},hn.prototype.equals=function(e){return this===e||D(e)&&yn(this).equals(yn(e))},hn.prototype.hashCode=function(){return yn(this).hashCode()},hn.prototype.has=function(e){return this._indices.hasOwnProperty(e)},hn.prototype.get=function(e,t){if(!this.has(e))return t;var r=this._indices[e],n=this._values.get(r);return void 0===n?this._defaultValues[e]:n},hn.prototype.set=function(e,t){if(this.has(e)){var r=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(r!==this._values&&!this.__ownerID)return fn(this,r)}return this},hn.prototype.remove=function(e){return this.set(e)},hn.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:fn(this,e)},hn.prototype.wasAltered=function(){return this._values.wasAltered()},hn.prototype.toSeq=function(){return yn(this)},hn.prototype.toJS=function(){return Fr(this)},hn.prototype.entries=function(){return this.__iterator(2)},hn.prototype.__iterator=function(e,t){return yn(this).__iterator(e,t)},hn.prototype.__iterate=function(e,t){return yn(this).__iterate(e,t)},hn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?fn(this,t,e):(this.__ownerID=e,this._values=t,this)},hn.isRecord=D,hn.getDescriptiveName=gn;var pn=hn.prototype;function fn(e,t,r){var n=Object.create(Object.getPrototypeOf(e));return n._values=t,n.__ownerID=r,n}function gn(e){return e.constructor.displayName||e.constructor.name||"Record"}function yn(e){return re(e._keys.map(function(t){return[t,e.get(t)]}))}function mn(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Ye(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(r){}}pn[j]=!0,pn[n]=pn.remove,pn.deleteIn=pn.removeIn=ft,pn.getIn=Qr,pn.hasIn=Wr.hasIn,pn.merge=vt,pn.mergeWith=bt,pn.mergeIn=Nt,pn.mergeDeep=At,pn.mergeDeepWith=Pt,pn.mergeDeepIn=jt,pn.setIn=ht,pn.update=yt,pn.updateIn=mt,pn.withMutations=Dt,pn.asMutable=Rt,pn.asImmutable=It,pn[k]=pn.entries,pn.toJSON=pn.toObject=Wr.toObject,pn.inspect=pn.toSource=function(){return this.toString()};var vn,bn=function(e){function t(e,r){if(!(this instanceof t))return new t(e,r);if(this._value=e,this.size=void 0===r?1/0:Math.max(0,r),0===this.size){if(vn)return vn;vn=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(e,t){return this.has(e)?this._value:t},t.prototype.includes=function(e){return le(this._value,e)},t.prototype.slice=function(e,r){var n=this.size;return h(e,r,n)?this:new t(this._value,f(r,n)-p(e,n))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(e){return le(this._value,e)?0:-1},t.prototype.lastIndexOf=function(e){return le(this._value,e)?this.size:-1},t.prototype.__iterate=function(e,t){for(var r=this.size,n=0;n!==r&&!1!==e(this._value,t?r-++n:n++,this););return n},t.prototype.__iterator=function(e,t){var r=this,n=this.size,i=0;return new L(function(){return i===n?{value:void 0,done:!0}:B(e,t?n-++i:i++,r._value)})},t.prototype.equals=function(e){return e instanceof t?le(this._value,e._value):Rr(this,e)},t}(K);function _n(e,t){return wn([],t||xn,e,"",t&&t.length>2?[]:void 0,{"":e})}function wn(e,t,r,n,i,a){if("string"!==typeof r&&!R(r)&&(H(r)||V(r)||tt(r))){if(~e.indexOf(r))throw new TypeError("Cannot convert circular structure to Immutable");e.push(r),i&&""!==n&&i.push(n);var o=t.call(a,n,W(r).map(function(n,a){return wn(e,t,n,a,i,r)}),i&&i.slice());return e.pop(),i&&i.pop(),o}return r}function xn(e,t){return x(t)?t.toList():_(t)?t.toMap():t.toSet()}var Sn="5.1.3",Tn=T},92222:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},92306:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(45472),t)},92336:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(89146),t)},92361:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(97405),t)},92549:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MinAggregator=void 0;const n=r(85830);class i extends n.AggregateEvaluator{constructor(e,t,r,n){super(e,t,n),this.orderByEvaluator=r,this.state=void 0}putTerm(e){if("Literal"!==e.termType)throw new Error("Term with value ".concat(e.value," has type ").concat(e.termType," and is not a literal"));(void 0===this.state||1===this.orderByEvaluator.orderTypes(this.state,e))&&(this.state=e)}termResult(){return void 0===this.state?this.emptyValue():this.state}}t.MinAggregator=i},92566:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0});const n=new Uint8Array(16);t.default=function(){if(!r){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");r=crypto.getRandomValues.bind(crypto)}return r(n)}},92662:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermMultiplication=void 0;const i=r(11716),a=r(97824),o=r(59823);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.MULTIPLICATION],termFunction:!0}))}async run(e){return new o.TermFunctionMultiplication}}t.ActorFunctionFactoryTermMultiplication=s},92748:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermTimezone=void 0;const i=r(11716),a=r(97824),o=r(52749);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.TIMEZONE],termFunction:!0}))}async run(e){return new o.TermFunctionTimezone}}t.ActorFunctionFactoryTermTimezone=s},92796:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorTermComparatorFactory=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e),this.mediatorQueryOperation=e.mediatorQueryOperation,this.mediatorFunctionFactory=e.mediatorFunctionFactory,this.mediatorMergeBindingsContext=e.mediatorMergeBindingsContext}}t.ActorTermComparatorFactory=i},92802:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermDay=void 0;const i=r(11716),a=r(97824),o=r(38193);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.DAY],termFunction:!0}))}async run(e){return new o.TermFunctionDay}}t.ActorFunctionFactoryTermDay=s},92832:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(57614),t),i(r(3226),t),i(r(7293),t),i(r(98871),t),i(r(8225),t),i(r(20549),t),i(r(44818),t)},92889:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(i,a){function o(e){try{c(n.next(e))}catch(t){a(t)}}function s(e){try{c(n.throw(e))}catch(t){a(t)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(o,s)}c((n=n.apply(e,t||[])).next())})},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.write=void 0;const a=r(73514),o=i(r(66442)),s=i(r(17582)),c=i(r(1805));t.write=function(e,t){return n(this,void 0,void 0,function*(){return new Promise((r,i)=>n(this,void 0,void 0,function*(){try{let n="";const i=new c.default(e),l=i.getGraphs(null,null,null);if(l.length>1)throw new Error("More than one graph found - can serialize in the default graph");if(1===l.length&&!l[0].equals(a.DataFactory.defaultGraph()))throw new Error("Expected all triples to be in the default graph, instead triples were in ".concat(l[0].value));const u=new s.default({write:e=>{n+=e},end:()=>{let e=i.getQuads(null,null,null,null);0===e.length&&(e=void 0),r({text:n,extraQuads:e})}}),d=new o.default(i,u,null===t||void 0===t?void 0:t.prefixes,void 0,!1!==(null===t||void 0===t?void 0:t.errorOnUnused),null===t||void 0===t?void 0:t.mintPrefixes,null===t||void 0===t?void 0:t.fetch,null===t||void 0===t?void 0:t.extendedSyntax,!1!==(null===t||void 0===t?void 0:t.requireBase));yield d.write()}catch(n){i(n)}}))})}},92971:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermGreaterThan=void 0;const i=r(11716),a=r(97824),o=r(66772);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.GT],termFunction:!0})),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async run(e){const t=await this.mediatorFunctionFactory.mediate({functionName:a.SparqlOperator.LT,requireTermExpression:!0,context:e.context,arguments:e.arguments});return new o.TermFunctionGreaterThan(t)}}t.ActorFunctionFactoryTermGreaterThan=s},93109:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BindingsIndexUndef=void 0;t.BindingsIndexUndef=class{constructor(e,t,r){this.data={},this.keys=e.map(e=>e.variable),this.hashFn=t,this.allowDisjointDomains=r&&this.keys.length>0}put(e,t){if(this.allowDisjointDomains||this.isBindingsValid(e)){let r=this.data;for(let n=0;n<this.keys.length;n++){const i=this.keys[n],a=this.hashFn(e.get(i));let o=r[a];o||(o=r[a]=n===this.keys.length-1?t:{}),r=o}}return t}isBindingsValid(e){let t=!1;for(const r of this.keys)if(e.has(r)){t=!0;break}return t}get(e){return this.allowDisjointDomains||this.isBindingsValid(e)?this.getRecursive(e,this.keys,[this.data]):[]}getRecursive(e,t,r){if(0===t.length)return r;let n;[n,...t]=t;const i=[];for(const a of r){const r=this.hashFn(null===e||void 0===e?void 0:e.get(n));if(r){const n=[a[r],a[""]].filter(Boolean);if(0===n.length)continue;i.push(this.getRecursive(e,t,n))}else{const r=Object.values(a);if(0===r.length)continue;i.push(this.getRecursive(e,t,r))}}return i.flat()}getFirst(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.allowDisjointDomains||this.isBindingsValid(e))return this.getRecursiveFirst(e,this.keys,[this.data],t)}getRecursiveFirst(e,t,r,n){if(0===t.length)return r[0];let i;[i,...t]=t;for(const a of r){const r=this.hashFn(e.get(i));if(r||!n){const i=[a[r],a[""]].filter(Boolean);if(0===i.length)continue;const o=this.getRecursiveFirst(e,t,i,n);if(o)return o}else{const r=Object.values(a);if(0===r.length)continue;const i=this.getRecursiveFirst(e,t,r,n);if(i)return i}}}values(){return 0===this.keys.length?[]:this.getRecursive(void 0,this.keys,[this.data])}}},93139:e=>{"use strict";e.exports=function e(t,r){if(t===r)return!0;if(t&&r&&"object"==typeof t&&"object"==typeof r){if(t.constructor!==r.constructor)return!1;var n,i,a;if(Array.isArray(t)){if((n=t.length)!=r.length)return!1;for(i=n;0!==i--;)if(!e(t[i],r[i]))return!1;return!0}if(t instanceof Map&&r instanceof Map){if(t.size!==r.size)return!1;for(i of t.entries())if(!r.has(i[0]))return!1;for(i of t.entries())if(!e(i[1],r.get(i[0])))return!1;return!0}if(t instanceof Set&&r instanceof Set){if(t.size!==r.size)return!1;for(i of t.entries())if(!r.has(i[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(r)){if((n=t.length)!=r.length)return!1;for(i=n;0!==i--;)if(t[i]!==r[i])return!1;return!0}if(t.constructor===RegExp)return t.source===r.source&&t.flags===r.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===r.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===r.toString();if((n=(a=Object.keys(t)).length)!==Object.keys(r).length)return!1;for(i=n;0!==i--;)if(!Object.prototype.hasOwnProperty.call(r,a[i]))return!1;for(i=n;0!==i--;){var o=a[i];if(!e(t[o],r[o]))return!1}return!0}return t!==t&&r!==r}},93181:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHandlerNumberDouble=void 0;const n=r(3326);class i{fromRdf(e,t){const r=parseFloat(e.value);return t&&isNaN(r)&&n.Translator.incorrectRdfDataType(e),r}toRdf(e,t){let{datatype:r,dataFactory:n}=t;return r=r||n.namedNode(i.TYPES[0]),isNaN(e)?n.literal("NaN",r):isFinite(e)?e%1===0?null:n.literal(e.toExponential(15).replace(/(\d)0*e\+?/,"$1E"),r):n.literal(e>0?"INF":"-INF",r)}}i.TYPES=["http://www.w3.org/2001/XMLSchema#double","http://www.w3.org/2001/XMLSchema#decimal","http://www.w3.org/2001/XMLSchema#float"],t.TypeHandlerNumberDouble=i},93291:(e,t,r)=>{"use strict";var n=r(97643),i=r(83410);function a(){if(!(this instanceof a))return new a;i.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}n.inherits(a,i),e.exports=a,a.blockSize=512,a.outSize=224,a.hmacStrength=192,a.padLength=64,a.prototype._digest=function(e){return"hex"===e?n.toHex32(this.h.slice(0,7),"big"):n.split32(this.h.slice(0,7),"big")}},93305:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionXsdToDouble=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.TypeURL.XSD_DOUBLE,overloads:(0,i.declare)(i.TypeURL.XSD_DOUBLE).onNumeric1(()=>e=>(0,i.double)(e.typedValue)).onBoolean1Typed(()=>e=>(0,i.double)(e?1:0)).onUnary(i.TypeURL.XSD_STRING,()=>e=>{const t=(0,i.parseXSDFloat)(e.str());if(void 0===t)throw new i.CastError(e,i.TypeURL.XSD_DOUBLE);return(0,i.double)(t)},!1).collect()})}}t.TermFunctionXsdToDouble=a},93312:(e,t,r)=>{var n=r(97101);e.exports=function(e,t){n(e,t),t.add(e)},e.exports.__esModule=!0,e.exports.default=e.exports},93437:(e,t,r)=>{"use strict";r.d(t,{A:()=>d});var n=r(26382),i=r(57103);const{xsd:a}=i.A,o=/\\u([a-fA-F0-9]{4})|\\U([a-fA-F0-9]{8})|\\([^])/g,s={"\\":"\\","'":"'",'"':'"',n:"\n",r:"\r",t:"\t",f:"\f",b:"\b",_:"_","~":"~",".":".","-":"-","!":"!",$:"$","&":"&","(":"(",")":")","*":"*","+":"+",",":",",";":";","=":"=","/":"/","?":"?","#":"#","@":"@","%":"%"},c=/[\x00-\x20<>\\"\{\}\|\^\`]/,l={_iri:!0,_unescapedIri:!0,_simpleQuotedString:!0,_langcode:!0,_blank:!0,_newline:!0,_comment:!0,_whitespace:!0,_endOfFile:!0},u=/$0^/;class d{constructor(e){if(this._iri=/^<((?:[^ <>{}\\]|\\[uU])+)>[ \t]*/,this._unescapedIri=/^<([^\x00-\x20<>\\"\{\}\|\^\`]*)>[ \t]*/,this._simpleQuotedString=/^"([^"\\\r\n]*)"(?=[^"])/,this._simpleApostropheString=/^'([^'\\\r\n]*)'(?=[^'])/,this._langcode=/^@([a-z]+(?:-[a-z0-9]+)*)(?=[^a-z0-9\-])/i,this._prefix=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:(?=[#\s<])/,this._prefixed=/^((?:[A-Za-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)?:((?:(?:[0-:A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])(?:(?:[\.\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~])*(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff]|%[0-9a-fA-F]{2}|\\[!#-\/;=?\-@_~]))?)?)(?:[ \t]+|(?=\.?[,;!\^\s#()\[\]\{\}"'<>]))/,this._variable=/^\?(?:(?:[A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:[\-0-:A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?=[.,;!\^\s#()\[\]\{\}"'<>])/,this._blank=/^_:((?:[0-9A-Z_a-z\xc0-\xd6\xd8-\xf6\xf8-\u02ff\u0370-\u037d\u037f-\u1fff\u200c\u200d\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])(?:\.?[\-0-9A-Z_a-z\xb7\xc0-\xd6\xd8-\xf6\xf8-\u037d\u037f-\u1fff\u200c\u200d\u203f\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]|[\ud800-\udb7f][\udc00-\udfff])*)(?:[ \t]+|(?=\.?[,;:\s#()\[\]\{\}"'<>]))/,this._number=/^[\-+]?(?:(\d+\.\d*|\.?\d+)[eE][\-+]?|\d*(\.)?)\d+(?=\.?[,;:\s#()\[\]\{\}"'<>])/,this._boolean=/^(?:true|false)(?=[.,;\s#()\[\]\{\}"'<>])/,this._keyword=/^@[a-z]+(?=[\s#<:])/i,this._sparqlKeyword=/^(?:PREFIX|BASE|GRAPH)(?=[\s#<])/i,this._shortPredicates=/^a(?=[\s#()\[\]\{\}"'<>])/,this._newline=/^[ \t]*(?:#[^\n\r]*)?(?:\r\n|\n|\r)[ \t]*/,this._comment=/#([^\n\r]*)/,this._whitespace=/^[ \t]+/,this._endOfFile=/^(?:#[^\n\r]*)?$/,e=e||{},this._isImpliedBy=e.isImpliedBy,this._lineMode=!!e.lineMode){this._n3Mode=!1;for(const e in this)!(e in l)&&this[e]instanceof RegExp&&(this[e]=u)}else this._n3Mode=!1!==e.n3;this.comments=!!e.comments,this._literalClosingPos=0}_tokenizeToEnd(e,t){let r=this._input,n=r.length;for(;;){let e,s;for(;e=this._newline.exec(r);)this.comments&&(s=this._comment.exec(e[0]))&&i("comment",s[1],"",this._line,e[0].length),r=r.substr(e[0].length,r.length),n=r.length,this._line++;if(!e&&(e=this._whitespace.exec(r))&&(r=r.substr(e[0].length,r.length)),this._endOfFile.test(r))return t&&(this.comments&&(s=this._comment.exec(r))&&i("comment",s[1],"",this._line,r.length),r=null,i("eof","","",this._line,0)),this._input=r;const l=this._line,u=r[0];let d="",h="",p="",f=null,g=0,y=!1;switch(u){case"^":if(r.length<3)break;if("^"!==r[1]){this._n3Mode&&(g=1,d="^");break}if(this._previousMarker="^^",r=r.substr(2),"<"!==r[0]){y=!0;break}case"<":if(f=this._unescapedIri.exec(r))d="IRI",h=f[1];else if(f=this._iri.exec(r)){if(h=this._unescape(f[1]),null===h||c.test(h))return o(this);d="IRI"}else r.length>1&&"<"===r[1]?(d="<<",g=2):this._n3Mode&&r.length>1&&"="===r[1]&&(g=2,this._isImpliedBy?(d="abbreviation",h="<"):(d="inverse",h=">"));break;case">":r.length>1&&">"===r[1]&&(d=">>",g=2);break;case"_":((f=this._blank.exec(r))||t&&(f=this._blank.exec("".concat(r," "))))&&(d="blank",p="_",h=f[1]);break;case'"':if(f=this._simpleQuotedString.exec(r))h=f[1];else if(({value:h,matchLength:g}=this._parseLiteral(r)),null===h)return o(this);null===f&&0===g||(d="literal",this._literalClosingPos=0);break;case"'":if(!this._lineMode){if(f=this._simpleApostropheString.exec(r))h=f[1];else if(({value:h,matchLength:g}=this._parseLiteral(r)),null===h)return o(this);null===f&&0===g||(d="literal",this._literalClosingPos=0)}break;case"?":this._n3Mode&&(f=this._variable.exec(r))&&(d="var",h=f[0]);break;case"@":"literal"===this._previousMarker&&(f=this._langcode.exec(r))?(d="langcode",h=f[1]):(f=this._keyword.exec(r))&&(d=f[0]);break;case".":if(1===r.length?t:r[1]<"0"||r[1]>"9"){d=".",g=1;break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"+":case"-":(f=this._number.exec(r)||t&&(f=this._number.exec("".concat(r," "))))&&(d="literal",h=f[0],p="string"===typeof f[1]?a.double:"string"===typeof f[2]?a.decimal:a.integer);break;case"B":case"b":case"p":case"P":case"G":case"g":(f=this._sparqlKeyword.exec(r))?d=f[0].toUpperCase():y=!0;break;case"f":case"t":(f=this._boolean.exec(r))?(d="literal",h=f[0],p=a.boolean):y=!0;break;case"a":(f=this._shortPredicates.exec(r))?(d="abbreviation",h="a"):y=!0;break;case"=":this._n3Mode&&r.length>1&&(d="abbreviation",">"!==r[1]?(g=1,h="="):(g=2,h=">"));break;case"!":if(!this._n3Mode)break;case",":case";":case"[":case"]":case"(":case")":case"}":this._lineMode||(g=1,d=u);break;case"{":!this._lineMode&&r.length>=2&&("|"===r[1]?(d="{|",g=2):(d=u,g=1));break;case"|":r.length>=2&&"}"===r[1]&&(d="|}",g=2);break;default:y=!0}if(y&&("@prefix"!==this._previousMarker&&"PREFIX"!==this._previousMarker||!(f=this._prefix.exec(r))?((f=this._prefixed.exec(r))||t&&(f=this._prefixed.exec("".concat(r," "))))&&(d="prefixed",p=f[1]||"",h=this._unescape(f[2])):(d="prefix",h=f[1]||"")),"^^"===this._previousMarker)switch(d){case"prefixed":d="type";break;case"IRI":d="typeIRI";break;default:d=""}if(!d)return t||!/^'''|^"""/.test(r)&&/\n|\r/.test(r)?o(this):this._input=r;const m=g||f[0].length,v=i(d,h,p,l,m);this.previousToken=v,this._previousMarker=d,r=r.substr(m,r.length)}function i(t,i,a,o,s){const c=r?n-r.length:n,l={type:t,value:i,prefix:a,line:o,start:c,end:c+s};return e(null,l),l}function o(t){e(t._syntaxError(/^\S*/.exec(r)[0]))}}_unescape(e){let t=!1;const r=e.replace(o,(e,r,n,i)=>{if("string"===typeof r)return String.fromCharCode(Number.parseInt(r,16));if("string"===typeof n){let e=Number.parseInt(n,16);return e<=65535?String.fromCharCode(Number.parseInt(n,16)):String.fromCharCode(55296+((e-=65536)>>10),56320+(1023&e))}return i in s?s[i]:(t=!0,"")});return t?null:r}_parseLiteral(e){if(e.length>=3){const t=e.match(/^(?:"""|"|'''|'|)/)[0],r=t.length;let n=Math.max(this._literalClosingPos,r);for(;(n=e.indexOf(t,n))>0;){let t=0;for(;"\\"===e[n-t-1];)t++;if(t%2===0){const t=e.substring(r,n),i=t.split(/\r\n|\r|\n/).length-1,a=n+r;if(1===r&&0!==i||3===r&&this._lineMode)break;return this._line+=i,{value:this._unescape(t),matchLength:a}}n++}this._literalClosingPos=e.length-r+1}return{value:"",matchLength:0}}_syntaxError(e){this._input=null;const t=new Error('Unexpected "'.concat(e,'" on line ').concat(this._line,"."));return t.context={token:void 0,line:this._line,previousToken:this.previousToken},t}_readStartingBom(e){return e.startsWith("\ufeff")?e.substr(1):e}tokenize(e,t){if(this._line=1,"string"===typeof e){if(this._input=this._readStartingBom(e),"function"!==typeof t){const e=[];let t;if(this._tokenizeToEnd((r,n)=>r?t=r:e.push(n),!0),t)throw t;return e}queueMicrotask(()=>this._tokenizeToEnd(t,!0))}else this._pendingBuffer=null,"function"===typeof e.setEncoding&&e.setEncoding("utf8"),e.on("data",e=>{null!==this._input&&0!==e.length&&(this._pendingBuffer&&(e=n.Buffer.concat([this._pendingBuffer,e]),this._pendingBuffer=null),128&e[e.length-1]?this._pendingBuffer=e:("undefined"===typeof this._input?this._input=this._readStartingBom("string"===typeof e?e:e.toString()):this._input+=e,this._tokenizeToEnd(t,!1)))}),e.on("end",()=>{"string"===typeof this._input&&this._tokenizeToEnd(t,!0)}),e.on("error",t)}}},93478:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Operator=void 0;const n=r(90355);t.Operator=class{constructor(e,t,r){this.name=e,this.args=t,this.apply=r,this.expressionType=n.ExpressionType.Operator}}},93513:(e,t,r)=>{var n=r(25172);e.exports=function(e){var t={},r=!1;function i(t,i){return r=!0,i=new Promise(function(r){r(e[t](i))}),{done:!1,value:new n(i,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):i("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return i("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):i("return",e)}),t},e.exports.__esModule=!0,e.exports.default=e.exports},93830:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfUpdateQuads=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e)}}t.ActorRdfUpdateQuads=i},93880:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermContains=void 0;const i=r(11716),a=r(97824),o=r(40309);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.CONTAINS],termFunction:!0}))}async run(e){return new o.TermFunctionContains}}t.ActorFunctionFactoryTermContains=s},94051:(e,t,r)=>{"use strict";const n=r(98387),i=r(97876),a=n.Readable.destroy;e.exports=n.Readable,e.exports._uint8ArrayToBuffer=n._uint8ArrayToBuffer,e.exports._isUint8Array=n._isUint8Array,e.exports.isDisturbed=n.isDisturbed,e.exports.isErrored=n.isErrored,e.exports.isReadable=n.isReadable,e.exports.Readable=n.Readable,e.exports.Writable=n.Writable,e.exports.Duplex=n.Duplex,e.exports.Transform=n.Transform,e.exports.PassThrough=n.PassThrough,e.exports.addAbortSignal=n.addAbortSignal,e.exports.finished=n.finished,e.exports.destroy=n.destroy,e.exports.destroy=a,e.exports.pipeline=n.pipeline,e.exports.compose=n.compose,Object.defineProperty(n,"promises",{configurable:!0,enumerable:!0,get:()=>i}),e.exports.Stream=n.Stream,e.exports.default=e.exports},94114:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(24380),t)},94162:(e,t,r)=>{e.exports=function(e){const t=new(r(7067).LoggerVoid),n=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-init/^4.0.0/components/ActorInit.jsonld#ActorInit_default_bus"}),i=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-context-preprocess/^4.0.0/components/ActorContextPreprocess.jsonld#ActorContextPreprocess_default_bus"}),a=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-bindings/^4.0.0/components/ActorHashBindings.jsonld#ActorHashBindings_default_bus"}),o=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-hash-quads/^4.0.0/components/ActorHashQuads.jsonld#ActorHashQuads_default_bus"}),s=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-optimize-query-operation/^4.0.0/components/ActorOptimizeQueryOperation.jsonld#ActorOptimizeQueryOperation_default_bus"}),c=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-parse/^4.0.0/components/ActorQueryParse.jsonld#ActorQueryParse_default_bus"}),l=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-result-serialize/^4.0.0/components/ActorQueryResultSerialize.jsonld#ActorQueryResultSerialize_default_bus"}),u=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-selectivity/^4.0.0/components/ActorRdfJoinSelectivity.jsonld#ActorRdfJoinSelectivity_default_bus"}),d=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-accumulate/^4.0.0/components/ActorRdfMetadataAccumulate.jsonld#ActorRdfMetadataAccumulate_default_bus"}),h=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-serialize/^4.0.0/components/ActorRdfSerialize.jsonld#ActorRdfSerialize_default_bus"}),p=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-update-quads/^4.0.0/components/ActorRdfUpdateQuads.jsonld#ActorRdfUpdateQuads_default_bus"}),f=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join-entries-sort/^4.0.0/components/ActorRdfJoinEntriesSort.jsonld#ActorRdfJoinEntriesSort_default_bus"}),g=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify-hypermedia/^4.0.0/components/ActorQuerySourceIdentifyHypermedia.jsonld#ActorQuerySourceIdentifyHypermedia_default_bus"}),y=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-bindings-aggregator-factory/^4.0.0/components/ActorBindingsAggregatorFactory.jsonld#ActorBindingsAggregatorFactory_default_bus"}),m=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-expression-evaluator-factory/^4.0.0/components/ActorExpressionEvaluatorFactory.jsonld#ActorExpressionEvaluatorFactory_default_bus"}),v=new(r(11716).BusFunctionFactory)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-function-factory/^4.0.0/components/ActorFunctionFactory.jsonld#ActorFunctionFactory_default_bus"}),b=new(r(52241).BusQueryOperation)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-operation/^4.0.0/components/ActorQueryOperation.jsonld#ActorQueryOperation_default_bus"}),_=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-process/^4.0.0/components/ActorQueryProcess.jsonld#ActorQueryProcess_default_bus"}),w=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-join/^4.0.0/components/ActorRdfJoin.jsonld#ActorRdfJoin_default_bus"}),x=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-term-comparator-factory/^4.0.0/components/ActorTermComparatorFactory.jsonld#ActorTermComparatorFactory_default_bus"}),S=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-query-source-identify/^4.0.0/components/ActorQuerySourceIdentify.jsonld#ActorQuerySourceIdentify_default_bus"}),T=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http-invalidate/^4.0.0/components/ActorHttpInvalidate.jsonld#ActorHttpInvalidate_default_bus"}),O=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_default_bus"}),E=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-http/^4.0.0/components/ActorHttp.jsonld#ActorHttp_fallback_bus"}),A=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-merge-bindings-context/^4.0.0/components/ActorMergeBindingsContext.jsonld#ActorMergeBindingsContext_default_bus"}),P=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-dereference-rdf/^4.0.0/components/ActorDereferenceRdf.jsonld#ActorDereferenceRdf_default_bus"}),N=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata/^4.0.0/components/ActorRdfMetadata.jsonld#ActorRdfMetadata_default_bus"}),j=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-metadata-extract/^4.0.0/components/ActorRdfMetadataExtract.jsonld#ActorRdfMetadataExtract_default_bus"}),D=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links/^4.0.0/components/ActorRdfResolveHypermediaLinks.jsonld#ActorRdfResolveHypermediaLinks_default_bus"}),R=new(r(13953).Bus)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/bus-rdf-resolve-hypermedia-links-queue/^4.0.0/components/ActorRdfResolveHypermediaLinksQueue.jsonld#ActorRdfResolveHypermediaLinksQueue_default_bus"}),I=new(r(62466).ActorContextPreprocessConvertShortcuts)({contextKeyShortcuts:{baseIRI:"@comunica/actor-init-query:baseIRI",dataFactory:"@comunica/actor-init-query:dataFactory",datetime:"@comunica/actor-http-memento:datetime",destination:"@comunica/bus-rdf-update-quads:destination",distinctConstruct:"@comunica/actor-init-query:distinctConstruct",explain:"@comunica/actor-init-query:explain",extensionFunctionCreator:"@comunica/actor-init-query:extensionFunctionCreator",extensionFunctions:"@comunica/actor-init-query:extensionFunctions",extensionFunctionsAlwaysPushdown:"@comunica/actor-init-query:extensionFunctionsAlwaysPushdown",fetch:"@comunica/bus-http:fetch",fileBaseIRI:"@comunica/actor-init-query:fileBaseIRI",functionArgumentsCache:"@comunica/actor-init-query:functionArgumentsCache",httpAuth:"@comunica/bus-http:auth",httpBodyTimeout:"@comunica/bus-http:http-body-timeout",httpIncludeCredentials:"@comunica/bus-http:include-credentials",httpProxyHandler:"@comunica/actor-http-proxy:httpProxyHandler",httpRetryCount:"@comunica/bus-http:http-retry-count",httpRetryDelayFallback:"@comunica/bus-http:http-retry-delay-fallback",httpRetryDelayLimit:"@comunica/bus-http:http-retry-delay-limit",httpTimeout:"@comunica/bus-http:http-timeout",initialBindings:"@comunica/actor-init-query:initialBindings",invalidateCache:"@comunica/actor-init-query:invalidateCache",lenient:"@comunica/actor-init-query:lenient",log:"@comunica/core:log",queryFormat:"@comunica/actor-init-query:queryFormat",queryTimestamp:"@comunica/actor-init-query:queryTimestamp",queryTimestampHighResolution:"@comunica/actor-init-query:queryTimestampHighResolution",readOnly:"@comunica/bus-query-operation:readOnly",recoverBrokenLinks:"@comunica/bus-http-wayback:recover-broken-links",sources:"@comunica/actor-init-query:querySourcesUnidentified",traverse:"@comunica/bus-query-source-identify:traverse",unionDefaultGraph:"@comunica/bus-query-operation:unionDefaultGraph"},name:"urn:comunica:default:context-preprocess/actors#convert-shortcuts",bus:i,busFailMessage:"Context preprocessing failed"}),F=new(r(25056).ActorContextPreprocessSetDefaults)({logger:t,name:"urn:comunica:default:context-preprocess/actors#set-defaults",bus:i,busFailMessage:"Context preprocessing failed"}),C=new(r(22123).ActorContextPreprocessSourceToDestination)({name:"urn:comunica:default:context-preprocess/actors#source-to-destination",bus:i,busFailMessage:"Context preprocessing failed"}),M=new(r(51561).ActorContextPreprocessQuerySourceSkolemize)({name:"urn:comunica:default:context-preprocess/actors#query-source-skolemize",bus:i,busFailMessage:"Context preprocessing failed"}),k=new(r(39332).MediatorCombinePipeline)({name:"urn:comunica:default:context-preprocess/mediators#main",bus:i}),L=new(r(79370).ActorHashBindingsMurmur)({name:"urn:comunica:default:hash-bindings/actors#murmur",bus:a,busFailMessage:"Failed to obtaining hash functions for bindings"}),B=new(r(14651).MediatorRace)({name:"urn:comunica:default:hash-bindings/mediators#main",bus:a}),U=new(r(80174).ActorHashQuadsMurmur)({name:"urn:comunica:default:hash-quads/actors#murmur",bus:o,busFailMessage:"Failed to obtaining hash functions for quads"}),V=new(r(92361).ActorOptimizeQueryOperationRewriteCopy)({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-copy",bus:s,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),z=new(r(70585).ActorOptimizeQueryOperationRewriteMove)({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-move",bus:s,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),q=new(r(11891).ActorOptimizeQueryOperationRewriteAdd)({name:"urn:comunica:default:optimize-query-operation/actors#rewrite-add",bus:s,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),Q=new(r(20981).ActorOptimizeQueryOperationGroupSources)({name:"urn:comunica:default:optimize-query-operation/actors#group-sources",bus:s,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),G=new(r(73055).ActorOptimizeQueryOperationConstructDistinct)({name:"urn:comunica:default:optimize-query-operation/actors#construct-distinct",bus:s,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize"}),H=new(r(39332).MediatorCombinePipeline)({filterFailures:!0,name:"urn:comunica:default:optimize-query-operation/mediators#main",bus:s}),W=new(r(63638).ActorQueryParseSparql)({prefixes:{dbpedia:"http://dbpedia.org/resource/","dbpedia-owl":"http://dbpedia.org/ontology/",dbpprop:"http://dbpedia.org/property/",dc:"http://purl.org/dc/terms/",dc11:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",foaf:"http://xmlns.com/foaf/0.1/",geo:"http://www.w3.org/2003/01/geo/wgs84_pos#",owl:"http://www.w3.org/2002/07/owl#",rdf:"http://www.w3.org/1999/02/22-rdf-syntax-ns#",rdfs:"http://www.w3.org/2000/01/rdf-schema#",schema:"http://schema.org/",skos:"http://www.w3.org/2008/05/skos#",xsd:"http://www.w3.org/2001/XMLSchema#"},name:"urn:comunica:default:query-parse/actors#sparql",bus:c,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'}),X=new(r(76128).ActorQueryParseGraphql)({name:"urn:comunica:default:query-parse/actors#graphql",bus:c,busFailMessage:'Query parsing failed: none of the configured parsers were able to the query "${action.query}"'}),K=new(r(14651).MediatorRace)({name:"urn:comunica:default:query-parse/mediators#main",bus:c}),$=new(r(3332).ActorQueryResultSerializeJson)({mediaTypePriorities:{"application/json":1},mediaTypeFormats:{"application/json":"https://comunica.linkeddatafragments.org/#results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#json",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),Y=new(r(92336).ActorQueryResultSerializeSimple)({mediaTypePriorities:{simple:.9},mediaTypeFormats:{simple:"https://comunica.linkeddatafragments.org/#results_simple"},name:"urn:comunica:default:query-result-serialize/actors#simple",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),J=new(r(22710).ActorQueryResultSerializeSparqlCsv)({mediaTypePriorities:{"text/csv":.75},mediaTypeFormats:{"text/csv":"http://www.w3.org/ns/formats/SPARQL_Results_CSV"},name:"urn:comunica:default:query-result-serialize/actors#csv",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),Z=new(r(30199).ActorQueryResultSerializeSparqlTsv)({mediaTypePriorities:{"text/tab-separated-values":.75},mediaTypeFormats:{"text/tab-separated-values":"http://www.w3.org/ns/formats/SPARQL_Results_TSV"},name:"urn:comunica:default:query-result-serialize/actors#sparql-tsv",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),ee=new(r(35399).ActorQueryResultSerializeSparqlXml)({mediaTypePriorities:{"application/sparql-results+xml":.8},mediaTypeFormats:{"application/sparql-results+xml":"http://www.w3.org/ns/formats/SPARQL_Results_XML"},name:"urn:comunica:default:query-result-serialize/actors#sparql-xml",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),te=new(r(67786).ActorQueryResultSerializeTable)({columnWidth:50,mediaTypePriorities:{table:.6},mediaTypeFormats:{table:"https://comunica.linkeddatafragments.org/#results_table"},name:"urn:comunica:default:query-result-serialize/actors#table",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),re=new(r(55394).ActorQueryResultSerializeTree)({mediaTypePriorities:{tree:.5},mediaTypeFormats:{tree:"https://comunica.linkeddatafragments.org/#results_tree"},name:"urn:comunica:default:query-result-serialize/actors#tree",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),ne=new(r(14651).MediatorRace)({name:"urn:comunica:default:query-result-serialize/mediators#serialize",bus:l}),ie=new(r(33213).MediatorCombineUnion)({field:"mediaTypes",name:"urn:comunica:default:query-result-serialize/mediators#mediaType",bus:l}),ae=new(r(33213).MediatorCombineUnion)({field:"mediaTypeFormats",name:"urn:comunica:default:query-result-serialize/mediators#mediaTypeFormat",bus:l}),oe=new(r(65554).ActorRdfJoinSelectivityVariableCounting)({name:"urn:comunica:default:rdf-join-selectivity/actors#variable-counting",bus:u,busFailMessage:"Determining join selectivity failed: none of the configured actors were able to calculate selectivities"}),se=new(r(62515).MediatorNumber)({field:"accuracy",type:"max",ignoreFailures:!0,name:"urn:comunica:default:rdf-join-selectivity/mediators#main",bus:u}),ce=new(r(24636).ActorRdfMetadataAccumulateCardinality)({name:"urn:comunica:default:rdf-metadata-accumulate/actors#cardinality",bus:d,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),le=new(r(47202).ActorRdfMetadataAccumulatePageSize)({name:"urn:comunica:default:rdf-metadata-accumulate/actors#pagesize",bus:d,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),ue=new(r(49676).ActorRdfMetadataAccumulateRequestTime)({name:"urn:comunica:default:rdf-metadata-accumulate/actors#requesttime",bus:d,busFailMessage:"Metadata accumulation failed: none of the configured actors were able to accumulate metadata in mode ${action.mode}"}),de=new(r(33213).MediatorCombineUnion)({field:"metadata",name:"urn:comunica:default:rdf-metadata-accumulate/mediators#main",bus:d}),he=new(r(30187).ActorRdfSerializeN3)({mediaTypePriorities:{"application/n-quads":1,"application/n-triples":.8,"application/trig":.95,"text/n3":.35,"text/turtle":.6},mediaTypeFormats:{"application/n-quads":"http://www.w3.org/ns/formats/N-Quads","application/n-triples":"http://www.w3.org/ns/formats/N-Triples","application/trig":"http://www.w3.org/ns/formats/TriG","text/n3":"http://www.w3.org/ns/formats/N3","text/turtle":"http://www.w3.org/ns/formats/Turtle"},name:"urn:comunica:default:rdf-serialize/actors#n3",bus:h,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),pe=new(r(62014).ActorRdfSerializeJsonLd)({jsonStringifyIndentSpaces:2,mediaTypePriorities:{"application/ld+json":1},mediaTypeFormats:{"application/ld+json":"http://www.w3.org/ns/formats/JSON-LD"},priorityScale:.9,name:"urn:comunica:default:rdf-serialize/actors#jsonld",bus:h,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),fe=new(r(56186).ActorRdfSerializeShaclc)({mediaTypePriorities:{"text/shaclc":1,"text/shaclc-ext":.5},mediaTypeFormats:{"text/shaclc":"http://www.w3.org/ns/formats/Shaclc","text/shaclc-ext":"http://www.w3.org/ns/formats/ShaclcExtended"},priorityScale:.1,name:"urn:comunica:default:rdf-serialize/actors#shaclc",bus:h,busFailMessage:"RDF serialization failed: none of the configured serializers were able to handle media type ${action.handleMediaType}"}),ge=new(r(14651).MediatorRace)({name:"urn:comunica:default:rdf-serialize/mediators#serialize",bus:h}),ye=new(r(33213).MediatorCombineUnion)({field:"mediaTypes",name:"urn:comunica:default:rdf-serialize/mediators#mediaType",bus:h}),me=new(r(33213).MediatorCombineUnion)({field:"mediaTypeFormats",name:"urn:comunica:default:rdf-serialize/mediators#mediaTypeFormat",bus:h}),ve=new(r(58987).ActorRdfUpdateQuadsRdfJsStore)({name:"urn:comunica:default:rdf-update-quads/actors#rdfjs-store",bus:p,busFailMessage:"RDF updating failed: none of the configured actors were able to handle an update"}),be=new(r(14651).MediatorRace)({name:"urn:comunica:default:rdf-update-quads/mediators#main",bus:p}),_e=new(r(49786).ActorRdfJoinEntriesSortCardinality)({name:"urn:comunica:default:rdf-join-entries-sort/actors#cardinality",bus:f,busFailMessage:"Sorting join entries failed: none of the configured actors were able to sort"}),we=new(r(62515).MediatorNumber)({field:"accuracy",type:"max",ignoreFailures:!0,name:"urn:comunica:default:rdf-join-entries-sort/mediators#main",bus:f}),xe=new(r(62515).MediatorNumber)({field:"filterFactor",type:"max",ignoreFailures:!0,name:"urn:comunica:default:query-source-identify-hypermedia/mediators#main",bus:g}),Se=new(r(14651).MediatorRace)({name:"urn:comunica:default:bindings-aggregator-factory/mediators#main",bus:y}),Te=new(r(14651).MediatorRace)({name:"urn:comunica:default:expression-evaluator-factory/mediators#main",bus:m}),Oe=new(r(50117).ActorFunctionFactoryExpressionBnode)({name:"urn:comunica:default:function-factory/actors#expression-function-bnode",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ee=new(r(57527).ActorFunctionFactoryExpressionBound)({name:"urn:comunica:default:function-factory/actors#expression-function-bound",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ae=new(r(46034).ActorFunctionFactoryExpressionCoalesce)({name:"urn:comunica:default:function-factory/actors#expression-function-coalesce",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Pe=new(r(39541).ActorFunctionFactoryExpressionConcat)({name:"urn:comunica:default:function-factory/actors#expression-function-concat",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ne=new(r(28303).ActorFunctionFactoryExpressionExtensions)({name:"urn:comunica:default:function-factory/actors#expression-function-extensions",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),je=new(r(72142).ActorFunctionFactoryExpressionIf)({name:"urn:comunica:default:function-factory/actors#expression-function-if",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),De=new(r(23584).ActorFunctionFactoryExpressionLogicalAnd)({name:"urn:comunica:default:function-factory/actors#expression-function-logical-and",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Re=new(r(16082).ActorFunctionFactoryExpressionLogicalOr)({name:"urn:comunica:default:function-factory/actors#expression-function-logical-or",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ie=new(r(68332).ActorFunctionFactoryExpressionSameTerm)({name:"urn:comunica:default:function-factory/actors#expression-function-same-term",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Fe=new(r(98879).ActorFunctionFactoryTermAbs)({name:"urn:comunica:default:function-factory/actors#term-function-abs",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ce=new(r(44065).ActorFunctionFactoryTermAddition)({name:"urn:comunica:default:function-factory/actors#term-function-addition",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Me=new(r(12316).ActorFunctionFactoryTermCeil)({name:"urn:comunica:default:function-factory/actors#term-function-ceil",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),ke=new(r(50492).ActorFunctionFactoryTermContains)({name:"urn:comunica:default:function-factory/actors#term-function-contains",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Le=new(r(29829).ActorFunctionFactoryTermDatatype)({name:"urn:comunica:default:function-factory/actors#term-function-datatype",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Be=new(r(64773).ActorFunctionFactoryTermDay)({name:"urn:comunica:default:function-factory/actors#term-function-day",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ue=new(r(84350).ActorFunctionFactoryTermDivision)({name:"urn:comunica:default:function-factory/actors#term-function-division",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ve=new(r(77378).ActorFunctionFactoryTermEncodeForUri)({name:"urn:comunica:default:function-factory/actors#term-function-encode-for-uri",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),ze=new(r(52049).ActorFunctionFactoryTermEquality)({name:"urn:comunica:default:function-factory/actors#term-function-equality",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),qe=new(r(71597).ActorFunctionFactoryTermFloor)({name:"urn:comunica:default:function-factory/actors#term-function-floor",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Qe=new(r(33192).ActorFunctionFactoryTermHours)({name:"urn:comunica:default:function-factory/actors#term-function-hours",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ge=new(r(87945).ActorFunctionFactoryTermIri)({name:"urn:comunica:default:function-factory/actors#term-function-iri",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),He=new(r(29390).ActorFunctionFactoryTermIsBlank)({name:"urn:comunica:default:function-factory/actors#term-function-is-blank",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),We=new(r(80558).ActorFunctionFactoryTermIsIri)({name:"urn:comunica:default:function-factory/actors#term-function-is-iri",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Xe=new(r(15267).ActorFunctionFactoryTermIsLiteral)({name:"urn:comunica:default:function-factory/actors#term-function-is-literal",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ke=new(r(19895).ActorFunctionFactoryTermIsNumeric)({name:"urn:comunica:default:function-factory/actors#term-function-is-numeric",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),$e=new(r(44165).ActorFunctionFactoryTermLang)({name:"urn:comunica:default:function-factory/actors#term-function-lang",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ye=new(r(84852).ActorFunctionFactoryTermIsTriple)({name:"urn:comunica:default:function-factory/actors#term-function-is-triple",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Je=new(r(19198).ActorFunctionFactoryTermLangmatches)({name:"urn:comunica:default:function-factory/actors#term-function-langmatches",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ze=new(r(82787).ActorFunctionFactoryTermLcase)({name:"urn:comunica:default:function-factory/actors#term-function-lcase",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),et=new(r(85663).ActorFunctionFactoryTermMd5)({name:"urn:comunica:default:function-factory/actors#term-function-md5",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),tt=new(r(7590).ActorFunctionFactoryTermMinutes)({name:"urn:comunica:default:function-factory/actors#term-function-minutes",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),rt=new(r(26549).ActorFunctionFactoryTermMonth)({name:"urn:comunica:default:function-factory/actors#term-function-month",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),nt=new(r(49770).ActorFunctionFactoryTermNot)({name:"urn:comunica:default:function-factory/actors#term-function-not",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),it=new(r(29551).ActorFunctionFactoryTermMultiplication)({name:"urn:comunica:default:function-factory/actors#term-function-multiplication",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),at=new(r(3243).ActorFunctionFactoryTermNow)({name:"urn:comunica:default:function-factory/actors#term-function-now",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),ot=new(r(88786).ActorFunctionFactoryTermObject)({name:"urn:comunica:default:function-factory/actors#term-function-object",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),st=new(r(48926).ActorFunctionFactoryTermPredicate)({name:"urn:comunica:default:function-factory/actors#term-function-predicate",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),ct=new(r(43182).ActorFunctionFactoryTermRand)({name:"urn:comunica:default:function-factory/actors#term-function-rand",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),lt=new(r(52460).ActorFunctionFactoryTermRegex)({name:"urn:comunica:default:function-factory/actors#term-function-regex",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),ut=new(r(8175).ActorFunctionFactoryTermReplace)({name:"urn:comunica:default:function-factory/actors#term-function-replace",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),dt=new(r(68127).ActorFunctionFactoryTermRound)({name:"urn:comunica:default:function-factory/actors#term-function-round",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),ht=new(r(27650).ActorFunctionFactoryTermSeconds)({name:"urn:comunica:default:function-factory/actors#term-function-seconds",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),pt=new(r(77472).ActorFunctionFactoryTermSha1)({name:"urn:comunica:default:function-factory/actors#term-function-sha1",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),ft=new(r(42698).ActorFunctionFactoryTermSha256)({name:"urn:comunica:default:function-factory/actors#term-function-sha256",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),gt=new(r(30406).ActorFunctionFactoryTermSha384)({name:"urn:comunica:default:function-factory/actors#term-function-sha384",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),yt=new(r(81455).ActorFunctionFactoryTermSha512)({name:"urn:comunica:default:function-factory/actors#term-function-sha512",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),mt=new(r(76019).ActorFunctionFactoryTermStrAfter)({name:"urn:comunica:default:function-factory/actors#term-function-str-after",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),vt=new(r(73780).ActorFunctionFactoryTermStrBefore)({name:"urn:comunica:default:function-factory/actors#term-function-str-before",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),bt=new(r(57019).ActorFunctionFactoryTermStrDt)({name:"urn:comunica:default:function-factory/actors#term-function-str-dt",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),_t=new(r(41253).ActorFunctionFactoryTermStrEnds)({name:"urn:comunica:default:function-factory/actors#term-function-str-ends",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),wt=new(r(56691).ActorFunctionFactoryTermStrLang)({name:"urn:comunica:default:function-factory/actors#term-function-str-lang",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),xt=new(r(60142).ActorFunctionFactoryTermStrLen)({name:"urn:comunica:default:function-factory/actors#term-function-str-len",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),St=new(r(39178).ActorFunctionFactoryTermStrStarts)({name:"urn:comunica:default:function-factory/actors#term-function-str-starts",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Tt=new(r(31200).ActorFunctionFactoryTermStrUuid)({name:"urn:comunica:default:function-factory/actors#term-function-str-uuid",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ot=new(r(11220).ActorFunctionFactoryTermStr)({name:"urn:comunica:default:function-factory/actors#term-function-str",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Et=new(r(45931).ActorFunctionFactoryTermSubStr)({name:"urn:comunica:default:function-factory/actors#term-function-sub-str",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),At=new(r(39651).ActorFunctionFactoryTermSubject)({name:"urn:comunica:default:function-factory/actors#term-function-subject",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Pt=new(r(15777).ActorFunctionFactoryTermSubtraction)({name:"urn:comunica:default:function-factory/actors#term-function-subtraction",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Nt=new(r(28930).ActorFunctionFactoryTermTimezone)({name:"urn:comunica:default:function-factory/actors#term-function-timezone",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),jt=new(r(49125).ActorFunctionFactoryTermTriple)({name:"urn:comunica:default:function-factory/actors#term-function-triple",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Dt=new(r(14335).ActorFunctionFactoryTermTz)({name:"urn:comunica:default:function-factory/actors#term-function-tz",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Rt=new(r(32128).ActorFunctionFactoryTermUcase)({name:"urn:comunica:default:function-factory/actors#term-function-ucase",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),It=new(r(39741).ActorFunctionFactoryTermUnaryMinus)({name:"urn:comunica:default:function-factory/actors#term-function-unary-minus",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ft=new(r(64463).ActorFunctionFactoryTermUnaryPlus)({name:"urn:comunica:default:function-factory/actors#term-function-unary-plus",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ct=new(r(71082).ActorFunctionFactoryTermUuid)({name:"urn:comunica:default:function-factory/actors#term-function-uuid",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Mt=new(r(88483).ActorFunctionFactoryTermXsdToBoolean)({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-boolean",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),kt=new(r(50945).ActorFunctionFactoryTermXsdToDate)({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-date",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Lt=new(r(44436).ActorFunctionFactoryTermXsdToDatetime)({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-datetime",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Bt=new(r(72768).ActorFunctionFactoryTermXsdToDayTimeDuration)({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-day-time-duration",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ut=new(r(38240).ActorFunctionFactoryTermXsdToDecimal)({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-decimal",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Vt=new(r(44532).ActorFunctionFactoryTermXsdToDouble)({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-double",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),zt=new(r(74317).ActorFunctionFactoryTermXsdToDuration)({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-duration",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),qt=new(r(90501).ActorFunctionFactoryTermXsdToFloat)({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-float",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Qt=new(r(33293).ActorFunctionFactoryTermXsdToInteger)({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-integer",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Gt=new(r(22260).ActorFunctionFactoryTermXsdToString)({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-string",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ht=new(r(856).ActorFunctionFactoryTermXsdToTime)({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-time",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Wt=new(r(122).ActorFunctionFactoryTermXsdToYearMonthDuration)({name:"urn:comunica:default:function-factory/actors#term-function-xsd-to-year-month-duration",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Xt=new(r(79648).ActorFunctionFactoryTermYear)({name:"urn:comunica:default:function-factory/actors#term-function-year",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Kt=new(r(14651).MediatorRace)({name:"urn:comunica:default:function-factory/mediators#main",bus:v}),$t=new(r(37640).ActorQueryOperationSource)({name:"urn:comunica:default:query-operation/actors#source",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),Yt=new(r(62515).MediatorNumber)({field:"httpRequests",type:"min",ignoreFailures:!0,name:"urn:comunica:default:query-operation/mediators#main",bus:b}),Jt=new(r(14651).MediatorRace)({name:"urn:comunica:default:query-process/mediators#main",bus:_}),Zt=new(r(37212).MediatorJoinCoefficientsFixed)({cpuWeight:10,memoryWeight:1,timeWeight:2,ioWeight:10,name:"urn:comunica:default:rdf-join/mediators#main",bus:w}),er=new(r(14651).MediatorRace)({name:"urn:comunica:default:term-comparator-factory/mediators#main",bus:x}),tr=new(r(14651).MediatorRace)({name:"urn:comunica:default:query-source-identify/mediators#main",bus:S}),rr=new(r(23827).ActorHttpInvalidateListenable)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-context-preprocess-query-source-identify/^4.0.0/components/ActorContextPreprocessQuerySourceIdentify.jsonld#IActorContextPreprocessQuerySourceIdentifyArgs_default_invalidator",bus:T,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),nr=new(r(42641).MediatorAll)({name:"urn:comunica:default:http-invalidate/mediators#main",bus:T}),ir=new(r(23827).ActorHttpInvalidateListenable)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-operation-service/^4.0.0/components/ActorQueryOperationService.jsonld#IActorQueryOperationServiceArgs_default_invalidator",bus:T,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),ar=new(r(23827).ActorHttpInvalidateListenable)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^4.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:T,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),or=new(r(23827).ActorHttpInvalidateListenable)({name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^4.0.0/components/ActionObserverHttp.jsonld#IActionObserverHttpArgs_default_invalidator",bus:T,busFailMessage:"HTTP invalidation failed: none of the configured actors were able to invalidate ${action.url}"}),sr=new(r(62515).MediatorNumber)({field:"time",type:"min",ignoreFailures:!0,name:"urn:comunica:default:http/mediators#main",bus:E}),cr=new(r(33213).MediatorCombineUnion)({field:"mergeHandlers",name:"urn:comunica:default:merge-bindings-context/mediators#main",bus:A}),lr=new(r(14651).MediatorRace)({name:"urn:comunica:default:dereference-rdf/mediators#main",bus:P}),ur=new(r(14651).MediatorRace)({name:"urn:comunica:default:rdf-metadata/mediators#main",bus:N}),dr=new(r(33213).MediatorCombineUnion)({filterFailures:!0,field:"metadata",name:"urn:comunica:default:rdf-metadata-extract/mediators#main",bus:j}),hr=new(r(14651).MediatorRace)({name:"urn:comunica:default:rdf-resolve-hypermedia-links/mediators#main",bus:D}),pr=new(r(14651).MediatorRace)({name:"urn:comunica:default:rdf-resolve-hypermedia-links-queue/mediators#main",bus:R}),fr=new(r(75871).ActorRdfJoinMinusHash)({canHandleUndefs:!1,mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#minus-hash-def",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),gr=new(r(75871).ActorRdfJoinMinusHash)({canHandleUndefs:!0,mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#minus-hash-undef",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),yr=new(r(78699).ActorRdfJoinOptionalHash)({canHandleUndefs:!1,blocking:!1,mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-nonblocking",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),mr=new(r(78699).ActorRdfJoinOptionalHash)({canHandleUndefs:!1,blocking:!0,mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#optional-hash-def-blocking",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),vr=new(r(78699).ActorRdfJoinOptionalHash)({canHandleUndefs:!0,blocking:!1,mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-nonblocking",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),br=new(r(78699).ActorRdfJoinOptionalHash)({canHandleUndefs:!0,blocking:!0,mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#optional-hash-undef-blocking",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),_r=new(r(60010).ActorRdfJoinOptionalNestedLoop)({mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#optional-nested-loop",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),wr=new(r(85391).ActorRdfJoinSingle)({mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#inner-single",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),xr=new(r(49404).ActorRdfJoinMultiEmpty)({mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#inner-multi-empty",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),Sr=new(r(87495).ActorRdfJoinHash)({mediatorHashBindings:B,canHandleUndefs:!1,mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#inner-hash-def",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),Tr=new(r(87495).ActorRdfJoinHash)({mediatorHashBindings:B,canHandleUndefs:!0,mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#inner-hash-undef",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),Or=new(r(44026).ActorRdfJoinSymmetricHash)({mediatorHashBindings:B,mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#inner-symmetric-hash",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),Er=new(r(97622).ActorRdfJoinNestedLoop)({mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#inner-nested-loop",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),Ar=new(r(92306).ActorQueryResultSerializeRdf)({mediatorRdfSerialize:ge,mediatorMediaTypeCombiner:ye,mediatorMediaTypeFormatCombiner:me,name:"urn:comunica:default:query-result-serialize/actors#rdf",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),Pr=new(r(40679).ActorBindingsAggregatorFactoryCount)({mediatorExpressionEvaluatorFactory:Te,name:"urn:comunica:default:bindings-aggregator-factory/actors#count",bus:y,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),Nr=new(r(24910).ActorBindingsAggregatorFactoryGroupConcat)({mediatorExpressionEvaluatorFactory:Te,name:"urn:comunica:default:bindings-aggregator-factory/actors#group-concat",bus:y,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),jr=new(r(33910).ActorBindingsAggregatorFactorySample)({mediatorExpressionEvaluatorFactory:Te,name:"urn:comunica:default:bindings-aggregator-factory/actors#sample",bus:y,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),Dr=new(r(21364).ActorBindingsAggregatorFactoryWildcardCount)({mediatorExpressionEvaluatorFactory:Te,name:"urn:comunica:default:bindings-aggregator-factory/actors#wildcard-count",bus:y,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),Rr=new(r(81231).ActorBindingsAggregatorFactoryAverage)({mediatorFunctionFactory:Kt,mediatorExpressionEvaluatorFactory:Te,name:"urn:comunica:default:bindings-aggregator-factory/actors#average",bus:y,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),Ir=new(r(99323).ActorBindingsAggregatorFactorySum)({mediatorFunctionFactory:Kt,mediatorExpressionEvaluatorFactory:Te,name:"urn:comunica:default:bindings-aggregator-factory/actors#sum",bus:y,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),Fr=new(r(5750).ActorFunctionFactoryExpressionIn)({mediatorFunctionFactory:Kt,name:"urn:comunica:default:function-factory/actors#expression-function-in",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Cr=new(r(45686).ActorFunctionFactoryExpressionNotIn)({mediatorFunctionFactory:Kt,name:"urn:comunica:default:function-factory/actors#expression-function-not-in",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Mr=new(r(64026).ActorFunctionFactoryTermGreaterThanEqual)({mediatorFunctionFactory:Kt,name:"urn:comunica:default:function-factory/actors#term-function-greater-than-equal",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),kr=new(r(83107).ActorFunctionFactoryTermGreaterThan)({mediatorFunctionFactory:Kt,name:"urn:comunica:default:function-factory/actors#term-function-greater-than",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Lr=new(r(18922).ActorFunctionFactoryTermInequality)({mediatorFunctionFactory:Kt,name:"urn:comunica:default:function-factory/actors#term-function-inequality",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Br=new(r(74084).ActorFunctionFactoryTermLesserThanEqual)({mediatorFunctionFactory:Kt,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than-equal",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Ur=new(r(78381).ActorFunctionFactoryTermLesserThan)({mediatorFunctionFactory:Kt,name:"urn:comunica:default:function-factory/actors#term-function-lesser-than",bus:v,busFailMessage:"Creation of function evaluator failed: no configured actor was able to evaluate function ${action.functionName}"}),Vr=new(r(43838).ActorQueryOperationAsk)({mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#ask",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),zr=new(r(84509).ActorQueryOperationBgpJoin)({mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#bgp",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),qr=new(r(81726).ActorQueryOperationConstruct)({mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#construct",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),Qr=new(r(29326).ActorQueryOperationDistinctIdentity)({mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#distinct",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),Gr=new(r(29221).ActorQueryOperationExtend)({mediatorExpressionEvaluatorFactory:Te,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#extend",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),Hr=new(r(66983).ActorQueryOperationFilter)({mediatorExpressionEvaluatorFactory:Te,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#filter",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),Wr=new(r(74351).ActorQueryOperationFromQuad)({mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#from",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),Xr=new(r(78818).ActorQueryOperationProject)({mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#project",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),Kr=new(r(87364).ActorQueryOperationReducedHash)({mediatorHashBindings:B,cacheSize:100,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#reduced",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),$r=new(r(67357).ActorQueryOperationSlice)({mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#slice",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),Yr=new(r(1260).ActorQueryOperationUnion)({mediatorRdfMetadataAccumulate:de,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#union",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),Jr=new(r(13104).ActorQueryOperationPathAlt)({mediatorRdfMetadataAccumulate:de,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#path-alt",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),Zr=new(r(64612).ActorQueryOperationPathInv)({mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#path-inv",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),en=new(r(11033).ActorQueryOperationPathLink)({mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#path-link",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),tn=new(r(77460).ActorQueryOperationPathNps)({mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#path-nps",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),rn=new(r(20892).ActorQueryOperationClear)({mediatorUpdateQuads:be,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#update-clear",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),nn=new(r(21239).ActorQueryOperationUpdateCompositeUpdate)({mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#update-composite",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),an=new(r(2563).ActorQueryOperationCreate)({mediatorUpdateQuads:be,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#update-create",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),on=new(r(49902).ActorQueryOperationDrop)({mediatorUpdateQuads:be,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#update-drop",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),sn=new(r(96725).ActorQueryOperationJoin)({mediatorJoin:Zt,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#join",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),cn=new(r(47840).ActorQueryOperationLeftJoin)({mediatorJoin:Zt,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#leftjoin",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),ln=new(r(47183).ActorQueryOperationMinus)({mediatorJoin:Zt,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#minus",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),un=new(r(7896).ActorQueryOperationPathSeq)({mediatorJoin:Zt,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#path-seq",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),dn=new(r(67202).ActorRdfJoinMultiSmallest)({mediatorJoinEntriesSort:we,mediatorJoin:Zt,mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),hn=new(r(65610).ActorBindingsAggregatorFactoryMax)({mediatorTermComparatorFactory:er,mediatorExpressionEvaluatorFactory:Te,name:"urn:comunica:default:bindings-aggregator-factory/actors#max",bus:y,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),pn=new(r(20492).ActorBindingsAggregatorFactoryMin)({mediatorTermComparatorFactory:er,mediatorExpressionEvaluatorFactory:Te,name:"urn:comunica:default:bindings-aggregator-factory/actors#min",bus:y,busFailMessage:"Creation of Aggregator failed: none of the configured actors were able to handle ${action.expr.aggregator}"}),fn=new(r(76878).ActorQueryOperationOrderBy)({mediatorExpressionEvaluatorFactory:Te,mediatorTermComparatorFactory:er,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#orderby",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),gn=new(r(69555).ActorQueryOperationLoad)({mediatorUpdateQuads:be,mediatorQuerySourceIdentify:tr,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#update-load",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),yn=new(r(7848).ActorOptimizeQueryOperationFilterPushdown)({aggressivePushdown:!1,maxIterations:10,splitConjunctive:!0,mergeConjunctive:!0,pushIntoLeftJoins:!0,pushEqualityIntoPatterns:!0,name:"urn:comunica:default:optimize-query-operation/actors#filter-pushdown",bus:s,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Q]}),mn=new(r(25218).ActorContextPreprocessQuerySourceIdentify)({cacheSize:100,httpInvalidator:rr,mediatorQuerySourceIdentify:tr,mediatorContextPreprocess:k,name:"urn:comunica:default:context-preprocess/actors#query-source-identify",bus:i,busFailMessage:"Context preprocessing failed",beforeActors:[M]}),vn=new(r(27560).ActorInitQuery)({mediatorQueryProcess:Jt,mediatorQueryResultSerialize:ne,mediatorQueryResultSerializeMediaTypeCombiner:ie,mediatorQueryResultSerializeMediaTypeFormatCombiner:ae,mediatorHttpInvalidate:nr,defaultQueryInputFormat:"sparql",allowNoSources:!1,name:"urn:comunica:default:init/actors#query",bus:n,busFailMessage:"Initialization failed: none of the configured actors were to initialize"}),bn=new(r(61900).ActionObserverHttp)({httpInvalidator:ar,observedActors:["urn:comunica:default:http/actors#fetch"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-sparql-json/^4.0.0/components/ActorQueryResultSerializeSparqlJson.jsonld#ActorQueryResultSerializeSparqlJson_default_observer",bus:O}),_n=new(r(77405).ActionObserverHttp)({httpInvalidator:or,observedActors:["urn:comunica:default:http/actors#fetch"],name:"https://linkedsoftwaredependencies.org/bundles/npm/@comunica/actor-query-result-serialize-stats/^4.0.0/components/ActorQueryResultSerializeStats.jsonld#ActorQueryResultSerializeStats_default_observer",bus:O}),wn=new(r(7110).ActorQuerySourceIdentifyHypermediaSparql)({mediatorHttp:sr,mediatorMergeBindingsContext:cr,checkUrlSuffix:!0,forceHttpGet:!1,cacheSize:1024,forceSourceType:!1,bindMethod:"values",countTimeout:3e3,cardinalityCountQueries:!0,cardinalityEstimateConstruction:!1,forceGetIfUrlLengthBelow:600,name:"urn:comunica:default:query-source-identify-hypermedia/actors#sparql",bus:g,busFailMessage:"Query source hypermedia identification failed: none of the configured actors were able to identify ${action.url}"}),xn=new(r(40691).ActorExpressionEvaluatorFactoryDefault)({mediatorQueryOperation:Yt,mediatorFunctionFactory:Kt,mediatorMergeBindingsContext:cr,name:"urn:comunica:default:expression-evaluator-factory/actors#default",bus:m,busFailMessage:"Creation of Expression Evaluator failed"}),Sn=new(r(80148).ActorQueryOperationGroup)({mediatorMergeBindingsContext:cr,mediatorBindingsAggregatorFactory:Se,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#group",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),Tn=new(r(97122).ActorQueryOperationNop)({mediatorMergeBindingsContext:cr,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#nop",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),On=new(r(83836).ActorQueryOperationService)({forceSparqlEndpoint:!1,mediatorMergeBindingsContext:cr,mediatorQuerySourceIdentify:tr,httpInvalidator:ir,cacheSize:32,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#service",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),En=new(r(50131).ActorQueryOperationValues)({mediatorMergeBindingsContext:cr,name:"urn:comunica:default:query-operation/actors#values",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),An=new(r(1591).ActorQueryOperationPathOneOrMore)({mediatorMergeBindingsContext:cr,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#path-one-or-more",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),Pn=new(r(63043).ActorQueryOperationPathZeroOrMore)({mediatorMergeBindingsContext:cr,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#path-zero-or-more",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),Nn=new(r(72310).ActorQueryOperationPathZeroOrOne)({mediatorMergeBindingsContext:cr,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#path-zero-or-one",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),jn=new(r(95777).ActorQueryOperationUpdateDeleteInsert)({mediatorUpdateQuads:be,mediatorMergeBindingsContext:cr,mediatorQueryOperation:Yt,name:"urn:comunica:default:query-operation/actors#update-delete-insert",bus:b,busFailMessage:"Query operation processing failed: none of the configured actors were able to handle the operation type ${action.operation.type}"}),Dn=new(r(6358).ActorQueryProcessSequential)({mediatorContextPreprocess:k,mediatorQueryParse:K,mediatorOptimizeQueryOperation:H,mediatorQueryOperation:Yt,mediatorMergeBindingsContext:cr,name:"urn:comunica:default:query-process/actors#sequential",bus:_,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),Rn=new(r(42964).ActorRdfJoinOptionalBind)({bindOrder:"depth-first",selectivityModifier:1e-6,mediatorQueryOperation:Yt,mediatorMergeBindingsContext:cr,mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#optional-bind",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),In=new(r(94114).ActorRdfJoinNone)({mediatorMergeBindingsContext:cr,mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#inner-none",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}"}),Fn=new(r(80801).ActorTermComparatorFactoryExpressionEvaluator)({mediatorQueryOperation:Yt,mediatorFunctionFactory:Kt,mediatorMergeBindingsContext:cr,name:"urn:comunica:default:term-comparator-factory/actors#expression-evaluator",bus:x,busFailMessage:"Creation of term comparator failed"}),Cn=new(r(54528).ActorQuerySourceIdentifyHypermedia)({cacheSize:100,maxIterators:64,aggregateTraversalStore:!0,emitPartialCardinalities:!1,mediatorDereferenceRdf:lr,mediatorMetadata:ur,mediatorMetadataExtract:dr,mediatorMetadataAccumulate:de,mediatorQuerySourceIdentifyHypermedia:xe,mediatorRdfResolveHypermediaLinks:hr,mediatorRdfResolveHypermediaLinksQueue:pr,mediatorMergeBindingsContext:cr,name:"urn:comunica:default:query-source-identify/actors#hypermedia",bus:S,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}"}),Mn=new(r(87792).ActorRdfJoinMultiBind)({bindOrder:"depth-first",selectivityModifier:1e-4,minMaxCardinalityRatio:60,mediatorJoinEntriesSort:we,mediatorQueryOperation:Yt,mediatorMergeBindingsContext:cr,mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[dn,Sr,Tr,Or,Er]}),kn=new(r(540).ActorRdfJoinMultiSmallestFilterBindings)({selectivityModifier:1e-4,blockSize:64,mediatorJoinEntriesSort:we,mediatorJoin:Zt,mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#inner-multi-smallest-filter-bindings",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[dn,Sr,Tr,Or,Er]}),Ln=new(r(61900).ActorQueryResultSerializeSparqlJson)({emitMetadata:!0,httpObserver:bn,mediaTypePriorities:{"application/sparql-results+json":.8},mediaTypeFormats:{"application/sparql-results+json":"http://www.w3.org/ns/formats/SPARQL_Results_JSON"},name:"urn:comunica:default:query-result-serialize/actors#sparql-json",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),Bn=new(r(77405).ActorQueryResultSerializeStats)({httpObserver:_n,mediaTypePriorities:{stats:.5},mediaTypeFormats:{stats:"https://comunica.linkeddatafragments.org/#results_stats"},name:"urn:comunica:default:query-result-serialize/actors#stats",bus:l,busFailMessage:"Query result serialization failed: none of the configured actors were able to serialize for type ${action.handle.type}"}),Un=new(r(88846).ActorQueryProcessExplainParsed)({queryProcessor:Dn,name:"urn:comunica:default:query-process/actors#explain-parsed",bus:_,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),Vn=new(r(83526).ActorQueryProcessExplainPhysical)({queryProcessor:Dn,name:"urn:comunica:default:query-process/actors#explain-physical",bus:_,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),zn=new(r(6802).ActorQueryProcessExplainLogical)({queryProcessor:Dn,name:"urn:comunica:default:query-process/actors#explain-logical",bus:_,busFailMessage:'Query processing failed: none of the configured actor were process to the query "${action.query}"'}),qn=new(r(30978).ActorOptimizeQueryOperationPruneEmptySourceOperations)({useAskIfSupported:!1,name:"urn:comunica:default:optimize-query-operation/actors#prune-empty-source-operations",bus:s,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[yn]}),Qn=new(r(39210).ActorOptimizeQueryOperationLeftjoinExpressionPushdown)({name:"urn:comunica:default:optimize-query-operation/actors#leftjoin-expression-pushdown",bus:s,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[yn]}),Gn=new(r(3497).ActorQuerySourceIdentifyRdfJs)({mediatorMergeBindingsContext:cr,name:"urn:comunica:default:query-source-identify/actors#rdfjs",bus:S,busFailMessage:"Query source identification failed: none of the configured actors were able to identify ${action.querySourceUnidentified.value}",beforeActors:[Cn]}),Hn=new(r(90366).ActorRdfJoinMultiBindSource)({selectivityModifier:1e-4,blockSize:16,mediatorJoinEntriesSort:we,mediatorJoinSelectivity:se,name:"urn:comunica:default:rdf-join/actors#inner-multi-bind-source",bus:w,busFailMessage:"RDF joining failed: none of the configured actors were able to handle the join type ${action.type}",beforeActors:[dn,Mn,Sr,Tr,Or,Er]}),Wn=new(r(84461).ActorOptimizeQueryOperationJoinConnected)({name:"urn:comunica:default:optimize-query-operation/actors#join-connected",bus:s,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[qn]}),Xn=new(r(79169).ActorOptimizeQueryOperationBgpToJoin)({name:"urn:comunica:default:optimize-query-operation/actors#bgp-to-join",bus:s,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Wn]}),Kn=new(r(14703).ActorOptimizeQueryOperationJoinBgp)({name:"urn:comunica:default:optimize-query-operation/actors#join-bgp",bus:s,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Xn]}),$n=new(r(39020).ActorOptimizeQueryOperationAssignSourcesExhaustive)({name:"urn:comunica:default:optimize-query-operation/actors#assign-sources-exhaustive",bus:s,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[Kn]});new(r(5276).ActorOptimizeQueryOperationDescribeToConstructsSubject)({name:"urn:comunica:default:optimize-query-operation/actors#describe-to-constructs-subject",bus:s,busFailMessage:"Query optimization failed: none of the configured actors were able to optimize",beforeActors:[$n]});return vn}},94206:e=>{class t{constructor(){return r||this}equals(e){return e&&this.termType===e.termType}}Object.defineProperty(t.prototype,"value",{enumerable:!0,value:"*"}),Object.defineProperty(t.prototype,"termType",{enumerable:!0,value:"Wildcard"});var r=new t;e.exports.Wildcard=t},94270:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryProcessExplainParsed=void 0;const n=r(9141),i=r(52840),a=r(13953);class o extends n.ActorQueryProcess{constructor(e){super(e)}async test(e){var t;return"parsed"!==(null!==(t=e.context.get(i.KeysInitQuery.explain))&&void 0!==t?t:e.context.get(new a.ActionContextKey("explain")))?(0,a.failTest)("".concat(this.name," can only explain in 'parsed' mode.")):(0,a.passTestVoid)()}async run(e){const{operation:t}=await this.queryProcessor.parse(e.query,e.context);return{result:{explain:!0,type:"parsed",data:t}}}}t.ActorQueryProcessExplainParsed=o},94373:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuerySourceSkolemized=void 0;const n=r(52840),i=r(66179),a=r(72758),o=r(69924);t.QuerySourceSkolemized=class{constructor(e,t){this.innerSource=e,this.sourceId=t}async getSelectorShape(e){return this.innerSource.getSelectorShape(e)}queryBindings(e,t,r){const s=t.getSafe(n.KeysInitQuery.dataFactory),c=(0,o.deskolemizeOperation)(s,e,this.sourceId);if(!c){const e=new a.ArrayIterator([],{autoStart:!1});return e.setProperty("metadata",{state:new i.MetadataValidationState,cardinality:{type:"exact",value:0},variables:[]}),e}return(0,o.skolemizeBindingsStream)(s,this.innerSource.queryBindings(c,t,r),this.sourceId)}queryBoolean(e,t){return this.innerSource.queryBoolean(e,t)}queryQuads(e,t){const r=t.getSafe(n.KeysInitQuery.dataFactory),s=(0,o.deskolemizeOperation)(r,e,this.sourceId);if(!s){const e=new a.ArrayIterator([],{autoStart:!1});return e.setProperty("metadata",{state:new i.MetadataValidationState,cardinality:{type:"exact",value:0}}),e}return(0,o.skolemizeQuadStream)(r,this.innerSource.queryQuads(s,t),this.sourceId)}queryVoid(e,t){return this.innerSource.queryVoid(e,t)}get referenceValue(){return this.innerSource.referenceValue}toString(){return"".concat(this.innerSource.toString(),"(SkolemID:").concat(this.sourceId,")")}}},94664:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRIPLE_TERM_NAMES=t.QUAD_TERM_NAMES=void 0,t.getTerms=i,t.getTermsNested=function e(t,r){const n=[];for(const a of i(t,r))"Quad"===a.termType?e(a,r).forEach(e=>n.push(e)):n.push(a);return n},t.getNamedTerms=function(e){return[{key:"subject",value:e.subject},{key:"predicate",value:e.predicate},{key:"object",value:e.object},{key:"graph",value:e.graph}]},t.collectNamedTerms=function(e,t,r){const i={};e.forEach(e=>i[e.key]=e.value),t&&(i.subject=i.subject||t("subject"),i.predicate=i.predicate||t("predicate"),i.object=i.object||t("object"),i.graph=i.graph||t("graph"));return(r||n).quad(i.subject,i.predicate,i.object,i.graph)},t.forEachTerms=function(e,t){t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph")},t.forEachTermsNested=function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];"Quad"===t.subject.termType?e(t.subject,r,[...n,"subject"]):r(t.subject,[...n,"subject"]);"Quad"===t.predicate.termType?e(t.predicate,r,[...n,"predicate"]):r(t.predicate,[...n,"predicate"]);"Quad"===t.object.termType?e(t.object,r,[...n,"object"]):r(t.object,[...n,"object"]);"Quad"===t.graph.termType?e(t.graph,r,[...n,"graph"]):r(t.graph,[...n,"graph"])},t.filterTerms=function(e,t){const r=[];t(e.subject,"subject")&&r.push(e.subject);t(e.predicate,"predicate")&&r.push(e.predicate);t(e.object,"object")&&r.push(e.object);t(e.graph,"graph")&&r.push(e.graph);return r},t.filterTermsNested=function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=[];"Quad"===t.subject.termType?i=[...i,...e(t.subject,r,[...n,"subject"])]:r(t.subject,[...n,"subject"])&&i.push(t.subject);"Quad"===t.predicate.termType?i=[...i,...e(t.predicate,r,[...n,"predicate"])]:r(t.predicate,[...n,"predicate"])&&i.push(t.predicate);"Quad"===t.object.termType?i=[...i,...e(t.object,r,[...n,"object"])]:r(t.object,[...n,"object"])&&i.push(t.object);"Quad"===t.graph.termType?i=[...i,...e(t.graph,r,[...n,"graph"])]:r(t.graph,[...n,"graph"])&&i.push(t.graph);return i},t.filterQuadTermNames=function(e,t){const r=[];t(e.subject,"subject")&&r.push("subject");t(e.predicate,"predicate")&&r.push("predicate");t(e.object,"object")&&r.push("object");t(e.graph,"graph")&&r.push("graph");return r},t.filterQuadTermNamesNested=function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=[];const a=[...n,"subject"];"Quad"===t.subject.termType?i=[...i,...e(t.subject,r,a)]:r(t.subject,a)&&i.push(a);const o=[...n,"predicate"];"Quad"===t.predicate.termType?i=[...i,...e(t.predicate,r,o)]:r(t.predicate,o)&&i.push(o);const s=[...n,"object"];"Quad"===t.object.termType?i=[...i,...e(t.object,r,s)]:r(t.object,s)&&i.push(s);const c=[...n,"graph"];"Quad"===t.graph.termType?i=[...i,...e(t.graph,r,c)]:r(t.graph,c)&&i.push(c);return i},t.mapTerms=function(e,t,r){return(r||n).quad(t(e.subject,"subject"),t(e.predicate,"predicate"),t(e.object,"object"),t(e.graph,"graph"))},t.mapTermsNested=function e(t,r,i){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return(i||n).quad("Quad"===t.subject.termType?e(t.subject,r,i,[...a,"subject"]):r(t.subject,[...a,"subject"]),"Quad"===t.predicate.termType?e(t.predicate,r,i,[...a,"predicate"]):r(t.predicate,[...a,"predicate"]),"Quad"===t.object.termType?e(t.object,r,i,[...a,"object"]):r(t.object,[...a,"object"]),"Quad"===t.graph.termType?e(t.graph,r,i,[...a,"graph"]):r(t.graph,[...a,"graph"]))},t.reduceTerms=function(e,t,r){let n=r;return n=t(n,e.subject,"subject"),n=t(n,e.predicate,"predicate"),n=t(n,e.object,"object"),t(n,e.graph,"graph")},t.reduceTermsNested=function e(t,r,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=n;a="Quad"===t.subject.termType?e(t.subject,r,a,[...i,"subject"]):r(a,t.subject,[...i,"subject"]);a="Quad"===t.predicate.termType?e(t.predicate,r,a,[...i,"predicate"]):r(a,t.predicate,[...i,"predicate"]);a="Quad"===t.object.termType?e(t.object,r,a,[...i,"object"]):r(a,t.object,[...i,"object"]);a="Quad"===t.graph.termType?e(t.graph,r,a,[...i,"graph"]):r(a,t.graph,[...i,"graph"]);return a},t.everyTerms=a,t.everyTermsNested=function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return("Quad"===t.subject.termType?e(t.subject,r,[...n,"subject"]):r(t.subject,[...n,"subject"]))&&("Quad"===t.predicate.termType?e(t.predicate,r,[...n,"predicate"]):r(t.predicate,[...n,"predicate"]))&&("Quad"===t.object.termType?e(t.object,r,[...n,"object"]):r(t.object,[...n,"object"]))&&("Quad"===t.graph.termType?e(t.graph,r,[...n,"graph"]):r(t.graph,[...n,"graph"]))},t.someTerms=function(e,t){return t(e.subject,"subject")||t(e.predicate,"predicate")||t(e.object,"object")||t(e.graph,"graph")},t.someTermsNested=function e(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return("Quad"===t.subject.termType?e(t.subject,r,[...n,"subject"]):r(t.subject,[...n,"subject"]))||("Quad"===t.predicate.termType?e(t.predicate,r,[...n,"predicate"]):r(t.predicate,[...n,"predicate"]))||("Quad"===t.object.termType?e(t.object,r,[...n,"object"]):r(t.object,[...n,"object"]))||("Quad"===t.graph.termType?e(t.graph,r,[...n,"graph"]):r(t.graph,[...n,"graph"]))},t.getValueNestedPath=function e(t,r){if(0===r.length)return t;if("Quad"===t.termType)return e(t[r[0]],r.slice(1));throw new Error("Tried to get ".concat(r[0]," from term of type ").concat(t.termType))},t.matchTerm=o,t.matchPattern=s,t.matchPatternComplete=c,t.matchPatternMappings=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n={};return function e(t,i){return a(t,(t,a)=>{var o,s;const c=i[a];switch(t.termType){case"Variable":return r.skipVarMapping&&"Variable"===c.termType||(null!==(s=null===(o=n[t.value])||void 0===o?void 0:o.equals(c))&&void 0!==s?s:(n[t.value]=c,!0));case"Quad":return"Quad"===c.termType&&e(t,c);default:return t.equals(c)}})}(t,e)&&(!r.returnMappings||n)};const n=new(r(80305).DataFactory);function i(e,t){return t&&"DefaultGraph"===e.graph.termType?[e.subject,e.predicate,e.object]:[e.subject,e.predicate,e.object,e.graph]}function a(e,t){return t(e.subject,"subject")&&t(e.predicate,"predicate")&&t(e.object,"object")&&t(e.graph,"graph")}function o(e,t){return!t||"Variable"===t.termType||"Quad"===t.termType&&"Quad"===e.termType&&c(e,t)||t.equals(e)}function s(e,t,r,n,i){return o(e.subject,t)&&o(e.predicate,r)&&o(e.object,n)&&o(e.graph,i)}function c(e,t){return s(e,t.subject,t.predicate,t.object,t.graph)}t.QUAD_TERM_NAMES=["subject","predicate","object","graph"],t.TRIPLE_TERM_NAMES=["subject","predicate","object"]},94737:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorContextPreprocessQuerySourceIdentify=void 0;const i=r(13859),a=r(52840),o=r(13953),s=r(91837);class c extends i.ActorContextPreprocess{constructor(e){super(e),this.cache=this.cacheSize?new s.LRUCache({max:this.cacheSize}):void 0;const t=this.cache;t&&this.httpInvalidator.addInvalidateListener(e=>{let{url:r}=e;return r?t.delete(r):t.clear()})}async test(e){return(0,o.passTestVoid)()}async run(e){let t=e.context;if(t.has(a.KeysInitQuery.querySourcesUnidentified)){const r=e.context.get(a.KeysInitQuery.querySourcesUnidentified),n=await Promise.all(r.map(e=>this.expandSource(e))),i=await Promise.all(n.map(async t=>this.identifySource(t,e.context))),o=e.context.get(a.KeysStatistics.dereferencedLinks);if(o)for(const e of i)o.updateStatistic({url:e.source.referenceValue,metadata:{seed:!0}},e.source);t=e.context.delete(a.KeysInitQuery.querySourcesUnidentified).set(a.KeysQueryOperation.querySources,i)}return{context:t}}async expandSource(e){var t;return"string"===typeof e||"match"in e?{value:e}:n(n({},e),{},{context:(await this.mediatorContextPreprocess.mediate({context:o.ActionContext.ensureActionContext(null!==(t=e.context)&&void 0!==t?t:{})})).context})}identifySource(e,t){let r;return"string"===typeof e.value&&this.cache&&(r=this.cache.get(e.value)),r||(r=this.mediatorQuerySourceIdentify.mediate({querySourceUnidentified:e,context:t}).then(e=>{let{querySource:t}=e;return t}),"string"===typeof e.value&&this.cache&&this.cache.set(e.value,r)),r}}t.ActorContextPreprocessQuerySourceIdentify=c},94810:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermXsdToDouble=void 0;const i=r(11716),a=r(97824),o=r(93305);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.TypeURL.XSD_DOUBLE],termFunction:!0}))}async run(e){return new o.TermFunctionXsdToDouble}}t.ActorFunctionFactoryTermXsdToDouble=s},94908:e=>{e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function r(e,t){var r=e[0],n=e[1],i=e[2],a=e[3];n=((n+=((i=((i+=((a=((a+=((r=((r+=(n&i|~n&a)+t[0]-680876936|0)<<7|r>>>25)+n|0)&n|~r&i)+t[1]-389564586|0)<<12|a>>>20)+r|0)&r|~a&n)+t[2]+606105819|0)<<17|i>>>15)+a|0)&a|~i&r)+t[3]-1044525330|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((a=((a+=((r=((r+=(n&i|~n&a)+t[4]-176418897|0)<<7|r>>>25)+n|0)&n|~r&i)+t[5]+1200080426|0)<<12|a>>>20)+r|0)&r|~a&n)+t[6]-1473231341|0)<<17|i>>>15)+a|0)&a|~i&r)+t[7]-45705983|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((a=((a+=((r=((r+=(n&i|~n&a)+t[8]+1770035416|0)<<7|r>>>25)+n|0)&n|~r&i)+t[9]-1958414417|0)<<12|a>>>20)+r|0)&r|~a&n)+t[10]-42063|0)<<17|i>>>15)+a|0)&a|~i&r)+t[11]-1990404162|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((a=((a+=((r=((r+=(n&i|~n&a)+t[12]+1804603682|0)<<7|r>>>25)+n|0)&n|~r&i)+t[13]-40341101|0)<<12|a>>>20)+r|0)&r|~a&n)+t[14]-1502002290|0)<<17|i>>>15)+a|0)&a|~i&r)+t[15]+1236535329|0)<<22|n>>>10)+i|0,n=((n+=((i=((i+=((a=((a+=((r=((r+=(n&a|i&~a)+t[1]-165796510|0)<<5|r>>>27)+n|0)&i|n&~i)+t[6]-1069501632|0)<<9|a>>>23)+r|0)&n|r&~n)+t[11]+643717713|0)<<14|i>>>18)+a|0)&r|a&~r)+t[0]-373897302|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((a=((a+=((r=((r+=(n&a|i&~a)+t[5]-701558691|0)<<5|r>>>27)+n|0)&i|n&~i)+t[10]+38016083|0)<<9|a>>>23)+r|0)&n|r&~n)+t[15]-660478335|0)<<14|i>>>18)+a|0)&r|a&~r)+t[4]-405537848|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((a=((a+=((r=((r+=(n&a|i&~a)+t[9]+568446438|0)<<5|r>>>27)+n|0)&i|n&~i)+t[14]-1019803690|0)<<9|a>>>23)+r|0)&n|r&~n)+t[3]-187363961|0)<<14|i>>>18)+a|0)&r|a&~r)+t[8]+1163531501|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((a=((a+=((r=((r+=(n&a|i&~a)+t[13]-1444681467|0)<<5|r>>>27)+n|0)&i|n&~i)+t[2]-51403784|0)<<9|a>>>23)+r|0)&n|r&~n)+t[7]+1735328473|0)<<14|i>>>18)+a|0)&r|a&~r)+t[12]-1926607734|0)<<20|n>>>12)+i|0,n=((n+=((i=((i+=((a=((a+=((r=((r+=(n^i^a)+t[5]-378558|0)<<4|r>>>28)+n|0)^n^i)+t[8]-2022574463|0)<<11|a>>>21)+r|0)^r^n)+t[11]+1839030562|0)<<16|i>>>16)+a|0)^a^r)+t[14]-35309556|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((a=((a+=((r=((r+=(n^i^a)+t[1]-1530992060|0)<<4|r>>>28)+n|0)^n^i)+t[4]+1272893353|0)<<11|a>>>21)+r|0)^r^n)+t[7]-155497632|0)<<16|i>>>16)+a|0)^a^r)+t[10]-1094730640|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((a=((a+=((r=((r+=(n^i^a)+t[13]+681279174|0)<<4|r>>>28)+n|0)^n^i)+t[0]-358537222|0)<<11|a>>>21)+r|0)^r^n)+t[3]-722521979|0)<<16|i>>>16)+a|0)^a^r)+t[6]+76029189|0)<<23|n>>>9)+i|0,n=((n+=((i=((i+=((a=((a+=((r=((r+=(n^i^a)+t[9]-640364487|0)<<4|r>>>28)+n|0)^n^i)+t[12]-421815835|0)<<11|a>>>21)+r|0)^r^n)+t[15]+530742520|0)<<16|i>>>16)+a|0)^a^r)+t[2]-995338651|0)<<23|n>>>9)+i|0,n=((n+=((a=((a+=(n^((r=((r+=(i^(n|~a))+t[0]-198630844|0)<<6|r>>>26)+n|0)|~i))+t[7]+1126891415|0)<<10|a>>>22)+r|0)^((i=((i+=(r^(a|~n))+t[14]-1416354905|0)<<15|i>>>17)+a|0)|~r))+t[5]-57434055|0)<<21|n>>>11)+i|0,n=((n+=((a=((a+=(n^((r=((r+=(i^(n|~a))+t[12]+1700485571|0)<<6|r>>>26)+n|0)|~i))+t[3]-1894986606|0)<<10|a>>>22)+r|0)^((i=((i+=(r^(a|~n))+t[10]-1051523|0)<<15|i>>>17)+a|0)|~r))+t[1]-2054922799|0)<<21|n>>>11)+i|0,n=((n+=((a=((a+=(n^((r=((r+=(i^(n|~a))+t[8]+1873313359|0)<<6|r>>>26)+n|0)|~i))+t[15]-30611744|0)<<10|a>>>22)+r|0)^((i=((i+=(r^(a|~n))+t[6]-1560198380|0)<<15|i>>>17)+a|0)|~r))+t[13]+1309151649|0)<<21|n>>>11)+i|0,n=((n+=((a=((a+=(n^((r=((r+=(i^(n|~a))+t[4]-145523070|0)<<6|r>>>26)+n|0)|~i))+t[11]-1120210379|0)<<10|a>>>22)+r|0)^((i=((i+=(r^(a|~n))+t[2]+718787259|0)<<15|i>>>17)+a|0)|~r))+t[9]-343485551|0)<<21|n>>>11)+i|0,e[0]=r+e[0]|0,e[1]=n+e[1]|0,e[2]=i+e[2]|0,e[3]=a+e[3]|0}function n(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return r}function i(e){var t,r=[];for(t=0;t<64;t+=4)r[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return r}function a(e){var t,i,a,o,s,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)r(u,n(e.substring(t-64,t)));for(i=(e=e.substring(t-64)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(r(u,a),t=0;t<16;t+=1)a[t]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(o[2],16),c=parseInt(o[1],16)||0,a[14]=s,a[15]=c,r(u,a),u}function o(e){var t,n,a,o,s,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)r(u,i(e.subarray(t-64,t)));for(n=(e=t-64<l?e.subarray(t-64):new Uint8Array(0)).length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<n;t+=1)a[t>>2]|=e[t]<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(r(u,a),t=0;t<16;t+=1)a[t]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(o[2],16),c=parseInt(o[1],16)||0,a[14]=s,a[15]=c,r(u,a),u}function s(e){var r,n="";for(r=0;r<4;r+=1)n+=t[e>>8*r+4&15]+t[e>>8*r&15];return n}function c(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function l(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function u(e,t){var r,n=e.length,i=new ArrayBuffer(n),a=new Uint8Array(i);for(r=0;r<n;r+=1)a[r]=e.charCodeAt(r);return t?a:i}function d(e){return String.fromCharCode.apply(null,new Uint8Array(e))}function h(e,t,r){var n=new Uint8Array(e.byteLength+t.byteLength);return n.set(new Uint8Array(e)),n.set(new Uint8Array(t),e.byteLength),r?n:n.buffer}function p(e){var t,r=[],n=e.length;for(t=0;t<n-1;t+=2)r.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,r)}function f(){this.reset()}return c(a("hello")),"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(r,n){var i,a,o,s,c=this.byteLength,l=t(r,c),u=c;return n!==e&&(u=t(n,c)),l>u?new ArrayBuffer(0):(i=u-l,a=new ArrayBuffer(i),o=new Uint8Array(a),s=new Uint8Array(this,l,i),o.set(s),a)}}(),f.prototype.append=function(e){return this.appendBinary(l(e)),this},f.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,i=this._buff.length;for(t=64;t<=i;t+=64)r(this._hash,n(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},f.prototype.end=function(e){var t,r,n=this._buff,i=n.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)a[t>>2]|=n.charCodeAt(t)<<(t%4<<3);return this._finish(a,i),r=c(this._hash),e&&(r=p(r)),this.reset(),r},f.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},f.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},f.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},f.prototype._finish=function(e,t){var n,i,a,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(r(this._hash,e),o=0;o<16;o+=1)e[o]=0;n=(n=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),i=parseInt(n[2],16),a=parseInt(n[1],16)||0,e[14]=i,e[15]=a,r(this._hash,e)},f.hash=function(e,t){return f.hashBinary(l(e),t)},f.hashBinary=function(e,t){var r=c(a(e));return t?p(r):r},f.ArrayBuffer=function(){this.reset()},f.ArrayBuffer.prototype.append=function(e){var t,n=h(this._buff.buffer,e,!0),a=n.length;for(this._length+=e.byteLength,t=64;t<=a;t+=64)r(this._hash,i(n.subarray(t-64,t)));return this._buff=t-64<a?new Uint8Array(n.buffer.slice(t-64)):new Uint8Array(0),this},f.ArrayBuffer.prototype.end=function(e){var t,r,n=this._buff,i=n.length,a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<i;t+=1)a[t>>2]|=n[t]<<(t%4<<3);return this._finish(a,i),r=c(this._hash),e&&(r=p(r)),this.reset(),r},f.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},f.ArrayBuffer.prototype.getState=function(){var e=f.prototype.getState.call(this);return e.buff=d(e.buff),e},f.ArrayBuffer.prototype.setState=function(e){return e.buff=u(e.buff,!0),f.prototype.setState.call(this,e)},f.ArrayBuffer.prototype.destroy=f.prototype.destroy,f.ArrayBuffer.prototype._finish=f.prototype._finish,f.ArrayBuffer.hash=function(e,t){var r=c(o(new Uint8Array(e)));return t?p(r):r},f}()},94934:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermXsdToInteger=void 0;const i=r(11716),a=r(97824),o=r(64359);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.TypeURL.XSD_INTEGER],termFunction:!0}))}async run(e){return new o.TermFunctionXsdToInteger}}t.ActorFunctionFactoryTermXsdToInteger=s},95145:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermStrDt=void 0;const i=r(11716),a=r(97824),o=r(82818);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.STRDT],termFunction:!0}))}async run(e){return new o.TermFunctionStrDt}}t.ActorFunctionFactoryTermStrDt=s},95340:(e,t)=>{"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520],a=new Uint8Array(e.length+1);a.set(e),a[e.length]=128;const o=(e=a).length/4+2,s=Math.ceil(o/16),c=new Array(s);for(let r=0;r<s;++r){const t=new Uint32Array(16);for(let n=0;n<16;++n)t[n]=e[64*r+4*n]<<24|e[64*r+4*n+1]<<16|e[64*r+4*n+2]<<8|e[64*r+4*n+3];c[r]=t}c[s-1][14]=8*(e.length-1)/Math.pow(2,32),c[s-1][14]=Math.floor(c[s-1][14]),c[s-1][15]=8*(e.length-1)&4294967295;for(let l=0;l<s;++l){const e=new Uint32Array(80);for(let t=0;t<16;++t)e[t]=c[l][t];for(let t=16;t<80;++t)e[t]=n(e[t-3]^e[t-8]^e[t-14]^e[t-16],1);let a=i[0],o=i[1],s=i[2],u=i[3],d=i[4];for(let i=0;i<80;++i){const c=Math.floor(i/20),l=n(a,5)+r(c,o,s,u)+d+t[c]+e[i]>>>0;d=u,u=s,s=n(o,30)>>>0,o=a,a=l}i[0]=i[0]+a>>>0,i[1]=i[1]+o>>>0,i[2]=i[2]+s>>>0,i[3]=i[3]+u>>>0,i[4]=i[4]+d>>>0}return Uint8Array.of(i[0]>>24,i[0]>>16,i[0]>>8,i[0],i[1]>>24,i[1]>>16,i[1]>>8,i[1],i[2]>>24,i[2]>>16,i[2]>>8,i[2],i[3]>>24,i[3]>>16,i[3]>>8,i[3],i[4]>>24,i[4]>>16,i[4]>>8,i[4])}},95386:(e,t,r)=>{let n=r(72758).AsyncIterator;e.exports=class extends n{constructor(e,t,r,n){super(),this.left=e,this.right=t,this.funHash=r,this.funJoin=n,this.usedLeft=!1,this.leftMap=new Map,this.rightMap=new Map,this.on("end",()=>this._cleanup()),this.match=null,this.matches=[],this.matchIdx=0,(this.left.readable||this.right.readable)&&(this.readable=!0),this.left.on("error",e=>this.destroy(e)),this.right.on("error",e=>this.destroy(e)),this.left.on("readable",()=>this.readable=!0),this.right.on("readable",()=>this.readable=!0),this.left.on("end",()=>{this.hasResults()||this._end()}),this.right.on("end",()=>{this.hasResults()||this._end()})}hasResults(){return!this.left.ended||!this.right.ended||!!this.matches&&this.matchIdx<this.matches.length}_cleanup(){this.leftMap=null,this.rightMap=null,this.matches=null}_end(){super._end(),this.left.destroy(),this.right.destroy()}read(){for(;;){if(this.ended)return null;for(;this.matchIdx<this.matches.length;){let e=this.matches[this.matchIdx++],t=this.usedLeft?this.funJoin(this.match,e):this.funJoin(e,this.match);if(null!==t)return t}this.hasResults()||this._end();let e=null;for(let r=0;r<2&&(e=this.usedLeft?this.right.read():this.left.read(),this.usedLeft=!this.usedLeft,null===e);++r);if(this.done||null===e)return this.readable=!1,null;let t=this.funHash(e);if(this.usedLeft&&this.right.done)this.leftMap=null;else if(this.left.done)this.rightMap=null;else{let r=this.usedLeft?this.leftMap:this.rightMap;r.has(t)||r.set(t,[]);let n=r.get(t);n||(n=[],r.set(t,n)),n.push(e)}this.match=e,this.matches=(this.usedLeft?this.rightMap:this.leftMap).get(t)||[],this.matchIdx=0}}}},95777:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(56518),t)},96071:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryResultSerializeFixedMediaTypes=void 0;const n=r(82663),i=r(13953);class a extends n.ActorAbstractMediaTypedFixed{constructor(e){super(e)}async testHandleChecked(e,t){return(0,i.passTestVoid)()}}t.ActorQueryResultSerializeFixedMediaTypes=a},96151:(e,t,r)=>{"use strict";var n=r(12897).default;const i=r(62285),{PromisePrototypeThen:a,SymbolAsyncIterator:o,SymbolIterator:s}=r(28931),{Buffer:c}=r(26382),{ERR_INVALID_ARG_TYPE:l,ERR_STREAM_NULL_VALUES:u}=r(60056).codes;e.exports=function(e,t,r){let d,h;if("string"===typeof t||t instanceof c)return new e(n(n({objectMode:!0},r),{},{read(){this.push(t),this.push(null)}}));if(t&&t[o])h=!0,d=t[o]();else{if(!t||!t[s])throw new l("iterable",["Iterable"],t);h=!1,d=t[s]()}const p=new e(n({objectMode:!0,highWaterMark:1},r));let f=!1;return p._read=function(){f||(f=!0,async function(){for(;;){try{const{value:e,done:t}=h?await d.next():d.next();if(t)p.push(null);else{const t=e&&"function"===typeof e.then?await e:e;if(null===t)throw f=!1,new u;if(p.push(t))continue;f=!1}}catch(e){p.destroy(e)}break}}())},p._destroy=function(e,t){a(async function(e){const t=void 0!==e&&null!==e,r="function"===typeof d.throw;if(t&&r){const{value:t,done:r}=await d.throw(e);if(await t,r)return}if("function"===typeof d.return){const{value:e}=await d.return();await e}}(e),()=>i.nextTick(t,e),r=>i.nextTick(t,r||e))},p}},96200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeHandlerDefinitionAdapter=void 0;const n=r(16703);class i extends n.NodeHandlerAdapter{constructor(e,t,r){super(e,t,r)}}t.NodeHandlerDefinitionAdapter=i},96413:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermIsNumeric=void 0;const i=r(11716),a=r(97824),o=r(66378);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.IS_NUMERIC],termFunction:!0}))}async run(e){return new o.TermFunctionIsNumeric}}t.ActorFunctionFactoryTermIsNumeric=s},96451:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinMultiSmallest=void 0;const i=r(1140),a=r(52840),o=r(13953),s=r(89266),c=r(85160);class l extends i.ActorRdfJoin{constructor(e){super(e,{logicalType:"inner",physicalName:"multi-smallest",limitEntries:3,limitEntriesMin:!0,canHandleUndefs:!0,isLeaf:!1})}getJoinIndexes(e){for(let t=0;t<e.length;t++)for(let r=t+1;r<e.length;r++)if(this.hasCommonVariables(e[t],e[r]))return[t,r];return[0,1]}hasCommonVariables(e,t){const r=e.metadata.variables.map(e=>e.variable.value),n=new Set(t.metadata.variables.map(e=>e.variable.value));return r.some(e=>n.has(e))}async sortJoinEntries(e,t){return(await this.mediatorJoinEntriesSort.mediate({entries:e,context:t})).entries}async getOutput(e,t){const r=e.context.getSafe(a.KeysInitQuery.dataFactory),n=new c.Factory(r),o=t.sortedEntries,l=await i.ActorRdfJoin.getEntriesWithMetadatas(o),u=this.getJoinIndexes(l),d=o[u[0]],h=o[u[1]];o.splice(u[1],1),o.splice(u[0],1);const p={output:(0,s.getSafeBindings)(await this.mediatorJoin.mediate({type:e.type,entries:[d,h],context:e.context})),operation:n.createJoin([d.operation,h.operation],!1)};return o.push(p),{result:await this.mediatorJoin.mediate({type:e.type,entries:o,context:e.context})}}async getJoinCoefficients(e,t){let{metadatas:r}=t;r=[...r];const a=await this.sortJoinEntries(e.entries.map((e,t)=>n(n({},e),{},{metadata:r[t]})),e.context);r=a.map(e=>e.metadata);const s=i.ActorRdfJoin.getRequestInitialTimes(r),c=i.ActorRdfJoin.getRequestItemTimes(r);return(0,o.passTestWithSideData)({iterations:r.reduce((e,t)=>e*t.cardinality.value,1),persistedItems:0,blockingItems:0,requestTime:r.reduce((e,t,r)=>e+s[r]+t.cardinality.value*c[r],0)},n(n({},t),{},{sortedEntries:a}))}}t.ActorRdfJoinMultiSmallest=l},96605:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionUcase=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.UCASE,overloads:(0,i.declare)(i.SparqlOperator.UCASE).onString1Typed(()=>e=>(0,i.string)(e.toUpperCase())).onLangString1(()=>e=>(0,i.langString)(e.typedValue.toUpperCase(),e.language)).collect()})}}t.TermFunctionUcase=a},96725:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(80893),t)},96797:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionSha1=void 0;const n=r(11716),i=r(97824),a=r(73697);class o extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.SHA1,overloads:(0,i.declare)(i.SparqlOperator.SHA1).onString1Typed(()=>e=>(0,i.string)((0,a.sha1)().update(e).digest("hex"))).collect()})}}t.TermFunctionSha1=o},96858:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},97004:(e,t,r)=>{"use strict";var n=r(78853),i=r(65043),a=r(97950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function c(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function l(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(c(e)!==e)throw Error(o(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),y=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),_=Symbol.for("react.consumer"),w=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),T=Symbol.for("react.suspense_list"),O=Symbol.for("react.memo"),E=Symbol.for("react.lazy");Symbol.for("react.scope");var A=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var P=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function j(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var D=Symbol.for("react.client.reference");function R(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===D?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case y:return"Fragment";case v:return"Profiler";case m:return"StrictMode";case S:return"Suspense";case T:return"SuspenseList";case A:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case g:return"Portal";case w:return(e.displayName||"Context")+".Provider";case _:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case O:return null!==(t=e.displayName||null)?t:R(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return R(e(t))}catch(r){}}return null}var I=Array.isArray,F=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M={pending:!1,data:null,method:null,action:null},k=[],L=-1;function B(e){return{current:e}}function U(e){0>L||(e.current=k[L],k[L]=null,L--)}function V(e,t){L++,k[L]=e.current,e.current=t}var z=B(null),q=B(null),Q=B(null),G=B(null);function H(e,t){switch(V(Q,t),V(q,e),V(z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?id(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=ad(t=id(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}U(z),V(z,e)}function W(){U(z),U(q),U(Q)}function X(e){null!==e.memoizedState&&V(G,e);var t=z.current,r=ad(t,e.type);t!==r&&(V(q,e),V(z,r))}function K(e){q.current===e&&(U(z),U(q)),G.current===e&&(U(G),Xd._currentValue=M)}var $=Object.prototype.hasOwnProperty,Y=n.unstable_scheduleCallback,J=n.unstable_cancelCallback,Z=n.unstable_shouldYield,ee=n.unstable_requestPaint,te=n.unstable_now,re=n.unstable_getCurrentPriorityLevel,ne=n.unstable_ImmediatePriority,ie=n.unstable_UserBlockingPriority,ae=n.unstable_NormalPriority,oe=n.unstable_LowPriority,se=n.unstable_IdlePriority,ce=n.log,le=n.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof ce&&le(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/ge|0)|0},fe=Math.log,ge=Math.LN2;var ye=256,me=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function be(e,t,r){var n=e.pendingLanes;if(0===n)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=134217727&n;return 0!==s?0!==(n=s&~a)?i=ve(n):0!==(o&=s)?i=ve(o):r||0!==(r=s&~e)&&(i=ve(r)):0!==(s=n&~a)?i=ve(s):0!==o?i=ve(o):r||0!==(r=n&~e)&&(i=ve(r)),0===i?0:0!==t&&t!==i&&0===(t&a)&&((a=i&-i)>=(r=t&-t)||32===a&&0!==(4194048&r))?t:i}function _e(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function we(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xe(){var e=ye;return 0===(4194048&(ye<<=1))&&(ye=256),e}function Se(){var e=me;return 0===(62914560&(me<<=1))&&(me=4194304),e}function Te(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Oe(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ee(e,t,r){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-pe(t);e.entangledLanes|=t,e.entanglements[n]=1073741824|e.entanglements[n]|4194090&r}function Ae(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-pe(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}function Pe(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ne(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function je(){var e=C.p;return 0!==e?e:void 0===(e=window.event)?32:lh(e.type)}var De=Math.random().toString(36).slice(2),Re="__reactFiber$"+De,Ie="__reactProps$"+De,Fe="__reactContainer$"+De,Ce="__reactEvents$"+De,Me="__reactListeners$"+De,ke="__reactHandles$"+De,Le="__reactResources$"+De,Be="__reactMarker$"+De;function Ue(e){delete e[Re],delete e[Ie],delete e[Ce],delete e[Me],delete e[ke]}function Ve(e){var t=e[Re];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Fe]||r[Re]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=bd(e);null!==e;){if(r=e[Re])return r;e=bd(e)}return t}r=(e=r).parentNode}return null}function ze(e){if(e=e[Re]||e[Fe]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Qe(e){var t=e[Le];return t||(t=e[Le]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ge(e){e[Be]=!0}var He=new Set,We={};function Xe(e,t){Ke(e,t),Ke(e+"Capture",t)}function Ke(e,t){for(We[e]=t,e=0;e<t.length;e++)He.add(t[e])}var $e,Ye,Je=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,r){if(i=t,$.call(et,i)||!$.call(Ze,i)&&(Je.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var n=t.toLowerCase().slice(0,5);if("data-"!==n&&"aria-"!==n)return void e.removeAttribute(t)}e.setAttribute(t,""+r)}var i}function rt(e,t,r){if(null===r)e.removeAttribute(t);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+r)}}function nt(e,t,r,n){if(null===n)e.removeAttribute(r);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(r)}e.setAttributeNS(t,r,""+n)}}function it(e){if(void 0===$e)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);$e=t&&t[1]||"",Ye=-1<r.stack.indexOf("\n    at")?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+$e+e+Ye}var at=!1;function ot(e,t){if(!e||at)return"";at=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var r=function(){throw Error()};if(Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(r,[])}catch(i){var n=i}Reflect.construct(e,[],r)}else{try{r.call()}catch(a){n=a}e.call(r.prototype)}}else{try{throw Error()}catch(o){n=o}(r=e())&&"function"===typeof r.catch&&r.catch(function(){})}}catch(s){if(s&&n&&"string"===typeof s.stack)return[s.stack,n.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var a=n.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split("\n"),l=s.split("\n");for(i=n=0;n<c.length&&!c[n].includes("DetermineComponentFrameRoot");)n++;for(;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;if(n===c.length||i===l.length)for(n=c.length-1,i=l.length-1;1<=n&&0<=i&&c[n]!==l[i];)i--;for(;1<=n&&0<=i;n--,i--)if(c[n]!==l[i]){if(1!==n||1!==i)do{if(n--,0>--i||c[n]!==l[i]){var u="\n"+c[n].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=n&&0<=i);break}}}finally{at=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?it(r):""}function st(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return it("Activity");default:return""}}function ct(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(r){return"\nError generating stack: "+r.message+"\n"+r.stack}}function lt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=ut(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function gt(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function yt(e,t,r,n,i,a,o,s){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+lt(t)):e.value!==""+lt(t)&&(e.value=""+lt(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,lt(t)):null!=r?vt(e,o,lt(r)):null!=n&&e.removeAttribute("value"),null==i&&null!=a&&(e.defaultChecked=!!a),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+lt(s):e.removeAttribute("name")}function mt(e,t,r,n,i,a,o,s){if(null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.type=a),null!=t||null!=r){if(!("submit"!==a&&"reset"!==a||void 0!==t&&null!==t))return;r=null!=r?""+lt(r):"",t=null!=t?""+lt(t):r,s||t===e.value||(e.value=t),e.defaultValue=t}n="function"!==typeof(n=null!=n?n:i)&&"symbol"!==typeof n&&!!n,e.checked=s?e.checked:!!n,e.defaultChecked=!!n,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function vt(e,t,r){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function bt(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+lt(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function _t(e,t,r){null==t||((t=""+lt(t))!==e.value&&(e.value=t),null!=r)?e.defaultValue=null!=r?""+lt(r):"":e.defaultValue!==t&&(e.defaultValue=t)}function wt(e,t,r,n){if(null==t){if(null!=n){if(null!=r)throw Error(o(92));if(I(n)){if(1<n.length)throw Error(o(93));n=n[0]}r=n}null==r&&(r=""),t=r}r=lt(t),e.defaultValue=r,(n=e.textContent)===r&&""!==n&&null!==n&&(e.value=n)}function xt(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tt(e,t,r){var n=0===t.indexOf("--");null==r||"boolean"===typeof r||""===r?n?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":n?e.setProperty(t,r):"number"!==typeof r||0===r||St.has(t)?"float"===t?e.cssFloat=r:e[t]=(""+r).trim():e[t]=r+"px"}function Ot(e,t,r){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=r){for(var n in r)!r.hasOwnProperty(n)||null!=t&&t.hasOwnProperty(n)||(0===n.indexOf("--")?e.setProperty(n,""):"float"===n?e.cssFloat="":e[n]="");for(var i in t)n=t[i],t.hasOwnProperty(i)&&r[i]!==n&&Tt(e,i,n)}else for(var a in t)t.hasOwnProperty(a)&&Tt(e,a,t[a])}function Et(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var At=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Pt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return Pt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var jt=null;function Dt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Rt=null,It=null;function Ft(e){var t=ze(e);if(t&&(e=t.stateNode)){var r=e[Ie]||null;e:switch(e=t.stateNode,t.type){case"input":if(yt(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+gt(""+t)+'"][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=n[Ie]||null;if(!i)throw Error(o(90));yt(n,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<r.length;t++)(n=r[t]).form===e.form&&ht(n)}break e;case"textarea":_t(e,r.value,r.defaultValue);break e;case"select":null!=(t=r.value)&&bt(e,!!r.multiple,t,!1)}}}var Ct=!1;function Mt(e,t,r){if(Ct)return e(t,r);Ct=!0;try{return e(t)}finally{if(Ct=!1,(null!==Rt||null!==It)&&(Vl(),Rt&&(t=Rt,e=It,It=Rt=null,Ft(t),e)))for(t=0;t<e.length;t++)Ft(e[t])}}function kt(e,t){var r=e.stateNode;if(null===r)return null;var n=r[Ie]||null;if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}var Lt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Bt=!1;if(Lt)try{var Ut={};Object.defineProperty(Ut,"passive",{get:function(){Bt=!0}}),window.addEventListener("test",Ut,Ut),window.removeEventListener("test",Ut,Ut)}catch(Ih){Bt=!1}var Vt=null,zt=null,qt=null;function Qt(){if(qt)return qt;var e,t,r=zt,n=r.length,i="value"in Vt?Vt.value:Vt.textContent,a=i.length;for(e=0;e<n&&r[e]===i[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===i[a-t];t++);return qt=i.slice(e,1<t?1-t:void 0)}function Gt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ht(){return!0}function Wt(){return!1}function Xt(e){function t(t,r,n,i,a){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Ht:Wt,this.isPropagationStopped=Wt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ht)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ht)},persist:function(){},isPersistent:Ht}),t}var Kt,$t,Yt,Jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Xt(Jt),er=h({},Jt,{view:0,detail:0}),tr=Xt(er),rr=h({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yt&&(Yt&&"mousemove"===e.type?(Kt=e.screenX-Yt.screenX,$t=e.screenY-Yt.screenY):$t=Kt=0,Yt=e),Kt)},movementY:function(e){return"movementY"in e?e.movementY:$t}}),nr=Xt(rr),ir=Xt(h({},rr,{dataTransfer:0})),ar=Xt(h({},er,{relatedTarget:0})),or=Xt(h({},Jt,{animationName:0,elapsedTime:0,pseudoElement:0})),sr=Xt(h({},Jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cr=Xt(h({},Jt,{data:0})),lr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ur={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dr[e])&&!!t[e]}function pr(){return hr}var fr=Xt(h({},er,{key:function(e){if(e.key){var t=lr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Gt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?ur[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pr,charCode:function(e){return"keypress"===e.type?Gt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Gt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gr=Xt(h({},rr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yr=Xt(h({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pr})),mr=Xt(h({},Jt,{propertyName:0,elapsedTime:0,pseudoElement:0})),vr=Xt(h({},rr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),br=Xt(h({},Jt,{newState:0,oldState:0})),_r=[9,13,27,32],wr=Lt&&"CompositionEvent"in window,xr=null;Lt&&"documentMode"in document&&(xr=document.documentMode);var Sr=Lt&&"TextEvent"in window&&!xr,Tr=Lt&&(!wr||xr&&8<xr&&11>=xr),Or=String.fromCharCode(32),Er=!1;function Ar(e,t){switch(e){case"keyup":return-1!==_r.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Nr=!1;var jr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!jr[e.type]:"textarea"===t}function Rr(e,t,r,n){Rt?It?It.push(n):It=[n]:Rt=n,0<(t=Qu(t,"onChange")).length&&(r=new Zt("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Ir=null,Fr=null;function Cr(e){Mu(e,0)}function Mr(e){if(ht(qe(e)))return e}function kr(e,t){if("change"===e)return t}var Lr=!1;if(Lt){var Br;if(Lt){var Ur="oninput"in document;if(!Ur){var Vr=document.createElement("div");Vr.setAttribute("oninput","return;"),Ur="function"===typeof Vr.oninput}Br=Ur}else Br=!1;Lr=Br&&(!document.documentMode||9<document.documentMode)}function zr(){Ir&&(Ir.detachEvent("onpropertychange",qr),Fr=Ir=null)}function qr(e){if("value"===e.propertyName&&Mr(Fr)){var t=[];Rr(t,Fr,e,Dt(e)),Mt(Cr,t)}}function Qr(e,t,r){"focusin"===e?(zr(),Fr=r,(Ir=t).attachEvent("onpropertychange",qr)):"focusout"===e&&zr()}function Gr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Mr(Fr)}function Hr(e,t){if("click"===e)return Mr(t)}function Wr(e,t){if("input"===e||"change"===e)return Mr(t)}var Xr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Kr(e,t){if(Xr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!$.call(t,i)||!Xr(e[i],t[i]))return!1}return!0}function $r(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Yr(e,t){var r,n=$r(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=$r(n)}}function Jr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function Zr(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=pt((e=t.contentWindow).document)}return t}function en(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var tn=Lt&&"documentMode"in document&&11>=document.documentMode,rn=null,nn=null,an=null,on=!1;function sn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;on||null==rn||rn!==pt(n)||("selectionStart"in(n=rn)&&en(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},an&&Kr(an,n)||(an=n,0<(n=Qu(nn,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rn)))}function cn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ln={animationend:cn("Animation","AnimationEnd"),animationiteration:cn("Animation","AnimationIteration"),animationstart:cn("Animation","AnimationStart"),transitionrun:cn("Transition","TransitionRun"),transitionstart:cn("Transition","TransitionStart"),transitioncancel:cn("Transition","TransitionCancel"),transitionend:cn("Transition","TransitionEnd")},un={},dn={};function hn(e){if(un[e])return un[e];if(!ln[e])return e;var t,r=ln[e];for(t in r)if(r.hasOwnProperty(t)&&t in dn)return un[e]=r[t];return e}Lt&&(dn=document.createElement("div").style,"AnimationEvent"in window||(delete ln.animationend.animation,delete ln.animationiteration.animation,delete ln.animationstart.animation),"TransitionEvent"in window||delete ln.transitionend.transition);var pn=hn("animationend"),fn=hn("animationiteration"),gn=hn("animationstart"),yn=hn("transitionrun"),mn=hn("transitionstart"),vn=hn("transitioncancel"),bn=hn("transitionend"),_n=new Map,wn="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xn(e,t){_n.set(e,t),Xe(t,[e])}wn.push("scrollEnd");var Sn=new WeakMap;function Tn(e,t){if("object"===typeof e&&null!==e){var r=Sn.get(e);return void 0!==r?r:(t={value:e,source:t,stack:ct(t)},Sn.set(e,t),t)}return{value:e,source:t,stack:ct(t)}}var On=[],En=0,An=0;function Pn(){for(var e=En,t=An=En=0;t<e;){var r=On[t];On[t++]=null;var n=On[t];On[t++]=null;var i=On[t];On[t++]=null;var a=On[t];if(On[t++]=null,null!==n&&null!==i){var o=n.pending;null===o?i.next=i:(i.next=o.next,o.next=i),n.pending=i}0!==a&&Rn(r,i,a)}}function Nn(e,t,r,n){On[En++]=e,On[En++]=t,On[En++]=r,On[En++]=n,An|=n,e.lanes|=n,null!==(e=e.alternate)&&(e.lanes|=n)}function jn(e,t,r,n){return Nn(e,t,r,n),In(e)}function Dn(e,t){return Nn(e,null,null,t),In(e)}function Rn(e,t,r){e.lanes|=r;var n=e.alternate;null!==n&&(n.lanes|=r);for(var i=!1,a=e.return;null!==a;)a.childLanes|=r,null!==(n=a.alternate)&&(n.childLanes|=r),22===a.tag&&(null===(e=a.stateNode)||1&e._visibility||(i=!0)),e=a,a=a.return;return 3===e.tag?(a=e.stateNode,i&&null!==t&&(i=31-pe(r),null===(n=(e=a.hiddenUpdates)[i])?e[i]=[t]:n.push(t),t.lane=536870912|r),a):null}function In(e){if(50<Rl)throw Rl=0,Il=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Fn={};function Cn(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mn(e,t,r,n){return new Cn(e,t,r,n)}function kn(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ln(e,t){var r=e.alternate;return null===r?((r=Mn(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=65011712&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Bn(e,t){e.flags&=65011714;var r=e.alternate;return null===r?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,t=r.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Un(e,t,r,n,i,a){var s=0;if(n=e,"function"===typeof e)kn(e)&&(s=1);else if("string"===typeof e)s=function(e,t,r){if(1===r||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,r,z.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case A:return(e=Mn(31,r,t,i)).elementType=A,e.lanes=a,e;case y:return Vn(r.children,i,a,t);case m:s=8,i|=24;break;case v:return(e=Mn(12,r,t,2|i)).elementType=v,e.lanes=a,e;case S:return(e=Mn(13,r,t,i)).elementType=S,e.lanes=a,e;case T:return(e=Mn(19,r,t,i)).elementType=T,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case b:case w:s=10;break e;case _:s=9;break e;case x:s=11;break e;case O:s=14;break e;case E:s=16,n=null;break e}s=29,r=Error(o(130,null===e?"null":typeof e,"")),n=null}return(t=Mn(s,r,t,i)).elementType=e,t.type=n,t.lanes=a,t}function Vn(e,t,r,n){return(e=Mn(7,e,n,t)).lanes=r,e}function zn(e,t,r){return(e=Mn(6,e,null,t)).lanes=r,e}function qn(e,t,r){return(t=Mn(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Qn=[],Gn=0,Hn=null,Wn=0,Xn=[],Kn=0,$n=null,Yn=1,Jn="";function Zn(e,t){Qn[Gn++]=Wn,Qn[Gn++]=Hn,Hn=e,Wn=t}function ei(e,t,r){Xn[Kn++]=Yn,Xn[Kn++]=Jn,Xn[Kn++]=$n,$n=e;var n=Yn;e=Jn;var i=32-pe(n)-1;n&=~(1<<i),r+=1;var a=32-pe(t)+i;if(30<a){var o=i-i%5;a=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Yn=1<<32-pe(t)+i|r<<i|n,Jn=a+e}else Yn=1<<a|r<<i|n,Jn=e}function ti(e){null!==e.return&&(Zn(e,1),ei(e,1,0))}function ri(e){for(;e===Hn;)Hn=Qn[--Gn],Qn[Gn]=null,Wn=Qn[--Gn],Qn[Gn]=null;for(;e===$n;)$n=Xn[--Kn],Xn[Kn]=null,Jn=Xn[--Kn],Xn[Kn]=null,Yn=Xn[--Kn],Xn[Kn]=null}var ni=null,ii=null,ai=!1,oi=null,si=!1,ci=Error(o(519));function li(e){throw gi(Tn(Error(o(418,"")),e)),ci}function ui(e){var t=e.stateNode,r=e.type,n=e.memoizedProps;switch(t[Re]=e,t[Ie]=n,r){case"dialog":ku("cancel",t),ku("close",t);break;case"iframe":case"object":case"embed":ku("load",t);break;case"video":case"audio":for(r=0;r<Fu.length;r++)ku(Fu[r],t);break;case"source":ku("error",t);break;case"img":case"image":case"link":ku("error",t),ku("load",t);break;case"details":ku("toggle",t);break;case"input":ku("invalid",t),mt(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),dt(t);break;case"select":ku("invalid",t);break;case"textarea":ku("invalid",t),wt(t,n.value,n.defaultValue,n.children),dt(t)}"string"!==typeof(r=n.children)&&"number"!==typeof r&&"bigint"!==typeof r||t.textContent===""+r||!0===n.suppressHydrationWarning||$u(t.textContent,r)?(null!=n.popover&&(ku("beforetoggle",t),ku("toggle",t)),null!=n.onScroll&&ku("scroll",t),null!=n.onScrollEnd&&ku("scrollend",t),null!=n.onClick&&(t.onclick=Yu),t=!0):t=!1,t||li(e)}function di(e){for(ni=e.return;ni;)switch(ni.tag){case 5:case 13:return void(si=!1);case 27:case 3:return void(si=!0);default:ni=ni.return}}function hi(e){if(e!==ni)return!1;if(!ai)return di(e),ai=!0,!1;var t,r=e.tag;if((t=3!==r&&27!==r)&&((t=5===r)&&(t=!("form"!==(t=e.type)&&"button"!==t)||od(e.type,e.memoizedProps)),t=!t),t&&ii&&li(e),di(e),13===r){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,r=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===r){ii=md(e.nextSibling);break e}r--}else"$"!==t&&"$!"!==t&&"$?"!==t||r++;e=e.nextSibling}ii=null}}else 27===r?(r=ii,pd(e.type)?(e=vd,vd=null,ii=e):ii=r):ii=ni?md(e.stateNode.nextSibling):null;return!0}function pi(){ii=ni=null,ai=!1}function fi(){var e=oi;return null!==e&&(null===bl?bl=e:bl.push.apply(bl,e),oi=null),e}function gi(e){null===oi?oi=[e]:oi.push(e)}var yi=B(null),mi=null,vi=null;function bi(e,t,r){V(yi,t._currentValue),t._currentValue=r}function _i(e){e._currentValue=yi.current,U(yi)}function wi(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function xi(e,t,r,n){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var a=i.dependencies;if(null!==a){var s=i.child;a=a.firstContext;e:for(;null!==a;){var c=a;a=i;for(var l=0;l<t.length;l++)if(c.context===t[l]){a.lanes|=r,null!==(c=a.alternate)&&(c.lanes|=r),wi(a.return,r,e),n||(s=null);break e}a=c.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(o(341));s.lanes|=r,null!==(a=s.alternate)&&(a.lanes|=r),wi(s,r,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Si(e,t,r,n){e=null;for(var i=t,a=!1;null!==i;){if(!a)if(0!==(524288&i.flags))a=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(o(387));if(null!==(s=s.memoizedProps)){var c=i.type;Xr(i.pendingProps.value,s.value)||(null!==e?e.push(c):e=[c])}}else if(i===G.current){if(null===(s=i.alternate))throw Error(o(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Xd):e=[Xd])}i=i.return}null!==e&&xi(t,e,r,n),t.flags|=262144}function Ti(e){for(e=e.firstContext;null!==e;){if(!Xr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Oi(e){mi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ei(e){return Pi(mi,e)}function Ai(e,t){return null===mi&&Oi(e),Pi(e,t)}function Pi(e,t){var r=t._currentValue;if(t={context:t,memoizedValue:r,next:null},null===vi){if(null===e)throw Error(o(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return r}var Ni="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},ji=n.unstable_scheduleCallback,Di=n.unstable_NormalPriority,Ri={$$typeof:w,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ii(){return{controller:new Ni,data:new Map,refCount:0}}function Fi(e){e.refCount--,0===e.refCount&&ji(Di,function(){e.controller.abort()})}var Ci=null,Mi=0,ki=0,Li=null;function Bi(){if(0===--Mi&&null!==Ci){null!==Li&&(Li.status="fulfilled");var e=Ci;Ci=null,ki=0,Li=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Ui=F.S;F.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Ci){var r=Ci=[];Mi=0,ki=Nu(),Li={status:"pending",value:void 0,then:function(e){r.push(e)}}}Mi++,t.then(Bi,Bi)}(0,t),null!==Ui&&Ui(e,t)};var Vi=B(null);function zi(){var e=Vi.current;return null!==e?e:nl.pooledCache}function qi(e,t){V(Vi,null===t?Vi.current:t.pool)}function Qi(){var e=zi();return null===e?null:{parent:Ri._currentValue,pool:e}}var Gi=Error(o(460)),Hi=Error(o(474)),Wi=Error(o(542)),Xi={then:function(){}};function Ki(e){return"fulfilled"===(e=e.status)||"rejected"===e}function $i(){}function Yi(e,t,r){switch(void 0===(r=e[r])?e.push(t):r!==t&&(t.then($i,$i),t=r),t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e;default:if("string"===typeof t.status)t.then($i,$i);else{if(null!==(e=nl)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var r=t;r.status="fulfilled",r.value=e}},function(e){if("pending"===t.status){var r=t;r.status="rejected",r.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw ea(e=t.reason),e}throw Ji=t,Gi}}var Ji=null;function Zi(){if(null===Ji)throw Error(o(459));var e=Ji;return Ji=null,e}function ea(e){if(e===Gi||e===Wi)throw Error(o(483))}var ta=!1;function ra(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function aa(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&rl)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,t=In(e),Rn(e,null,r),t}return Nn(e,n,t,r),In(e)}function oa(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Ae(e,r)}}function sa(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,a=null;if(null!==(r=r.firstBaseUpdate)){do{var o={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};null===a?i=a=o:a=a.next=o,r=r.next}while(null!==r);null===a?i=a=t:a=a.next=t}else i=a=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:n.shared,callbacks:n.callbacks},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}var ca=!1;function la(){if(ca){if(null!==Li)throw Li}}function ua(e,t,r,n){ca=!1;var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var c=s,l=c.next;c.next=null,null===o?a=l:o.next=l,o=c;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===s?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(null!==a){var d=i.baseState;for(o=0,u=l=c=null,s=a;;){var p=-536870913&s.lane,f=p!==s.lane;if(f?(al&p)===p:(n&p)===p){0!==p&&p===ki&&(ca=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var g=e,y=s;p=t;var m=r;switch(y.tag){case 1:if("function"===typeof(g=y.payload)){d=g.call(m,d,p);break e}d=g;break e;case 3:g.flags=-65537&g.flags|128;case 0:if(null===(p="function"===typeof(g=y.payload)?g.call(m,d,p):g)||void 0===p)break e;d=h({},d,p);break e;case 2:ta=!0}}null!==(p=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[p]:f.push(p))}else f={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(l=u=f,c=d):u=u.next=f,o|=p;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null===a&&(i.shared.lanes=0),pl|=o,e.lanes=o,e.memoizedState=d}}function da(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function ha(e,t){var r=e.callbacks;if(null!==r)for(e.callbacks=null,e=0;e<r.length;e++)da(r[e],t)}var pa=B(null),fa=B(0);function ga(e,t){V(fa,e=dl),V(pa,t),dl=e|t.baseLanes}function ya(){V(fa,dl),V(pa,pa.current)}function ma(){dl=fa.current,U(pa),U(fa)}var va=0,ba=null,_a=null,wa=null,xa=!1,Sa=!1,Ta=!1,Oa=0,Ea=0,Aa=null,Pa=0;function Na(){throw Error(o(321))}function ja(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Xr(e[r],t[r]))return!1;return!0}function Da(e,t,r,n,i,a){return va=a,ba=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,F.H=null===e||null===e.memoizedState?Ho:Wo,Ta=!1,a=r(n,i),Ta=!1,Sa&&(a=Ia(t,r,n,i)),Ra(e),a}function Ra(e){F.H=Go;var t=null!==_a&&null!==_a.next;if(va=0,wa=_a=ba=null,xa=!1,Ea=0,Aa=null,t)throw Error(o(300));null===e||As||null!==(e=e.dependencies)&&Ti(e)&&(As=!0)}function Ia(e,t,r,n){ba=e;var i=0;do{if(Sa&&(Aa=null),Ea=0,Sa=!1,25<=i)throw Error(o(301));if(i+=1,wa=_a=null,null!=e.updateQueue){var a=e.updateQueue;a.lastEffect=null,a.events=null,a.stores=null,null!=a.memoCache&&(a.memoCache.index=0)}F.H=Xo,a=t(r,n)}while(Sa);return a}function Fa(){var e=F.H,t=e.useState()[0];return t="function"===typeof t.then?Ua(t):t,e=e.useState()[0],(null!==_a?_a.memoizedState:null)!==e&&(ba.flags|=1024),t}function Ca(){var e=0!==Oa;return Oa=0,e}function Ma(e,t,r){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r}function ka(e){if(xa){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}xa=!1}va=0,wa=_a=ba=null,Sa=!1,Ea=Oa=0,Aa=null}function La(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wa?ba.memoizedState=wa=e:wa=wa.next=e,wa}function Ba(){if(null===_a){var e=ba.alternate;e=null!==e?e.memoizedState:null}else e=_a.next;var t=null===wa?ba.memoizedState:wa.next;if(null!==t)wa=t,_a=e;else{if(null===e){if(null===ba.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(_a=e).memoizedState,baseState:_a.baseState,baseQueue:_a.baseQueue,queue:_a.queue,next:null},null===wa?ba.memoizedState=wa=e:wa=wa.next=e}return wa}function Ua(e){var t=Ea;return Ea+=1,null===Aa&&(Aa=[]),e=Yi(Aa,e,t),t=ba,null===(null===wa?t.memoizedState:wa.next)&&(t=t.alternate,F.H=null===t||null===t.memoizedState?Ho:Wo),e}function Va(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Ua(e);if(e.$$typeof===w)return Ei(e)}throw Error(o(438,String(e)))}function za(e){var t=null,r=ba.updateQueue;if(null!==r&&(t=r.memoCache),null==t){var n=ba.alternate;null!==n&&(null!==(n=n.updateQueue)&&(null!=(n=n.memoCache)&&(t={data:n.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===r&&(r={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=r),r.memoCache=t,void 0===(r=t.data[t.index]))for(r=t.data[t.index]=Array(e),n=0;n<e;n++)r[n]=P;return t.index++,r}function qa(e,t){return"function"===typeof t?t(e):t}function Qa(e){return Ga(Ba(),_a,e)}function Ga(e,t,r){var n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=r;var i=e.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}t.baseQueue=i=a,n.pending=null}if(a=e.baseState,null===i)e.memoizedState=a;else{var c=s=null,l=null,u=t=i.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(al&h)===h:(va&h)===h){var p=u.revertLane;if(0===p)null!==l&&(l=l.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===ki&&(d=!0);else{if((va&p)===p){u=u.next,p===ki&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=h,s=a):l=l.next=h,ba.lanes|=p,pl|=p}h=u.action,Ta&&r(a,h),a=u.hasEagerState?u.eagerState:r(a,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===l?(c=l=p,s=a):l=l.next=p,ba.lanes|=h,pl|=h;u=u.next}while(null!==u&&u!==t);if(null===l?s=a:l.next=c,!Xr(a,e.memoizedState)&&(As=!0,d&&null!==(r=Li)))throw r;e.memoizedState=a,e.baseState=s,e.baseQueue=l,n.lastRenderedState=a}return null===i&&(n.lanes=0),[e.memoizedState,n.dispatch]}function Ha(e){var t=Ba(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,a=t.memoizedState;if(null!==i){r.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);Xr(a,t.memoizedState)||(As=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function Wa(e,t,r){var n=ba,i=Ba(),a=ai;if(a){if(void 0===r)throw Error(o(407));r=r()}else r=t();var s=!Xr((_a||i).memoizedState,r);if(s&&(i.memoizedState=r,As=!0),i=i.queue,mo(2048,8,$a.bind(null,n,i,e),[e]),i.getSnapshot!==t||s||null!==wa&&1&wa.memoizedState.tag){if(n.flags|=2048,fo(9,{destroy:void 0,resource:void 0},Ka.bind(null,n,i,r,t),null),null===nl)throw Error(o(349));a||0!==(124&va)||Xa(n,t,r)}return r}function Xa(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=ba.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Ka(e,t,r,n){t.value=r,t.getSnapshot=n,Ya(t)&&Ja(e)}function $a(e,t,r){return r(function(){Ya(t)&&Ja(e)})}function Ya(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Xr(e,r)}catch(n){return!0}}function Ja(e){var t=Dn(e,2);null!==t&&Ml(t,e,2)}function Za(e){var t=La();if("function"===typeof e){var r=e;if(e=r(),Ta){he(!0);try{r()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:e},t}function eo(e,t,r,n){return e.baseState=r,Ga(e,_a,"function"===typeof n?n:qa)}function to(e,t,r,n,i){if(zo(e))throw Error(o(485));if(null!==(e=t.action)){var a={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){a.listeners.push(e)}};null!==F.T?r(!0):a.isTransition=!1,n(a),null===(r=t.pending)?(a.next=t.pending=a,ro(t,a)):(a.next=r.next,t.pending=r.next=a)}}function ro(e,t){var r=t.action,n=t.payload,i=e.state;if(t.isTransition){var a=F.T,o={};F.T=o;try{var s=r(i,n),c=F.S;null!==c&&c(o,s),no(e,t,s)}catch(l){ao(e,t,l)}finally{F.T=a}}else try{no(e,t,a=r(i,n))}catch(u){ao(e,t,u)}}function no(e,t,r){null!==r&&"object"===typeof r&&"function"===typeof r.then?r.then(function(r){io(e,t,r)},function(r){return ao(e,t,r)}):io(e,t,r)}function io(e,t,r){t.status="fulfilled",t.value=r,oo(t),e.state=r,null!==(t=e.pending)&&((r=t.next)===t?e.pending=null:(r=r.next,t.next=r,ro(e,r)))}function ao(e,t,r){var n=e.pending;if(e.pending=null,null!==n){n=n.next;do{t.status="rejected",t.reason=r,oo(t),t=t.next}while(t!==n)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function so(e,t){return t}function co(e,t){if(ai){var r=nl.formState;if(null!==r){e:{var n=ba;if(ai){if(ii){t:{for(var i=ii,a=si;8!==i.nodeType;){if(!a){i=null;break t}if(null===(i=md(i.nextSibling))){i=null;break t}}i="F!"===(a=i.data)||"F"===a?i:null}if(i){ii=md(i.nextSibling),n="F!"===i.data;break e}}li(n)}n=!1}n&&(t=r[0])}}return(r=La()).memoizedState=r.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:so,lastRenderedState:t},r.queue=n,r=Bo.bind(null,ba,n),n.dispatch=r,n=Za(!1),a=Vo.bind(null,ba,!1,n.queue),i={state:t,dispatch:null,action:e,pending:null},(n=La()).queue=i,r=to.bind(null,ba,i,a,r),i.dispatch=r,n.memoizedState=e,[t,r,!1]}function lo(e){return uo(Ba(),_a,e)}function uo(e,t,r){if(t=Ga(e,t,so)[0],e=Qa(qa)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var n=Ua(t)}catch(o){if(o===Gi)throw Wi;throw o}else n=t;var i=(t=Ba()).queue,a=i.dispatch;return r!==t.memoizedState&&(ba.flags|=2048,fo(9,{destroy:void 0,resource:void 0},ho.bind(null,i,r),null)),[n,a,e]}function ho(e,t){e.action=t}function po(e){var t=Ba(),r=_a;if(null!==r)return uo(t,r,e);Ba(),t=t.memoizedState;var n=(r=Ba()).queue.dispatch;return r.memoizedState=e,[t,n,!1]}function fo(e,t,r,n){return e={tag:e,create:r,deps:n,inst:t,next:null},null===(t=ba.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},ba.updateQueue=t),null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function go(){return Ba().memoizedState}function yo(e,t,r,n){var i=La();n=void 0===n?null:n,ba.flags|=e,i.memoizedState=fo(1|t,{destroy:void 0,resource:void 0},r,n)}function mo(e,t,r,n){var i=Ba();n=void 0===n?null:n;var a=i.memoizedState.inst;null!==_a&&null!==n&&ja(n,_a.memoizedState.deps)?i.memoizedState=fo(t,a,r,n):(ba.flags|=e,i.memoizedState=fo(1|t,a,r,n))}function vo(e,t){yo(8390656,8,e,t)}function bo(e,t){mo(2048,8,e,t)}function _o(e,t){return mo(4,2,e,t)}function wo(e,t){return mo(4,4,e,t)}function xo(e,t){if("function"===typeof t){e=e();var r=t(e);return function(){"function"===typeof r?r():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function So(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,mo(4,4,xo.bind(null,t,e),r)}function To(){}function Oo(e,t){var r=Ba();t=void 0===t?null:t;var n=r.memoizedState;return null!==t&&ja(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Eo(e,t){var r=Ba();t=void 0===t?null:t;var n=r.memoizedState;if(null!==t&&ja(t,n[1]))return n[0];if(n=e(),Ta){he(!0);try{e()}finally{he(!1)}}return r.memoizedState=[n,t],n}function Ao(e,t,r){return void 0===r||0!==(1073741824&va)?e.memoizedState=t:(e.memoizedState=r,e=Cl(),ba.lanes|=e,pl|=e,r)}function Po(e,t,r,n){return Xr(r,t)?r:null!==pa.current?(e=Ao(e,r,n),Xr(e,t)||(As=!0),e):0===(42&va)?(As=!0,e.memoizedState=r):(e=Cl(),ba.lanes|=e,pl|=e,t)}function No(e,t,r,n,i){var a=C.p;C.p=0!==a&&8>a?a:8;var o=F.T,s={};F.T=s,Vo(e,!1,t,r);try{var c=i(),l=F.S;if(null!==l&&l(s,c),null!==c&&"object"===typeof c&&"function"===typeof c.then)Uo(e,t,function(e,t){var r=[],n={status:"pending",value:null,reason:null,then:function(e){r.push(e)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var e=0;e<r.length;e++)(0,r[e])(t)},function(e){for(n.status="rejected",n.reason=e,e=0;e<r.length;e++)(0,r[e])(void 0)}),n}(c,n),Fl());else Uo(e,t,n,Fl())}catch(u){Uo(e,t,{then:function(){},status:"rejected",reason:u},Fl())}finally{C.p=a,F.T=o}}function jo(){}function Do(e,t,r,n){if(5!==e.tag)throw Error(o(476));var i=Ro(e).queue;No(e,i,t,M,null===r?jo:function(){return Io(e),r(n)})}function Ro(e){var t=e.memoizedState;if(null!==t)return t;var r={};return(t={memoizedState:M,baseState:M,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:M},next:null}).next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:r},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Io(e){Uo(e,Ro(e).next.queue,{},Fl())}function Fo(){return Ei(Xd)}function Co(){return Ba().memoizedState}function Mo(){return Ba().memoizedState}function ko(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var r=Fl(),n=aa(t,e=ia(r),r);return null!==n&&(Ml(n,t,r),oa(n,t,r)),t={cache:Ii()},void(e.payload=t)}t=t.return}}function Lo(e,t,r){var n=Fl();r={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},zo(e)?qo(t,r):null!==(r=jn(e,t,r,n))&&(Ml(r,e,n),Qo(r,t,n))}function Bo(e,t,r){Uo(e,t,r,Fl())}function Uo(e,t,r,n){var i={lane:n,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(zo(e))qo(t,i);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,s=a(o,r);if(i.hasEagerState=!0,i.eagerState=s,Xr(s,o))return Nn(e,t,i,0),null===nl&&Pn(),!1}catch(c){}if(null!==(r=jn(e,t,i,n)))return Ml(r,e,n),Qo(r,t,n),!0}return!1}function Vo(e,t,r,n){if(n={lane:2,revertLane:Nu(),action:n,hasEagerState:!1,eagerState:null,next:null},zo(e)){if(t)throw Error(o(479))}else null!==(t=jn(e,r,n,2))&&Ml(t,e,2)}function zo(e){var t=e.alternate;return e===ba||null!==t&&t===ba}function qo(e,t){Sa=xa=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Qo(e,t,r){if(0!==(4194048&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Ae(e,r)}}var Go={readContext:Ei,use:Va,useCallback:Na,useContext:Na,useEffect:Na,useImperativeHandle:Na,useLayoutEffect:Na,useInsertionEffect:Na,useMemo:Na,useReducer:Na,useRef:Na,useState:Na,useDebugValue:Na,useDeferredValue:Na,useTransition:Na,useSyncExternalStore:Na,useId:Na,useHostTransitionStatus:Na,useFormState:Na,useActionState:Na,useOptimistic:Na,useMemoCache:Na,useCacheRefresh:Na},Ho={readContext:Ei,use:Va,useCallback:function(e,t){return La().memoizedState=[e,void 0===t?null:t],e},useContext:Ei,useEffect:vo,useImperativeHandle:function(e,t,r){r=null!==r&&void 0!==r?r.concat([e]):null,yo(4194308,4,xo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return yo(4194308,4,e,t)},useInsertionEffect:function(e,t){yo(4,2,e,t)},useMemo:function(e,t){var r=La();t=void 0===t?null:t;var n=e();if(Ta){he(!0);try{e()}finally{he(!1)}}return r.memoizedState=[n,t],n},useReducer:function(e,t,r){var n=La();if(void 0!==r){var i=r(t);if(Ta){he(!0);try{r(t)}finally{he(!1)}}}else i=t;return n.memoizedState=n.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},n.queue=e,e=e.dispatch=Lo.bind(null,ba,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},La().memoizedState=e},useState:function(e){var t=(e=Za(e)).queue,r=Bo.bind(null,ba,t);return t.dispatch=r,[e.memoizedState,r]},useDebugValue:To,useDeferredValue:function(e,t){return Ao(La(),e,t)},useTransition:function(){var e=Za(!1);return e=No.bind(null,ba,e.queue,!0,!1),La().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,r){var n=ba,i=La();if(ai){if(void 0===r)throw Error(o(407));r=r()}else{if(r=t(),null===nl)throw Error(o(349));0!==(124&al)||Xa(n,t,r)}i.memoizedState=r;var a={value:r,getSnapshot:t};return i.queue=a,vo($a.bind(null,n,a,e),[e]),n.flags|=2048,fo(9,{destroy:void 0,resource:void 0},Ka.bind(null,n,a,r,t),null),r},useId:function(){var e=La(),t=nl.identifierPrefix;if(ai){var r=Jn;t="\xab"+t+"R"+(r=(Yn&~(1<<32-pe(Yn)-1)).toString(32)+r),0<(r=Oa++)&&(t+="H"+r.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(r=Pa++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Fo,useFormState:co,useActionState:co,useOptimistic:function(e){var t=La();t.memoizedState=t.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=r,t=Vo.bind(null,ba,!0,r),r.dispatch=t,[e,t]},useMemoCache:za,useCacheRefresh:function(){return La().memoizedState=ko.bind(null,ba)}},Wo={readContext:Ei,use:Va,useCallback:Oo,useContext:Ei,useEffect:bo,useImperativeHandle:So,useInsertionEffect:_o,useLayoutEffect:wo,useMemo:Eo,useReducer:Qa,useRef:go,useState:function(){return Qa(qa)},useDebugValue:To,useDeferredValue:function(e,t){return Po(Ba(),_a.memoizedState,e,t)},useTransition:function(){var e=Qa(qa)[0],t=Ba().memoizedState;return["boolean"===typeof e?e:Ua(e),t]},useSyncExternalStore:Wa,useId:Co,useHostTransitionStatus:Fo,useFormState:lo,useActionState:lo,useOptimistic:function(e,t){return eo(Ba(),0,e,t)},useMemoCache:za,useCacheRefresh:Mo},Xo={readContext:Ei,use:Va,useCallback:Oo,useContext:Ei,useEffect:bo,useImperativeHandle:So,useInsertionEffect:_o,useLayoutEffect:wo,useMemo:Eo,useReducer:Ha,useRef:go,useState:function(){return Ha(qa)},useDebugValue:To,useDeferredValue:function(e,t){var r=Ba();return null===_a?Ao(r,e,t):Po(r,_a.memoizedState,e,t)},useTransition:function(){var e=Ha(qa)[0],t=Ba().memoizedState;return["boolean"===typeof e?e:Ua(e),t]},useSyncExternalStore:Wa,useId:Co,useHostTransitionStatus:Fo,useFormState:po,useActionState:po,useOptimistic:function(e,t){var r=Ba();return null!==_a?eo(r,0,e,t):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:za,useCacheRefresh:Mo},Ko=null,$o=0;function Yo(e){var t=$o;return $o+=1,null===Ko&&(Ko=[]),Yi(Ko,e,t)}function Jo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zo(e,t){if(t.$$typeof===p)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=Ln(e,t)).index=0,e.sibling=null,e}function a(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=67108866,r):n:(t.flags|=67108866,r):(t.flags|=1048576,r)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=zn(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function l(e,t,r,n){var a=r.type;return a===y?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===E&&es(a)===t.type)?(Jo(t=i(t,r.props),r),t.return=e,t):(Jo(t=Un(r.type,r.key,r.props,null,e.mode,n),r),t.return=e,t)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=qn(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function d(e,t,r,n,a){return null===t||7!==t.tag?((t=Vn(r,e.mode,n,a)).return=e,t):((t=i(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=zn(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Jo(r=Un(t.type,t.key,t.props,null,e.mode,r),t),r.return=e,r;case g:return(t=qn(t,e.mode,r)).return=e,t;case E:return h(e,t=(0,t._init)(t._payload),r)}if(I(t)||j(t))return(t=Vn(t,e.mode,r,null)).return=e,t;if("function"===typeof t.then)return h(e,Yo(t),r);if(t.$$typeof===w)return h(e,Ai(e,t),r);Zo(e,t)}return null}function p(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return null!==i?null:c(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return r.key===i?l(e,t,r,n):null;case g:return r.key===i?u(e,t,r,n):null;case E:return p(e,t,r=(i=r._init)(r._payload),n)}if(I(r)||j(r))return null!==i?null:d(e,t,r,n,null);if("function"===typeof r.then)return p(e,t,Yo(r),n);if(r.$$typeof===w)return p(e,t,Ai(e,r),n);Zo(e,r)}return null}function m(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return c(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return l(t,e=e.get(null===n.key?r:n.key)||null,n,i);case g:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i);case E:return m(e,t,r,n=(0,n._init)(n._payload),i)}if(I(n)||j(n))return d(t,e=e.get(r)||null,n,i,null);if("function"===typeof n.then)return m(e,t,r,Yo(n),i);if(n.$$typeof===w)return m(e,t,r,Ai(t,n),i);Zo(t,n)}return null}function v(c,l,u,d){if("object"===typeof u&&null!==u&&u.type===y&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var b=u.key;null!==l;){if(l.key===b){if((b=u.type)===y){if(7===l.tag){r(c,l.sibling),(d=i(l,u.props.children)).return=c,c=d;break e}}else if(l.elementType===b||"object"===typeof b&&null!==b&&b.$$typeof===E&&es(b)===l.type){r(c,l.sibling),Jo(d=i(l,u.props),u),d.return=c,c=d;break e}r(c,l);break}t(c,l),l=l.sibling}u.type===y?((d=Vn(u.props.children,c.mode,d,u.key)).return=c,c=d):(Jo(d=Un(u.type,u.key,u.props,null,c.mode,d),u),d.return=c,c=d)}return s(c);case g:e:{for(b=u.key;null!==l;){if(l.key===b){if(4===l.tag&&l.stateNode.containerInfo===u.containerInfo&&l.stateNode.implementation===u.implementation){r(c,l.sibling),(d=i(l,u.children||[])).return=c,c=d;break e}r(c,l);break}t(c,l),l=l.sibling}(d=qn(u,c.mode,d)).return=c,c=d}return s(c);case E:return v(c,l,u=(b=u._init)(u._payload),d)}if(I(u))return function(i,o,s,c){for(var l=null,u=null,d=o,f=o=0,g=null;null!==d&&f<s.length;f++){d.index>f?(g=d,d=null):g=d.sibling;var y=p(i,d,s[f],c);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(i,d),o=a(y,o,f),null===u?l=y:u.sibling=y,u=y,d=g}if(f===s.length)return r(i,d),ai&&Zn(i,f),l;if(null===d){for(;f<s.length;f++)null!==(d=h(i,s[f],c))&&(o=a(d,o,f),null===u?l=d:u.sibling=d,u=d);return ai&&Zn(i,f),l}for(d=n(d);f<s.length;f++)null!==(g=m(d,i,f,s[f],c))&&(e&&null!==g.alternate&&d.delete(null===g.key?f:g.key),o=a(g,o,f),null===u?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),ai&&Zn(i,f),l}(c,l,u,d);if(j(u)){if("function"!==typeof(b=j(u)))throw Error(o(150));return function(i,s,c,l){if(null==c)throw Error(o(151));for(var u=null,d=null,f=s,g=s=0,y=null,v=c.next();null!==f&&!v.done;g++,v=c.next()){f.index>g?(y=f,f=null):y=f.sibling;var b=p(i,f,v.value,l);if(null===b){null===f&&(f=y);break}e&&f&&null===b.alternate&&t(i,f),s=a(b,s,g),null===d?u=b:d.sibling=b,d=b,f=y}if(v.done)return r(i,f),ai&&Zn(i,g),u;if(null===f){for(;!v.done;g++,v=c.next())null!==(v=h(i,v.value,l))&&(s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return ai&&Zn(i,g),u}for(f=n(f);!v.done;g++,v=c.next())null!==(v=m(f,i,g,v.value,l))&&(e&&null!==v.alternate&&f.delete(null===v.key?g:v.key),s=a(v,s,g),null===d?u=v:d.sibling=v,d=v);return e&&f.forEach(function(e){return t(i,e)}),ai&&Zn(i,g),u}(c,l,u=b.call(u),d)}if("function"===typeof u.then)return v(c,l,Yo(u),d);if(u.$$typeof===w)return v(c,l,Ai(c,u),d);Zo(c,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==l&&6===l.tag?(r(c,l.sibling),(d=i(l,u)).return=c,c=d):(r(c,l),(d=zn(u,c.mode,d)).return=c,c=d),s(c)):r(c,l)}return function(e,t,r,n){try{$o=0;var i=v(e,t,r,n);return Ko=null,i}catch(o){if(o===Gi||o===Wi)throw o;var a=Mn(29,o,null,e.mode);return a.lanes=n,a.return=e,a}}}var rs=ts(!0),ns=ts(!1),is=B(null),as=null;function os(e){var t=e.alternate;V(us,1&us.current),V(is,e),null===as&&(null===t||null!==pa.current||null!==t.memoizedState)&&(as=e)}function ss(e){if(22===e.tag){if(V(us,us.current),V(is,e),null===as){var t=e.alternate;null!==t&&null!==t.memoizedState&&(as=e)}}else cs()}function cs(){V(us,us.current),V(is,is.current)}function ls(e){U(is),as===e&&(as=null),U(us)}var us=B(0);function ds(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||yd(r)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function hs(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:h({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ps={enqueueSetState:function(e,t,r){e=e._reactInternals;var n=Fl(),i=ia(n);i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=aa(e,i,n))&&(Ml(t,e,n),oa(t,e,n))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=Fl(),i=ia(n);i.tag=1,i.payload=t,void 0!==r&&null!==r&&(i.callback=r),null!==(t=aa(e,i,n))&&(Ml(t,e,n),oa(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=Fl(),n=ia(r);n.tag=2,void 0!==t&&null!==t&&(n.callback=t),null!==(t=aa(e,n,r))&&(Ml(t,e,r),oa(t,e,r))}};function fs(e,t,r,n,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!Kr(r,n)||!Kr(i,a))}function gs(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ps.enqueueReplaceState(t,t.state,null)}function ys(e,t){var r=t;if("ref"in t)for(var n in r={},t)"ref"!==n&&(r[n]=t[n]);if(e=e.defaultProps)for(var i in r===t&&(r=h({},r)),e)void 0===r[i]&&(r[i]=e[i]);return r}var ms="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vs(e){ms(e)}function bs(e){console.error(e)}function _s(e){ms(e)}function ws(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function xs(e,t,r){try{(0,e.onCaughtError)(r.value,{componentStack:r.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function Ss(e,t,r){return(r=ia(r)).tag=3,r.payload={element:null},r.callback=function(){ws(e,t)},r}function Ts(e){return(e=ia(e)).tag=3,e}function Os(e,t,r,n){var i=r.type.getDerivedStateFromError;if("function"===typeof i){var a=n.value;e.payload=function(){return i(a)},e.callback=function(){xs(t,r,n)}}var o=r.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){xs(t,r,n),"function"!==typeof i&&(null===Tl?Tl=new Set([this]):Tl.add(this));var e=n.stack;this.componentDidCatch(n.value,{componentStack:null!==e?e:""})})}var Es=Error(o(461)),As=!1;function Ps(e,t,r,n){t.child=null===e?ns(t,null,r,n):rs(t,e.child,r,n)}function Ns(e,t,r,n,i){r=r.render;var a=t.ref;if("ref"in n){var o={};for(var s in n)"ref"!==s&&(o[s]=n[s])}else o=n;return Oi(t),n=Da(e,t,r,o,a,i),s=Ca(),null===e||As?(ai&&s&&ti(t),t.flags|=1,Ps(e,t,n,i),t.child):(Ma(e,t,i),Ks(e,t,i))}function js(e,t,r,n,i){if(null===e){var a=r.type;return"function"!==typeof a||kn(a)||void 0!==a.defaultProps||null!==r.compare?((e=Un(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Ds(e,t,a,n,i))}if(a=e.child,!$s(e,i)){var o=a.memoizedProps;if((r=null!==(r=r.compare)?r:Kr)(o,n)&&e.ref===t.ref)return Ks(e,t,i)}return t.flags|=1,(e=Ln(a,n)).ref=t.ref,e.return=t,t.child=e}function Ds(e,t,r,n,i){if(null!==e){var a=e.memoizedProps;if(Kr(a,n)&&e.ref===t.ref){if(As=!1,t.pendingProps=n=a,!$s(e,i))return t.lanes=e.lanes,Ks(e,t,i);0!==(131072&e.flags)&&(As=!0)}}return Cs(e,t,r,n,i)}function Rs(e,t,r){var n=t.pendingProps,i=n.children,a=null!==e?e.memoizedState:null;if("hidden"===n.mode){if(0!==(128&t.flags)){if(n=null!==a?a.baseLanes|r:r,null!==e){for(i=t.child=e.child,a=0;null!==i;)a=a|i.lanes|i.childLanes,i=i.sibling;t.childLanes=a&~n}else t.childLanes=0,t.child=null;return Is(e,t,n,r)}if(0===(536870912&r))return t.lanes=t.childLanes=536870912,Is(e,t,null!==a?a.baseLanes|r:r,r);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qi(0,null!==a?a.cachePool:null),null!==a?ga(t,a):ya(),ss(t)}else null!==a?(qi(0,a.cachePool),ga(t,a),cs(),t.memoizedState=null):(null!==e&&qi(0,null),ya(),cs());return Ps(e,t,i,r),t.child}function Is(e,t,r,n){var i=zi();return i=null===i?null:{parent:Ri._currentValue,pool:i},t.memoizedState={baseLanes:r,cachePool:i},null!==e&&qi(0,null),ya(),ss(t),null!==e&&Si(e,t,n,!0),null}function Fs(e,t){var r=t.ref;if(null===r)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof r&&"object"!==typeof r)throw Error(o(284));null!==e&&e.ref===r||(t.flags|=4194816)}}function Cs(e,t,r,n,i){return Oi(t),r=Da(e,t,r,n,void 0,i),n=Ca(),null===e||As?(ai&&n&&ti(t),t.flags|=1,Ps(e,t,r,i),t.child):(Ma(e,t,i),Ks(e,t,i))}function Ms(e,t,r,n,i,a){return Oi(t),t.updateQueue=null,r=Ia(t,n,r,i),Ra(e),n=Ca(),null===e||As?(ai&&n&&ti(t),t.flags|=1,Ps(e,t,r,a),t.child):(Ma(e,t,a),Ks(e,t,a))}function ks(e,t,r,n,i){if(Oi(t),null===t.stateNode){var a=Fn,o=r.contextType;"object"===typeof o&&null!==o&&(a=Ei(o)),a=new r(n,a),t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,a.updater=ps,t.stateNode=a,a._reactInternals=t,(a=t.stateNode).props=n,a.state=t.memoizedState,a.refs={},ra(t),o=r.contextType,a.context="object"===typeof o&&null!==o?Ei(o):Fn,a.state=t.memoizedState,"function"===typeof(o=r.getDerivedStateFromProps)&&(hs(t,r,o,n),a.state=t.memoizedState),"function"===typeof r.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(o=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),o!==a.state&&ps.enqueueReplaceState(a,a.state,null),ua(t,n,a,i),la(),a.state=t.memoizedState),"function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!0}else if(null===e){a=t.stateNode;var s=t.memoizedProps,c=ys(r,s);a.props=c;var l=a.context,u=r.contextType;o=Fn,"object"===typeof u&&null!==u&&(o=Ei(u));var d=r.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof a.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s||l!==o)&&gs(t,a,n,o),ta=!1;var h=t.memoizedState;a.state=h,ua(t,n,a,i),la(),l=t.memoizedState,s||h!==l||ta?("function"===typeof d&&(hs(t,r,d,n),l=t.memoizedState),(c=ta||fs(t,r,c,n,h,l,o))?(u||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),a.props=n,a.state=l,a.context=o,n=c):("function"===typeof a.componentDidMount&&(t.flags|=4194308),n=!1)}else{a=t.stateNode,na(e,t),u=ys(r,o=t.memoizedProps),a.props=u,d=t.pendingProps,h=a.context,l=r.contextType,c=Fn,"object"===typeof l&&null!==l&&(c=Ei(l)),(l="function"===typeof(s=r.getDerivedStateFromProps)||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==c)&&gs(t,a,n,c),ta=!1,h=t.memoizedState,a.state=h,ua(t,n,a,i),la();var p=t.memoizedState;o!==d||h!==p||ta||null!==e&&null!==e.dependencies&&Ti(e.dependencies)?("function"===typeof s&&(hs(t,r,s,n),p=t.memoizedState),(u=ta||fs(t,r,u,n,h,p,c)||null!==e&&null!==e.dependencies&&Ti(e.dependencies))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(n,p,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(n,p,c)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),a.props=n,a.state=p,a.context=c,n=u):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return a=n,Fs(e,t),n=0!==(128&t.flags),a||n?(a=t.stateNode,r=n&&"function"!==typeof r.getDerivedStateFromError?null:a.render(),t.flags|=1,null!==e&&n?(t.child=rs(t,e.child,null,i),t.child=rs(t,null,r,i)):Ps(e,t,r,i),t.memoizedState=a.state,e=t.child):e=Ks(e,t,i),e}function Ls(e,t,r,n){return pi(),t.flags|=256,Ps(e,t,r,n),t.child}var Bs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Us(e){return{baseLanes:e,cachePool:Qi()}}function Vs(e,t,r){return e=null!==e?e.childLanes&~r:0,t&&(e|=yl),e}function zs(e,t,r){var n,i=t.pendingProps,a=!1,s=0!==(128&t.flags);if((n=s)||(n=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),n&&(a=!0,t.flags&=-129),n=0!==(32&t.flags),t.flags&=-33,null===e){if(ai){if(a?os(t):cs(),ai){var c,l=ii;if(c=l){e:{for(c=l,l=si;8!==c.nodeType;){if(!l){l=null;break e}if(null===(c=md(c.nextSibling))){l=null;break e}}l=c}null!==l?(t.memoizedState={dehydrated:l,treeContext:null!==$n?{id:Yn,overflow:Jn}:null,retryLane:536870912,hydrationErrors:null},(c=Mn(18,null,null,0)).stateNode=l,c.return=t,t.child=c,ni=t,ii=null,c=!0):c=!1}c||li(t)}if(null!==(l=t.memoizedState)&&null!==(l=l.dehydrated))return yd(l)?t.lanes=32:t.lanes=536870912,null;ls(t)}return l=i.children,i=i.fallback,a?(cs(),l=Qs({mode:"hidden",children:l},a=t.mode),i=Vn(i,a,r,null),l.return=t,i.return=t,l.sibling=i,t.child=l,(a=t.child).memoizedState=Us(r),a.childLanes=Vs(e,n,r),t.memoizedState=Bs,i):(os(t),qs(t,l))}if(null!==(c=e.memoizedState)&&null!==(l=c.dehydrated)){if(s)256&t.flags?(os(t),t.flags&=-257,t=Gs(e,t,r)):null!==t.memoizedState?(cs(),t.child=e.child,t.flags|=128,t=null):(cs(),a=i.fallback,l=t.mode,i=Qs({mode:"visible",children:i.children},l),(a=Vn(a,l,r,null)).flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,rs(t,e.child,null,r),(i=t.child).memoizedState=Us(r),i.childLanes=Vs(e,n,r),t.memoizedState=Bs,t=a);else if(os(t),yd(l)){if(n=l.nextSibling&&l.nextSibling.dataset)var u=n.dgst;n=u,(i=Error(o(419))).stack="",i.digest=n,gi({value:i,source:null,stack:null}),t=Gs(e,t,r)}else if(As||Si(e,t,r,!1),n=0!==(r&e.childLanes),As||n){if(null!==(n=nl)&&(0!==(i=0!==((i=0!==(42&(i=r&-r))?1:Pe(i))&(n.suspendedLanes|r))?0:i)&&i!==c.retryLane))throw c.retryLane=i,Dn(e,i),Ml(n,e,i),Es;"$?"===l.data||Wl(),t=Gs(e,t,r)}else"$?"===l.data?(t.flags|=192,t.child=e.child,t=null):(e=c.treeContext,ii=md(l.nextSibling),ni=t,ai=!0,oi=null,si=!1,null!==e&&(Xn[Kn++]=Yn,Xn[Kn++]=Jn,Xn[Kn++]=$n,Yn=e.id,Jn=e.overflow,$n=t),(t=qs(t,i.children)).flags|=4096);return t}return a?(cs(),a=i.fallback,l=t.mode,u=(c=e.child).sibling,(i=Ln(c,{mode:"hidden",children:i.children})).subtreeFlags=65011712&c.subtreeFlags,null!==u?a=Ln(u,a):(a=Vn(a,l,r,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,null===(l=e.child.memoizedState)?l=Us(r):(null!==(c=l.cachePool)?(u=Ri._currentValue,c=c.parent!==u?{parent:u,pool:u}:c):c=Qi(),l={baseLanes:l.baseLanes|r,cachePool:c}),a.memoizedState=l,a.childLanes=Vs(e,n,r),t.memoizedState=Bs,i):(os(t),e=(r=e.child).sibling,(r=Ln(r,{mode:"visible",children:i.children})).return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r)}function qs(e,t){return(t=Qs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Qs(e,t){return(e=Mn(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Gs(e,t,r){return rs(t,e.child,null,r),(e=qs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Hs(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),wi(e.return,t,r)}function Ws(e,t,r,n,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=i)}function Xs(e,t,r){var n=t.pendingProps,i=n.revealOrder,a=n.tail;if(Ps(e,t,n.children,r),0!==(2&(n=us.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Hs(e,r,t);else if(19===e.tag)Hs(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(V(us,n),i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===ds(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Ws(t,!1,i,r,a);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ds(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Ws(t,!0,r,null,a);break;case"together":Ws(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ks(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),pl|=t.lanes,0===(r&t.childLanes)){if(null===e)return null;if(Si(e,t,r,!1),0===(r&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=Ln(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ln(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function $s(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ti(e))}function Ys(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps)As=!0;else{if(!$s(e,r)&&0===(128&t.flags))return As=!1,function(e,t,r){switch(t.tag){case 3:H(t,t.stateNode.containerInfo),bi(0,Ri,e.memoizedState.cache),pi();break;case 27:case 5:X(t);break;case 4:H(t,t.stateNode.containerInfo);break;case 10:bi(0,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(null!==n)return null!==n.dehydrated?(os(t),t.flags|=128,null):0!==(r&t.child.childLanes)?zs(e,t,r):(os(t),null!==(e=Ks(e,t,r))?e.sibling:null);os(t);break;case 19:var i=0!==(128&e.flags);if((n=0!==(r&t.childLanes))||(Si(e,t,r,!1),n=0!==(r&t.childLanes)),i){if(n)return Xs(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(us,us.current),n)break;return null;case 22:case 23:return t.lanes=0,Rs(e,t,r);case 24:bi(0,Ri,e.memoizedState.cache)}return Ks(e,t,r)}(e,t,r);As=0!==(131072&e.flags)}else As=!1,ai&&0!==(1048576&t.flags)&&ei(t,Wn,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,i=n._init;if(n=i(n._payload),t.type=n,"function"!==typeof n){if(void 0!==n&&null!==n){if((i=n.$$typeof)===x){t.tag=11,t=Ns(null,t,n,e,r);break e}if(i===O){t.tag=14,t=js(null,t,n,e,r);break e}}throw t=R(n)||n,Error(o(306,t,""))}kn(n)?(e=ys(n,e),t.tag=1,t=ks(null,t,n,e,r)):(t.tag=0,t=Cs(null,t,n,e,r))}return t;case 0:return Cs(e,t,t.type,t.pendingProps,r);case 1:return ks(e,t,n=t.type,i=ys(n,t.pendingProps),r);case 3:e:{if(H(t,t.stateNode.containerInfo),null===e)throw Error(o(387));n=t.pendingProps;var a=t.memoizedState;i=a.element,na(e,t),ua(t,n,null,r);var s=t.memoizedState;if(n=s.cache,bi(0,Ri,n),n!==a.cache&&xi(t,[Ri],r,!0),la(),n=s.element,a.isDehydrated){if(a={element:n,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Ls(e,t,n,r);break e}if(n!==i){gi(i=Tn(Error(o(424)),t)),t=Ls(e,t,n,r);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=md(e.firstChild),ni=t,ai=!0,oi=null,si=!0,r=ns(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(pi(),n===i){t=Ks(e,t,r);break e}Ps(e,t,n,r)}t=t.child}return t;case 26:return Fs(e,t),null===e?(r=Pd(t.type,null,t.pendingProps,null))?t.memoizedState=r:ai||(r=t.type,e=t.pendingProps,(n=nd(Q.current).createElement(r))[Re]=t,n[Ie]=e,ed(n,r,e),Ge(n),t.stateNode=n):t.memoizedState=Pd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&ai&&(n=t.stateNode=_d(t.type,t.pendingProps,Q.current),ni=t,si=!0,i=ii,pd(t.type)?(vd=i,ii=md(n.firstChild)):ii=i),Ps(e,t,t.pendingProps.children,r),Fs(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&ai&&((i=n=ii)&&(null!==(n=function(e,t,r,n){for(;1===e.nodeType;){var i=r;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(n){if(!e[Be])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(a=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(a!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((a=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&a&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var a=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===a)return e}if(null===(e=md(e.nextSibling)))break}return null}(n,t.type,t.pendingProps,si))?(t.stateNode=n,ni=t,ii=md(n.firstChild),si=!1,i=!0):i=!1),i||li(t)),X(t),i=t.type,a=t.pendingProps,s=null!==e?e.memoizedProps:null,n=a.children,od(i,a)?n=null:null!==s&&od(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=Da(e,t,Fa,null,null,r),Xd._currentValue=i),Fs(e,t),Ps(e,t,n,r),t.child;case 6:return null===e&&ai&&((e=r=ii)&&(null!==(r=function(e,t,r){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!r)return null;if(null===(e=md(e.nextSibling)))return null}return e}(r,t.pendingProps,si))?(t.stateNode=r,ni=t,ii=null,e=!0):e=!1),e||li(t)),null;case 13:return zs(e,t,r);case 4:return H(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=rs(t,null,n,r):Ps(e,t,n,r),t.child;case 11:return Ns(e,t,t.type,t.pendingProps,r);case 7:return Ps(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ps(e,t,t.pendingProps.children,r),t.child;case 10:return n=t.pendingProps,bi(0,t.type,n.value),Ps(e,t,n.children,r),t.child;case 9:return i=t.type._context,n=t.pendingProps.children,Oi(t),n=n(i=Ei(i)),t.flags|=1,Ps(e,t,n,r),t.child;case 14:return js(e,t,t.type,t.pendingProps,r);case 15:return Ds(e,t,t.type,t.pendingProps,r);case 19:return Xs(e,t,r);case 31:return n=t.pendingProps,r=t.mode,n={mode:n.mode,children:n.children},null===e?((r=Qs(n,r)).ref=t.ref,t.child=r,r.return=t,t=r):((r=Ln(e.child,n)).ref=t.ref,t.child=r,r.return=t,t=r),t;case 22:return Rs(e,t,r);case 24:return Oi(t),n=Ei(Ri),null===e?(null===(i=zi())&&(i=nl,a=Ii(),i.pooledCache=a,a.refCount++,null!==a&&(i.pooledCacheLanes|=r),i=a),t.memoizedState={parent:n,cache:i},ra(t),bi(0,Ri,i)):(0!==(e.lanes&r)&&(na(e,t),ua(t,null,null,r),la()),i=e.memoizedState,a=t.memoizedState,i.parent!==n?(i={parent:n,cache:n},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),bi(0,Ri,n)):(n=a.cache,bi(0,Ri,n),n!==i.cache&&xi(t,[Ri],r,!0))),Ps(e,t,t.pendingProps.children,r),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Js(e){e.flags|=4}function Zs(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Vd(t)){if(null!==(t=is.current)&&((4194048&al)===al?null!==as:(62914560&al)!==al&&0===(536870912&al)||t!==as))throw Ji=Xi,Hi;e.flags|=8192}}function ec(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,ml|=t)}function tc(e,t){if(!ai)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function rc(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=65011712&i.subtreeFlags,n|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function nc(e,t,r){var n=t.pendingProps;switch(ri(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return rc(t),null;case 3:return r=t.stateNode,n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),_i(Ri),W(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hi(t)?Js(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fi())),rc(t),null;case 26:return r=t.memoizedState,null===e?(Js(t),null!==r?(rc(t),Zs(t,r)):(rc(t),t.flags&=-16777217)):r?r!==e.memoizedState?(Js(t),rc(t),Zs(t,r)):(rc(t),t.flags&=-16777217):(e.memoizedProps!==n&&Js(t),rc(t),t.flags&=-16777217),null;case 27:K(t),r=Q.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Js(t);else{if(!n){if(null===t.stateNode)throw Error(o(166));return rc(t),null}e=z.current,hi(t)?ui(t):(e=_d(i,n,r),t.stateNode=e,Js(t))}return rc(t),null;case 5:if(K(t),r=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==n&&Js(t);else{if(!n){if(null===t.stateNode)throw Error(o(166));return rc(t),null}if(e=z.current,hi(t))ui(t);else{switch(i=nd(Q.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof n.is?i.createElement("select",{is:n.is}):i.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e="string"===typeof n.is?i.createElement(r,{is:n.is}):i.createElement(r)}}e[Re]=t,e[Ie]=n;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(ed(e,r,n),r){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Js(t)}}return rc(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==n&&Js(t);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));if(e=Q.current,hi(t)){if(e=t.stateNode,r=t.memoizedProps,n=null,null!==(i=ni))switch(i.tag){case 27:case 5:n=i.memoizedProps}e[Re]=t,(e=!!(e.nodeValue===r||null!==n&&!0===n.suppressHydrationWarning||$u(e.nodeValue,r)))||li(t)}else(e=nd(e).createTextNode(n))[Re]=t,t.stateNode=e}return rc(t),null;case 13:if(n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=hi(t),null!==n&&null!==n.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Re]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;rc(t),i=!1}else i=fi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(ls(t),t):(ls(t),null)}if(ls(t),0!==(128&t.flags))return t.lanes=r,t;if(r=null!==n,e=null!==e&&null!==e.memoizedState,r){i=null,null!==(n=t.child).alternate&&null!==n.alternate.memoizedState&&null!==n.alternate.memoizedState.cachePool&&(i=n.alternate.memoizedState.cachePool.pool);var a=null;null!==n.memoizedState&&null!==n.memoizedState.cachePool&&(a=n.memoizedState.cachePool.pool),a!==i&&(n.flags|=2048)}return r!==e&&r&&(t.child.flags|=8192),ec(t,t.updateQueue),rc(t),null;case 4:return W(),null===e&&Uu(t.stateNode.containerInfo),rc(t),null;case 10:return _i(t.type),rc(t),null;case 19:if(U(us),null===(i=t.memoizedState))return rc(t),null;if(n=0!==(128&t.flags),null===(a=i.rendering))if(n)tc(i,!1);else{if(0!==hl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(a=ds(e))){for(t.flags|=128,tc(i,!1),e=a.updateQueue,t.updateQueue=e,ec(t,e),t.subtreeFlags=0,e=r,r=t.child;null!==r;)Bn(r,e),r=r.sibling;return V(us,1&us.current|2),t.child}e=e.sibling}null!==i.tail&&te()>xl&&(t.flags|=128,n=!0,tc(i,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ds(a))){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,ec(t,e),tc(i,!0),null===i.tail&&"hidden"===i.tailMode&&!a.alternate&&!ai)return rc(t),null}else 2*te()-i.renderingStartTime>xl&&536870912!==r&&(t.flags|=128,n=!0,tc(i,!1),t.lanes=4194304);i.isBackwards?(a.sibling=t.child,t.child=a):(null!==(e=i.last)?e.sibling=a:t.child=a,i.last=a)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=us.current,V(us,n?1&e|2:1&e),t):(rc(t),null);case 22:case 23:return ls(t),ma(),n=null!==t.memoizedState,null!==e?null!==e.memoizedState!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?0!==(536870912&r)&&0===(128&t.flags)&&(rc(t),6&t.subtreeFlags&&(t.flags|=8192)):rc(t),null!==(r=t.updateQueue)&&ec(t,r.retryQueue),r=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),n=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(n=t.memoizedState.cachePool.pool),n!==r&&(t.flags|=2048),null!==e&&U(Vi),null;case 24:return r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),_i(Ri),rc(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function ic(e,t){switch(ri(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return _i(Ri),W(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return K(t),null;case 13:if(ls(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return U(us),null;case 4:return W(),null;case 10:return _i(t.type),null;case 22:case 23:return ls(t),ma(),null!==e&&U(Vi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return _i(Ri),null;default:return null}}function ac(e,t){switch(ri(t),t.tag){case 3:_i(Ri),W();break;case 26:case 27:case 5:K(t);break;case 4:W();break;case 13:ls(t);break;case 19:U(us);break;case 10:_i(t.type);break;case 22:case 23:ls(t),ma(),null!==e&&U(Vi);break;case 24:_i(Ri)}}function oc(e,t){try{var r=t.updateQueue,n=null!==r?r.lastEffect:null;if(null!==n){var i=n.next;r=i;do{if((r.tag&e)===e){n=void 0;var a=r.create,o=r.inst;n=a(),o.destroy=n}r=r.next}while(r!==i)}}catch(s){uu(t,t.return,s)}}function sc(e,t,r){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var a=i.next;n=a;do{if((n.tag&e)===e){var o=n.inst,s=o.destroy;if(void 0!==s){o.destroy=void 0,i=t;var c=r,l=s;try{l()}catch(u){uu(i,c,u)}}}n=n.next}while(n!==a)}}catch(u){uu(t,t.return,u)}}function cc(e){var t=e.updateQueue;if(null!==t){var r=e.stateNode;try{ha(t,r)}catch(n){uu(e,e.return,n)}}}function lc(e,t,r){r.props=ys(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(n){uu(e,t,n)}}function uc(e,t){try{var r=e.ref;if(null!==r){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;default:n=e.stateNode}"function"===typeof r?e.refCleanup=r(n):r.current=n}}catch(i){uu(e,t,i)}}function dc(e,t){var r=e.ref,n=e.refCleanup;if(null!==r)if("function"===typeof n)try{n()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof r)try{r(null)}catch(a){uu(e,t,a)}else r.current=null}function hc(e){var t=e.type,r=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break e;case"img":r.src?n.src=r.src:r.srcSet&&(n.srcset=r.srcSet)}}catch(i){uu(e,e.return,i)}}function pc(e,t,r){try{var n=e.stateNode;!function(e,t,r,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,a=null,s=null,c=null,l=null,u=null,d=null;for(f in r){var h=r[f];if(r.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":l=h;default:n.hasOwnProperty(f)||Ju(e,t,f,null,n,h)}}for(var p in n){var f=n[p];if(h=r[p],n.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":a=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":s=f;break;case"defaultValue":c=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:f!==h&&Ju(e,t,p,f,n,h)}}return void yt(e,s,c,l,u,d,a,i);case"select":for(a in f=s=c=p=null,r)if(l=r[a],r.hasOwnProperty(a)&&null!=l)switch(a){case"value":break;case"multiple":f=l;default:n.hasOwnProperty(a)||Ju(e,t,a,null,n,l)}for(i in n)if(a=n[i],l=r[i],n.hasOwnProperty(i)&&(null!=a||null!=l))switch(i){case"value":p=a;break;case"defaultValue":c=a;break;case"multiple":s=a;default:a!==l&&Ju(e,t,i,a,n,l)}return t=c,r=s,n=f,void(null!=p?bt(e,!!r,p,!1):!!n!==!!r&&(null!=t?bt(e,!!r,t,!0):bt(e,!!r,r?[]:"",!1)));case"textarea":for(c in f=p=null,r)if(i=r[c],r.hasOwnProperty(c)&&null!=i&&!n.hasOwnProperty(c))switch(c){case"value":case"children":break;default:Ju(e,t,c,null,n,i)}for(s in n)if(i=n[s],a=r[s],n.hasOwnProperty(s)&&(null!=i||null!=a))switch(s){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==a&&Ju(e,t,s,i,n,a)}return void _t(e,p,f);case"option":for(var g in r)if(p=r[g],r.hasOwnProperty(g)&&null!=p&&!n.hasOwnProperty(g))if("selected"===g)e.selected=!1;else Ju(e,t,g,null,n,p);for(l in n)if(p=n[l],f=r[l],n.hasOwnProperty(l)&&p!==f&&(null!=p||null!=f))if("selected"===l)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Ju(e,t,l,p,n,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var y in r)p=r[y],r.hasOwnProperty(y)&&null!=p&&!n.hasOwnProperty(y)&&Ju(e,t,y,null,n,p);for(u in n)if(p=n[u],f=r[u],n.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:Ju(e,t,u,p,n,f)}return;default:if(Et(t)){for(var m in r)p=r[m],r.hasOwnProperty(m)&&void 0!==p&&!n.hasOwnProperty(m)&&Zu(e,t,m,void 0,n,p);for(d in n)p=n[d],f=r[d],!n.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||Zu(e,t,d,p,n,f);return}}for(var v in r)p=r[v],r.hasOwnProperty(v)&&null!=p&&!n.hasOwnProperty(v)&&Ju(e,t,v,null,n,p);for(h in n)p=n[h],f=r[h],!n.hasOwnProperty(h)||p===f||null==p&&null==f||Ju(e,t,h,p,n,f)}(n,e.type,r,t),n[Ie]=t}catch(i){uu(e,e.return,i)}}function fc(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function gc(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function yc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?(9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).insertBefore(e,t):((t=9===r.nodeType?r.body:"HTML"===r.nodeName?r.ownerDocument.body:r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Yu));else if(4!==n&&(27===n&&pd(e.type)&&(r=e.stateNode,t=null),null!==(e=e.child)))for(yc(e,t,r),e=e.sibling;null!==e;)yc(e,t,r),e=e.sibling}function mc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&(27===n&&pd(e.type)&&(r=e.stateNode),null!==(e=e.child)))for(mc(e,t,r),e=e.sibling;null!==e;)mc(e,t,r),e=e.sibling}function vc(e){var t=e.stateNode,r=e.memoizedProps;try{for(var n=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ed(t,n,r),t[Re]=e,t[Ie]=r}catch(a){uu(e,e.return,a)}}var bc=!1,_c=!1,wc=!1,xc="function"===typeof WeakSet?WeakSet:Set,Sc=null;function Tc(e,t,r){var n=r.flags;switch(r.tag){case 0:case 11:case 15:kc(e,r),4&n&&oc(5,r);break;case 1:if(kc(e,r),4&n)if(e=r.stateNode,null===t)try{e.componentDidMount()}catch(o){uu(r,r.return,o)}else{var i=ys(r.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(r,r.return,s)}}64&n&&cc(r),512&n&&uc(r,r.return);break;case 3:if(kc(e,r),64&n&&null!==(e=r.updateQueue)){if(t=null,null!==r.child)switch(r.child.tag){case 27:case 5:case 1:t=r.child.stateNode}try{ha(e,t)}catch(o){uu(r,r.return,o)}}break;case 27:null===t&&4&n&&vc(r);case 26:case 5:kc(e,r),null===t&&4&n&&hc(r),512&n&&uc(r,r.return);break;case 12:kc(e,r);break;case 13:kc(e,r),4&n&&jc(e,r),64&n&&(null!==(e=r.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var r=e.ownerDocument;if("$?"!==e.data||"complete"===r.readyState)t();else{var n=function(){t(),r.removeEventListener("DOMContentLoaded",n)};r.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}(e,r=fu.bind(null,r))));break;case 22:if(!(n=null!==r.memoizedState||bc)){t=null!==t&&null!==t.memoizedState||_c,i=bc;var a=_c;bc=n,(_c=t)&&!a?Bc(e,r,0!==(8772&r.subtreeFlags)):kc(e,r),bc=i,_c=a}break;case 30:break;default:kc(e,r)}}function Oc(e){var t=e.alternate;null!==t&&(e.alternate=null,Oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ue(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Ec=null,Ac=!1;function Pc(e,t,r){for(r=r.child;null!==r;)Nc(e,t,r),r=r.sibling}function Nc(e,t,r){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,r)}catch(a){}switch(r.tag){case 26:_c||dc(r,t),Pc(e,t,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode).parentNode.removeChild(r);break;case 27:_c||dc(r,t);var n=Ec,i=Ac;pd(r.type)&&(Ec=r.stateNode,Ac=!1),Pc(e,t,r),wd(r.stateNode),Ec=n,Ac=i;break;case 5:_c||dc(r,t);case 6:if(n=Ec,i=Ac,Ec=null,Pc(e,t,r),Ac=i,null!==(Ec=n))if(Ac)try{(9===Ec.nodeType?Ec.body:"HTML"===Ec.nodeName?Ec.ownerDocument.body:Ec).removeChild(r.stateNode)}catch(o){uu(r,t,o)}else try{Ec.removeChild(r.stateNode)}catch(o){uu(r,t,o)}break;case 18:null!==Ec&&(Ac?(fd(9===(e=Ec).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,r.stateNode),Ah(e)):fd(Ec,r.stateNode));break;case 4:n=Ec,i=Ac,Ec=r.stateNode.containerInfo,Ac=!0,Pc(e,t,r),Ec=n,Ac=i;break;case 0:case 11:case 14:case 15:_c||sc(2,r,t),_c||sc(4,r,t),Pc(e,t,r);break;case 1:_c||(dc(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount&&lc(r,t,n)),Pc(e,t,r);break;case 21:Pc(e,t,r);break;case 22:_c=(n=_c)||null!==r.memoizedState,Pc(e,t,r),_c=n;break;default:Pc(e,t,r)}}function jc(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Ah(e)}catch(r){uu(t,t.return,r)}}function Dc(e,t){var r=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new xc),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new xc),t;default:throw Error(o(435,e.tag))}}(e);t.forEach(function(t){var n=gu.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))})}function Rc(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n],a=e,s=t,c=s;e:for(;null!==c;){switch(c.tag){case 27:if(pd(c.type)){Ec=c.stateNode,Ac=!1;break e}break;case 5:Ec=c.stateNode,Ac=!1;break e;case 3:case 4:Ec=c.stateNode.containerInfo,Ac=!0;break e}c=c.return}if(null===Ec)throw Error(o(160));Nc(a,s,i),Ec=null,Ac=!1,null!==(a=i.alternate)&&(a.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Fc(t,e),t=t.sibling}var Ic=null;function Fc(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Rc(t,e),Cc(e),4&n&&(sc(3,e,e.return),oc(3,e),sc(5,e,e.return));break;case 1:Rc(t,e),Cc(e),512&n&&(_c||null===r||dc(r,r.return)),64&n&&bc&&(null!==(e=e.updateQueue)&&(null!==(n=e.callbacks)&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===r?n:r.concat(n))));break;case 26:var i=Ic;if(Rc(t,e),Cc(e),512&n&&(_c||null===r||dc(r,r.return)),4&n){var a=null!==r?r.memoizedState:null;if(n=e.memoizedState,null===r)if(null===n)if(null===e.stateNode){e:{n=e.type,r=e.memoizedProps,i=i.ownerDocument||i;t:switch(n){case"title":(!(a=i.getElementsByTagName("title")[0])||a[Be]||a[Re]||"http://www.w3.org/2000/svg"===a.namespaceURI||a.hasAttribute("itemprop"))&&(a=i.createElement(n),i.head.insertBefore(a,i.querySelector("head > title"))),ed(a,n,r),a[Re]=e,Ge(a),n=a;break e;case"link":var s=Bd("link","href",i).get(n+(r.href||""));if(s)for(var c=0;c<s.length;c++)if((a=s[c]).getAttribute("href")===(null==r.href||""===r.href?null:r.href)&&a.getAttribute("rel")===(null==r.rel?null:r.rel)&&a.getAttribute("title")===(null==r.title?null:r.title)&&a.getAttribute("crossorigin")===(null==r.crossOrigin?null:r.crossOrigin)){s.splice(c,1);break t}ed(a=i.createElement(n),n,r),i.head.appendChild(a);break;case"meta":if(s=Bd("meta","content",i).get(n+(r.content||"")))for(c=0;c<s.length;c++)if((a=s[c]).getAttribute("content")===(null==r.content?null:""+r.content)&&a.getAttribute("name")===(null==r.name?null:r.name)&&a.getAttribute("property")===(null==r.property?null:r.property)&&a.getAttribute("http-equiv")===(null==r.httpEquiv?null:r.httpEquiv)&&a.getAttribute("charset")===(null==r.charSet?null:r.charSet)){s.splice(c,1);break t}ed(a=i.createElement(n),n,r),i.head.appendChild(a);break;default:throw Error(o(468,n))}a[Re]=e,Ge(a),n=a}e.stateNode=n}else Ud(i,e.type,e.stateNode);else e.stateNode=Fd(i,n,e.memoizedProps);else a!==n?(null===a?null!==r.stateNode&&(r=r.stateNode).parentNode.removeChild(r):a.count--,null===n?Ud(i,e.type,e.stateNode):Fd(i,n,e.memoizedProps)):null===n&&null!==e.stateNode&&pc(e,e.memoizedProps,r.memoizedProps)}break;case 27:Rc(t,e),Cc(e),512&n&&(_c||null===r||dc(r,r.return)),null!==r&&4&n&&pc(e,e.memoizedProps,r.memoizedProps);break;case 5:if(Rc(t,e),Cc(e),512&n&&(_c||null===r||dc(r,r.return)),32&e.flags){i=e.stateNode;try{xt(i,"")}catch(f){uu(e,e.return,f)}}4&n&&null!=e.stateNode&&pc(e,i=e.memoizedProps,null!==r?r.memoizedProps:i),1024&n&&(wc=!0);break;case 6:if(Rc(t,e),Cc(e),4&n){if(null===e.stateNode)throw Error(o(162));n=e.memoizedProps,r=e.stateNode;try{r.nodeValue=n}catch(f){uu(e,e.return,f)}}break;case 3:if(Ld=null,i=Ic,Ic=Td(t.containerInfo),Rc(t,e),Ic=i,Cc(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Ah(t.containerInfo)}catch(f){uu(e,e.return,f)}wc&&(wc=!1,Mc(e));break;case 4:n=Ic,Ic=Td(e.stateNode.containerInfo),Rc(t,e),Cc(e),Ic=n;break;case 12:default:Rc(t,e),Cc(e);break;case 13:Rc(t,e),Cc(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==r&&null!==r.memoizedState)&&(wl=te()),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Dc(e,n)));break;case 22:i=null!==e.memoizedState;var l=null!==r&&null!==r.memoizedState,u=bc,d=_c;if(bc=u||i,_c=d||l,Rc(t,e),_c=d,bc=u,Cc(e),8192&n)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===r||l||bc||_c||Lc(e)),r=null,t=e;;){if(5===t.tag||26===t.tag){if(null===r){l=r=t;try{if(a=l.stateNode,i)"function"===typeof(s=a.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{c=l.stateNode;var h=l.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;c.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){uu(l,l.return,f)}}}else if(6===t.tag){if(null===r){l=t;try{l.stateNode.nodeValue=i?"":l.memoizedProps}catch(f){uu(l,l.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;r===t&&(r=null),t=t.return}r===t&&(r=null),t.sibling.return=t.return,t=t.sibling}4&n&&(null!==(n=e.updateQueue)&&(null!==(r=n.retryQueue)&&(n.retryQueue=null,Dc(e,r))));break;case 19:Rc(t,e),Cc(e),4&n&&(null!==(n=e.updateQueue)&&(e.updateQueue=null,Dc(e,n)));case 30:case 21:}}function Cc(e){var t=e.flags;if(2&t){try{for(var r,n=e.return;null!==n;){if(fc(n)){r=n;break}n=n.return}if(null==r)throw Error(o(160));switch(r.tag){case 27:var i=r.stateNode;mc(e,gc(e),i);break;case 5:var a=r.stateNode;32&r.flags&&(xt(a,""),r.flags&=-33),mc(e,gc(e),a);break;case 3:case 4:var s=r.stateNode.containerInfo;yc(e,gc(e),s);break;default:throw Error(o(161))}}catch(c){uu(e,e.return,c)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Mc(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Mc(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function kc(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)Tc(e,t.alternate,t),t=t.sibling}function Lc(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sc(4,t,t.return),Lc(t);break;case 1:dc(t,t.return);var r=t.stateNode;"function"===typeof r.componentWillUnmount&&lc(t,t.return,r),Lc(t);break;case 27:wd(t.stateNode);case 26:case 5:dc(t,t.return),Lc(t);break;case 22:null===t.memoizedState&&Lc(t);break;default:Lc(t)}e=e.sibling}}function Bc(e,t,r){for(r=r&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var n=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:Bc(i,a,r),oc(4,a);break;case 1:if(Bc(i,a,r),"function"===typeof(i=(n=a).stateNode).componentDidMount)try{i.componentDidMount()}catch(l){uu(n,n.return,l)}if(null!==(i=(n=a).updateQueue)){var s=n.stateNode;try{var c=i.shared.hiddenCallbacks;if(null!==c)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)da(c[i],s)}catch(l){uu(n,n.return,l)}}r&&64&o&&cc(a),uc(a,a.return);break;case 27:vc(a);case 26:case 5:Bc(i,a,r),r&&null===n&&4&o&&hc(a),uc(a,a.return);break;case 12:Bc(i,a,r);break;case 13:Bc(i,a,r),r&&4&o&&jc(i,a);break;case 22:null===a.memoizedState&&Bc(i,a,r),uc(a,a.return);break;case 30:break;default:Bc(i,a,r)}t=t.sibling}}function Uc(e,t){var r=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(r=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==r&&(null!=e&&e.refCount++,null!=r&&Fi(r))}function Vc(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fi(e))}function zc(e,t,r,n){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)qc(e,t,r,n),t=t.sibling}function qc(e,t,r,n){var i=t.flags;switch(t.tag){case 0:case 11:case 15:zc(e,t,r,n),2048&i&&oc(9,t);break;case 1:case 13:default:zc(e,t,r,n);break;case 3:zc(e,t,r,n),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Fi(e)));break;case 12:if(2048&i){zc(e,t,r,n),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;"function"===typeof s&&s(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(c){uu(t,t.return,c)}}else zc(e,t,r,n);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,null!==t.memoizedState?2&a._visibility?zc(e,t,r,n):Gc(e,t):2&a._visibility?zc(e,t,r,n):(a._visibility|=2,Qc(e,t,r,n,0!==(10256&t.subtreeFlags))),2048&i&&Uc(o,t);break;case 24:zc(e,t,r,n),2048&i&&Vc(t.alternate,t)}}function Qc(e,t,r,n,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var a=e,o=t,s=r,c=n,l=o.flags;switch(o.tag){case 0:case 11:case 15:Qc(a,o,s,c,i),oc(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Qc(a,o,s,c,i):Gc(a,o):(u._visibility|=2,Qc(a,o,s,c,i)),i&&2048&l&&Uc(o.alternate,o);break;case 24:Qc(a,o,s,c,i),i&&2048&l&&Vc(o.alternate,o);break;default:Qc(a,o,s,c,i)}t=t.sibling}}function Gc(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var r=e,n=t,i=n.flags;switch(n.tag){case 22:Gc(r,n),2048&i&&Uc(n.alternate,n);break;case 24:Gc(r,n),2048&i&&Vc(n.alternate,n);break;default:Gc(r,n)}t=t.sibling}}var Hc=8192;function Wc(e){if(e.subtreeFlags&Hc)for(e=e.child;null!==e;)Xc(e),e=e.sibling}function Xc(e){switch(e.tag){case 26:Wc(e),e.flags&Hc&&null!==e.memoizedState&&function(e,t,r){if(null===zd)throw Error(o(475));var n=zd;if("stylesheet"===t.type&&("string"!==typeof r.media||!1!==matchMedia(r.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Nd(r.href),a=e.querySelector(jd(i));if(a)return null!==(e=a._p)&&"object"===typeof e&&"function"===typeof e.then&&(n.count++,n=Qd.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=a,void Ge(a);a=e.ownerDocument||e,r=Dd(r),(i=xd.get(i))&&Md(r,i),Ge(a=a.createElement("link"));var s=a;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(a,"link",r),t.instance=a}null===n.stylesheets&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(n.count++,t=Qd.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ic,e.memoizedState,e.memoizedProps);break;case 5:default:Wc(e);break;case 3:case 4:var t=Ic;Ic=Td(e.stateNode.containerInfo),Wc(e),Ic=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Hc,Hc=16777216,Wc(e),Hc=t):Wc(e))}}function Kc(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function $c(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Sc=n,Zc(n,e)}Kc(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Yc(e),e=e.sibling}function Yc(e){switch(e.tag){case 0:case 11:case 15:$c(e),2048&e.flags&&sc(9,e,e.return);break;case 3:case 12:default:$c(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Jc(e)):$c(e)}}function Jc(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var r=0;r<t.length;r++){var n=t[r];Sc=n,Zc(n,e)}Kc(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sc(8,t,t.return),Jc(t);break;case 22:2&(r=t.stateNode)._visibility&&(r._visibility&=-3,Jc(t));break;default:Jc(t)}e=e.sibling}}function Zc(e,t){for(;null!==Sc;){var r=Sc;switch(r.tag){case 0:case 11:case 15:sc(8,r,t);break;case 23:case 22:if(null!==r.memoizedState&&null!==r.memoizedState.cachePool){var n=r.memoizedState.cachePool.pool;null!=n&&n.refCount++}break;case 24:Fi(r.memoizedState.cache)}if(null!==(n=r.child))n.return=r,Sc=n;else e:for(r=e;null!==Sc;){var i=(n=Sc).sibling,a=n.return;if(Oc(n),n===r){Sc=null;break e}if(null!==i){i.return=a,Sc=i;break e}Sc=a}}}var el={getCacheForType:function(e){var t=Ei(Ri),r=t.data.get(e);return void 0===r&&(r=e(),t.data.set(e,r)),r}},tl="function"===typeof WeakMap?WeakMap:Map,rl=0,nl=null,il=null,al=0,ol=0,sl=null,cl=!1,ll=!1,ul=!1,dl=0,hl=0,pl=0,fl=0,gl=0,yl=0,ml=0,vl=null,bl=null,_l=!1,wl=0,xl=1/0,Sl=null,Tl=null,Ol=0,El=null,Al=null,Pl=0,Nl=0,jl=null,Dl=null,Rl=0,Il=null;function Fl(){if(0!==(2&rl)&&0!==al)return al&-al;if(null!==F.T){return 0!==ki?ki:Nu()}return je()}function Cl(){0===yl&&(yl=0===(536870912&al)||ai?xe():536870912);var e=is.current;return null!==e&&(e.flags|=32),yl}function Ml(e,t,r){(e!==nl||2!==ol&&9!==ol)&&null===e.cancelPendingCommit||(ql(e,0),Ul(e,al,yl,!1)),Oe(e,r),0!==(2&rl)&&e===nl||(e===nl&&(0===(2&rl)&&(fl|=r),4===hl&&Ul(e,al,yl,!1)),xu(e))}function kl(e,t,r){if(0!==(6&rl))throw Error(o(327));for(var n=!r&&0===(124&t)&&0===(t&e.expiredLanes)||_e(e,t),i=n?function(e,t){var r=rl;rl|=2;var n=Gl(),i=Hl();nl!==e||al!==t?(Sl=null,xl=te()+500,ql(e,t)):ll=_e(e,t);e:for(;;)try{if(0!==ol&&null!==il){t=il;var a=sl;t:switch(ol){case 1:ol=0,sl=null,Zl(e,t,a,1);break;case 2:case 9:if(Ki(a)){ol=0,sl=null,Jl(t);break}t=function(){2!==ol&&9!==ol||nl!==e||(ol=7),xu(e)},a.then(t,t);break e;case 3:ol=7;break e;case 4:ol=5;break e;case 7:Ki(a)?(ol=0,sl=null,Jl(t)):(ol=0,sl=null,Zl(e,t,a,7));break;case 5:var s=null;switch(il.tag){case 26:s=il.memoizedState;case 5:case 27:var c=il;if(!s||Vd(s)){ol=0,sl=null;var l=c.sibling;if(null!==l)il=l;else{var u=c.return;null!==u?(il=u,eu(u)):il=null}break t}}ol=0,sl=null,Zl(e,t,a,5);break;case 6:ol=0,sl=null,Zl(e,t,a,6);break;case 8:zl(),hl=6;break e;default:throw Error(o(462))}}$l();break}catch(d){Ql(e,d)}return vi=mi=null,F.H=n,F.A=i,rl=r,null!==il?0:(nl=null,al=0,Pn(),hl)}(e,t):Xl(e,t,!0),a=n;;){if(0===i){ll&&!n&&Ul(e,t,0,!1);break}if(r=e.current.alternate,!a||Bl(r)){if(2===i){if(a=t,e.errorRecoveryDisabledLanes&a)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var c=e;i=vl;var l=c.current.memoizedState.isDehydrated;if(l&&(ql(c,s).flags|=256),2!==(s=Xl(c,s,!1))){if(ul&&!l){c.errorRecoveryDisabledLanes|=a,fl|=a,i=4;break e}a=bl,bl=i,null!==a&&(null===bl?bl=a:bl.push.apply(bl,a))}i=s}if(a=!1,2!==i)continue}}if(1===i){ql(e,0),Ul(e,t,0,!0);break}e:{switch(n=e,a=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Ul(n,t,yl,!cl);break e;case 2:bl=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=wl+300-te())){if(Ul(n,t,yl,!cl),0!==be(n,0,!0))break e;n.timeoutHandle=cd(Ll.bind(null,n,r,bl,Sl,_l,t,yl,fl,ml,cl,a,2,-0,0),i)}else Ll(n,r,bl,Sl,_l,t,yl,fl,ml,cl,a,0,-0,0)}break}i=Xl(e,t,!1),a=!1}xu(e)}function Ll(e,t,r,n,i,a,s,c,l,u,d,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(zd={stylesheets:null,count:0,unsuspend:qd},Xc(t),null!==(h=function(){if(null===zd)throw Error(o(475));var e=zd;return e.stylesheets&&0===e.count&&Hd(e,e.stylesheets),0<e.count?function(t){var r=setTimeout(function(){if(e.stylesheets&&Hd(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(r)}}:null}())))return e.cancelPendingCommit=h(ru.bind(null,e,t,a,r,n,i,s,c,l,d,1,p,f)),void Ul(e,a,s,!u);ru(e,t,a,r,n,i,s,c,l)}function Bl(e){for(var t=e;;){var r=t.tag;if((0===r||11===r||15===r)&&16384&t.flags&&(null!==(r=t.updateQueue)&&null!==(r=r.stores)))for(var n=0;n<r.length;n++){var i=r[n],a=i.getSnapshot;i=i.value;try{if(!Xr(a(),i))return!1}catch(o){return!1}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ul(e,t,r,n){t&=~gl,t&=~fl,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var i=t;0<i;){var a=31-pe(i),o=1<<a;n[a]=-1,i&=~o}0!==r&&Ee(e,r,t)}function Vl(){return 0!==(6&rl)||(Su(0,!1),!1)}function zl(){if(null!==il){if(0===ol)var e=il.return;else vi=mi=null,ka(e=il),Ko=null,$o=0,e=il;for(;null!==e;)ac(e.alternate,e),e=e.return;il=null}}function ql(e,t){var r=e.timeoutHandle;-1!==r&&(e.timeoutHandle=-1,ld(r)),null!==(r=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,r()),zl(),nl=e,il=r=Ln(e.current,null),al=t,ol=0,sl=null,cl=!1,ll=_e(e,t),ul=!1,ml=yl=gl=fl=pl=hl=0,bl=vl=null,_l=!1,0!==(8&t)&&(t|=32&t);var n=e.entangledLanes;if(0!==n)for(e=e.entanglements,n&=t;0<n;){var i=31-pe(n),a=1<<i;t|=e[i],n&=~a}return dl=t,Pn(),r}function Ql(e,t){ba=null,F.H=Go,t===Gi||t===Wi?(t=Zi(),ol=3):t===Hi?(t=Zi(),ol=4):ol=t===Es?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sl=t,null===il&&(hl=1,ws(e,Tn(t,e.current)))}function Gl(){var e=F.H;return F.H=Go,null===e?Go:e}function Hl(){var e=F.A;return F.A=el,e}function Wl(){hl=4,cl||(4194048&al)!==al&&null!==is.current||(ll=!0),0===(134217727&pl)&&0===(134217727&fl)||null===nl||Ul(nl,al,yl,!1)}function Xl(e,t,r){var n=rl;rl|=2;var i=Gl(),a=Hl();nl===e&&al===t||(Sl=null,ql(e,t)),t=!1;var o=hl;e:for(;;)try{if(0!==ol&&null!==il){var s=il,c=sl;switch(ol){case 8:zl(),o=6;break e;case 3:case 2:case 9:case 6:null===is.current&&(t=!0);var l=ol;if(ol=0,sl=null,Zl(e,s,c,l),r&&ll){o=0;break e}break;default:l=ol,ol=0,sl=null,Zl(e,s,c,l)}}Kl(),o=hl;break}catch(u){Ql(e,u)}return t&&e.shellSuspendCounter++,vi=mi=null,rl=n,F.H=i,F.A=a,null===il&&(nl=null,al=0,Pn()),o}function Kl(){for(;null!==il;)Yl(il)}function $l(){for(;null!==il&&!Z();)Yl(il)}function Yl(e){var t=Ys(e.alternate,e,dl);e.memoizedProps=e.pendingProps,null===t?eu(e):il=t}function Jl(e){var t=e,r=t.alternate;switch(t.tag){case 15:case 0:t=Ms(r,t,t.pendingProps,t.type,void 0,al);break;case 11:t=Ms(r,t,t.pendingProps,t.type.render,t.ref,al);break;case 5:ka(t);default:ac(r,t),t=Ys(r,t=il=Bn(t,dl),dl)}e.memoizedProps=e.pendingProps,null===t?eu(e):il=t}function Zl(e,t,r,n){vi=mi=null,ka(t),Ko=null,$o=0;var i=t.return;try{if(function(e,t,r,n,i){if(r.flags|=32768,null!==n&&"object"===typeof n&&"function"===typeof n.then){if(null!==(t=r.alternate)&&Si(t,r,i,!0),null!==(r=is.current)){switch(r.tag){case 13:return null===as?Wl():null===r.alternate&&0===hl&&(hl=3),r.flags&=-257,r.flags|=65536,r.lanes=i,n===Xi?r.flags|=16384:(null===(t=r.updateQueue)?r.updateQueue=new Set([n]):t.add(n),du(e,n,i)),!1;case 22:return r.flags|=65536,n===Xi?r.flags|=16384:(null===(t=r.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},r.updateQueue=t):null===(r=t.retryQueue)?t.retryQueue=new Set([n]):r.add(n),du(e,n,i)),!1}throw Error(o(435,r.tag))}return du(e,n,i),Wl(),!1}if(ai)return null!==(t=is.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,n!==ci&&gi(Tn(e=Error(o(422),{cause:n}),r))):(n!==ci&&gi(Tn(t=Error(o(423),{cause:n}),r)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,n=Tn(n,r),sa(e,i=Ss(e.stateNode,n,i)),4!==hl&&(hl=2)),!1;var a=Error(o(520),{cause:n});if(a=Tn(a,r),null===vl?vl=[a]:vl.push(a),4!==hl&&(hl=2),null===t)return!0;n=Tn(n,r),r=t;do{switch(r.tag){case 3:return r.flags|=65536,e=i&-i,r.lanes|=e,sa(r,e=Ss(r.stateNode,n,e)),!1;case 1:if(t=r.type,a=r.stateNode,0===(128&r.flags)&&("function"===typeof t.getDerivedStateFromError||null!==a&&"function"===typeof a.componentDidCatch&&(null===Tl||!Tl.has(a))))return r.flags|=65536,i&=-i,r.lanes|=i,Os(i=Ts(i),e,r,n),sa(r,i),!1}r=r.return}while(null!==r);return!1}(e,i,t,r,al))return hl=1,ws(e,Tn(r,e.current)),void(il=null)}catch(a){if(null!==i)throw il=i,a;return hl=1,ws(e,Tn(r,e.current)),void(il=null)}32768&t.flags?(ai||1===n?e=!0:ll||0!==(536870912&al)?e=!1:(cl=e=!0,(2===n||9===n||3===n||6===n)&&(null!==(n=is.current)&&13===n.tag&&(n.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,cl);e=t.return;var r=nc(t.alternate,t,dl);if(null!==r)return void(il=r);if(null!==(t=t.sibling))return void(il=t);il=t=e}while(null!==t);0===hl&&(hl=5)}function tu(e,t){do{var r=ic(e.alternate,e);if(null!==r)return r.flags&=32767,void(il=r);if(null!==(r=e.return)&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!t&&null!==(e=e.sibling))return void(il=e);il=e=r}while(null!==e);hl=6,il=null}function ru(e,t,r,n,i,a,s,c,l){e.cancelPendingCommit=null;do{su()}while(0!==Ol);if(0!==(6&rl))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(a=t.lanes|t.childLanes,function(e,t,r,n,i,a){var o=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(r=o&~r;0<r;){var u=31-pe(r),d=1<<u;s[u]=0,c[u]=-1;var h=l[u];if(null!==h)for(l[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}r&=~d}0!==n&&Ee(e,n,0),0!==a&&0===i&&0!==e.tag&&(e.suspendedLanes|=a&~(o&~t))}(e,r,a|=An,s,c,l),e===nl&&(il=nl=null,al=0),Al=t,El=e,Pl=r,Nl=a,jl=i,Dl=n,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Y(ae,function(){return cu(),null})):(e.callbackNode=null,e.callbackPriority=0),n=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||n){n=F.T,F.T=null,i=C.p,C.p=2,s=rl,rl|=4;try{!function(e,t){if(e=e.containerInfo,td=rh,en(e=Zr(e))){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch(y){r=null;break e}var s=0,c=-1,l=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==r||0!==i&&3!==h.nodeType||(c=s+i),h!==a||0!==n&&3!==h.nodeType||(l=s+n),3===h.nodeType&&(s+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===r&&++u===i&&(c=s),p===a&&++d===n&&(l=s),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}r=-1===c||-1===l?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(rd={focusedElem:e,selectionRange:r},rh=!1,Sc=t;null!==Sc;)if(e=(t=Sc).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sc=e;else for(;null!==Sc;){switch(a=(t=Sc).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==a){e=void 0,r=t,i=a.memoizedProps,a=a.memoizedState,n=r.stateNode;try{var g=ys(r.type,i,(r.elementType,r.type));e=n.getSnapshotBeforeUpdate(g,a),n.__reactInternalSnapshotBeforeUpdate=e}catch(m){uu(r,r.return,m)}}break;case 3:if(0!==(1024&e))if(9===(r=(e=t.stateNode.containerInfo).nodeType))gd(e);else if(1===r)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Sc=e;break}Sc=t.return}}(e,t)}finally{rl=s,C.p=i,F.T=n}}Ol=1,nu(),iu(),au()}}function nu(){if(1===Ol){Ol=0;var e=El,t=Al,r=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||r){r=F.T,F.T=null;var n=C.p;C.p=2;var i=rl;rl|=4;try{Fc(t,e);var a=rd,o=Zr(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&Jr(s.ownerDocument.documentElement,s)){if(null!==c&&en(s)){var l=c.start,u=c.end;if(void 0===u&&(u=l),"selectionStart"in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=s.textContent.length,g=Math.min(c.start,f),y=void 0===c.end?g:Math.min(c.end,f);!p.extend&&g>y&&(o=y,y=g,g=o);var m=Yr(s,g),v=Yr(s,y);if(m&&v&&(1!==p.rangeCount||p.anchorNode!==m.node||p.anchorOffset!==m.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var b=d.createRange();b.setStart(m.node,m.offset),p.removeAllRanges(),g>y?(p.addRange(b),p.extend(v.node,v.offset)):(b.setEnd(v.node,v.offset),p.addRange(b))}}}}for(d=[],p=s;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<d.length;s++){var _=d[s];_.element.scrollLeft=_.left,_.element.scrollTop=_.top}}rh=!!td,rd=td=null}finally{rl=i,C.p=n,F.T=r}}e.current=t,Ol=2}}function iu(){if(2===Ol){Ol=0;var e=El,t=Al,r=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||r){r=F.T,F.T=null;var n=C.p;C.p=2;var i=rl;rl|=4;try{Tc(e,t.alternate,t)}finally{rl=i,C.p=n,F.T=r}}Ol=3}}function au(){if(4===Ol||3===Ol){Ol=0,ee();var e=El,t=Al,r=Pl,n=Dl;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ol=5:(Ol=0,Al=El=null,ou(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Tl=null),Ne(r),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(c){}if(null!==n){t=F.T,i=C.p,C.p=2,F.T=null;try{for(var a=e.onRecoverableError,o=0;o<n.length;o++){var s=n[o];a(s.value,{componentStack:s.stack})}}finally{F.T=t,C.p=i}}0!==(3&Pl)&&su(),xu(e),i=e.pendingLanes,0!==(4194090&r)&&0!==(42&i)?e===Il?Rl++:(Rl=0,Il=e):Rl=0,Su(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Fi(t)))}function su(e){return nu(),iu(),au(),cu()}function cu(){if(5!==Ol)return!1;var e=El,t=Nl;Nl=0;var r=Ne(Pl),n=F.T,i=C.p;try{C.p=32>r?32:r,F.T=null,r=jl,jl=null;var a=El,s=Pl;if(Ol=0,Al=El=null,Pl=0,0!==(6&rl))throw Error(o(331));var c=rl;if(rl|=4,Yc(a.current),qc(a,a.current,s,r),rl=c,Su(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,a)}catch(l){}return!0}finally{C.p=i,F.T=n,ou(e,t)}}function lu(e,t,r){t=Tn(r,t),null!==(e=aa(e,t=Ss(e.stateNode,t,2),2))&&(Oe(e,2),xu(e))}function uu(e,t,r){if(3===e.tag)lu(e,e,r);else for(;null!==t;){if(3===t.tag){lu(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Tl||!Tl.has(n))){e=Tn(r,e),null!==(n=aa(t,r=Ts(2),2))&&(Os(r,n,t,e),Oe(n,2),xu(n));break}}t=t.return}}function du(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new tl;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(ul=!0,i.add(r),e=hu.bind(null,e,t,r),t.then(e,e))}function hu(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,nl===e&&(al&r)===r&&(4===hl||3===hl&&(62914560&al)===al&&300>te()-wl?0===(2&rl)&&ql(e,0):gl|=r,ml===al&&(ml=0)),xu(e)}function pu(e,t){0===t&&(t=Se()),null!==(e=Dn(e,t))&&(Oe(e,t),xu(e))}function fu(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),pu(e,r)}function gu(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==n&&n.delete(t),pu(e,r)}var yu=null,mu=null,vu=!1,bu=!1,_u=!1,wu=0;function xu(e){e!==mu&&null===e.next&&(null===mu?yu=mu=e:mu=mu.next=e),bu=!0,vu||(vu=!0,dd(function(){0!==(6&rl)?Y(ne,Tu):Ou()}))}function Su(e,t){if(!_u&&bu){_u=!0;do{for(var r=!1,n=yu;null!==n;){if(!t)if(0!==e){var i=n.pendingLanes;if(0===i)var a=0;else{var o=n.suspendedLanes,s=n.pingedLanes;a=(1<<31-pe(42|e)+1)-1,a=201326741&(a&=i&~(o&~s))?201326741&a|1:a?2|a:0}0!==a&&(r=!0,Pu(n,a))}else a=al,0===(3&(a=be(n,n===nl?a:0,null!==n.cancelPendingCommit||-1!==n.timeoutHandle)))||_e(n,a)||(r=!0,Pu(n,a));n=n.next}}while(r);_u=!1}}function Tu(){Ou()}function Ou(){bu=vu=!1;var e=0;0!==wu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sd&&(sd=e,!0);return sd=null,!1}()&&(e=wu),wu=0);for(var t=te(),r=null,n=yu;null!==n;){var i=n.next,a=Eu(n,t);0===a?(n.next=null,null===r?yu=i:r.next=i,null===i&&(mu=r)):(r=n,(0!==e||0!==(3&a))&&(bu=!0)),n=i}Su(e,!1)}function Eu(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,a=-62914561&e.pendingLanes;0<a;){var o=31-pe(a),s=1<<o,c=i[o];-1===c?0!==(s&r)&&0===(s&n)||(i[o]=we(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(r=al,r=be(e,e===(t=nl)?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),n=e.callbackNode,0===r||e===t&&(2===ol||9===ol)||null!==e.cancelPendingCommit)return null!==n&&null!==n&&J(n),e.callbackNode=null,e.callbackPriority=0;if(0===(3&r)||_e(e,r)){if((t=r&-r)===e.callbackPriority)return t;switch(null!==n&&J(n),Ne(r)){case 2:case 8:r=ie;break;case 32:default:r=ae;break;case 268435456:r=se}return n=Au.bind(null,e),r=Y(r,n),e.callbackPriority=t,e.callbackNode=r,t}return null!==n&&null!==n&&J(n),e.callbackPriority=2,e.callbackNode=null,2}function Au(e,t){if(0!==Ol&&5!==Ol)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(su()&&e.callbackNode!==r)return null;var n=al;return 0===(n=be(e,e===nl?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(kl(e,n,t),Eu(e,te()),null!=e.callbackNode&&e.callbackNode===r?Au.bind(null,e):null)}function Pu(e,t){if(su())return null;kl(e,t,!0)}function Nu(){return 0===wu&&(wu=xe()),wu}function ju(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Du(e,t){var r=t.ownerDocument.createElement("input");return r.name=t.name,r.value=t.value,e.id&&r.setAttribute("form",e.id),t.parentNode.insertBefore(r,t),e=new FormData(e),r.parentNode.removeChild(r),e}for(var Ru=0;Ru<wn.length;Ru++){var Iu=wn[Ru];xn(Iu.toLowerCase(),"on"+(Iu[0].toUpperCase()+Iu.slice(1)))}xn(pn,"onAnimationEnd"),xn(fn,"onAnimationIteration"),xn(gn,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(yn,"onTransitionRun"),xn(mn,"onTransitionStart"),xn(vn,"onTransitionCancel"),xn(bn,"onTransitionEnd"),Ke("onMouseEnter",["mouseout","mouseover"]),Ke("onMouseLeave",["mouseout","mouseover"]),Ke("onPointerEnter",["pointerout","pointerover"]),Ke("onPointerLeave",["pointerout","pointerover"]),Xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fu));function Mu(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var o=n.length-1;0<=o;o--){var s=n[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=l;try{a(i)}catch(u){ms(u)}i.currentTarget=null,a=c}else for(o=0;o<n.length;o++){if(c=(s=n[o]).instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break e;a=s,i.currentTarget=l;try{a(i)}catch(u){ms(u)}i.currentTarget=null,a=c}}}}function ku(e,t){var r=t[Ce];void 0===r&&(r=t[Ce]=new Set);var n=e+"__bubble";r.has(n)||(Vu(t,e,2,!1),r.add(n))}function Lu(e,t,r){var n=0;t&&(n|=4),Vu(r,e,n,t)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Bu]){e[Bu]=!0,He.forEach(function(t){"selectionchange"!==t&&(Cu.has(t)||Lu(t,!1,e),Lu(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Bu]||(t[Bu]=!0,Lu("selectionchange",!1,t))}}function Vu(e,t,r,n){switch(lh(t)){case 2:var i=nh;break;case 8:i=ih;break;default:i=ah}r=i.bind(null,t,r,e),i=void 0,!Bt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function zu(e,t,r,n,i){var a=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var s=n.stateNode.containerInfo;if(s===i)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==s;){if(null===(o=Ve(s)))return;if(5===(l=o.tag)||6===l||26===l||27===l){n=a=o;continue e}s=s.parentNode}}n=n.return}Mt(function(){var n=a,i=Dt(r),o=[];e:{var s=_n.get(e);if(void 0!==s){var l=Zt,u=e;switch(e){case"keypress":if(0===Gt(r))break e;case"keydown":case"keyup":l=fr;break;case"focusin":u="focus",l=ar;break;case"focusout":u="blur",l=ar;break;case"beforeblur":case"afterblur":l=ar;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=nr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=ir;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=yr;break;case pn:case fn:case gn:l=or;break;case bn:l=mr;break;case"scroll":case"scrollend":l=tr;break;case"wheel":l=vr;break;case"copy":case"cut":case"paste":l=sr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=gr;break;case"toggle":case"beforetoggle":l=br}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==s?s+"Capture":null:s;d=[];for(var f,g=n;null!==g;){var y=g;if(f=y.stateNode,5!==(y=y.tag)&&26!==y&&27!==y||null===f||null===p||null!=(y=kt(g,p))&&d.push(qu(g,y,f)),h)break;g=g.return}0<d.length&&(s=new l(s,u,null,r,i),o.push({event:s,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||r===jt||!(u=r.relatedTarget||r.fromElement)||!Ve(u)&&!u[Fe])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=n,null!==(u=(u=r.relatedTarget||r.toElement)?Ve(u):null)&&(h=c(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(l=null,u=n),l!==u)){if(d=nr,y="onMouseLeave",p="onMouseEnter",g="mouse","pointerout"!==e&&"pointerover"!==e||(d=gr,y="onPointerLeave",p="onPointerEnter",g="pointer"),h=null==l?s:qe(l),f=null==u?s:qe(u),(s=new d(y,g+"leave",l,r,i)).target=h,s.relatedTarget=f,y=null,Ve(i)===n&&((d=new d(p,g+"enter",u,r,i)).target=f,d.relatedTarget=h,y=d),h=y,l&&u)e:{for(p=u,g=0,f=d=l;f;f=Gu(f))g++;for(f=0,y=p;y;y=Gu(y))f++;for(;0<g-f;)d=Gu(d),g--;for(;0<f-g;)p=Gu(p),f--;for(;g--;){if(d===p||null!==p&&d===p.alternate)break e;d=Gu(d),p=Gu(p)}d=null}else d=null;null!==l&&Hu(o,s,l,d,!1),null!==u&&null!==h&&Hu(o,h,u,d,!0)}if("select"===(l=(s=n?qe(n):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var m=kr;else if(Dr(s))if(Lr)m=Wr;else{m=Gr;var v=Qr}else!(l=s.nodeName)||"input"!==l.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?n&&Et(n.elementType)&&(m=kr):m=Hr;switch(m&&(m=m(e,n))?Rr(o,m,r,i):(v&&v(e,s,n),"focusout"===e&&n&&"number"===s.type&&null!=n.memoizedProps.value&&vt(s,"number",s.value)),v=n?qe(n):window,e){case"focusin":(Dr(v)||"true"===v.contentEditable)&&(rn=v,nn=n,an=null);break;case"focusout":an=nn=rn=null;break;case"mousedown":on=!0;break;case"contextmenu":case"mouseup":case"dragend":on=!1,sn(o,r,i);break;case"selectionchange":if(tn)break;case"keydown":case"keyup":sn(o,r,i)}var b;if(wr)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else Nr?Ar(e,r)&&(_="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(_="onCompositionStart");_&&(Tr&&"ko"!==r.locale&&(Nr||"onCompositionStart"!==_?"onCompositionEnd"===_&&Nr&&(b=Qt()):(zt="value"in(Vt=i)?Vt.value:Vt.textContent,Nr=!0)),0<(v=Qu(n,_)).length&&(_=new cr(_,e,null,r,i),o.push({event:_,listeners:v}),b?_.data=b:null!==(b=Pr(r))&&(_.data=b))),(b=Sr?function(e,t){switch(e){case"compositionend":return Pr(t);case"keypress":return 32!==t.which?null:(Er=!0,Or);case"textInput":return(e=t.data)===Or&&Er?null:e;default:return null}}(e,r):function(e,t){if(Nr)return"compositionend"===e||!wr&&Ar(e,t)?(e=Qt(),qt=zt=Vt=null,Nr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(_=Qu(n,"onBeforeInput")).length&&(v=new cr("onBeforeInput","beforeinput",null,r,i),o.push({event:v,listeners:_}),v.data=b)),function(e,t,r,n,i){if("submit"===t&&r&&r.stateNode===i){var a=ju((i[Ie]||null).action),o=n.submitter;o&&null!==(t=(t=o[Ie]||null)?ju(t.formAction):o.getAttribute("formAction"))&&(a=t,o=null);var s=new Zt("action","action",null,n,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(0!==wu){var e=o?Du(i,o):new FormData(i);Do(r,{pending:!0,data:e,method:i.method,action:a},null,e)}}else"function"===typeof a&&(s.preventDefault(),e=o?Du(i,o):new FormData(i),Do(r,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}(o,e,n,r,i)}Mu(o,t)})}function qu(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Qu(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,a=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===a||(null!=(i=kt(e,r))&&n.unshift(qu(e,i,a)),null!=(i=kt(e,t))&&n.push(qu(e,i,a))),3===e.tag)return n;e=e.return}return[]}function Gu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Hu(e,t,r,n,i){for(var a=t._reactName,o=[];null!==r&&r!==n;){var s=r,c=s.alternate,l=s.stateNode;if(s=s.tag,null!==c&&c===n)break;5!==s&&26!==s&&27!==s||null===l||(c=l,i?null!=(l=kt(r,a))&&o.unshift(qu(r,l,c)):i||null!=(l=kt(r,a))&&o.push(qu(r,l,c))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var Wu=/\r\n?/g,Xu=/\u0000|\uFFFD/g;function Ku(e){return("string"===typeof e?e:""+e).replace(Wu,"\n").replace(Xu,"")}function $u(e,t){return t=Ku(t),Ku(e)===t}function Yu(){}function Ju(e,t,r,n,i,a){switch(r){case"children":"string"===typeof n?"body"===t||"textarea"===t&&""===n||xt(e,n):("number"===typeof n||"bigint"===typeof n)&&"body"!==t&&xt(e,""+n);break;case"className":rt(e,"class",n);break;case"tabIndex":rt(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":rt(e,r,n);break;case"style":Ot(e,n,a);break;case"data":if("object"!==t){rt(e,"data",n);break}case"src":case"href":if(""===n&&("a"!==t||"href"!==r)){e.removeAttribute(r);break}if(null==n||"function"===typeof n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Nt(""+n),e.setAttribute(r,n);break;case"action":case"formAction":if("function"===typeof n){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof a&&("formAction"===r?("input"!==t&&Ju(e,t,"name",i.name,i,null),Ju(e,t,"formEncType",i.formEncType,i,null),Ju(e,t,"formMethod",i.formMethod,i,null),Ju(e,t,"formTarget",i.formTarget,i,null)):(Ju(e,t,"encType",i.encType,i,null),Ju(e,t,"method",i.method,i,null),Ju(e,t,"target",i.target,i,null))),null==n||"symbol"===typeof n||"boolean"===typeof n){e.removeAttribute(r);break}n=Nt(""+n),e.setAttribute(r,n);break;case"onClick":null!=n&&(e.onclick=Yu);break;case"onScroll":null!=n&&ku("scroll",e);break;case"onScrollEnd":null!=n&&ku("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(o(61));if(null!=(r=n.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=r}}break;case"multiple":e.multiple=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"muted":e.muted=n&&"function"!==typeof n&&"symbol"!==typeof n;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==n||"function"===typeof n||"boolean"===typeof n||"symbol"===typeof n){e.removeAttribute("xlink:href");break}r=Nt(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""+n):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":!0===n?e.setAttribute(r,""):!1!==n&&null!=n&&"function"!==typeof n&&"symbol"!==typeof n?e.setAttribute(r,n):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":null!=n&&"function"!==typeof n&&"symbol"!==typeof n&&!isNaN(n)&&1<=n?e.setAttribute(r,n):e.removeAttribute(r);break;case"rowSpan":case"start":null==n||"function"===typeof n||"symbol"===typeof n||isNaN(n)?e.removeAttribute(r):e.setAttribute(r,n);break;case"popover":ku("beforetoggle",e),ku("toggle",e),tt(e,"popover",n);break;case"xlinkActuate":nt(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":nt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":nt(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":nt(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":nt(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":nt(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":nt(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":nt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":nt(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":tt(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<r.length)||"o"!==r[0]&&"O"!==r[0]||"n"!==r[1]&&"N"!==r[1])&&tt(e,r=At.get(r)||r,n)}}function Zu(e,t,r,n,i,a){switch(r){case"style":Ot(e,n,a);break;case"dangerouslySetInnerHTML":if(null!=n){if("object"!==typeof n||!("__html"in n))throw Error(o(61));if(null!=(r=n.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=r}}break;case"children":"string"===typeof n?xt(e,n):("number"===typeof n||"bigint"===typeof n)&&xt(e,""+n);break;case"onScroll":null!=n&&ku("scroll",e);break;case"onScrollEnd":null!=n&&ku("scrollend",e);break;case"onClick":null!=n&&(e.onclick=Yu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:We.hasOwnProperty(r)||("o"!==r[0]||"n"!==r[1]||(i=r.endsWith("Capture"),t=r.slice(2,i?r.length-7:void 0),"function"===typeof(a=null!=(a=e[Ie]||null)?a[r]:null)&&e.removeEventListener(t,a,i),"function"!==typeof n)?r in e?e[r]=n:!0===n?e.setAttribute(r,""):tt(e,r,n):("function"!==typeof a&&null!==a&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(t,n,i)))}}function ed(e,t,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ku("error",e),ku("load",e);var n,i=!1,a=!1;for(n in r)if(r.hasOwnProperty(n)){var s=r[n];if(null!=s)switch(n){case"src":i=!0;break;case"srcSet":a=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ju(e,t,n,s,r,null)}}return a&&Ju(e,t,"srcSet",r.srcSet,r,null),void(i&&Ju(e,t,"src",r.src,r,null));case"input":ku("invalid",e);var c=n=s=a=null,l=null,u=null;for(i in r)if(r.hasOwnProperty(i)){var d=r[i];if(null!=d)switch(i){case"name":a=d;break;case"type":s=d;break;case"checked":l=d;break;case"defaultChecked":u=d;break;case"value":n=d;break;case"defaultValue":c=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(o(137,t));break;default:Ju(e,t,i,d,r,null)}}return mt(e,n,c,l,u,s,a,!1),void dt(e);case"select":for(a in ku("invalid",e),i=s=n=null,r)if(r.hasOwnProperty(a)&&null!=(c=r[a]))switch(a){case"value":n=c;break;case"defaultValue":s=c;break;case"multiple":i=c;default:Ju(e,t,a,c,r,null)}return t=n,r=s,e.multiple=!!i,void(null!=t?bt(e,!!i,t,!1):null!=r&&bt(e,!!i,r,!0));case"textarea":for(s in ku("invalid",e),n=a=i=null,r)if(r.hasOwnProperty(s)&&null!=(c=r[s]))switch(s){case"value":i=c;break;case"defaultValue":a=c;break;case"children":n=c;break;case"dangerouslySetInnerHTML":if(null!=c)throw Error(o(91));break;default:Ju(e,t,s,c,r,null)}return wt(e,i,a,n),void dt(e);case"option":for(l in r)if(r.hasOwnProperty(l)&&null!=(i=r[l]))if("selected"===l)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Ju(e,t,l,i,r,null);return;case"dialog":ku("beforetoggle",e),ku("toggle",e),ku("cancel",e),ku("close",e);break;case"iframe":case"object":ku("load",e);break;case"video":case"audio":for(i=0;i<Fu.length;i++)ku(Fu[i],e);break;case"image":ku("error",e),ku("load",e);break;case"details":ku("toggle",e);break;case"embed":case"source":case"link":ku("error",e),ku("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in r)if(r.hasOwnProperty(u)&&null!=(i=r[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Ju(e,t,u,i,r,null)}return;default:if(Et(t)){for(d in r)r.hasOwnProperty(d)&&(void 0!==(i=r[d])&&Zu(e,t,d,i,r,void 0));return}}for(c in r)r.hasOwnProperty(c)&&(null!=(i=r[c])&&Ju(e,t,c,i,r,null))}var td=null,rd=null;function nd(e){return 9===e.nodeType?e:e.ownerDocument}function id(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function ad(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function od(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sd=null;var cd="function"===typeof setTimeout?setTimeout:void 0,ld="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:cd;function hd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function fd(e,t){var r=t,n=0,i=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0<n&&8>n){r=n;var o=e.ownerDocument;if(1&r&&wd(o.documentElement),2&r&&wd(o.body),4&r)for(wd(r=o.head),o=r.firstChild;o;){var s=o.nextSibling,c=o.nodeName;o[Be]||"SCRIPT"===c||"STYLE"===c||"LINK"===c&&"stylesheet"===o.rel.toLowerCase()||r.removeChild(o),o=s}}if(0===i)return e.removeChild(a),void Ah(t);i--}else"$"===r||"$?"===r||"$!"===r?i++:n=r.charCodeAt(0)-48;else n=0;r=a}while(r);Ah(t)}function gd(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var r=t;switch(t=t.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":gd(r),Ue(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===r.rel.toLowerCase())continue}e.removeChild(r)}}function yd(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function md(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function bd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}function _d(e,t,r){switch(t=nd(r),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function wd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ue(e)}var xd=new Map,Sd=new Set;function Td(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Od=C.d;C.d={f:function(){var e=Od.f(),t=Vl();return e||t},r:function(e){var t=ze(e);null!==t&&5===t.tag&&"form"===t.type?Io(t):Od.r(e)},D:function(e){Od.D(e),Ad("dns-prefetch",e,null)},C:function(e,t){Od.C(e,t),Ad("preconnect",e,t)},L:function(e,t,r){Od.L(e,t,r);var n=Ed;if(n&&e&&t){var i='link[rel="preload"][as="'+gt(t)+'"]';"image"===t&&r&&r.imageSrcSet?(i+='[imagesrcset="'+gt(r.imageSrcSet)+'"]',"string"===typeof r.imageSizes&&(i+='[imagesizes="'+gt(r.imageSizes)+'"]')):i+='[href="'+gt(e)+'"]';var a=i;switch(t){case"style":a=Nd(e);break;case"script":a=Rd(e)}xd.has(a)||(e=h({rel:"preload",href:"image"===t&&r&&r.imageSrcSet?void 0:e,as:t},r),xd.set(a,e),null!==n.querySelector(i)||"style"===t&&n.querySelector(jd(a))||"script"===t&&n.querySelector(Id(a))||(ed(t=n.createElement("link"),"link",e),Ge(t),n.head.appendChild(t)))}},m:function(e,t){Od.m(e,t);var r=Ed;if(r&&e){var n=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+gt(n)+'"][href="'+gt(e)+'"]',a=i;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":a=Rd(e)}if(!xd.has(a)&&(e=h({rel:"modulepreload",href:e},t),xd.set(a,e),null===r.querySelector(i))){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Id(a)))return}ed(n=r.createElement("link"),"link",e),Ge(n),r.head.appendChild(n)}}},X:function(e,t){Od.X(e,t);var r=Ed;if(r&&e){var n=Qe(r).hoistableScripts,i=Rd(e),a=n.get(i);a||((a=r.querySelector(Id(i)))||(e=h({src:e,async:!0},t),(t=xd.get(i))&&kd(e,t),Ge(a=r.createElement("script")),ed(a,"link",e),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}},S:function(e,t,r){Od.S(e,t,r);var n=Ed;if(n&&e){var i=Qe(n).hoistableStyles,a=Nd(e);t=t||"default";var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=n.querySelector(jd(a)))s.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},r),(r=xd.get(a))&&Md(e,r);var c=o=n.createElement("link");Ge(c),ed(c,"link",e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener("load",function(){s.loading|=1}),c.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Cd(o,t,n)}o={type:"stylesheet",instance:o,count:1,state:s},i.set(a,o)}}},M:function(e,t){Od.M(e,t);var r=Ed;if(r&&e){var n=Qe(r).hoistableScripts,i=Rd(e),a=n.get(i);a||((a=r.querySelector(Id(i)))||(e=h({src:e,async:!0,type:"module"},t),(t=xd.get(i))&&kd(e,t),Ge(a=r.createElement("script")),ed(a,"link",e),r.head.appendChild(a)),a={type:"script",instance:a,count:1,state:null},n.set(i,a))}}};var Ed="undefined"===typeof document?null:document;function Ad(e,t,r){var n=Ed;if(n&&"string"===typeof t&&t){var i=gt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof r&&(i+='[crossorigin="'+r+'"]'),Sd.has(i)||(Sd.add(i),e={rel:e,crossOrigin:r,href:t},null===n.querySelector(i)&&(ed(t=n.createElement("link"),"link",e),Ge(t),n.head.appendChild(t)))}}function Pd(e,t,r,n){var i,a,s,c,l=(l=Q.current)?Td(l):null;if(!l)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof r.precedence&&"string"===typeof r.href?(t=Nd(r.href),(n=(r=Qe(l).hoistableStyles).get(t))||(n={type:"style",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===r.rel&&"string"===typeof r.href&&"string"===typeof r.precedence){e=Nd(r.href);var u=Qe(l).hoistableStyles,d=u.get(e);if(d||(l=l.ownerDocument||l,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=l.querySelector(jd(e)))&&!u._p&&(d.instance=u,d.state.loading=5),xd.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},xd.set(e,r),u||(i=l,a=e,s=r,c=d.state,i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),ed(a,"link",s),Ge(a),i.head.appendChild(a))))),t&&null===n)throw Error(o(528,""));return d}if(t&&null!==n)throw Error(o(529,""));return null;case"script":return t=r.async,"string"===typeof(r=r.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Rd(r),(n=(r=Qe(l).hoistableScripts).get(t))||(n={type:"script",instance:null,count:0,state:null},r.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Nd(e){return'href="'+gt(e)+'"'}function jd(e){return'link[rel="stylesheet"]['+e+"]"}function Dd(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Rd(e){return'[src="'+gt(e)+'"]'}function Id(e){return"script[async]"+e}function Fd(e,t,r){if(t.count++,null===t.instance)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+gt(r.href)+'"]');if(n)return t.instance=n,Ge(n),n;var i=h({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return Ge(n=(e.ownerDocument||e).createElement("style")),ed(n,"style",i),Cd(n,r.precedence,e),t.instance=n;case"stylesheet":i=Nd(r.href);var a=e.querySelector(jd(i));if(a)return t.state.loading|=4,t.instance=a,Ge(a),a;n=Dd(r),(i=xd.get(i))&&Md(n,i),Ge(a=(e.ownerDocument||e).createElement("link"));var s=a;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),ed(a,"link",n),t.state.loading|=4,Cd(a,r.precedence,e),t.instance=a;case"script":return a=Rd(r.src),(i=e.querySelector(Id(a)))?(t.instance=i,Ge(i),i):(n=r,(i=xd.get(a))&&kd(n=h({},r),i),Ge(i=(e=e.ownerDocument||e).createElement("script")),ed(i,"link",n),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(n=t.instance,t.state.loading|=4,Cd(n,r.precedence,e));return t.instance}function Cd(e,t,r){for(var n=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=n.length?n[n.length-1]:null,a=i,o=0;o<n.length;o++){var s=n[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=9===r.nodeType?r.head:r).insertBefore(e,t.firstChild)}function Md(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function kd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var Ld=null;function Bd(e,t,r){if(null===Ld){var n=new Map,i=Ld=new Map;i.set(r,n)}else(n=(i=Ld).get(r))||(n=new Map,i.set(r,n));if(n.has(e))return n;for(n.set(e,null),r=r.getElementsByTagName(e),i=0;i<r.length;i++){var a=r[i];if(!(a[Be]||a[Re]||"link"===e&&"stylesheet"===a.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==a.namespaceURI){var o=a.getAttribute(t)||"";o=e+o;var s=n.get(o);s?s.push(a):n.set(o,[a])}}return n}function Ud(e,t,r){(e=e.ownerDocument||e).head.insertBefore(r,"title"===t?e.querySelector("head > title"):null)}function Vd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var zd=null;function qd(){}function Qd(){if(this.count--,0===this.count)if(this.stylesheets)Hd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Gd=null;function Hd(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Gd=new Map,t.forEach(Wd,e),Gd=null,Qd.call(e))}function Wd(e,t){if(!(4&t.state.loading)){var r=Gd.get(e);if(r)var n=r.get(null);else{r=new Map,Gd.set(e,r);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),a=0;a<i.length;a++){var o=i[a];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(r.set(o.dataset.precedence,o),n=o)}n&&r.set(null,n)}o=(i=t.instance).getAttribute("data-precedence"),(a=r.get(o)||n)===n&&r.set(null,i),r.set(o,i),this.count++,n=Qd.bind(this),i.addEventListener("load",n),i.addEventListener("error",n),a?a.parentNode.insertBefore(i,a.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Xd={$$typeof:w,Provider:null,Consumer:null,_currentValue:M,_currentValue2:M,_threadCount:0};function Kd(e,t,r,n,i,a,o,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Te(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Te(0),this.hiddenUpdates=Te(null),this.identifierPrefix=n,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function $d(e,t,r,n,i,a,o,s,c,l,u,d){return e=new Kd(e,t,r,o,s,c,l,d),t=1,!0===a&&(t|=24),a=Mn(3,null,null,t),e.current=a,a.stateNode=e,(t=Ii()).refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:n,isDehydrated:r,cache:t},ra(a),e}function Yd(e){return e?e=Fn:Fn}function Jd(e,t,r,n,i,a){i=Yd(i),null===n.context?n.context=i:n.pendingContext=i,(n=ia(t)).payload={element:r},null!==(a=void 0===a?null:a)&&(n.callback=a),null!==(r=aa(e,n,t))&&(Ml(r,0,t),oa(r,e,t))}function Zd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function eh(e,t){Zd(e,t),(e=e.alternate)&&Zd(e,t)}function th(e){if(13===e.tag){var t=Dn(e,67108864);null!==t&&Ml(t,0,67108864),eh(e,67108864)}}var rh=!0;function nh(e,t,r,n){var i=F.T;F.T=null;var a=C.p;try{C.p=2,ah(e,t,r,n)}finally{C.p=a,F.T=i}}function ih(e,t,r,n){var i=F.T;F.T=null;var a=C.p;try{C.p=8,ah(e,t,r,n)}finally{C.p=a,F.T=i}}function ah(e,t,r,n){if(rh){var i=oh(n);if(null===i)zu(e,t,n,sh,r),vh(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return dh=bh(dh,e,t,r,n,i),!0;case"dragenter":return hh=bh(hh,e,t,r,n,i),!0;case"mouseover":return ph=bh(ph,e,t,r,n,i),!0;case"pointerover":var a=i.pointerId;return fh.set(a,bh(fh.get(a)||null,e,t,r,n,i)),!0;case"gotpointercapture":return a=i.pointerId,gh.set(a,bh(gh.get(a)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(vh(e,n),4&t&&-1<mh.indexOf(e)){for(;null!==i;){var a=ze(i);if(null!==a)switch(a.tag){case 3:if((a=a.stateNode).current.memoizedState.isDehydrated){var o=ve(a.pendingLanes);if(0!==o){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-pe(o);s.entanglements[1]|=c,o&=~c}xu(a),0===(6&rl)&&(xl=te()+500,Su(0,!1))}}break;case 13:null!==(s=Dn(a,2))&&Ml(s,0,2),Vl(),eh(a,2)}if(null===(a=oh(n))&&zu(e,t,n,sh,r),a===i)break;i=a}null!==i&&n.stopPropagation()}else zu(e,t,n,null,r)}}function oh(e){return ch(e=Dt(e))}var sh=null;function ch(e){if(sh=null,null!==(e=Ve(e))){var t=c(e);if(null===t)e=null;else{var r=t.tag;if(13===r){if(null!==(e=l(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sh=e,null}function lh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(re()){case ne:return 2;case ie:return 8;case ae:case oe:return 32;case se:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,ph=null,fh=new Map,gh=new Map,yh=[],mh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":fh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":gh.delete(t.pointerId)}}function bh(e,t,r,n,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ze(t))&&th(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function _h(e){var t=Ve(e.target);if(null!==t){var r=c(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=l(r)))return e.blockedOn=t,void function(e,t){var r=C.p;try{return C.p=e,t()}finally{C.p=r}}(e.priority,function(){if(13===r.tag){var e=Fl();e=Pe(e);var t=Dn(r,e);null!==t&&Ml(t,0,e),eh(r,e)}})}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function wh(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=oh(e.nativeEvent);if(null!==r)return null!==(t=ze(r))&&th(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);jt=n,r.target.dispatchEvent(n),jt=null,t.shift()}return!0}function xh(e,t,r){wh(e)&&r.delete(t)}function Sh(){uh=!1,null!==dh&&wh(dh)&&(dh=null),null!==hh&&wh(hh)&&(hh=null),null!==ph&&wh(ph)&&(ph=null),fh.forEach(xh),gh.forEach(xh)}function Th(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Sh)))}var Oh=null;function Eh(e){Oh!==e&&(Oh=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Oh===e&&(Oh=null);for(var t=0;t<e.length;t+=3){var r=e[t],n=e[t+1],i=e[t+2];if("function"!==typeof n){if(null===ch(n||r))continue;break}var a=ze(r);null!==a&&(e.splice(t,3),t-=3,Do(a,{pending:!0,data:i,method:r.method,action:n},n,i))}}))}function Ah(e){function t(t){return Th(t,e)}null!==dh&&Th(dh,e),null!==hh&&Th(hh,e),null!==ph&&Th(ph,e),fh.forEach(t),gh.forEach(t);for(var r=0;r<yh.length;r++){var n=yh[r];n.blockedOn===e&&(n.blockedOn=null)}for(;0<yh.length&&null===(r=yh[0]).blockedOn;)_h(r),null===r.blockedOn&&yh.shift();if(null!=(r=(e.ownerDocument||e).$$reactFormReplay))for(n=0;n<r.length;n+=3){var i=r[n],a=r[n+1],o=i[Ie]||null;if("function"===typeof a)o||Eh(r);else if(o){var s=null;if(a&&a.hasAttribute("formAction")){if(i=a,o=a[Ie]||null)s=o.formAction;else if(null!==ch(i))continue}else s=o.action;"function"===typeof s?r[n+1]=s:(r.splice(n,3),n-=3),Eh(r)}}}function Ph(e){this._internalRoot=e}function Nh(e){this._internalRoot=e}Nh.prototype.render=Ph.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Jd(t.current,Fl(),e,t,null,null)},Nh.prototype.unmount=Ph.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Jd(e.current,2,null,e,null,null),Vl(),t[Fe]=null}},Nh.prototype.unstable_scheduleHydration=function(e){if(e){var t=je();e={blockedOn:null,target:e,priority:t};for(var r=0;r<yh.length&&0!==t&&t<yh[r].priority;r++);yh.splice(r,0,e),0===r&&_h(e)}};var jh=i.version;if("19.1.1"!==jh)throw Error(o(527,jh,"19.1.1"));C.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=c(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(n=i.return)){r=n;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===r)return u(i),e;if(a===n)return u(i),t;a=a.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=a;else{for(var s=!1,l=i.child;l;){if(l===r){s=!0,r=i,n=a;break}if(l===n){s=!0,n=i,r=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===r){s=!0,r=a,n=i;break}if(l===n){s=!0,n=a,r=i;break}l=l.sibling}if(!s)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Dh={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Rh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rh.isDisabled&&Rh.supportsFiber)try{ue=Rh.inject(Dh),de=Rh}catch(Fh){}}t.createRoot=function(e,t){if(!s(e))throw Error(o(299));var r=!1,n="",i=vs,a=bs,c=_s;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(a=t.onCaughtError),void 0!==t.onRecoverableError&&(c=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=$d(e,1,!1,null,0,r,n,i,a,c,0,null),e[Fe]=t.current,Uu(e),new Ph(t)},t.hydrateRoot=function(e,t,r){if(!s(e))throw Error(o(299));var n=!1,i="",a=vs,c=bs,l=_s,u=null;return null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(n=!0),void 0!==r.identifierPrefix&&(i=r.identifierPrefix),void 0!==r.onUncaughtError&&(a=r.onUncaughtError),void 0!==r.onCaughtError&&(c=r.onCaughtError),void 0!==r.onRecoverableError&&(l=r.onRecoverableError),void 0!==r.unstable_transitionCallbacks&&r.unstable_transitionCallbacks,void 0!==r.formState&&(u=r.formState)),(t=$d(e,1,!0,t,0,n,i,a,c,l,0,u)).context=Yd(null),r=t.current,(i=ia(n=Pe(n=Fl()))).callback=null,aa(r,i,n),r=n,t.current.lanes=r,Oe(t,r),xu(t),e[Fe]=t.current,Uu(e),new Nh(t)},t.version="19.1.1"},97012:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="00000000-0000-0000-0000-000000000000"},97044:(e,t,r)=>{"use strict";var n=r(12897).default;const{StringPrototypeSlice:i,SymbolIterator:a,TypedArrayPrototypeSet:o,Uint8Array:s}=r(28931),{Buffer:c}=r(26382),{inspect:l}=r(91887);e.exports=class{constructor(){this.head=null,this.tail=null,this.length=0}push(e){const t={data:e,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length}unshift(e){const t={data:e,next:this.head};0===this.length&&(this.tail=t),this.head=t,++this.length}shift(){if(0===this.length)return;const e=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,e}clear(){this.head=this.tail=null,this.length=0}join(e){if(0===this.length)return"";let t=this.head,r=""+t.data;for(;null!==(t=t.next);)r+=e+t.data;return r}concat(e){if(0===this.length)return c.alloc(0);const t=c.allocUnsafe(e>>>0);let r=this.head,n=0;for(;r;)o(t,r.data,n),n+=r.data.length,r=r.next;return t}consume(e,t){const r=this.head.data;if(e<r.length){const t=r.slice(0,e);return this.head.data=r.slice(e),t}return e===r.length?this.shift():t?this._getString(e):this._getBuffer(e)}first(){return this.head.data}*[a](){for(let e=this.head;e;e=e.next)yield e.data}_getString(e){let t="",r=this.head,n=0;do{const a=r.data;if(!(e>a.length)){e===a.length?(t+=a,++n,r.next?this.head=r.next:this.head=this.tail=null):(t+=i(a,0,e),this.head=r,r.data=i(a,e));break}t+=a,e-=a.length,++n}while(null!==(r=r.next));return this.length-=n,t}_getBuffer(e){const t=c.allocUnsafe(e),r=e;let n=this.head,i=0;do{const a=n.data;if(!(e>a.length)){e===a.length?(o(t,a,r-e),++i,n.next?this.head=n.next:this.head=this.tail=null):(o(t,new s(a.buffer,a.byteOffset,e),r-e),this.head=n,n.data=a.slice(e));break}o(t,a,r-e),e-=a.length,++i}while(null!==(n=n.next));return this.length-=i,t}[Symbol.for("nodejs.util.inspect.custom")](e,t){return l(this,n(n({},t),{},{depth:0,customInspect:!1}))}}},97082:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DataFactory=void 0;const n=r(68846),i=r(40029),a=r(28215),o=r(34017),s=r(69413),c=r(2514);let l=0;t.DataFactory=class{constructor(e){this.blankNodeCounter=0,e=e||{},this.blankNodePrefix=e.blankNodePrefix||"df_".concat(l++,"_")}namedNode(e){return new o.NamedNode(e)}blankNode(e){return new n.BlankNode(e||"".concat(this.blankNodePrefix).concat(this.blankNodeCounter++))}literal(e,t){return new a.Literal(e,t)}variable(e){return new c.Variable(e)}defaultGraph(){return i.DefaultGraph.INSTANCE}quad(e,t,r,n){return new s.Quad(e,t,r,n||this.defaultGraph())}fromTerm(e){switch(e.termType){case"NamedNode":return this.namedNode(e.value);case"BlankNode":return this.blankNode(e.value);case"Literal":return e.language?this.literal(e.value,e.language):e.datatype.equals(a.Literal.XSD_STRING)?this.literal(e.value):this.literal(e.value,this.fromTerm(e.datatype));case"Variable":return this.variable(e.value);case"DefaultGraph":return this.defaultGraph();case"Quad":return this.quad(this.fromTerm(e.subject),this.fromTerm(e.predicate),this.fromTerm(e.object),this.fromTerm(e.graph))}}fromQuad(e){return this.fromTerm(e)}resetBlankNodeCounter(){this.blankNodeCounter=0}}},97083:(e,t)=>{"use strict";function r(e){const t=[];let r=0;for(;r<e.length;)switch(e[r]){case"/":if("."===e[r+1])if("."===e[r+2]){if(!i(e[r+3])){t.push([]),r++;break}t.pop(),e[r+3]||t.push([]),r+=3}else{if(!i(e[r+2])){t.push([]),r++;break}e[r+2]||t.push([]),r+=2}else t.push([]),r++;break;case"#":case"?":t.length||t.push([]),t[t.length-1].push(e.substr(r)),r=e.length;break;default:t.length||t.push([]),t[t.length-1].push(e[r]),r++}return"/"+t.map(e=>e.join("")).join("/")}function n(e,t){let n=t+1;t>=0?"/"===e[t+1]&&"/"===e[t+2]&&(n=t+3):"/"===e[0]&&"/"===e[1]&&(n=2);const i=e.indexOf("/",n);if(i<0)return e;return e.substr(0,i)+r(e.substr(i))}function i(e){return!e||"#"===e||"?"===e||"/"===e}Object.defineProperty(t,"__esModule",{value:!0}),t.removeDotSegmentsOfPath=t.removeDotSegments=t.resolve=void 0,t.resolve=function(e,t){const i=(t=t||"").indexOf("#");if(i>0&&(t=t.substr(0,i)),!e.length){if(t.indexOf(":")<0)throw new Error("Found invalid baseIRI '".concat(t,"' for value '").concat(e,"'"));return t}if(e.startsWith("?")){const r=t.indexOf("?");return r>0&&(t=t.substr(0,r)),t+e}if(e.startsWith("#"))return t+e;if(!t.length){const t=e.indexOf(":");if(t<0)throw new Error("Found invalid relative IRI '".concat(e,"' for a missing baseIRI"));return n(e,t)}const a=e.indexOf(":");if(a>=0)return n(e,a);const o=t.indexOf(":");if(o<0)throw new Error("Found invalid baseIRI '".concat(t,"' for value '").concat(e,"'"));const s=t.substr(0,o+1);if(0===e.indexOf("//"))return s+n(e,a);let c;if(t.indexOf("//",o)===o+1){if(c=t.indexOf("/",o+3),c<0)return t.length>o+3?t+"/"+n(e,a):s+n(e,a)}else if(c=t.indexOf("/",o+1),c<0)return s+n(e,a);if(0===e.indexOf("/"))return t.substr(0,c)+r(e);let l=t.substr(c);const u=l.lastIndexOf("/");return u>=0&&u<l.length-1&&(l=l.substr(0,u+1),"."===e[0]&&"."!==e[1]&&"/"!==e[1]&&e[2]&&(e=e.substr(1))),e=r(e=l+e),t.substr(0,c)+e},t.removeDotSegments=r,t.removeDotSegmentsOfPath=n},97101:e=>{e.exports=function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")},e.exports.__esModule=!0,e.exports.default=e.exports},97122:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(55105),t)},97202:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuerySourceSparql=void 0;const n=r(52840),i=r(13953),a=r(66179),o=r(89266),s=r(72758),c=r(69684),l=r(3651),u=r(57078),d=r(85160);class h{constructor(e,t,r,n,i,a,o,s,u,d,h,p,f,g,y,m,v,b){this.referenceValue=e,this.url=e,this.context=t,this.mediatorHttp=r,this.bindMethod=n,this.dataFactory=i,this.algebraFactory=a,this.bindingsFactory=o,this.endpointFetcher=new c.SparqlEndpointFetcher({method:s?"GET":"POST",fetch:(e,t)=>this.mediatorHttp.mediate({input:e,init:t,context:this.lastSourceContext}),prefixVariableQuestionMark:!0,dataFactory:i,forceGetIfUrlLengthBelow:f,directPost:b&&!b.includes("application/x-www-form-urlencoded")}),this.cache=u>0?new l.LRUCache({max:u}):void 0,this.countTimeout=d,this.cardinalityCountQueries=h,this.cardinalityEstimateConstruction=p,this.defaultGraph=g,this.unionDefaultGraph=null!==y&&void 0!==y&&y,this.datasets=m,this.extensionFunctions=v}async getSelectorShape(){const e={type:"disjunction",children:[{type:"operation",operation:{operationType:"wildcard"},joinBindings:!0}]};return this.extensionFunctions&&e.children.push({type:"operation",operation:{operationType:"type",type:d.Algebra.types.EXPRESSION,extensionFunctions:this.extensionFunctions},joinBindings:!0}),{type:"conjunction",children:[e,{type:"negation",child:{type:"operation",operation:{operationType:"type",type:d.Algebra.types.DISTINCT},children:[{type:"operation",operation:{operationType:"type",type:d.Algebra.types.CONSTRUCT}}]}}]}}queryBindings(e,t,r){let i;i=null!==r&&void 0!==r&&r.joinBindings?h.addBindingsToOperation(this.algebraFactory,this.bindMethod,e,r.joinBindings):Promise.resolve(e);const a=new s.TransformIterator(async()=>{const e=await i,a=d.Util.inScopeVariables(e),o=t.get(n.KeysInitQuery.queryString),s=t.getSafe(n.KeysInitQuery.queryFormat),c=null!==r&&void 0!==r&&r.joinBindings||!o||"sparql"!==s.language?h.operationToSelectQuery(this.algebraFactory,e,a):o,l=h.getOperationUndefs(e);return this.queryBindingsRemote(this.url,c,a,t,l)},{autoStart:!1});return this.attachMetadata(a,t,i),a}queryQuads(e,t){var r;this.lastSourceContext=this.context.merge(t);const i=null!==(r=t.get(n.KeysInitQuery.queryString))&&void 0!==r?r:h.operationToQuery(e),a=this.endpointFetcher.fetchTriples(this.url,i);this.lastSourceContext=void 0;const o=(0,s.wrap)(a,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY});return this.attachMetadata(o,t,Promise.resolve(e.input)),o}queryBoolean(e,t){var r;this.lastSourceContext=this.context.merge(t);const i=null!==(r=t.get(n.KeysInitQuery.queryString))&&void 0!==r?r:h.operationToQuery(e),a=this.endpointFetcher.fetchAsk(this.url,i);return this.lastSourceContext=void 0,a}queryVoid(e,t){var r;this.lastSourceContext=this.context.merge(t);const i=null!==(r=t.get(n.KeysInitQuery.queryString))&&void 0!==r?r:h.operationToQuery(e),a=this.endpointFetcher.fetchUpdate(this.url,i);return this.lastSourceContext=void 0,a}attachMetadata(e,t,r){let n=[];new Promise(async(e,i)=>{try{var a;const i=await r,s=d.Util.inScopeVariables(i),c=this.operationToNormalizedCountQuery(i),l=h.getOperationUndefs(i);n=s.map(e=>({variable:e,canBeUndef:l.some(t=>t.equals(e))}));const u=null===(a=this.cache)||void 0===a?void 0:a.get(c);if(u)return e(u);if(this.cardinalityEstimateConstruction){const t=await this.estimateOperationCardinality(i);var o;if(Number.isFinite(t.value))return null===(o=this.cache)||void 0===o||o.set(c,t),e(t)}if(!this.cardinalityCountQueries)return e({type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url});const p=setTimeout(()=>e({type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url}),this.countTimeout),f=this.dataFactory.variable("count"),g=await this.queryBindingsRemote(this.url,c,[f],t,[]);g.on("data",t=>{clearTimeout(p);const r=t.get(f),n={type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url};if(r){const e=Number.parseInt(r.value,10);var i;if(!Number.isNaN(e))n.type="exact",n.value=e,null===(i=this.cache)||void 0===i||i.set(c,n)}return e(n)}),g.on("error",()=>{clearTimeout(p),e({type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url})}),g.on("end",()=>{clearTimeout(p),e({type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url})})}catch(s){return i(s)}}).then(t=>{e.setProperty("metadata",{state:new a.MetadataValidationState,cardinality:t,variables:n})}).catch(()=>e.setProperty("metadata",{state:new a.MetadataValidationState,cardinality:{type:"estimate",value:Number.POSITIVE_INFINITY,dataset:this.url},variables:n}))}operationToNormalizedCountQuery(e){const t=e.type===d.Algebra.types.PATTERN?this.algebraFactory.createPattern("Variable"===e.subject.termType?this.dataFactory.variable("s"):e.subject,"Variable"===e.predicate.termType?this.dataFactory.variable("p"):e.predicate,"Variable"===e.object.termType?this.dataFactory.variable("o"):e.object):e;return h.operationToCountQuery(this.dataFactory,this.algebraFactory,t)}async estimateOperationCardinality(e){const t={getCardinality:e=>{var t;const r=this.operationToNormalizedCountQuery(e),n=null===(t=this.cache)||void 0===t?void 0:t.get(r);if(n)return n;if(this.datasets){const t=this.datasets.filter(e=>this.unionDefaultGraph||this.defaultGraph&&e.uri.endsWith(this.defaultGraph)).map(t=>(0,o.estimateCardinality)(e,t));return{type:t.some(e=>"estimate"===e.type)?"estimate":"exact",value:t.length>0?t.reduce((e,t)=>e+t.value,0):0,dataset:this.url}}},source:this.url,uri:this.url};return(0,o.estimateCardinality)(e,t)}static async addBindingsToOperation(e,t,r,n){const i=await n.bindings.toArray();switch(t){case"values":return e.createJoin([e.createValues(n.metadata.variables.map(e=>e.variable),i.map(e=>Object.fromEntries([...e].map(e=>{let[t,r]=e;return["?".concat(t.value),r]})))),r],!1);case"union":throw new Error('Not implemented yet: "union" case');case"filter":throw new Error('Not implemented yet: "filter" case')}}static operationToSelectQuery(e,t,r){return h.operationToQuery(e.createProject(t,r))}static operationToCountQuery(e,t,r){return h.operationToQuery(t.createProject(t.createExtend(t.createGroup(r,[],[t.createBoundAggregate(e.variable("var0"),"count",t.createWildcardExpression(),!1)]),e.variable("count"),t.createTermExpression(e.variable("var0"))),[e.variable("count")]))}static operationToQuery(e){return(0,d.toSparql)(e,{sparqlStar:!0})}static getOperationUndefs(e){const t=[];return d.Util.recurseOperation(e,{leftjoin(e){const r=d.Util.inScopeVariables(e.input[0]),n=d.Util.inScopeVariables(e.input[1]);for(const i of n)r.some(e=>e.equals(i))||t.push(i);return!1},values(e){for(const r of e.variables)e.bindings.some(e=>!("?".concat(r.value)in e))&&t.push(r);return!1},union(e){const r=e.input.map(d.Util.inScopeVariables);for(const n of(0,u.uniqTerms)(r.flat()))r.every(e=>e.some(e=>e.equals(n)))||t.push(n);return!0}}),(0,u.uniqTerms)(t)}async queryBindingsRemote(e,t,r,n,a){const o=new Set;for(const i of a)o.add(i.value);this.lastSourceContext=this.context.merge(n);const c=await this.endpointFetcher.fetchBindings(e,t);return this.lastSourceContext=void 0,(0,s.wrap)(c,{autoStart:!1,maxBufferSize:Number.POSITIVE_INFINITY}).map(t=>this.bindingsFactory.bindings(r.map(r=>{const n=t["?".concat(r.value)];var a;o.has(r.value)||n||(null===(a=i.Actor.getContextLogger(this.context))||void 0===a||a.warn("The endpoint ".concat(e," failed to provide a binding for ").concat(r.value,".")));return[r,n]}).filter(e=>{let[t,r]=e;return Boolean(r)})))}toString(){return"QuerySourceSparql(".concat(this.url,")")}}t.QuerySourceSparql=h},97239:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedList=void 0;t.LinkedList=class{constructor(){this._length=0,this._head=null,this._tail=null}get length(){return this._length}get first(){var e;return null===(e=this._head)||void 0===e?void 0:e.value}get last(){var e;return null===(e=this._tail)||void 0===e?void 0:e.value}get empty(){return null===this._head}push(e){const t={value:e,next:null};null===this._tail?this._head=this._tail=t:this._tail.next=this._tail=t,this._length++}shift(){if(null===this._head)return;const{value:e,next:t}=this._head;return this._head=t,null===t&&(this._tail=null),this._length--,e}clear(){this._length=0,this._head=this._tail=null}}},97318:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionObserverHttp=void 0;const n=r(13953);class i extends n.ActionObserver{constructor(e){super(e),this.requests=0,this.bus.subscribeObserver(this),this.httpInvalidator.addInvalidateListener(()=>{this.requests=0})}onRun(e,t,r){this.observedActors.includes(e.name)&&this.requests++}}t.ActionObserverHttp=i},97405:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperationRewriteCopy=void 0;const n=r(49065),i=r(52840),a=r(13953),o=r(85160);class s extends n.ActorOptimizeQueryOperation{constructor(e){super(e)}async test(e){return(0,a.passTestVoid)()}async run(e){const t=e.context.getSafe(i.KeysInitQuery.dataFactory),r=new o.Factory(t);return{operation:o.Util.mapOperation(e.operation,{[o.Algebra.types.COPY](e,t){let r;return r="string"===typeof e.destination&&"string"===typeof e.source&&e.destination===e.source||"string"!==typeof e.destination&&"string"!==typeof e.source&&e.destination.equals(e.source)?t.createCompositeUpdate([]):t.createCompositeUpdate([t.createDrop(e.destination,!0),t.createAdd(e.source,e.destination,e.silent)]),{result:r,recurse:!1}}},r),context:e.context}}}t.ActorOptimizeQueryOperationRewriteCopy=s},97469:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},97622:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(37150),t)},97643:(e,t,r)=>{"use strict";var n=r(75482),i=r(56329);function a(e,t){return 55296===(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320===(64512&e.charCodeAt(t+1)))}function o(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function s(e){return 1===e.length?"0"+e:e}function c(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}t.inherits=i,t.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"===typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!==0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var o=e.charCodeAt(i);o<128?r[n++]=o:o<2048?(r[n++]=o>>6|192,r[n++]=63&o|128):a(e,i)?(o=65536+((1023&o)<<10)+(1023&e.charCodeAt(++i)),r[n++]=o>>18|240,r[n++]=o>>12&63|128,r[n++]=o>>6&63|128,r[n++]=63&o|128):(r[n++]=o>>12|224,r[n++]=o>>6&63|128,r[n++]=63&o|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r},t.toHex=function(e){for(var t="",r=0;r<e.length;r++)t+=s(e[r].toString(16));return t},t.htonl=o,t.toHex32=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=o(i)),r+=c(i.toString(16))}return r},t.zero2=s,t.zero8=c,t.join32=function(e,t,r,i){var a=r-t;n(a%4===0);for(var o=new Array(a/4),s=0,c=t;s<o.length;s++,c+=4){var l;l="big"===i?e[c]<<24|e[c+1]<<16|e[c+2]<<8|e[c+3]:e[c+3]<<24|e[c+2]<<16|e[c+1]<<8|e[c],o[s]=l>>>0}return o},t.split32=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];"big"===t?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=255&a)}return r},t.rotr32=function(e,t){return e>>>t|e<<32-t},t.rotl32=function(e,t){return e<<t|e>>>32-t},t.sum32=function(e,t){return e+t>>>0},t.sum32_3=function(e,t,r){return e+t+r>>>0},t.sum32_4=function(e,t,r,n){return e+t+r+n>>>0},t.sum32_5=function(e,t,r,n,i){return e+t+r+n+i>>>0},t.sum64=function(e,t,r,n){var i=e[t],a=n+e[t+1]>>>0,o=(a<n?1:0)+r+i;e[t]=o>>>0,e[t+1]=a},t.sum64_hi=function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},t.sum64_lo=function(e,t,r,n){return t+n>>>0},t.sum64_4_hi=function(e,t,r,n,i,a,o,s){var c=0,l=t;return c+=(l=l+n>>>0)<t?1:0,c+=(l=l+a>>>0)<a?1:0,e+r+i+o+(c+=(l=l+s>>>0)<s?1:0)>>>0},t.sum64_4_lo=function(e,t,r,n,i,a,o,s){return t+n+a+s>>>0},t.sum64_5_hi=function(e,t,r,n,i,a,o,s,c,l){var u=0,d=t;return u+=(d=d+n>>>0)<t?1:0,u+=(d=d+a>>>0)<a?1:0,u+=(d=d+s>>>0)<s?1:0,e+r+i+o+c+(u+=(d=d+l>>>0)<l?1:0)>>>0},t.sum64_5_lo=function(e,t,r,n,i,a,o,s,c,l){return t+n+a+s+l>>>0},t.rotr64_hi=function(e,t,r){return(t<<32-r|e>>>r)>>>0},t.rotr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0},t.shr64_hi=function(e,t,r){return e>>>r},t.shr64_lo=function(e,t,r){return(e<<32-r|t>>>r)>>>0}},97761:(e,t)=>{"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,a,o){return n((s=n(n(t,e),n(i,o)))<<(c=a)|s>>>32-c,r);var s,c}function a(e,t,r,n,a,o,s){return i(t&r|~t&n,e,t,a,o,s)}function o(e,t,r,n,a,o,s){return i(t&n|r&~n,e,t,a,o,s)}function s(e,t,r,n,a,o,s){return i(t^r^n,e,t,a,o,s)}function c(e,t,r,n,a,o,s){return i(r^(t|~n),e,t,a,o,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return function(e){const t=new Uint8Array(4*e.length);for(let r=0;r<4*e.length;r++)t[r]=e[r>>2]>>>r%4*8&255;return t}(function(e,t){const i=new Uint32Array(r(t)).fill(0);i.set(e),i[t>>5]|=128<<t%32,i[i.length-1]=t,e=i;let l=1732584193,u=-271733879,d=-1732584194,h=271733878;for(let r=0;r<e.length;r+=16){const t=l,i=u,p=d,f=h;l=a(l,u,d,h,e[r],7,-680876936),h=a(h,l,u,d,e[r+1],12,-389564586),d=a(d,h,l,u,e[r+2],17,606105819),u=a(u,d,h,l,e[r+3],22,-1044525330),l=a(l,u,d,h,e[r+4],7,-176418897),h=a(h,l,u,d,e[r+5],12,1200080426),d=a(d,h,l,u,e[r+6],17,-1473231341),u=a(u,d,h,l,e[r+7],22,-45705983),l=a(l,u,d,h,e[r+8],7,1770035416),h=a(h,l,u,d,e[r+9],12,-1958414417),d=a(d,h,l,u,e[r+10],17,-42063),u=a(u,d,h,l,e[r+11],22,-1990404162),l=a(l,u,d,h,e[r+12],7,1804603682),h=a(h,l,u,d,e[r+13],12,-40341101),d=a(d,h,l,u,e[r+14],17,-1502002290),u=a(u,d,h,l,e[r+15],22,1236535329),l=o(l,u,d,h,e[r+1],5,-165796510),h=o(h,l,u,d,e[r+6],9,-1069501632),d=o(d,h,l,u,e[r+11],14,643717713),u=o(u,d,h,l,e[r],20,-373897302),l=o(l,u,d,h,e[r+5],5,-701558691),h=o(h,l,u,d,e[r+10],9,38016083),d=o(d,h,l,u,e[r+15],14,-660478335),u=o(u,d,h,l,e[r+4],20,-405537848),l=o(l,u,d,h,e[r+9],5,568446438),h=o(h,l,u,d,e[r+14],9,-1019803690),d=o(d,h,l,u,e[r+3],14,-187363961),u=o(u,d,h,l,e[r+8],20,1163531501),l=o(l,u,d,h,e[r+13],5,-1444681467),h=o(h,l,u,d,e[r+2],9,-51403784),d=o(d,h,l,u,e[r+7],14,1735328473),u=o(u,d,h,l,e[r+12],20,-1926607734),l=s(l,u,d,h,e[r+5],4,-378558),h=s(h,l,u,d,e[r+8],11,-2022574463),d=s(d,h,l,u,e[r+11],16,1839030562),u=s(u,d,h,l,e[r+14],23,-35309556),l=s(l,u,d,h,e[r+1],4,-1530992060),h=s(h,l,u,d,e[r+4],11,1272893353),d=s(d,h,l,u,e[r+7],16,-155497632),u=s(u,d,h,l,e[r+10],23,-1094730640),l=s(l,u,d,h,e[r+13],4,681279174),h=s(h,l,u,d,e[r],11,-358537222),d=s(d,h,l,u,e[r+3],16,-722521979),u=s(u,d,h,l,e[r+6],23,76029189),l=s(l,u,d,h,e[r+9],4,-640364487),h=s(h,l,u,d,e[r+12],11,-421815835),d=s(d,h,l,u,e[r+15],16,530742520),u=s(u,d,h,l,e[r+2],23,-995338651),l=c(l,u,d,h,e[r],6,-198630844),h=c(h,l,u,d,e[r+7],10,1126891415),d=c(d,h,l,u,e[r+14],15,-1416354905),u=c(u,d,h,l,e[r+5],21,-57434055),l=c(l,u,d,h,e[r+12],6,1700485571),h=c(h,l,u,d,e[r+3],10,-1894986606),d=c(d,h,l,u,e[r+10],15,-1051523),u=c(u,d,h,l,e[r+1],21,-2054922799),l=c(l,u,d,h,e[r+8],6,1873313359),h=c(h,l,u,d,e[r+15],10,-30611744),d=c(d,h,l,u,e[r+6],15,-1560198380),u=c(u,d,h,l,e[r+13],21,1309151649),l=c(l,u,d,h,e[r+4],6,-145523070),h=c(h,l,u,d,e[r+11],10,-1120210379),d=c(d,h,l,u,e[r+2],15,718787259),u=c(u,d,h,l,e[r+9],21,-343485551),l=n(l,t),u=n(u,i),d=n(d,p),h=n(h,f)}return Uint32Array.of(l,u,d,h)}(function(e){if(0===e.length)return new Uint32Array;const t=new Uint32Array(r(8*e.length)).fill(0);for(let r=0;r<e.length;r++)t[r>>2]|=(255&e[r])<<r%4*8;return t}(e),8*e.length))}},97824:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LangStringLiteral=t.TimeLiteral=t.DurationLiteral=t.DateLiteral=t.DayTimeDurationLiteral=t.DateTimeLiteral=t.yearMonthDurationsToMonths=t.toUTCDate=t.toDateTimeRepresentation=t.negateDuration=t.extractRawTimeZone=t.defaultedYearMonthDurationRepresentation=t.defaultedDurationRepresentation=t.defaultedDayTimeDurationRepresentation=t.defaultedDateTimeRepresentation=t.dayTimeDurationsToSeconds=t.isSubTypeOf=t.SparqlOperator=t.TypeAlias=t.TypeURL=t.typedLiteral=t.InvalidArity=t.InvalidLexicalForm=t.ExtensionFunctionError=t.CastError=t.UnboundVariableError=t.NoAggregator=t.InError=t.CoalesceError=t.InvalidArgumentTypes=t.InvalidTimezoneCall=t.IncompatibleLanguageOperation=t.RDFEqualTypeError=t.EmptyAggregateError=t.isExpressionError=t.ExpressionError=t.Builder=t.expressionToVar=t.float=t.decimal=t.langString=t.dateTime=t.integer=t.double=t.string=t.bool=t.declare=t.prepareEvaluatorActionContext=t.OverloadTree=t.TermTransformer=void 0,t.trimToDayTimeDuration=t.trimToYearMonthDuration=t.parseDate=t.parseXSDFloat=t.parseXSDDecimal=t.parseYearMonthDuration=t.parseTime=t.parseDuration=t.parseDayTimeDuration=t.parseDateTime=t.elapsedDuration=t.addDurationToDateTime=t.isNonLexicalLiteral=t.StringLiteral=t.NonLexicalLiteral=t.FloatLiteral=t.IntegerLiteral=t.Literal=t.Existence=t.Aggregate=t.DoubleLiteral=t.DefaultGraph=t.DecimalLiteral=t.BlankNode=t.BooleanLiteral=t.NumericLiteral=t.Variable=t.NamedNode=t.Operator=t.Quad=t.YearMonthDurationLiteral=t.Term=void 0;var n=r(63168);Object.defineProperty(t,"TermTransformer",{enumerable:!0,get:function(){return n.TermTransformer}});var i=r(86190);Object.defineProperty(t,"OverloadTree",{enumerable:!0,get:function(){return i.OverloadTree}});var a=r(81574);Object.defineProperty(t,"prepareEvaluatorActionContext",{enumerable:!0,get:function(){return a.prepareEvaluatorActionContext}});var o=r(42715);Object.defineProperty(t,"declare",{enumerable:!0,get:function(){return o.declare}}),Object.defineProperty(t,"bool",{enumerable:!0,get:function(){return o.bool}}),Object.defineProperty(t,"string",{enumerable:!0,get:function(){return o.string}}),Object.defineProperty(t,"double",{enumerable:!0,get:function(){return o.double}}),Object.defineProperty(t,"integer",{enumerable:!0,get:function(){return o.integer}}),Object.defineProperty(t,"dateTime",{enumerable:!0,get:function(){return o.dateTime}}),Object.defineProperty(t,"langString",{enumerable:!0,get:function(){return o.langString}}),Object.defineProperty(t,"decimal",{enumerable:!0,get:function(){return o.decimal}}),Object.defineProperty(t,"float",{enumerable:!0,get:function(){return o.float}}),Object.defineProperty(t,"expressionToVar",{enumerable:!0,get:function(){return o.expressionToVar}}),Object.defineProperty(t,"Builder",{enumerable:!0,get:function(){return o.Builder}});var s=r(48526);Object.defineProperty(t,"ExpressionError",{enumerable:!0,get:function(){return s.ExpressionError}}),Object.defineProperty(t,"isExpressionError",{enumerable:!0,get:function(){return s.isExpressionError}}),Object.defineProperty(t,"EmptyAggregateError",{enumerable:!0,get:function(){return s.EmptyAggregateError}}),Object.defineProperty(t,"RDFEqualTypeError",{enumerable:!0,get:function(){return s.RDFEqualTypeError}}),Object.defineProperty(t,"IncompatibleLanguageOperation",{enumerable:!0,get:function(){return s.IncompatibleLanguageOperation}}),Object.defineProperty(t,"InvalidTimezoneCall",{enumerable:!0,get:function(){return s.InvalidTimezoneCall}}),Object.defineProperty(t,"InvalidArgumentTypes",{enumerable:!0,get:function(){return s.InvalidArgumentTypes}}),Object.defineProperty(t,"CoalesceError",{enumerable:!0,get:function(){return s.CoalesceError}}),Object.defineProperty(t,"InError",{enumerable:!0,get:function(){return s.InError}}),Object.defineProperty(t,"NoAggregator",{enumerable:!0,get:function(){return s.NoAggregator}}),Object.defineProperty(t,"UnboundVariableError",{enumerable:!0,get:function(){return s.UnboundVariableError}}),Object.defineProperty(t,"CastError",{enumerable:!0,get:function(){return s.CastError}}),Object.defineProperty(t,"ExtensionFunctionError",{enumerable:!0,get:function(){return s.ExtensionFunctionError}}),Object.defineProperty(t,"InvalidLexicalForm",{enumerable:!0,get:function(){return s.InvalidLexicalForm}}),Object.defineProperty(t,"InvalidArity",{enumerable:!0,get:function(){return s.InvalidArity}});var c=r(89465);Object.defineProperty(t,"typedLiteral",{enumerable:!0,get:function(){return c.typedLiteral}}),Object.defineProperty(t,"TypeURL",{enumerable:!0,get:function(){return c.TypeURL}}),Object.defineProperty(t,"TypeAlias",{enumerable:!0,get:function(){return c.TypeAlias}}),Object.defineProperty(t,"SparqlOperator",{enumerable:!0,get:function(){return c.SparqlOperator}});var l=r(124);Object.defineProperty(t,"isSubTypeOf",{enumerable:!0,get:function(){return l.isSubTypeOf}});var u=r(14975);Object.defineProperty(t,"dayTimeDurationsToSeconds",{enumerable:!0,get:function(){return u.dayTimeDurationsToSeconds}}),Object.defineProperty(t,"defaultedDateTimeRepresentation",{enumerable:!0,get:function(){return u.defaultedDateTimeRepresentation}}),Object.defineProperty(t,"defaultedDayTimeDurationRepresentation",{enumerable:!0,get:function(){return u.defaultedDayTimeDurationRepresentation}}),Object.defineProperty(t,"defaultedDurationRepresentation",{enumerable:!0,get:function(){return u.defaultedDurationRepresentation}}),Object.defineProperty(t,"defaultedYearMonthDurationRepresentation",{enumerable:!0,get:function(){return u.defaultedYearMonthDurationRepresentation}}),Object.defineProperty(t,"extractRawTimeZone",{enumerable:!0,get:function(){return u.extractRawTimeZone}}),Object.defineProperty(t,"negateDuration",{enumerable:!0,get:function(){return u.negateDuration}}),Object.defineProperty(t,"toDateTimeRepresentation",{enumerable:!0,get:function(){return u.toDateTimeRepresentation}}),Object.defineProperty(t,"toUTCDate",{enumerable:!0,get:function(){return u.toUTCDate}}),Object.defineProperty(t,"yearMonthDurationsToMonths",{enumerable:!0,get:function(){return u.yearMonthDurationsToMonths}});var d=r(11032);Object.defineProperty(t,"DateTimeLiteral",{enumerable:!0,get:function(){return d.DateTimeLiteral}}),Object.defineProperty(t,"DayTimeDurationLiteral",{enumerable:!0,get:function(){return d.DayTimeDurationLiteral}}),Object.defineProperty(t,"DateLiteral",{enumerable:!0,get:function(){return d.DateLiteral}}),Object.defineProperty(t,"DurationLiteral",{enumerable:!0,get:function(){return d.DurationLiteral}}),Object.defineProperty(t,"TimeLiteral",{enumerable:!0,get:function(){return d.TimeLiteral}}),Object.defineProperty(t,"LangStringLiteral",{enumerable:!0,get:function(){return d.LangStringLiteral}}),Object.defineProperty(t,"Term",{enumerable:!0,get:function(){return d.Term}}),Object.defineProperty(t,"YearMonthDurationLiteral",{enumerable:!0,get:function(){return d.YearMonthDurationLiteral}}),Object.defineProperty(t,"Quad",{enumerable:!0,get:function(){return d.Quad}}),Object.defineProperty(t,"Operator",{enumerable:!0,get:function(){return d.Operator}}),Object.defineProperty(t,"NamedNode",{enumerable:!0,get:function(){return d.NamedNode}}),Object.defineProperty(t,"Variable",{enumerable:!0,get:function(){return d.Variable}}),Object.defineProperty(t,"NumericLiteral",{enumerable:!0,get:function(){return d.NumericLiteral}}),Object.defineProperty(t,"BooleanLiteral",{enumerable:!0,get:function(){return d.BooleanLiteral}}),Object.defineProperty(t,"BlankNode",{enumerable:!0,get:function(){return d.BlankNode}}),Object.defineProperty(t,"DecimalLiteral",{enumerable:!0,get:function(){return d.DecimalLiteral}}),Object.defineProperty(t,"DefaultGraph",{enumerable:!0,get:function(){return d.DefaultGraph}}),Object.defineProperty(t,"DoubleLiteral",{enumerable:!0,get:function(){return d.DoubleLiteral}}),Object.defineProperty(t,"Aggregate",{enumerable:!0,get:function(){return d.Aggregate}}),Object.defineProperty(t,"Existence",{enumerable:!0,get:function(){return d.Existence}}),Object.defineProperty(t,"Literal",{enumerable:!0,get:function(){return d.Literal}}),Object.defineProperty(t,"IntegerLiteral",{enumerable:!0,get:function(){return d.IntegerLiteral}}),Object.defineProperty(t,"FloatLiteral",{enumerable:!0,get:function(){return d.FloatLiteral}}),Object.defineProperty(t,"NonLexicalLiteral",{enumerable:!0,get:function(){return d.NonLexicalLiteral}}),Object.defineProperty(t,"StringLiteral",{enumerable:!0,get:function(){return d.StringLiteral}}),Object.defineProperty(t,"isNonLexicalLiteral",{enumerable:!0,get:function(){return d.isNonLexicalLiteral}});var h=r(37492);Object.defineProperty(t,"addDurationToDateTime",{enumerable:!0,get:function(){return h.addDurationToDateTime}}),Object.defineProperty(t,"elapsedDuration",{enumerable:!0,get:function(){return h.elapsedDuration}});var p=r(27817);Object.defineProperty(t,"parseDateTime",{enumerable:!0,get:function(){return p.parseDateTime}}),Object.defineProperty(t,"parseDayTimeDuration",{enumerable:!0,get:function(){return p.parseDayTimeDuration}}),Object.defineProperty(t,"parseDuration",{enumerable:!0,get:function(){return p.parseDuration}}),Object.defineProperty(t,"parseTime",{enumerable:!0,get:function(){return p.parseTime}}),Object.defineProperty(t,"parseYearMonthDuration",{enumerable:!0,get:function(){return p.parseYearMonthDuration}}),Object.defineProperty(t,"parseXSDDecimal",{enumerable:!0,get:function(){return p.parseXSDDecimal}}),Object.defineProperty(t,"parseXSDFloat",{enumerable:!0,get:function(){return p.parseXSDFloat}}),Object.defineProperty(t,"parseDate",{enumerable:!0,get:function(){return p.parseDate}});var f=r(14975);Object.defineProperty(t,"trimToYearMonthDuration",{enumerable:!0,get:function(){return f.trimToYearMonthDuration}}),Object.defineProperty(t,"trimToDayTimeDuration",{enumerable:!0,get:function(){return f.trimToDayTimeDuration}})},97831:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Aggregate=void 0;const n=r(90355);t.Aggregate=class{constructor(e,t){this.name=e,this.expression=t,this.expressionType=n.ExpressionType.Aggregate}}},97876:(e,t,r)=>{"use strict";const{ArrayPrototypePop:n,Promise:i}=r(28931),{isIterable:a,isNodeStream:o,isWebStream:s}=r(60782),{pipelineImpl:c}=r(30537),{finished:l}=r(20227);r(98387),e.exports={finished:l,pipeline:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return new i((e,r)=>{let i,l;const u=t[t.length-1];if(u&&"object"===typeof u&&!o(u)&&!a(u)&&!s(u)){const e=n(t);i=e.signal,l=e.end}c(t,(t,n)=>{t?r(t):e(n)},{signal:i,end:l})})}}},97950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(46672)},97957:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeHandlerSelectionFragmentSpread=void 0;const n=r(88511);class i extends n.NodeHandlerSelectionAdapter{constructor(e,t){super("FragmentSpread",e,t)}handle(e,t){const r=t.fragmentDefinitions[e.name.value];if(!r)throw new Error("Undefined fragment definition: "+e.name.value);const n={alias:void 0,arguments:void 0,directives:r.directives,kind:"Field",name:e.name,selectionSet:r.selectionSet},i=[this.util.newTypePattern(t.subject,r.typeCondition,t)];return this.util.operationFactory.createLeftJoin(this.util.operationFactory.createBgp([]),this.fieldToOperation(t,n,!1,i))}}t.NodeHandlerSelectionFragmentSpread=i},98077:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaxAggregator=void 0;const n=r(85830);class i extends n.AggregateEvaluator{constructor(e,t,r,n){super(e,t,n),this.orderByEvaluator=r,this.state=void 0}putTerm(e){if("Literal"!==e.termType)throw new Error("Term with value ".concat(e.value," has type ").concat(e.termType," and is not a literal"));(void 0===this.state||-1===this.orderByEvaluator.orderTypes(this.state,e))&&(this.state=e)}termResult(){return void 0===this.state?this.emptyValue():this.state}}t.MaxAggregator=i},98078:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryExpressionConcat=void 0;const i=r(11716),a=r(97824),o=r(39363);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.SparqlOperator.CONCAT],termFunction:!1}))}async run(e){return new o.ExpressionFunctionConcat}}t.ActorFunctionFactoryExpressionConcat=s},98160:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorBindingsAggregatorFactorySum=void 0;const n=r(85830),i=r(52840),a=r(13953),o=r(97824),s=r(3461);class c extends n.ActorBindingsAggregatorFactory{constructor(e){super(e),this.mediatorFunctionFactory=e.mediatorFunctionFactory}async test(e){return"sum"!==e.expr.aggregator?(0,a.failTest)("This actor only supports the 'sum' aggregator."):(0,a.passTestVoid)()}async run(e){let{expr:t,context:r}=e;return new s.SumAggregator(await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:t.expression,context:r}),t.distinct,r.getSafe(i.KeysInitQuery.dataFactory),await this.mediatorFunctionFactory.mediate({functionName:o.SparqlOperator.ADDITION,context:r,requireTermExpression:!0}))}}t.ActorBindingsAggregatorFactorySum=c},98169:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionXsdToDate=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.TypeURL.XSD_DATE,overloads:(0,i.declare)(i.TypeURL.XSD_DATE).onUnary(i.TypeURL.XSD_DATE,()=>e=>new i.DateLiteral(e.typedValue,e.strValue)).onUnary(i.TypeURL.XSD_DATE_TIME,()=>e=>new i.DateLiteral(e.typedValue)).onStringly1(()=>e=>new i.DateLiteral((0,i.parseDate)(e.str()))).collect()})}}t.TermFunctionXsdToDate=a},98280:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Util=void 0;class r{static isCompactIri(e){return e.indexOf(":")>0&&!(e&&"#"===e[0])}static getPrefix(e,t){if(e&&"#"===e[0])return null;const r=e.indexOf(":");if(r>=0){if(e.length>r+1&&"/"===e.charAt(r+1)&&"/"===e.charAt(r+2))return null;const n=e.substr(0,r);if("_"===n)return null;if(t[n])return n}return null}static getContextValueId(e){if(null===e||"string"===typeof e)return e;const t=e["@id"];return t||null}static isSimpleTermDefinitionPrefix(e,t){return!r.isPotentialKeyword(e)&&(t.allowPrefixNonGenDelims||"string"===typeof e&&("_"===e[0]||r.isPrefixIriEndingWithGenDelim(e)))}static isPotentialKeyword(e){return"string"===typeof e&&r.KEYWORD_REGEX.test(e)}static isPrefixIriEndingWithGenDelim(e){return r.ENDS_WITH_GEN_DELIM.test(e)}static isPrefixValue(e){return e&&("string"===typeof e||e&&"object"===typeof e)}static isValidIri(e){return Boolean(e&&r.IRI_REGEX.test(e))}static isValidIriWeak(e){return!!e&&":"!==e[0]&&r.IRI_REGEX_WEAK.test(e)}static isValidKeyword(e){return r.VALID_KEYWORDS[e]}static isTermProtected(e,t){const r=e[t];return!("string"===typeof r)&&r&&r["@protected"]}static hasProtectedTerms(e){for(const t of Object.keys(e))if(r.isTermProtected(e,t))return!0;return!1}static isReservedInternalKeyword(e){return e.startsWith("@__")}static deepEqual(e,t){const r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(r=>{const n=e[r],i=t[r];return n===i||null!==n&&null!==i&&"object"===typeof n&&"object"===typeof i&&this.deepEqual(n,i)})}}r.IRI_REGEX=/^([A-Za-z][A-Za-z0-9+-.]*|_):[^ "<>{}|\\\[\]`#]*(#[^#]*)?$/,r.IRI_REGEX_WEAK=/(?::[^:])|\//,r.KEYWORD_REGEX=/^@[a-z]+$/i,r.ENDS_WITH_GEN_DELIM=/[:/?#\[\]@]$/,r.REGEX_LANGUAGE_TAG=/^[a-zA-Z]+(-[a-zA-Z0-9]+)*$/,r.REGEX_DIRECTION_TAG=/^(ltr)|(rtl)$/,r.VALID_KEYWORDS={"@annotation":!0,"@base":!0,"@container":!0,"@context":!0,"@direction":!0,"@graph":!0,"@id":!0,"@import":!0,"@included":!0,"@index":!0,"@json":!0,"@language":!0,"@list":!0,"@nest":!0,"@none":!0,"@prefix":!0,"@propagate":!0,"@protected":!0,"@reverse":!0,"@set":!0,"@type":!0,"@value":!0,"@version":!0,"@vocab":!0},r.EXPAND_KEYS_BLACKLIST=["@base","@vocab","@language","@version","@direction"],r.ALIAS_DOMAIN_BLACKLIST=["@container","@graph","@id","@index","@list","@nest","@none","@prefix","@reverse","@set","@type","@value","@version"],r.ALIAS_RANGE_BLACKLIST=["@context","@preserve"],r.CONTAINERS=["@list","@set","@index","@language","@graph","@id","@type"],r.CONTAINERS_1_0=["@list","@set","@index"],t.Util=r},98370:(e,t,r)=>{"use strict";var n=r(12897).default;Object.defineProperty(t,"__esModule",{value:!0}),t.ActorFunctionFactoryTermXsdToDatetime=void 0;const i=r(11716),a=r(97824),o=r(10713);class s extends i.ActorFunctionFactoryDedicated{constructor(e){super(n(n({},e),{},{functionNames:[a.TypeURL.XSD_DATE_TIME],termFunction:!0}))}async run(e){return new o.TermFunctionXsdToDatetime}}t.ActorFunctionFactoryTermXsdToDatetime=s},98387:(e,t,r)=>{"use strict";const{Buffer:n}=r(26382),{ObjectDefineProperty:i,ObjectKeys:a,ReflectApply:o}=r(28931),{promisify:{custom:s}}=r(91887),{streamReturningOperators:c,promiseReturningOperators:l}=r(85434),{codes:{ERR_ILLEGAL_CONSTRUCTOR:u}}=r(60056),d=r(71963),{setDefaultHighWaterMark:h,getDefaultHighWaterMark:p}=r(68550),{pipeline:f}=r(30537),{destroyer:g}=r(36725),y=r(20227),m=r(97876),v=r(60782),b=e.exports=r(5220).Stream;b.isDestroyed=v.isDestroyed,b.isDisturbed=v.isDisturbed,b.isErrored=v.isErrored,b.isReadable=v.isReadable,b.isWritable=v.isWritable,b.Readable=r(87091);for(const w of a(c)){const x=c[w];function S(){if(new.target)throw u();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return b.Readable.from(o(x,this,t))}i(S,"name",{__proto__:null,value:x.name}),i(S,"length",{__proto__:null,value:x.length}),i(b.Readable.prototype,w,{__proto__:null,value:S,enumerable:!1,configurable:!0,writable:!0})}for(const T of a(l)){const O=l[T];function E(){if(new.target)throw u();for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o(O,this,t)}i(E,"name",{__proto__:null,value:O.name}),i(E,"length",{__proto__:null,value:O.length}),i(b.Readable.prototype,T,{__proto__:null,value:E,enumerable:!1,configurable:!0,writable:!0})}b.Writable=r(64999),b.Duplex=r(82781),b.Transform=r(85219),b.PassThrough=r(46361),b.pipeline=f;const{addAbortSignal:_}=r(78528);b.addAbortSignal=_,b.finished=y,b.destroy=g,b.compose=d,b.setDefaultHighWaterMark=h,b.getDefaultHighWaterMark=p,i(b,"promises",{__proto__:null,configurable:!0,enumerable:!0,get:()=>m}),i(f,s,{__proto__:null,enumerable:!0,get:()=>m.pipeline}),i(y,s,{__proto__:null,enumerable:!0,get:()=>m.finished}),b.Stream=b,b._isUint8Array=function(e){return e instanceof Uint8Array},b._uint8ArrayToBuffer=function(e){return n.from(e.buffer,e.byteOffset,e.byteLength)}},98533:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorRdfJoinEntriesSort=void 0;const n=r(13953);class i extends n.Actor{constructor(e){super(e)}}t.ActorRdfJoinEntriesSort=i},98555:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorOptimizeQueryOperationRewriteAdd=void 0;const n=r(49065),i=r(52840),a=r(13953),o=r(92832),s=r(85160),c=new o.DataFactory;class l extends n.ActorOptimizeQueryOperation{constructor(e){super(e)}async test(e){return(0,a.passTestVoid)()}async run(e){const t=e.context.getSafe(i.KeysInitQuery.dataFactory),r=new s.Factory(t);return{operation:s.Util.mapOperation(e.operation,{[s.Algebra.types.ADD](e,t){const r="DEFAULT"===e.destination?c.defaultGraph():e.destination,n="DEFAULT"===e.source?c.defaultGraph():e.source;return{result:t.createDeleteInsert(void 0,[t.createPattern(c.variable("s"),c.variable("p"),c.variable("o"),r)],t.createPattern(c.variable("s"),c.variable("p"),c.variable("o"),n)),recurse:!1}}},r),context:e.context}}}t.ActorOptimizeQueryOperationRewriteAdd=l},98756:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationReducedHash=void 0;const n=r(52241),i=r(13953),a=r(89266),o=r(90115);class s extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"reduced")}async testOperation(e,t){return(0,i.passTestVoid)()}async runOperation(e,t){const r=(0,a.getSafeBindings)(await this.mediatorQueryOperation.mediate({operation:e.input,context:t})),n=(await r.metadata()).variables.map(e=>e.variable);return{type:"bindings",bindingsStream:r.bindingsStream.filter(await this.newHashFilter(t,n)),metadata:r.metadata}}async newHashFilter(e,t){const{hashFunction:r}=await this.mediatorHashBindings.mediate({context:e}),n=new o.LRUCache({max:this.cacheSize});return e=>{const i=r(e,t);return!n.has(i)&&(n.set(i,!0),!0)}}}t.ActorQueryOperationReducedHash=s},98775:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RdfJsQuadDestination=void 0;const n=r(13715),i=r(45494);t.RdfJsQuadDestination=class{constructor(e,t){this.dataFactory=e,this.store=t}async update(e){e.delete&&await(0,n.promisifyEventEmitter)(this.store.remove(e.delete)),e.insert&&await(0,n.promisifyEventEmitter)(this.store.import(e.insert))}async deleteGraphs(e,t,r){switch(e){case"ALL":await(0,n.promisifyEventEmitter)(this.store.deleteGraph(this.dataFactory.defaultGraph()));case"NAMED":const t=this.store.match(),r={};t.on("data",e=>{"DefaultGraph"!==e.graph.termType&&(r[(0,i.termToString)(e.graph)]=!0)}),await(0,n.promisifyEventEmitter)(t),await Promise.all(Object.keys(r).map(e=>(0,n.promisifyEventEmitter)(this.store.deleteGraph((0,i.stringToTerm)(e,this.dataFactory)))));break;default:for(const i of Array.isArray(e)?e:[e])await(0,n.promisifyEventEmitter)(this.store.deleteGraph(i))}}async createGraphs(e,t){if(t)for(const r of e){const e=this.store.match(void 0,void 0,void 0,r);await new Promise((t,n)=>{e.once("data",()=>{n(new Error("Unable to create graph ".concat(r.value," as it already exists")))}),e.on("end",t),e.on("error",n)})}}}},98800:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NodeValueHandlerInt=void 0;const n=r(71506);class i extends n.NodeValueHandlerAdapter{constructor(e,t){super("IntValue",e,t),this.datatype=this.util.dataFactory.namedNode("http://www.w3.org/2001/XMLSchema#integer")}handle(e,t,r){return{terms:[this.util.dataFactory.literal(e.value,this.datatype)]}}}t.NodeValueHandlerInt=i},98871:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Literal=void 0;const n=r(8225);class i{constructor(e,t){this.termType="Literal",this.value=e,"string"===typeof t?(this.language=t,this.datatype=i.RDF_LANGUAGE_STRING):t?(this.language="",this.datatype=t):(this.language="",this.datatype=i.XSD_STRING)}equals(e){return!!e&&"Literal"===e.termType&&e.value===this.value&&e.language===this.language&&this.datatype.equals(e.datatype)}}t.Literal=i,i.RDF_LANGUAGE_STRING=new n.NamedNode("http://www.w3.org/1999/02/22-rdf-syntax-ns#langString"),i.XSD_STRING=new n.NamedNode("http://www.w3.org/2001/XMLSchema#string")},98879:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(51350),t)},98888:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHandlerString=void 0;class r{fromRdf(e){return e.value}toRdf(e,t){let{datatype:r,dataFactory:n}=t;return n.literal(e,r)}}r.TYPES=["http://www.w3.org/2001/XMLSchema#string","http://www.w3.org/2001/XMLSchema#normalizedString","http://www.w3.org/2001/XMLSchema#anyURI","http://www.w3.org/2001/XMLSchema#base64Binary","http://www.w3.org/2001/XMLSchema#language","http://www.w3.org/2001/XMLSchema#Name","http://www.w3.org/2001/XMLSchema#NCName","http://www.w3.org/2001/XMLSchema#NMTOKEN","http://www.w3.org/2001/XMLSchema#token","http://www.w3.org/2001/XMLSchema#hexBinary","http://www.w3.org/1999/02/22-rdf-syntax-ns#langString","http://www.w3.org/2001/XMLSchema#time","http://www.w3.org/2001/XMLSchema#duration"],t.TypeHandlerString=r},99038:(e,t,r)=>{var n="undefined"!==typeof globalThis&&globalThis||"undefined"!==typeof self&&self||"undefined"!==typeof r.g&&r.g,i=function(){function e(){this.fetch=!1,this.DOMException=n.DOMException}return e.prototype=n,new e}();!function(e){!function(t){var n="undefined"!==typeof e&&e||"undefined"!==typeof self&&self||"undefined"!==typeof r.g&&r.g||{},i="URLSearchParams"in n,a="Symbol"in n&&"iterator"in Symbol,o="FileReader"in n&&"Blob"in n&&function(){try{return new Blob,!0}catch(e){return!1}}(),s="FormData"in n,c="ArrayBuffer"in n;if(c)var l=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],u=ArrayBuffer.isView||function(e){return e&&l.indexOf(Object.prototype.toString.call(e))>-1};function d(e){if("string"!==typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(e)||""===e)throw new TypeError('Invalid character in header field name: "'+e+'"');return e.toLowerCase()}function h(e){return"string"!==typeof e&&(e=String(e)),e}function p(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return a&&(t[Symbol.iterator]=function(){return t}),t}function f(e){this.map={},e instanceof f?e.forEach(function(e,t){this.append(t,e)},this):Array.isArray(e)?e.forEach(function(e){if(2!=e.length)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+e.length);this.append(e[0],e[1])},this):e&&Object.getOwnPropertyNames(e).forEach(function(t){this.append(t,e[t])},this)}function g(e){if(!e._noBody)return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function y(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function m(e){var t=new FileReader,r=y(t);return t.readAsArrayBuffer(e),r}function v(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function b(){return this.bodyUsed=!1,this._initBody=function(e){var t;this.bodyUsed=this.bodyUsed,this._bodyInit=e,e?"string"===typeof e?this._bodyText=e:o&&Blob.prototype.isPrototypeOf(e)?this._bodyBlob=e:s&&FormData.prototype.isPrototypeOf(e)?this._bodyFormData=e:i&&URLSearchParams.prototype.isPrototypeOf(e)?this._bodyText=e.toString():c&&o&&((t=e)&&DataView.prototype.isPrototypeOf(t))?(this._bodyArrayBuffer=v(e.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c&&(ArrayBuffer.prototype.isPrototypeOf(e)||u(e))?this._bodyArrayBuffer=v(e):this._bodyText=e=Object.prototype.toString.call(e):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||("string"===typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):i&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},o&&(this.blob=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var e=g(this);return e||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}if(o)return this.blob().then(m);throw new Error("could not read as ArrayBuffer")},this.text=function(){var e=g(this);if(e)return e;if(this._bodyBlob)return function(e){var t=new FileReader,r=y(t),n=/charset=([A-Za-z0-9_-]+)/.exec(e.type),i=n?n[1]:"utf-8";return t.readAsText(e,i),r}(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),n=0;n<t.length;n++)r[n]=String.fromCharCode(t[n]);return r.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},s&&(this.formData=function(){return this.text().then(x)}),this.json=function(){return this.text().then(JSON.parse)},this}f.prototype.append=function(e,t){e=d(e),t=h(t);var r=this.map[e];this.map[e]=r?r+", "+t:t},f.prototype.delete=function(e){delete this.map[d(e)]},f.prototype.get=function(e){return e=d(e),this.has(e)?this.map[e]:null},f.prototype.has=function(e){return this.map.hasOwnProperty(d(e))},f.prototype.set=function(e,t){this.map[d(e)]=h(t)},f.prototype.forEach=function(e,t){for(var r in this.map)this.map.hasOwnProperty(r)&&e.call(t,this.map[r],r,this)},f.prototype.keys=function(){var e=[];return this.forEach(function(t,r){e.push(r)}),p(e)},f.prototype.values=function(){var e=[];return this.forEach(function(t){e.push(t)}),p(e)},f.prototype.entries=function(){var e=[];return this.forEach(function(t,r){e.push([r,t])}),p(e)},a&&(f.prototype[Symbol.iterator]=f.prototype.entries);var _=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function w(e,t){if(!(this instanceof w))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');var r=(t=t||{}).body;if(e instanceof w){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new f(e.headers)),this.method=e.method,this.mode=e.mode,this.signal=e.signal,r||null==e._bodyInit||(r=e._bodyInit,e.bodyUsed=!0)}else this.url=String(e);if(this.credentials=t.credentials||this.credentials||"same-origin",!t.headers&&this.headers||(this.headers=new f(t.headers)),this.method=function(e){var t=e.toUpperCase();return _.indexOf(t)>-1?t:e}(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.signal=t.signal||this.signal||function(){if("AbortController"in n)return(new AbortController).signal}(),this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&r)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(r),("GET"===this.method||"HEAD"===this.method)&&("no-store"===t.cache||"no-cache"===t.cache)){var i=/([?&])_=[^&]*/;if(i.test(this.url))this.url=this.url.replace(i,"$1_="+(new Date).getTime());else{this.url+=(/\?/.test(this.url)?"&":"?")+"_="+(new Date).getTime()}}}function x(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),i=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(i))}}),t}function S(e){var t=new f;return e.replace(/\r?\n[\t ]+/g," ").split("\r").map(function(e){return 0===e.indexOf("\n")?e.substr(1,e.length):e}).forEach(function(e){var r=e.split(":"),n=r.shift().trim();if(n){var i=r.join(":").trim();try{t.append(n,i)}catch(a){console.warn("Response "+a.message)}}}),t}function T(e,t){if(!(this instanceof T))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(t||(t={}),this.type="default",this.status=void 0===t.status?200:t.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=void 0===t.statusText?"":""+t.statusText,this.headers=new f(t.headers),this.url=t.url||"",this._initBody(e)}w.prototype.clone=function(){return new w(this,{body:this._bodyInit})},b.call(w.prototype),b.call(T.prototype),T.prototype.clone=function(){return new T(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new f(this.headers),url:this.url})},T.error=function(){var e=new T(null,{status:200,statusText:""});return e.ok=!1,e.status=0,e.type="error",e};var O=[301,302,303,307,308];T.redirect=function(e,t){if(-1===O.indexOf(t))throw new RangeError("Invalid status code");return new T(null,{status:t,headers:{location:e}})},t.DOMException=n.DOMException;try{new t.DOMException}catch(A){t.DOMException=function(e,t){this.message=e,this.name=t;var r=Error(e);this.stack=r.stack},t.DOMException.prototype=Object.create(Error.prototype),t.DOMException.prototype.constructor=t.DOMException}function E(e,r){return new Promise(function(i,a){var s=new w(e,r);if(s.signal&&s.signal.aborted)return a(new t.DOMException("Aborted","AbortError"));var l=new XMLHttpRequest;function u(){l.abort()}if(l.onload=function(){var e={statusText:l.statusText,headers:S(l.getAllResponseHeaders()||"")};0===s.url.indexOf("file://")&&(l.status<200||l.status>599)?e.status=200:e.status=l.status,e.url="responseURL"in l?l.responseURL:e.headers.get("X-Request-URL");var t="response"in l?l.response:l.responseText;setTimeout(function(){i(new T(t,e))},0)},l.onerror=function(){setTimeout(function(){a(new TypeError("Network request failed"))},0)},l.ontimeout=function(){setTimeout(function(){a(new TypeError("Network request timed out"))},0)},l.onabort=function(){setTimeout(function(){a(new t.DOMException("Aborted","AbortError"))},0)},l.open(s.method,function(e){try{return""===e&&n.location.href?n.location.href:e}catch(t){return e}}(s.url),!0),"include"===s.credentials?l.withCredentials=!0:"omit"===s.credentials&&(l.withCredentials=!1),"responseType"in l&&(o?l.responseType="blob":c&&(l.responseType="arraybuffer")),r&&"object"===typeof r.headers&&!(r.headers instanceof f||n.Headers&&r.headers instanceof n.Headers)){var p=[];Object.getOwnPropertyNames(r.headers).forEach(function(e){p.push(d(e)),l.setRequestHeader(e,h(r.headers[e]))}),s.headers.forEach(function(e,t){-1===p.indexOf(t)&&l.setRequestHeader(t,e)})}else s.headers.forEach(function(e,t){l.setRequestHeader(t,e)});s.signal&&(s.signal.addEventListener("abort",u),l.onreadystatechange=function(){4===l.readyState&&s.signal.removeEventListener("abort",u)}),l.send("undefined"===typeof s._bodyInit?null:s._bodyInit)})}E.polyfill=!0,n.fetch||(n.fetch=E,n.Headers=f,n.Request=w,n.Response=T),t.Headers=f,t.Request=w,t.Response=T,t.fetch=E,Object.defineProperty(t,"__esModule",{value:!0})}({})}(i),i.fetch.ponyfill=!0,delete i.fetch.polyfill;var a=n.fetch?n:i;(t=a.fetch).default=a.fetch,t.fetch=a.fetch,t.Headers=a.Headers,t.Request=a.Request,t.Response=a.Response,e.exports=t},99093:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActorQueryOperationFilter=void 0;const n=r(52241),i=r(13953),a=r(7979),o=r(97824),s=r(89266);class c extends n.ActorQueryOperationTypedMediated{constructor(e){super(e,"filter"),this.mediatorExpressionEvaluatorFactory=e.mediatorExpressionEvaluatorFactory}async testOperation(){return(0,i.passTestVoid)()}async runOperation(e,t){const r=await this.mediatorQueryOperation.mediate({operation:e.input,context:t}),n=(0,s.getSafeBindings)(r);(0,s.validateQueryOutput)(n,"bindings");const i=await this.mediatorExpressionEvaluatorFactory.mediate({algExpr:e.expression,context:t}),c=n.bindingsStream.transform({transform:async(e,r,n)=>{try{await i.evaluateAsEBV(e)&&n(e)}catch(s){(0,o.isExpressionError)(s)?this.logWarn(t,"Error occurred while filtering.",()=>({error:s,bindings:(0,a.bindingsToString)(e)})):c.emit("error",s)}r()},autoStart:!1});return{type:"bindings",bindingsStream:c,metadata:n.metadata}}}t.ActorQueryOperationFilter=c},99141:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionPredicate=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.PREDICATE,overloads:(0,i.declare)(i.SparqlOperator.PREDICATE).onQuad1(()=>e=>e.predicate).collect()})}}t.TermFunctionPredicate=a},99323:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(98160),t),i(r(3461),t)},99758:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkedIterator=void 0;const n=r(72758);class i extends n.TransformIterator{constructor(e,t,r){super(e,r),this.chunk=[],this.blockSize=t}consumeChunkAsIterator(){const e=new n.ArrayIterator(this.chunk,{autoStart:!1});return this.chunk=[],e}_transform(e,t,r){this.chunk.push(e),this.chunk.length>=this.blockSize&&r(this.consumeChunkAsIterator()),t()}_flush(e){this.chunk.length>0&&this._push(this.consumeChunkAsIterator()),super._flush(e)}}t.ChunkedIterator=i},99781:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TermFunctionRound=void 0;const n=r(11716),i=r(97824);class a extends n.TermFunctionBase{constructor(){super({arity:1,operator:i.SparqlOperator.ROUND,overloads:(0,i.declare)(i.SparqlOperator.ROUND).numericConverter(()=>e=>Math.round(e)).collect()})}}t.TermFunctionRound=a}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={exports:{}};return e[n].call(a.exports,a,a.exports,r),a.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",r.nc=void 0,(()=>{"use strict";var e=r(65043),t=r(84391);function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=n(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function a(e,t,r){return(t=i(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function s(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach(function(t){a(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}const c=r.p+"static/media/databricks-logo.7bbb3b03b60148b4981a616931f4e917.svg";var l=r(70579);const u=t=>{let{activeModule:r,onModuleChange:n,onToggle:i,isCollapsed:a}=t;const[o,u]=(0,e.useState)({modeling:!0,visualization:!0,analysis:!0,monitoring:!0}),d=e=>{let{item:t,section:i}=e;return(0,l.jsxs)("div",{className:"menu-item ".concat(r===t.id?"active":""),onClick:()=>{return e=t.id,void n(e);var e},title:a?"".concat(t.label," - ").concat(t.description):t.description,children:[(0,l.jsxs)("div",{className:"menu-item-content",children:[(0,l.jsx)("span",{className:"menu-icon",children:t.icon}),!a&&(0,l.jsxs)("div",{className:"menu-text",children:[(0,l.jsx)("span",{className:"menu-label",children:t.label}),(0,l.jsx)("span",{className:"menu-description",children:t.description})]})]}),!a&&r===t.id&&(0,l.jsx)("span",{className:"active-indicator",children:"\u25cf"})]})};return(0,l.jsxs)("div",{className:"sidebar ".concat(a?"collapsed":""),children:[(0,l.jsxs)("div",{className:"sidebar-header",children:[(0,l.jsxs)("div",{className:"logo-section",children:[(0,l.jsx)("img",{src:c,alt:"Databricks",className:"sidebar-logo"}),!a&&(0,l.jsxs)("div",{className:"app-title",children:[(0,l.jsx)("h3",{children:"Digital Twin"}),(0,l.jsx)("span",{className:"app-subtitle",children:"Manufacturing System"})]})]}),(0,l.jsx)("button",{className:"toggle-btn",onClick:i,children:a?"\u2192":"\u2190"})]}),(0,l.jsx)("div",{className:"sidebar-content",children:(0,l.jsx)("div",{className:"menu-sections",children:[{section:"modeling",title:"Data Modeling",icon:"\ud83c\udfd7\ufe0f",items:[{id:"rdf-editor",label:"RDF Model Editor",icon:"\ud83d\udcdd",description:"Define and edit RDF models"},{id:"model-library",label:"Model Library",icon:"\ud83d\udcda",description:"Saved model templates"}]},{section:"visualization",title:"Visualization",icon:"\ud83d\udcca",items:[{id:"graph",label:"Graph Editor",icon:"\ud83d\udd17",description:"Interactive graph visualization"},{id:"graph-view",label:"Graph Viewer",icon:"\ud83c\udfde\ufe0f",description:"View the latest state of the graph."},{id:"3d",label:"3D Viewer",icon:"\ud83c\udfed",description:"3D factory model"},{id:"dashboard",label:"Dashboard",icon:"\ud83d\udcc8",description:"Custom dashboards"}]},{section:"analysis",title:"Analysis & Query",icon:"\ud83d\udd0d",items:[{id:"sparql",label:"SPARQL Query",icon:"\ud83d\udd0d",description:"Query RDF data"},{id:"analytics",label:"Analytics",icon:"\ud83d\udcca",description:"Data analytics tools"}]},{section:"monitoring",title:"Monitoring",icon:"\ud83d\udce1",items:[{id:"telemetry",label:"Telemetry",icon:"\ud83d\udcc8",description:"Real-time sensor data"},{id:"alerts",label:"Alerts",icon:"\ud83d\udea8",description:"System alerts"},{id:"logs",label:"System Logs",icon:"\ud83d\udccb",description:"Application logs"}]}].map(e=>(0,l.jsxs)("div",{className:"menu-section",children:[(0,l.jsx)("div",{className:"section-header",onClick:()=>!a&&(e=>{u(t=>s(s({},t),{},{[e]:!t[e]}))})(e.section),children:(0,l.jsxs)("div",{className:"section-info",children:[(0,l.jsx)("span",{className:"section-icon",children:e.icon}),!a&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"section-title",children:e.title}),(0,l.jsx)("span",{className:"expand-icon ".concat(o[e.section]?"expanded":""),children:"\u25bc"})]})]})}),(a||o[e.section])&&(0,l.jsx)("div",{className:"section-items",children:e.items.map(t=>(0,l.jsx)(d,{item:t,section:e.section},t.id))})]},e.section))})}),(0,l.jsx)("div",{className:"sidebar-footer",children:!a&&(0,l.jsxs)("div",{className:"status-info",children:[(0,l.jsxs)("div",{className:"status-item",children:[(0,l.jsx)("span",{className:"status-dot online"}),(0,l.jsx)("span",{children:"System Online"})]}),(0,l.jsxs)("div",{className:"status-item",children:[(0,l.jsx)("span",{className:"status-dot"}),(0,l.jsxs)("span",{children:["Last Update: ",(new Date).toLocaleTimeString()]})]})]})})]})};function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t,r){return t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,v(n.key),n)}}(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=_(e))||t){r&&(e=r);var n=0,i=function(){};return{s:i,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==r.return||r.return()}finally{if(s)throw a}}}}function g(e,t,r){return(t=v(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,i,a,o,s=[],c=!0,l=!1;try{if(a=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=a.call(r)).done)&&(s.push(n.value),s.length!==t);c=!0);}catch(e){l=!0,i=e}finally{try{if(!c&&null!=r.return&&(o=r.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return d(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t);if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"==typeof t?t:t+""}function b(e){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b(e)}function _(e,t){if(e){if("string"==typeof e)return d(e,t);var r={}.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?d(e,t):void 0}}var w="undefined"===typeof window?null:window,x=w?w.navigator:null;w&&w.document;var S,T,O,E,A,P,N,j,D,R,I,F,C,M,k,L,B,U,V,z,q,Q,G,H,W,X,K,$,Y=b(""),J=b({}),Z=b(function(){}),ee="undefined"===typeof HTMLElement?"undefined":b(HTMLElement),te=function(e){return e&&e.instanceString&&ne(e.instanceString)?e.instanceString():null},re=function(e){return null!=e&&b(e)==Y},ne=function(e){return null!=e&&b(e)===Z},ie=function(e){return!ce(e)&&(Array.isArray?Array.isArray(e):null!=e&&e instanceof Array)},ae=function(e){return null!=e&&b(e)===J&&!ie(e)&&e.constructor===Object},oe=function(e){return null!=e&&b(e)===b(1)&&!isNaN(e)},se=function(e){return"undefined"===ee?void 0:null!=e&&e instanceof HTMLElement},ce=function(e){return le(e)||ue(e)},le=function(e){return"collection"===te(e)&&e._private.single},ue=function(e){return"collection"===te(e)&&!e._private.single},de=function(e){return"core"===te(e)},he=function(e){return"stylesheet"===te(e)},pe=function(e){return void 0===e||null===e||!(""!==e&&!e.match(/^\s+$/))},fe=function(e){return function(e){return null!=e&&b(e)===J}(e)&&ne(e.then)},ge=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var r=function(){var n,i=arguments,a=t.apply(this,i),o=r.cache;return(n=o[a])||(n=o[a]=e.apply(this,i)),n};return r.cache={},r},ye=ge(function(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}),me=ge(function(e){return e.replace(/(-\w)/g,function(e){return e[1].toUpperCase()})}),ve=ge(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),be=function(e){return pe(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},_e=function(e,t){return e.slice(-1*t.length)===t},we="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",xe="rgb[a]?\\(("+we+"[%]?)\\s*,\\s*("+we+"[%]?)\\s*,\\s*("+we+"[%]?)(?:\\s*,\\s*("+we+"))?\\)",Se="rgb[a]?\\((?:"+we+"[%]?)\\s*,\\s*(?:"+we+"[%]?)\\s*,\\s*(?:"+we+"[%]?)(?:\\s*,\\s*(?:"+we+"))?\\)",Te="hsl[a]?\\(("+we+")\\s*,\\s*("+we+"[%])\\s*,\\s*("+we+"[%])(?:\\s*,\\s*("+we+"))?\\)",Oe="hsl[a]?\\((?:"+we+")\\s*,\\s*(?:"+we+"[%])\\s*,\\s*(?:"+we+"[%])(?:\\s*,\\s*(?:"+we+"))?\\)",Ee=function(e,t){return e<t?-1:e>t?1:0},Ae=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];if(null!=n)for(var i=Object.keys(n),a=0;a<i.length;a++){var o=i[a];e[o]=n[o]}}return e},Pe=function(e){return(ie(e)?e:null)||function(e){return Ne[e.toLowerCase()]}(e)||function(e){if((4===e.length||7===e.length)&&"#"===e[0]){var t,r,n,i=16;return 4===e.length?(t=parseInt(e[1]+e[1],i),r=parseInt(e[2]+e[2],i),n=parseInt(e[3]+e[3],i)):(t=parseInt(e[1]+e[2],i),r=parseInt(e[3]+e[4],i),n=parseInt(e[5]+e[6],i)),[t,r,n]}}(e)||function(e){var t,r=new RegExp("^"+xe+"$").exec(e);if(r){t=[];for(var n=[],i=1;i<=3;i++){var a=r[i];if("%"===a[a.length-1]&&(n[i]=!0),a=parseFloat(a),n[i]&&(a=a/100*255),a<0||a>255)return;t.push(Math.floor(a))}var o=n[1]||n[2]||n[3],s=n[1]&&n[2]&&n[3];if(o&&!s)return;var c=r[4];if(void 0!==c){if((c=parseFloat(c))<0||c>1)return;t.push(c)}}return t}(e)||function(e){var t,r,n,i,a,o,s,c;function l(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}var u=new RegExp("^"+Te+"$").exec(e);if(u){if((r=parseInt(u[1]))<0?r=(360- -1*r%360)%360:r>360&&(r%=360),r/=360,(n=parseFloat(u[2]))<0||n>100)return;if(n/=100,(i=parseFloat(u[3]))<0||i>100)return;if(i/=100,void 0!==(a=u[4])&&((a=parseFloat(a))<0||a>1))return;if(0===n)o=s=c=Math.round(255*i);else{var d=i<.5?i*(1+n):i+n-i*n,h=2*i-d;o=Math.round(255*l(h,d,r+1/3)),s=Math.round(255*l(h,d,r)),c=Math.round(255*l(h,d,r-1/3))}t=[o,s,c,a]}return t}(e)},Ne={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},je=function(e){for(var t=e.map,r=e.keys,n=r.length,i=0;i<n;i++){var a=r[i];if(ae(a))throw Error("Tried to set map with object key");i<r.length-1?(null==t[a]&&(t[a]={}),t=t[a]):t[a]=e.value}},De=function(e){for(var t=e.map,r=e.keys,n=r.length,i=0;i<n;i++){var a=r[i];if(ae(a))throw Error("Tried to get map with object key");if(null==(t=t[a]))return t}return t},Re="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{};function Ie(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fe(){if(T)return S;return T=1,S=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}}function Ce(){if(P)return A;P=1;var e=function(){if(E)return O;E=1;var e="object"==typeof Re&&Re&&Re.Object===Object&&Re;return O=e}(),t="object"==typeof self&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return A=r}function Me(){if(F)return I;F=1;var e=function(){if(R)return D;R=1;var e=/\s/;return D=function(t){for(var r=t.length;r--&&e.test(t.charAt(r)););return r},D}(),t=/^\s+/;return I=function(r){return r?r.slice(0,e(r)+1).replace(t,""):r},I}function ke(){if(M)return C;M=1;var e=Ce().Symbol;return C=e}function Le(){if(z)return V;z=1;var e=ke(),t=function(){if(L)return k;L=1;var e=ke(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,i=e?e.toStringTag:void 0;return k=function(e){var t=r.call(e,i),a=e[i];try{e[i]=void 0;var o=!0}catch(c){}var s=n.call(e);return o&&(t?e[i]=a:delete e[i]),s}}(),r=function(){if(U)return B;U=1;var e=Object.prototype.toString;return B=function(t){return e.call(t)}}(),n=e?e.toStringTag:void 0;return V=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":n&&n in Object(e)?t(e):r(e)}}function Be(){if(H)return G;H=1;var e=Le(),t=Q?q:(Q=1,q=function(e){return null!=e&&"object"==typeof e});return G=function(r){return"symbol"==typeof r||t(r)&&"[object Symbol]"==e(r)}}var Ue=function(){if($)return K;$=1;var e=Fe(),t=function(){if(j)return N;j=1;var e=Ce();return N=function(){return e.Date.now()}}(),r=function(){if(X)return W;X=1;var e=Me(),t=Fe(),r=Be(),n=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,a=/^0o[0-7]+$/i,o=parseInt;return W=function(s){if("number"==typeof s)return s;if(r(s))return NaN;if(t(s)){var c="function"==typeof s.valueOf?s.valueOf():s;s=t(c)?c+"":c}if("string"!=typeof s)return 0===s?s:+s;s=e(s);var l=i.test(s);return l||a.test(s)?o(s.slice(2),l?2:8):n.test(s)?NaN:+s}}(),n=Math.max,i=Math.min;return K=function(a,o,s){var c,l,u,d,h,p,f=0,g=!1,y=!1,m=!0;if("function"!=typeof a)throw new TypeError("Expected a function");function v(e){var t=c,r=l;return c=l=void 0,f=e,d=a.apply(r,t)}function b(e){var t=e-p;return void 0===p||t>=o||t<0||y&&e-f>=u}function _(){var e=t();if(b(e))return w(e);h=setTimeout(_,function(e){var t=o-(e-p);return y?i(t,u-(e-f)):t}(e))}function w(e){return h=void 0,m&&c?v(e):(c=l=void 0,d)}function x(){var e=t(),r=b(e);if(c=arguments,l=this,p=e,r){if(void 0===h)return function(e){return f=e,h=setTimeout(_,o),g?v(e):d}(p);if(y)return clearTimeout(h),h=setTimeout(_,o),v(p)}return void 0===h&&(h=setTimeout(_,o)),d}return o=r(o)||0,e(s)&&(g=!!s.leading,u=(y="maxWait"in s)?n(r(s.maxWait)||0,o):u,m="trailing"in s?!!s.trailing:m),x.cancel=function(){void 0!==h&&clearTimeout(h),f=0,c=p=l=h=void 0},x.flush=function(){return void 0===h?d:w(t())},x}}(),Ve=Ie(Ue),ze=w?w.performance:null,qe=ze&&ze.now?function(){return ze.now()}:function(){return Date.now()},Qe=function(){if(w){if(w.requestAnimationFrame)return function(e){w.requestAnimationFrame(e)};if(w.mozRequestAnimationFrame)return function(e){w.mozRequestAnimationFrame(e)};if(w.webkitRequestAnimationFrame)return function(e){w.webkitRequestAnimationFrame(e)};if(w.msRequestAnimationFrame)return function(e){w.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(qe())},1e3/60)}}(),Ge=function(e){return Qe(e)},He=qe,We=9261,Xe=5381,Ke=function(e){for(var t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:We;!(t=e.next()).done;)r=65599*r+t.value|0;return r},$e=function(e){return 65599*(arguments.length>1&&void 0!==arguments[1]?arguments[1]:We)+e|0},Ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Xe;return(t<<5)+t+e|0},Je=function(e){return 2097152*e[0]+e[1]},Ze=function(e,t){return[$e(e[0],t[0]),Ye(e[1],t[1])]},et=function(e,t){var r={value:0,done:!1},n=0,i=e.length;return Ke({next:function(){return n<i?r.value=e[n++]:r.done=!0,r}},t)},tt=function(e,t){var r={value:0,done:!1},n=0,i=e.length;return Ke({next:function(){return n<i?r.value=e.charCodeAt(n++):r.done=!0,r}},t)},rt=function(){return nt(arguments)},nt=function(e){for(var t,r=0;r<e.length;r++){var n=e[r];t=0===r?tt(n):tt(n,t)}return t};function it(e,t,r){if(0===r)return e;var n=(t.x1+t.x2)/2,i=(t.y1+t.y2)/2,a=t.w/t.h,o=1/a,s=function(e,t,r,n,i){var a=i*Math.PI/180;return{x:Math.cos(a)*(e-r)-Math.sin(a)*(t-n)+r,y:Math.sin(a)*(e-r)+Math.cos(a)*(t-n)+n}}(e.x,e.y,n,i,r),c=function(e,t,r,n,i,a){return{x:(e-r)*i+r,y:(t-n)*a+n}}(s.x,s.y,n,i,a,o);return{x:c.x,y:c.y}}var at=!0,ot=null!=console.warn,st=null!=console.trace,ct=Number.MAX_SAFE_INTEGER||9007199254740991,lt=function(){return!0},ut=function(){return!1},dt=function(){return 0},ht=function(){},pt=function(e){throw new Error(e)},ft=function(e){if(void 0===e)return at;at=!!e},gt=function(e){ft()&&(ot?console.warn(e):(console.log(e),st&&console.trace()))},yt=function(e){return null==e?e:ie(e)?e.slice():ae(e)?function(e){return Ae({},e)}(e):e},mt=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},vt={},bt=function(){return vt},_t=function(e){var t=Object.keys(e);return function(r){for(var n={},i=0;i<t.length;i++){var a=t[i],o=null==r?void 0:r[a];n[a]=void 0===o?e[a]:o}return n}},wt=function(e,t,r){for(var n=e.length-1;n>=0;n--)e[n]===t&&e.splice(n,1)},xt=function(e){e.splice(0,e.length)},St=function(e,t,r){return r&&(t=ve(r,t)),e[t]},Tt=function(e,t,r,n){r&&(t=ve(r,t)),e[t]=n},Ot="undefined"!==typeof Map?Map:function(){return p(function e(){h(this,e),this._obj={}},[{key:"set",value:function(e,t){return this._obj[e]=t,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return void 0!==this._obj[e]}},{key:"get",value:function(e){return this._obj[e]}}])}(),Et=function(){return p(function e(t){if(h(this,e),this._obj=Object.create(null),this.size=0,null!=t){var r;r=null!=t.instanceString&&t.instanceString()===this.instanceString()?t.toArray():t;for(var n=0;n<r.length;n++)this.add(r[n])}},[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var t=this._obj;1!==t[e]&&(t[e]=1,this.size++)}},{key:"delete",value:function(e){var t=this._obj;1===t[e]&&(t[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter(function(t){return e.has(t)})}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}}])}(),At="undefined"!==("undefined"===typeof Set?"undefined":b(Set))?Set:Et,Pt=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e&&void 0!==t&&de(e)){var n=t.group;if(null==n&&(n=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===n||"edges"===n){this.length=1,this[0]=this;var i=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:n,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,pannable:void 0===t.pannable?"edges"===n:!!t.pannable,active:!1,classes:new At,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:t.parent&&t.parent.isNode()?t.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==i.position.x&&(i.position.x=0),null==i.position.y&&(i.position.y=0),t.renderedPosition){var a=t.renderedPosition,o=e.pan(),s=e.zoom();i.position={x:(a.x-o.x)/s,y:(a.y-o.y)/s}}var c=[];ie(t.classes)?c=t.classes:re(t.classes)&&(c=t.classes.split(/\s+/));for(var l=0,u=c.length;l<u;l++){var d=c[l];d&&""!==d&&i.classes.add(d)}this.createEmitter(),(void 0===r||r)&&this.restore();var h=t.style||t.css;h&&(gt("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(h))}else pt("An element must be of type `nodes` or `edges`; you specified `"+n+"`")}else pt("An element must have a core reference and parameters set")},Nt=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,r,n){var i;ae(t)&&!ce(t)&&(t=(i=t).roots||i.root,r=i.visit,n=i.directed),n=2!==arguments.length||ne(r)?n:r,r=ne(r)?r:function(){};for(var a,o=this._private.cy,s=t=re(t)?this.filter(t):t,c=[],l=[],u={},d={},h={},p=0,f=this.byGroup(),g=f.nodes,y=f.edges,m=0;m<s.length;m++){var v=s[m],b=v.id();v.isNode()&&(c.unshift(v),e.bfs&&(h[b]=!0,l.push(v)),d[b]=0)}for(var _,w=function(){var t=e.bfs?c.shift():c.pop(),i=t.id();if(e.dfs){if(h[i])return 0;h[i]=!0,l.push(t)}var o,s=d[i],f=u[i],m=null!=f?f.source():null,v=null!=f?f.target():null,b=null==f?void 0:t.same(m)?v[0]:m[0];if(!0===(o=r(t,f,b,p++,s)))return a=t,1;if(!1===o)return 1;for(var _=t.connectedEdges().filter(function(e){return(!n||e.source().same(t))&&y.has(e)}),w=0;w<_.length;w++){var x=_[w],S=x.connectedNodes().filter(function(e){return!e.same(t)&&g.has(e)}),T=S.id();0===S.length||h[T]||(S=S[0],c.push(S),e.bfs&&(h[T]=!0,l.push(S)),u[T]=x,d[T]=d[i]+1)}};0!==c.length&&(0===(_=w())||1!==_););for(var x=o.collection(),S=0;S<l.length;S++){var T=l[S],O=u[T.id()];null!=O&&x.push(O),x.push(T)}return{path:o.collection(x),found:o.collection(a)}}},jt={breadthFirstSearch:Nt({bfs:!0}),depthFirstSearch:Nt({dfs:!0})};jt.bfs=jt.breadthFirstSearch,jt.dfs=jt.depthFirstSearch;var Dt,Rt,It,Ft={exports:{}},Ct=Ft.exports;function Mt(){return Dt||(Dt=1,e=Ft,function(){var t,r,n,i,a,o,s,c,l,u,d,h,p,f,g;n=Math.floor,u=Math.min,r=function(e,t){return e<t?-1:e>t?1:0},l=function(e,t,i,a,o){var s;if(null==i&&(i=0),null==o&&(o=r),i<0)throw new Error("lo must be non-negative");for(null==a&&(a=e.length);i<a;)o(t,e[s=n((i+a)/2)])<0?a=s:i=s+1;return[].splice.apply(e,[i,i-i].concat(t)),t},o=function(e,t,n){return null==n&&(n=r),e.push(t),f(e,0,e.length-1,n)},a=function(e,t){var n,i;return null==t&&(t=r),n=e.pop(),e.length?(i=e[0],e[0]=n,g(e,0,t)):i=n,i},c=function(e,t,n){var i;return null==n&&(n=r),i=e[0],e[0]=t,g(e,0,n),i},s=function(e,t,n){var i;return null==n&&(n=r),e.length&&n(e[0],t)<0&&(t=(i=[e[0],t])[0],e[0]=i[1],g(e,0,n)),t},i=function(e,t){var i,a,o,s,c,l;for(null==t&&(t=r),c=[],a=0,o=(s=function(){l=[];for(var t=0,r=n(e.length/2);0<=r?t<r:t>r;0<=r?t++:t--)l.push(t);return l}.apply(this).reverse()).length;a<o;a++)i=s[a],c.push(g(e,i,t));return c},p=function(e,t,n){var i;if(null==n&&(n=r),-1!==(i=e.indexOf(t)))return f(e,0,i,n),g(e,i,n)},d=function(e,t,n){var a,o,c,l,u;if(null==n&&(n=r),!(o=e.slice(0,t)).length)return o;for(i(o,n),c=0,l=(u=e.slice(t)).length;c<l;c++)a=u[c],s(o,a,n);return o.sort(n).reverse()},h=function(e,t,n){var o,s,c,d,h,p,f,g,y;if(null==n&&(n=r),10*t<=e.length){if(!(c=e.slice(0,t).sort(n)).length)return c;for(s=c[c.length-1],d=0,p=(f=e.slice(t)).length;d<p;d++)n(o=f[d],s)<0&&(l(c,o,0,null,n),c.pop(),s=c[c.length-1]);return c}for(i(e,n),y=[],h=0,g=u(t,e.length);0<=g?h<g:h>g;0<=g?++h:--h)y.push(a(e,n));return y},f=function(e,t,n,i){var a,o,s;for(null==i&&(i=r),a=e[n];n>t&&i(a,o=e[s=n-1>>1])<0;)e[n]=o,n=s;return e[n]=a},g=function(e,t,n){var i,a,o,s,c;for(null==n&&(n=r),a=e.length,c=t,o=e[t],i=2*t+1;i<a;)(s=i+1)<a&&!(n(e[i],e[s])<0)&&(i=s),e[t]=e[i],i=2*(t=i)+1;return e[t]=o,f(e,c,t,n)},t=function(){function e(e){this.cmp=null!=e?e:r,this.nodes=[]}return e.push=o,e.pop=a,e.replace=c,e.pushpop=s,e.heapify=i,e.updateItem=p,e.nlargest=d,e.nsmallest=h,e.prototype.push=function(e){return o(this.nodes,e,this.cmp)},e.prototype.pop=function(){return a(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return c(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return s(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return i(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return p(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),e.exports=t}.call(Ct)),Ft.exports;var e}var kt,Lt=Ie(It?Rt:(It=1,Rt=Mt())),Bt=_t({root:null,weight:function(e){return 1},directed:!1}),Ut={dijkstra:function(e){if(!ae(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var r=Bt(e),n=r.root,i=r.weight,a=r.directed,o=this,s=i,c=re(n)?this.filter(n)[0]:n[0],l={},u={},d={},h=this.byGroup(),p=h.nodes,f=h.edges;f.unmergeBy(function(e){return e.isLoop()});for(var g=function(e){return l[e.id()]},y=function(e,t){l[e.id()]=t,m.updateItem(e)},m=new Lt(function(e,t){return g(e)-g(t)}),v=0;v<p.length;v++){var b=p[v];l[b.id()]=b.same(c)?0:1/0,m.push(b)}for(var _=function(e,t){for(var r,n=(a?e.edgesTo(t):e.edgesWith(t)).intersect(f),i=1/0,o=0;o<n.length;o++){var c=n[o],l=s(c);(l<i||!r)&&(i=l,r=c)}return{edge:r,dist:i}};m.size()>0;){var w=m.pop(),x=g(w),S=w.id();if(d[S]=x,x!==1/0)for(var T=w.neighborhood().intersect(p),O=0;O<T.length;O++){var E=T[O],A=E.id(),P=_(w,E),N=x+P.dist;N<g(E)&&(y(E,N),u[A]={node:w,edge:P.edge})}}return{distanceTo:function(e){var t=re(e)?p.filter(e)[0]:e[0];return d[t.id()]},pathTo:function(e){var t=re(e)?p.filter(e)[0]:e[0],r=[],n=t,i=n.id();if(t.length>0)for(r.unshift(t);u[i];){var a=u[i];r.unshift(a.edge),r.unshift(a.node),i=(n=a.node).id()}return o.spawn(r)}}}},Vt={kruskal:function(e){e=e||function(e){return 1};for(var t=this.byGroup(),r=t.nodes,n=t.edges,i=r.length,a=new Array(i),o=r,s=function(e){for(var t=0;t<a.length;t++){if(a[t].has(e))return t}},c=0;c<i;c++)a[c]=this.spawn(r[c]);for(var l=n.sort(function(t,r){return e(t)-e(r)}),u=0;u<l.length;u++){var d=l[u],h=d.source()[0],p=d.target()[0],f=s(h),g=s(p),y=a[f],m=a[g];f!==g&&(o.merge(d),y.merge(m),a.splice(g,1))}return o}},zt=_t({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),qt={aStar:function(e){var t=this.cy(),r=zt(e),n=r.root,i=r.goal,a=r.heuristic,o=r.directed,s=r.weight;n=t.collection(n)[0],i=t.collection(i)[0];var c,l,u=n.id(),d=i.id(),h={},p={},f={},g=new Lt(function(e,t){return p[e.id()]-p[t.id()]}),y=new At,m={},v={},b=function(e,t){g.push(e),y.add(t)},_=function(){c=g.pop(),l=c.id(),y.delete(l)},w=function(e){return y.has(e)};b(n,u),h[u]=0,p[u]=a(n);for(var x=0;g.size()>0;){if(_(),x++,l===d){for(var S=[],T=i,O=d,E=v[O];S.unshift(T),null!=E&&S.unshift(E),null!=(T=m[O]);)E=v[O=T.id()];return{found:!0,distance:h[l],path:this.spawn(S),steps:x}}f[l]=!0;for(var A=c._private.edges,P=0;P<A.length;P++){var N=A[P];if(this.hasElementWithId(N.id())&&(!o||N.data("source")===l)){var j=N.source(),D=N.target(),R=j.id()!==l?j:D,I=R.id();if(this.hasElementWithId(I)&&!f[I]){var F=h[l]+s(N);w(I)?F<h[I]&&(h[I]=F,p[I]=F+a(R),m[I]=c,v[I]=N):(h[I]=F,p[I]=F+a(R),b(R,I),m[I]=c,v[I]=N)}}}}return{found:!1,distance:void 0,path:void 0,steps:x}}},Qt=_t({weight:function(e){return 1},directed:!1}),Gt={floydWarshall:function(e){for(var t=this.cy(),r=Qt(e),n=r.weight,i=r.directed,a=n,o=this.byGroup(),s=o.nodes,c=o.edges,l=s.length,u=l*l,d=function(e){return s.indexOf(e)},h=function(e){return s[e]},p=new Array(u),f=0;f<u;f++){var g=f%l,y=(f-g)/l;p[f]=y===g?0:1/0}for(var m=new Array(u),v=new Array(u),b=0;b<c.length;b++){var _=c[b],w=_.source()[0],x=_.target()[0];if(w!==x){var S=d(w),T=d(x),O=S*l+T,E=a(_);if(p[O]>E&&(p[O]=E,m[O]=T,v[O]=_),!i){var A=T*l+S;!i&&p[A]>E&&(p[A]=E,m[A]=S,v[A]=_)}}}for(var P=0;P<l;P++)for(var N=0;N<l;N++)for(var j=N*l+P,D=0;D<l;D++){var R=N*l+D,I=P*l+D;p[j]+p[I]<p[R]&&(p[R]=p[j]+p[I],m[R]=m[j])}var F=function(e){return d(function(e){return(re(e)?t.filter(e):e)[0]}(e))},C={distance:function(e,t){var r=F(e),n=F(t);return p[r*l+n]},path:function(e,r){var n=F(e),i=F(r),a=h(n);if(n===i)return a.collection();if(null==m[n*l+i])return t.collection();var o,s=t.collection(),c=n;for(s.merge(a);n!==i;)c=n,n=m[n*l+i],o=v[c*l+n],s.merge(o),s.merge(h(n));return s}};return C}},Ht=_t({weight:function(e){return 1},directed:!1,root:null}),Wt={bellmanFord:function(e){var t=this,r=Ht(e),n=r.weight,i=r.directed,a=r.root,o=n,s=this,c=this.cy(),l=this.byGroup(),u=l.edges,d=l.nodes,h=d.length,p=new Ot,f=!1,g=[];a=c.collection(a)[0],u.unmergeBy(function(e){return e.isLoop()});for(var y=u.length,m=function(e){var t=p.get(e.id());return t||(t={},p.set(e.id(),t)),t},v=function(e){return(re(e)?c.$(e):e)[0]},b=0;b<h;b++){var _=d[b],w=m(_);_.same(a)?w.dist=0:w.dist=1/0,w.pred=null,w.edge=null}for(var x=!1,S=function(e,t,r,n,i,a){var o=n.dist+a;o<i.dist&&!r.same(n.edge)&&(i.dist=o,i.pred=e,i.edge=r,x=!0)},T=1;T<h;T++){x=!1;for(var O=0;O<y;O++){var E=u[O],A=E.source(),P=E.target(),N=o(E),j=m(A),D=m(P);S(A,0,E,j,D,N),i||S(P,0,E,D,j,N)}if(!x)break}if(x)for(var R=[],I=0;I<y;I++){var F=u[I],C=F.source(),M=F.target(),k=o(F),L=m(C).dist,B=m(M).dist;if(L+k<B||!i&&B+k<L){if(f||(gt("Graph contains a negative weight cycle for Bellman-Ford"),f=!0),!1===e.findNegativeWeightCycles)break;var U=[];L+k<B&&U.push(C),!i&&B+k<L&&U.push(M);for(var V=U.length,z=0;z<V;z++){var q=U[z],Q=[q];Q.push(m(q).edge);for(var G=m(q).pred;-1===Q.indexOf(G);)Q.push(G),Q.push(m(G).edge),G=m(G).pred;for(var H=(Q=Q.slice(Q.indexOf(G)))[0].id(),W=0,X=2;X<Q.length;X+=2)Q[X].id()<H&&(H=Q[X].id(),W=X);(Q=Q.slice(W).concat(Q.slice(0,W))).push(Q[0]);var K=Q.map(function(e){return e.id()}).join(",");-1===R.indexOf(K)&&(g.push(s.spawn(Q)),R.push(K))}}}return{distanceTo:function(e){return m(v(e)).dist},pathTo:function(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=[],i=v(e);;){if(null==i)return t.spawn();var o=m(i),c=o.edge,l=o.pred;if(n.unshift(i[0]),i.same(r)&&n.length>0)break;null!=c&&n.unshift(c),i=l}return s.spawn(n)},hasNegativeWeightCycle:f,negativeWeightCycles:g}}},Xt=Math.sqrt(2),Kt=function(e,t,r){0===r.length&&pt("Karger-Stein must be run on a connected (sub)graph");for(var n=r[e],i=n[1],a=n[2],o=t[i],s=t[a],c=r,l=c.length-1;l>=0;l--){var u=c[l],d=u[1],h=u[2];(t[d]===o&&t[h]===s||t[d]===s&&t[h]===o)&&c.splice(l,1)}for(var p=0;p<c.length;p++){var f=c[p];f[1]===s?(c[p]=f.slice(),c[p][1]=o):f[2]===s&&(c[p]=f.slice(),c[p][2]=o)}for(var g=0;g<t.length;g++)t[g]===s&&(t[g]=o);return c},$t=function(e,t,r,n){for(;r>n;){var i=Math.floor(Math.random()*t.length);t=Kt(i,e,t),r--}return t},Yt={kargerStein:function(){var e=this,t=this.byGroup(),r=t.nodes,n=t.edges;n.unmergeBy(function(e){return e.isLoop()});var i=r.length,a=n.length,o=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),s=Math.floor(i/Xt);if(!(i<2)){for(var c=[],l=0;l<a;l++){var u=n[l];c.push([l,r.indexOf(u.source()),r.indexOf(u.target())])}for(var d=1/0,h=[],p=new Array(i),f=new Array(i),g=new Array(i),y=function(e,t){for(var r=0;r<i;r++)t[r]=e[r]},m=0;m<=o;m++){for(var v=0;v<i;v++)f[v]=v;var b=$t(f,c.slice(),i,s),_=b.slice();y(f,g);var w=$t(f,b,s,2),x=$t(g,_,s,2);w.length<=x.length&&w.length<d?(d=w.length,h=w,y(f,p)):x.length<=w.length&&x.length<d&&(d=x.length,h=x,y(g,p))}for(var S=this.spawn(h.map(function(e){return n[e[0]]})),T=this.spawn(),O=this.spawn(),E=p[0],A=0;A<p.length;A++){var P=p[A],N=r[A];P===E?T.merge(N):O.merge(N)}var j=function(t){var r=e.spawn();return t.forEach(function(t){r.merge(t),t.connectedEdges().forEach(function(t){e.contains(t)&&!S.contains(t)&&r.merge(t)})}),r},D=[j(T),j(O)];return{cut:S,components:D,partition1:T,partition2:O}}pt("At least 2 nodes are required for Karger-Stein algorithm")}},Jt=function(e,t,r){return{x:e.x*t+r.x,y:e.y*t+r.y}},Zt=function(e,t,r){return{x:(e.x-r.x)/t,y:(e.y-r.y)/t}},er=function(e){return{x:e[0],y:e[1]}},tr=function(e,t){return Math.atan2(t,e)-Math.PI/2},rr=Math.log2||function(e){return Math.log(e)/Math.log(2)},nr=function(e){return e>0?1:e<0?-1:0},ir=function(e,t){return Math.sqrt(ar(e,t))},ar=function(e,t){var r=t.x-e.x,n=t.y-e.y;return r*r+n*n},or=function(e){for(var t=e.length,r=0,n=0;n<t;n++)r+=e[n];for(var i=0;i<t;i++)e[i]=e[i]/r;return e},sr=function(e,t,r,n){return(1-n)*(1-n)*e+2*(1-n)*n*t+n*n*r},cr=function(e,t,r,n){return{x:sr(e.x,t.x,r.x,n),y:sr(e.y,t.y,r.y,n)}},lr=function(e,t,r){return Math.max(e,Math.min(r,t))},ur=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},dr=function(e,t){e.x1=Math.min(e.x1,t.x1),e.x2=Math.max(e.x2,t.x2),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,t.y1),e.y2=Math.max(e.y2,t.y2),e.h=e.y2-e.y1},hr=function(e,t,r){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,r),e.y2=Math.max(e.y2,r),e.h=e.y2-e.y1},pr=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},fr=function(e){var t,r,n,i,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===a.length)t=r=n=i=a[0];else if(2===a.length)t=n=a[0],i=r=a[1];else if(4===a.length){var o=y(a,4);t=o[0],r=o[1],n=o[2],i=o[3]}return e.x1-=i,e.x2+=r,e.y1-=t,e.y2+=n,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},gr=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},yr=function(e,t){return!(e.x1>t.x2)&&(!(t.x1>e.x2)&&(!(e.x2<t.x1)&&(!(t.x2<e.x1)&&(!(e.y2<t.y1)&&(!(t.y2<e.y1)&&(!(e.y1>t.y2)&&!(t.y1>e.y2)))))))},mr=function(e,t,r){return e.x1<=t&&t<=e.x2&&e.y1<=r&&r<=e.y2},vr=function(e,t){return mr(e,t.x,t.y)},br=function(e,t){return mr(e,t.x1,t.y1)&&mr(e,t.x2,t.y2)},_r=null!==(kt=Math.hypot)&&void 0!==kt?kt:function(e,t){return Math.sqrt(e*e+t*t)};function wr(e,t,r,n,i,a){var o=function(e,t){if(e.length<3)throw new Error("Need at least 3 vertices");var r=function(e,t){return{x:e.x+t.x,y:e.y+t.y}},n=function(e,t){return{x:e.x-t.x,y:e.y-t.y}},i=function(e,t){return{x:e.x*t,y:e.y*t}},a=function(e,t){return e.x*t.y-e.y*t.x},o=function(e){var t=_r(e.x,e.y);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},s=function(e,t,o,s){var c=n(t,e),l=n(s,o),u=a(c,l);if(Math.abs(u)<1e-9)return r(e,i(c,.5));var d=a(n(o,e),l)/u;return r(e,i(c,d))},c=e.map(function(e){return{x:e.x,y:e.y}});(function(e){for(var t=0,r=0;r<e.length;r++){var n=e[r],i=e[(r+1)%e.length];t+=n.x*i.y-i.x*n.y}return t/2})(c)<0&&c.reverse();for(var l=c.length,u=[],d=0;d<l;d++){var h=c[d],p=c[(d+1)%l],f=n(p,h),g=o({x:f.y,y:-f.x});u.push(g)}for(var y=u.map(function(e,n){return{p1:r(c[n],i(e,t)),p2:r(c[(n+1)%l],i(e,t))}}),m=[],v=0;v<l;v++){var b=y[(v-1+l)%l],_=y[v],w=s(b.p1,b.p2,_.p1,_.p2);m.push(w)}return m}(Cr(e,t,r,n,i),a),s=ur();return o.forEach(function(e){return hr(s,e.x,e.y)}),s}var xr=function(e,t,r,n,i,a,o){var s,c,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"auto",u="auto"===l?Vr(i,a):l,d=i/2,h=a/2,p=(u=Math.min(u,d,h))!==d,f=u!==h;if(p){var g=n-h-o;if((s=Fr(e,t,r,n,r-d+u-o,g,r+d-u+o,g,!1)).length>0)return s}if(f){var y=r+d+o;if((s=Fr(e,t,r,n,y,n-h+u-o,y,n+h-u+o,!1)).length>0)return s}if(p){var m=n+h+o;if((s=Fr(e,t,r,n,r-d+u-o,m,r+d-u+o,m,!1)).length>0)return s}if(f){var v=r-d-o;if((s=Fr(e,t,r,n,v,n-h+u-o,v,n+h-u+o,!1)).length>0)return s}var b=r-d+u,_=n-h+u;if((c=Rr(e,t,r,n,b,_,u+o)).length>0&&c[0]<=b&&c[1]<=_)return[c[0],c[1]];var w=r+d-u,x=n-h+u;if((c=Rr(e,t,r,n,w,x,u+o)).length>0&&c[0]>=w&&c[1]<=x)return[c[0],c[1]];var S=r+d-u,T=n+h-u;if((c=Rr(e,t,r,n,S,T,u+o)).length>0&&c[0]>=S&&c[1]>=T)return[c[0],c[1]];var O=r-d+u,E=n+h-u;return(c=Rr(e,t,r,n,O,E,u+o)).length>0&&c[0]<=O&&c[1]>=E?[c[0],c[1]]:[]},Sr=function(e,t,r,n,i,a,o){var s=o,c=Math.min(r,i),l=Math.max(r,i),u=Math.min(n,a),d=Math.max(n,a);return c-s<=e&&e<=l+s&&u-s<=t&&t<=d+s},Tr=function(e,t,r,n,i,a,o,s,c){var l=Math.min(r,o,i)-c,u=Math.max(r,o,i)+c,d=Math.min(n,s,a)-c,h=Math.max(n,s,a)+c;return!(e<l||e>u||t<d||t>h)},Or=function(e,t,r,n,i,a,o,s){var c=[];!function(e,t,r,n,i){var a,o,s,c,l,u,d,h;0===e&&(e=1e-5),s=-27*(n/=e)+(t/=e)*(9*(r/=e)-t*t*2),a=(o=(3*r-t*t)/9)*o*o+(s/=54)*s,i[1]=0,d=t/3,a>0?(l=(l=s+Math.sqrt(a))<0?-Math.pow(-l,1/3):Math.pow(l,1/3),u=(u=s-Math.sqrt(a))<0?-Math.pow(-u,1/3):Math.pow(u,1/3),i[0]=-d+l+u,d+=(l+u)/2,i[4]=i[2]=-d,d=Math.sqrt(3)*(-u+l)/2,i[3]=d,i[5]=-d):(i[5]=i[3]=0,0===a?(h=s<0?-Math.pow(-s,1/3):Math.pow(s,1/3),i[0]=2*h-d,i[4]=i[2]=-(h+d)):(c=(o=-o)*o*o,c=Math.acos(s/Math.sqrt(c)),h=2*Math.sqrt(o),i[0]=-d+h*Math.cos(c/3),i[2]=-d+h*Math.cos((c+2*Math.PI)/3),i[4]=-d+h*Math.cos((c+4*Math.PI)/3)))}(1*r*r-4*r*i+2*r*o+4*i*i-4*i*o+o*o+n*n-4*n*a+2*n*s+4*a*a-4*a*s+s*s,9*r*i-3*r*r-3*r*o-6*i*i+3*i*o+9*n*a-3*n*n-3*n*s-6*a*a+3*a*s,3*r*r-6*r*i+r*o-r*e+2*i*i+2*i*e-o*e+3*n*n-6*n*a+n*s-n*t+2*a*a+2*a*t-s*t,1*r*i-r*r+r*e-i*e+n*a-n*n+n*t-a*t,c);for(var l=[],u=0;u<6;u+=2)Math.abs(c[u+1])<1e-7&&c[u]>=0&&c[u]<=1&&l.push(c[u]);l.push(1),l.push(0);for(var d,h,p,f=-1,g=0;g<l.length;g++)d=Math.pow(1-l[g],2)*r+2*(1-l[g])*l[g]*i+l[g]*l[g]*o,h=Math.pow(1-l[g],2)*n+2*(1-l[g])*l[g]*a+l[g]*l[g]*s,p=Math.pow(d-e,2)+Math.pow(h-t,2),f>=0?p<f&&(f=p):f=p;return f},Er=function(e,t,r,n,i,a){var o=[e-r,t-n],s=[i-r,a-n],c=s[0]*s[0]+s[1]*s[1],l=o[0]*o[0]+o[1]*o[1],u=o[0]*s[0]+o[1]*s[1],d=u*u/c;return u<0?l:d>c?(e-i)*(e-i)+(t-a)*(t-a):l-d},Ar=function(e,t,r){for(var n,i,a,o,s=0,c=0;c<r.length/2;c++)if(n=r[2*c],i=r[2*c+1],c+1<r.length/2?(a=r[2*(c+1)],o=r[2*(c+1)+1]):(a=r[2*(c+1-r.length/2)],o=r[2*(c+1-r.length/2)+1]),n==e&&a==e);else{if(!(n>=e&&e>=a||n<=e&&e<=a))continue;(e-n)/(a-n)*(o-i)+i>t&&s++}return s%2!==0},Pr=function(e,t,r,n,i,a,o,s,c){var l,u=new Array(r.length);null!=s[0]?(l=Math.atan(s[1]/s[0]),s[0]<0?l+=Math.PI/2:l=-l-Math.PI/2):l=s;for(var d,h=Math.cos(-l),p=Math.sin(-l),f=0;f<u.length/2;f++)u[2*f]=a/2*(r[2*f]*h-r[2*f+1]*p),u[2*f+1]=o/2*(r[2*f+1]*h+r[2*f]*p),u[2*f]+=n,u[2*f+1]+=i;if(c>0){var g=jr(u,-c);d=Nr(g)}else d=u;return Ar(e,t,d)},Nr=function(e){for(var t,r,n,i,a,o,s,c,l=new Array(e.length/2),u=0;u<e.length/4;u++){t=e[4*u],r=e[4*u+1],n=e[4*u+2],i=e[4*u+3],u<e.length/4-1?(a=e[4*(u+1)],o=e[4*(u+1)+1],s=e[4*(u+1)+2],c=e[4*(u+1)+3]):(a=e[0],o=e[1],s=e[2],c=e[3]);var d=Fr(t,r,n,i,a,o,s,c,!0);l[2*u]=d[0],l[2*u+1]=d[1]}return l},jr=function(e,t){for(var r,n,i,a,o=new Array(2*e.length),s=0;s<e.length/2;s++){r=e[2*s],n=e[2*s+1],s<e.length/2-1?(i=e[2*(s+1)],a=e[2*(s+1)+1]):(i=e[0],a=e[1]);var c=a-n,l=-(i-r),u=Math.sqrt(c*c+l*l),d=c/u,h=l/u;o[4*s]=r+d*t,o[4*s+1]=n+h*t,o[4*s+2]=i+d*t,o[4*s+3]=a+h*t}return o},Dr=function(e,t,r,n,i,a,o){return e-=i,t-=a,(e/=r/2+o)*e+(t/=n/2+o)*t<=1},Rr=function(e,t,r,n,i,a,o){var s=[r-e,n-t],c=[e-i,t-a],l=s[0]*s[0]+s[1]*s[1],u=2*(c[0]*s[0]+c[1]*s[1]),d=u*u-4*l*(c[0]*c[0]+c[1]*c[1]-o*o);if(d<0)return[];var h=(-u+Math.sqrt(d))/(2*l),p=(-u-Math.sqrt(d))/(2*l),f=Math.min(h,p),g=Math.max(h,p),y=[];if(f>=0&&f<=1&&y.push(f),g>=0&&g<=1&&y.push(g),0===y.length)return[];var m=y[0]*s[0]+e,v=y[0]*s[1]+t;return y.length>1?y[0]==y[1]?[m,v]:[m,v,y[1]*s[0]+e,y[1]*s[1]+t]:[m,v]},Ir=function(e,t,r){return t<=e&&e<=r||r<=e&&e<=t?e:e<=t&&t<=r||r<=t&&t<=e?t:r},Fr=function(e,t,r,n,i,a,o,s,c){var l=e-i,u=r-e,d=o-i,h=t-a,p=n-t,f=s-a,g=d*h-f*l,y=u*h-p*l,m=f*u-d*p;if(0!==m){var v=g/m,b=y/m,_=-.001;return _<=v&&v<=1.001&&_<=b&&b<=1.001||c?[e+v*u,t+v*p]:[]}return 0===g||0===y?Ir(e,r,o)===o?[o,s]:Ir(e,r,i)===i?[i,a]:Ir(i,o,r)===r?[r,n]:[]:[]},Cr=function(e,t,r,n,i){var a=[],o=n/2,s=i/2,c=t,l=r;a.push({x:c+o*e[0],y:l+s*e[1]});for(var u=1;u<e.length/2;u++)a.push({x:c+o*e[2*u],y:l+s*e[2*u+1]});return a},Mr=function(e,t,r,n,i,a,o,s){var c,l,u,d,h,p,f=[],g=new Array(r.length),y=!0;if(null==a&&(y=!1),y){for(var m=0;m<g.length/2;m++)g[2*m]=r[2*m]*a+n,g[2*m+1]=r[2*m+1]*o+i;if(s>0){var v=jr(g,-s);l=Nr(v)}else l=g}else l=r;for(var b=0;b<l.length/2;b++)u=l[2*b],d=l[2*b+1],b<l.length/2-1?(h=l[2*(b+1)],p=l[2*(b+1)+1]):(h=l[0],p=l[1]),0!==(c=Fr(e,t,n,i,u,d,h,p)).length&&f.push(c[0],c[1]);return f},kr=function(e,t,r){var n=[e[0]-t[0],e[1]-t[1]],i=Math.sqrt(n[0]*n[0]+n[1]*n[1]),a=(i-r)/i;return a<0&&(a=1e-5),[t[0]+a*n[0],t[1]+a*n[1]]},Lr=function(e,t){var r=Ur(e,t);return r=Br(r)},Br=function(e){for(var t,r,n=e.length/2,i=1/0,a=1/0,o=-1/0,s=-1/0,c=0;c<n;c++)t=e[2*c],r=e[2*c+1],i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,r),s=Math.max(s,r);for(var l=2/(o-i),u=2/(s-a),d=0;d<n;d++)t=e[2*d]=e[2*d]*l,r=e[2*d+1]=e[2*d+1]*u,i=Math.min(i,t),o=Math.max(o,t),a=Math.min(a,r),s=Math.max(s,r);if(a<-1)for(var h=0;h<n;h++)r=e[2*h+1]=e[2*h+1]+(-1-a);return e},Ur=function(e,t){var r=1/e*2*Math.PI,n=e%2===0?Math.PI/2+r/2:Math.PI/2;n+=t;for(var i,a=new Array(2*e),o=0;o<e;o++)i=o*r+n,a[2*o]=Math.cos(i),a[2*o+1]=Math.sin(-i);return a},Vr=function(e,t){return Math.min(e/4,t/4,8)},zr=function(e,t){return Math.min(e/10,t/10,8)},qr=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}};function Qr(e,t){function r(e){for(var t=[],r=0;r<e.length;r++){var n=e[r],i=e[(r+1)%e.length],a={x:i.x-n.x,y:i.y-n.y},o={x:-a.y,y:a.x},s=Math.sqrt(o.x*o.x+o.y*o.y);t.push({x:o.x/s,y:o.y/s})}return t}function n(e,t){var r,n=1/0,i=-1/0,a=f(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.x*t.x+o.y*t.y;n=Math.min(n,s),i=Math.max(i,s)}}catch(c){a.e(c)}finally{a.f()}return{min:n,max:i}}function i(e,t){return!(e.max<t.min||t.max<e.min)}var a,o=f([].concat(m(r(e)),m(r(t))));try{for(o.s();!(a=o.n()).done;){var s=a.value;if(!i(n(e,s),n(t,s)))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}var Gr=_t({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Hr={pageRank:function(e){for(var t=Gr(e),r=t.dampingFactor,n=t.precision,i=t.iterations,a=t.weight,o=this._private.cy,s=this.byGroup(),c=s.nodes,l=s.edges,u=c.length,d=u*u,h=l.length,p=new Array(d),f=new Array(u),g=(1-r)/u,y=0;y<u;y++){for(var m=0;m<u;m++){p[y*u+m]=0}f[y]=0}for(var v=0;v<h;v++){var b=l[v],_=b.data("source"),w=b.data("target");if(_!==w){var x=c.indexOfId(_),S=c.indexOfId(w),T=a(b);p[S*u+x]+=T,f[x]+=T}}for(var O=1/u+g,E=0;E<u;E++)if(0===f[E])for(var A=0;A<u;A++){p[A*u+E]=O}else for(var P=0;P<u;P++){var N=P*u+E;p[N]=p[N]/f[E]+g}for(var j,D=new Array(u),R=new Array(u),I=0;I<u;I++)D[I]=1;for(var F=0;F<i;F++){for(var C=0;C<u;C++)R[C]=0;for(var M=0;M<u;M++)for(var k=0;k<u;k++){var L=M*u+k;R[M]+=p[L]*D[k]}or(R),j=D,D=R,R=j;for(var B=0,U=0;U<u;U++){var V=j[U]-D[U];B+=V*V}if(B<n)break}var z={rank:function(e){return e=o.collection(e)[0],D[c.indexOf(e)]}};return z}},Wr=_t({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Xr={degreeCentralityNormalized:function(e){e=Wr(e);var t=this.cy(),r=this.nodes(),n=r.length;if(e.directed){for(var i={},a={},o=0,s=0,c=0;c<n;c++){var l=r[c],u=l.id();e.root=l;var d=this.degreeCentrality(e);o<d.indegree&&(o=d.indegree),s<d.outdegree&&(s=d.outdegree),i[u]=d.indegree,a[u]=d.outdegree}return{indegree:function(e){return 0==o?0:(re(e)&&(e=t.filter(e)),i[e.id()]/o)},outdegree:function(e){return 0===s?0:(re(e)&&(e=t.filter(e)),a[e.id()]/s)}}}for(var h={},p=0,f=0;f<n;f++){var g=r[f];e.root=g;var y=this.degreeCentrality(e);p<y.degree&&(p=y.degree),h[g.id()]=y.degree}return{degree:function(e){return 0===p?0:(re(e)&&(e=t.filter(e)),h[e.id()]/p)}}},degreeCentrality:function(e){e=Wr(e);var t=this.cy(),r=this,n=e,i=n.root,a=n.weight,o=n.directed,s=n.alpha;if(i=t.collection(i)[0],o){for(var c=i.connectedEdges(),l=c.filter(function(e){return e.target().same(i)&&r.has(e)}),u=c.filter(function(e){return e.source().same(i)&&r.has(e)}),d=l.length,h=u.length,p=0,f=0,g=0;g<l.length;g++)p+=a(l[g]);for(var y=0;y<u.length;y++)f+=a(u[y]);return{indegree:Math.pow(d,1-s)*Math.pow(p,s),outdegree:Math.pow(h,1-s)*Math.pow(f,s)}}for(var m=i.connectedEdges().intersection(r),v=m.length,b=0,_=0;_<m.length;_++)b+=a(m[_]);return{degree:Math.pow(v,1-s)*Math.pow(b,s)}}};Xr.dc=Xr.degreeCentrality,Xr.dcn=Xr.degreeCentralityNormalised=Xr.degreeCentralityNormalized;var Kr=_t({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),$r={closenessCentralityNormalized:function(e){for(var t=Kr(e),r=t.harmonic,n=t.weight,i=t.directed,a=this.cy(),o={},s=0,c=this.nodes(),l=this.floydWarshall({weight:n,directed:i}),u=0;u<c.length;u++){for(var d=0,h=c[u],p=0;p<c.length;p++)if(u!==p){var f=l.distance(h,c[p]);d+=r?1/f:f}r||(d=1/d),s<d&&(s=d),o[h.id()]=d}return{closeness:function(e){return 0==s?0:(e=re(e)?a.filter(e)[0].id():e.id(),o[e]/s)}}},closenessCentrality:function(e){var t=Kr(e),r=t.root,n=t.weight,i=t.directed,a=t.harmonic;r=this.filter(r)[0];for(var o=this.dijkstra({root:r,weight:n,directed:i}),s=0,c=this.nodes(),l=0;l<c.length;l++){var u=c[l];if(!u.same(r)){var d=o.distanceTo(u);s+=a?1/d:d}}return a?s:1/s}};$r.cc=$r.closenessCentrality,$r.ccn=$r.closenessCentralityNormalised=$r.closenessCentralityNormalized;var Yr=_t({weight:null,directed:!1}),Jr={betweennessCentrality:function(e){for(var t=Yr(e),r=t.directed,n=t.weight,i=null!=n,a=this.cy(),o=this.nodes(),s={},c={},l=0,u=function(e,t){c[e]=t,t>l&&(l=t)},d=function(e){return c[e]},h=0;h<o.length;h++){var p=o[h],f=p.id();s[f]=r?p.outgoers().nodes():p.openNeighborhood().nodes(),u(f,0)}for(var g=function(){for(var e=o[y].id(),t=[],r={},c={},l={},h=new Lt(function(e,t){return l[e]-l[t]}),p=0;p<o.length;p++){var f=o[p].id();r[f]=[],c[f]=0,l[f]=1/0}for(c[e]=1,l[e]=0,h.push(e);!h.empty();){var g=h.pop();if(t.push(g),i)for(var m=0;m<s[g].length;m++){var v=s[g][m],b=a.getElementById(g),_=void 0;_=b.edgesTo(v).length>0?b.edgesTo(v)[0]:v.edgesTo(b)[0];var w=n(_);v=v.id(),l[v]>l[g]+w&&(l[v]=l[g]+w,h.nodes.indexOf(v)<0?h.push(v):h.updateItem(v),c[v]=0,r[v]=[]),l[v]==l[g]+w&&(c[v]=c[v]+c[g],r[v].push(g))}else for(var x=0;x<s[g].length;x++){var S=s[g][x].id();l[S]==1/0&&(h.push(S),l[S]=l[g]+1),l[S]==l[g]+1&&(c[S]=c[S]+c[g],r[S].push(g))}}for(var T={},O=0;O<o.length;O++)T[o[O].id()]=0;for(;t.length>0;){for(var E=t.pop(),A=0;A<r[E].length;A++){var P=r[E][A];T[P]=T[P]+c[P]/c[E]*(1+T[E])}E!=o[y].id()&&u(E,d(E)+T[E])}},y=0;y<o.length;y++)g();var m={betweenness:function(e){var t=a.collection(e).id();return d(t)},betweennessNormalized:function(e){if(0==l)return 0;var t=a.collection(e).id();return d(t)/l}};return m.betweennessNormalised=m.betweennessNormalized,m}};Jr.bc=Jr.betweennessCentrality;var Zr=_t({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),en=function(e,t){for(var r=0,n=0;n<t.length;n++)r+=t[n](e);return r},tn=function(e,t){for(var r,n=0;n<t;n++){r=0;for(var i=0;i<t;i++)r+=e[i*t+n];for(var a=0;a<t;a++)e[a*t+n]=e[a*t+n]/r}},rn=function(e,t,r){for(var n=new Array(r*r),i=0;i<r;i++){for(var a=0;a<r;a++)n[i*r+a]=0;for(var o=0;o<r;o++)for(var s=0;s<r;s++)n[i*r+s]+=e[i*r+o]*t[o*r+s]}return n},nn=function(e,t,r){for(var n=e.slice(0),i=1;i<r;i++)e=rn(e,n,t);return e},an=function(e,t,r){for(var n=new Array(t*t),i=0;i<t*t;i++)n[i]=Math.pow(e[i],r);return tn(n,t),n},on=function(e,t,r,n){for(var i=0;i<r;i++){if(Math.round(e[i]*Math.pow(10,n))/Math.pow(10,n)!==Math.round(t[i]*Math.pow(10,n))/Math.pow(10,n))return!1}return!0},sn=function(e,t){for(var r=0;r<e.length;r++)if(!t[r]||e[r].id()!==t[r].id())return!1;return!0},cn=function(e){for(var t=this.nodes(),r=this.edges(),n=this.cy(),i=function(e){return Zr(e)}(e),a={},o=0;o<t.length;o++)a[t[o].id()]=o;for(var s,c=t.length,l=c*c,u=new Array(l),d=0;d<l;d++)u[d]=0;for(var h=0;h<r.length;h++){var p=r[h],f=a[p.source().id()],g=a[p.target().id()],y=en(p,i.attributes);u[f*c+g]+=y,u[g*c+f]+=y}!function(e,t,r){for(var n=0;n<t;n++)e[n*t+n]=r}(u,c,i.multFactor),tn(u,c);for(var m=!0,v=0;m&&v<i.maxIterations;)m=!1,s=nn(u,c,i.expandFactor),u=an(s,c,i.inflateFactor),on(u,s,l,4)||(m=!0),v++;var b=function(e,t,r,n){for(var i=[],a=0;a<t;a++){for(var o=[],s=0;s<t;s++)Math.round(1e3*e[a*t+s])/1e3>0&&o.push(r[s]);0!==o.length&&i.push(n.collection(o))}return i}(u,c,t,n);return b=function(e){for(var t=0;t<e.length;t++)for(var r=0;r<e.length;r++)t!=r&&sn(e[t],e[r])&&e.splice(r,1);return e}(b),b},ln={markovClustering:cn,mcl:cn},un=function(e){return e},dn=function(e,t){return Math.abs(t-e)},hn=function(e,t,r){return e+dn(t,r)},pn=function(e,t,r){return e+Math.pow(r-t,2)},fn=function(e){return Math.sqrt(e)},gn=function(e,t,r){return Math.max(e,dn(t,r))},yn=function(e,t,r,n,i){for(var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:un,o=n,s=0;s<e;s++)o=i(o,t(s),r(s));return a(o)},mn={euclidean:function(e,t,r){return e>=2?yn(e,t,r,0,pn,fn):yn(e,t,r,0,hn)},squaredEuclidean:function(e,t,r){return yn(e,t,r,0,pn)},manhattan:function(e,t,r){return yn(e,t,r,0,hn)},max:function(e,t,r){return yn(e,t,r,-1/0,gn)}};function vn(e,t,r,n,i,a){var o;return o=ne(e)?e:mn[e]||mn.euclidean,0===t&&ne(e)?o(i,a):o(t,r,n,i,a)}mn["squared-euclidean"]=mn.squaredEuclidean,mn.squaredeuclidean=mn.squaredEuclidean;var bn=_t({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),_n=function(e){return bn(e)},wn=function(e,t,r,n,i){var a="kMedoids"!==i?function(e){return r[e]}:function(e){return n[e](r)},o=r,s=t;return vn(e,n.length,a,function(e){return n[e](t)},o,s)},xn=function(e,t,r){for(var n=r.length,i=new Array(n),a=new Array(n),o=new Array(t),s=null,c=0;c<n;c++)i[c]=e.min(r[c]).value,a[c]=e.max(r[c]).value;for(var l=0;l<t;l++){s=[];for(var u=0;u<n;u++)s[u]=Math.random()*(a[u]-i[u])+i[u];o[l]=s}return o},Sn=function(e,t,r,n,i){for(var a=1/0,o=0,s=0;s<t.length;s++){var c=wn(r,e,t[s],n,i);c<a&&(a=c,o=s)}return o},Tn=function(e,t,r){for(var n=[],i=null,a=0;a<t.length;a++)r[(i=t[a]).id()]===e&&n.push(i);return n},On=function(e,t,r){return Math.abs(t-e)<=r},En=function(e,t,r){for(var n=0;n<e.length;n++)for(var i=0;i<e[n].length;i++){if(Math.abs(e[n][i]-t[n][i])>r)return!1}return!0},An=function(e,t,r){for(var n=0;n<r;n++)if(e===t[n])return!0;return!1},Pn=function(e,t){var r=new Array(t);if(e.length<50)for(var n=0;n<t;n++){for(var i=e[Math.floor(Math.random()*e.length)];An(i,r,n);)i=e[Math.floor(Math.random()*e.length)];r[n]=i}else for(var a=0;a<t;a++)r[a]=e[Math.floor(Math.random()*e.length)];return r},Nn=function(e,t,r){for(var n=0,i=0;i<t.length;i++)n+=wn("manhattan",t[i],e,r,"kMedoids");return n},jn=function(e,t,r,n,i){for(var a,o,s=0;s<t.length;s++)for(var c=0;c<e.length;c++)n[s][c]=Math.pow(r[s][c],i.m);for(var l=0;l<e.length;l++)for(var u=0;u<i.attributes.length;u++){a=0,o=0;for(var d=0;d<t.length;d++)a+=n[d][l]*i.attributes[u](t[d]),o+=n[d][l];e[l][u]=a/o}},Dn=function(e,t,r,n,i){for(var a=0;a<e.length;a++)t[a]=e[a].slice();for(var o,s,c,l=2/(i.m-1),u=0;u<r.length;u++)for(var d=0;d<n.length;d++){o=0;for(var h=0;h<r.length;h++)s=wn(i.distance,n[d],r[u],i.attributes,"cmeans"),c=wn(i.distance,n[d],r[h],i.attributes,"cmeans"),o+=Math.pow(s/c,l);e[d][u]=1/o}},Rn=function(e){var t,r,n,i,a,o=this.cy(),s=this.nodes(),c=_n(e);i=new Array(s.length);for(var l=0;l<s.length;l++)i[l]=new Array(c.k);n=new Array(s.length);for(var u=0;u<s.length;u++)n[u]=new Array(c.k);for(var d=0;d<s.length;d++){for(var h=0,p=0;p<c.k;p++)n[d][p]=Math.random(),h+=n[d][p];for(var f=0;f<c.k;f++)n[d][f]=n[d][f]/h}r=new Array(c.k);for(var g=0;g<c.k;g++)r[g]=new Array(c.attributes.length);a=new Array(s.length);for(var y=0;y<s.length;y++)a[y]=new Array(c.k);for(var m=!0,v=0;m&&v<c.maxIterations;)m=!1,jn(r,s,n,a,c),Dn(n,i,r,s,c),En(n,i,c.sensitivityThreshold)||(m=!0),v++;return t=function(e,t,r,n){for(var i,a,o=new Array(r.k),s=0;s<o.length;s++)o[s]=[];for(var c=0;c<t.length;c++){i=-1/0,a=-1;for(var l=0;l<t[0].length;l++)t[c][l]>i&&(i=t[c][l],a=l);o[a].push(e[c])}for(var u=0;u<o.length;u++)o[u]=n.collection(o[u]);return o}(s,n,c,o),{clusters:t,degreeOfMembership:n}},In={kMeans:function(e){var t,r=this.cy(),n=this.nodes(),i=null,a=_n(e),o=new Array(a.k),s={};a.testMode?"number"===typeof a.testCentroids?(a.testCentroids,t=xn(n,a.k,a.attributes)):t="object"===b(a.testCentroids)?a.testCentroids:xn(n,a.k,a.attributes):t=xn(n,a.k,a.attributes);for(var c=!0,l=0;c&&l<a.maxIterations;){for(var u=0;u<n.length;u++)s[(i=n[u]).id()]=Sn(i,t,a.distance,a.attributes,"kMeans");c=!1;for(var d=0;d<a.k;d++){var h=Tn(d,n,s);if(0!==h.length){for(var p=a.attributes.length,f=t[d],g=new Array(p),y=new Array(p),m=0;m<p;m++){y[m]=0;for(var v=0;v<h.length;v++)i=h[v],y[m]+=a.attributes[m](i);g[m]=y[m]/h.length,On(g[m],f[m],a.sensitivityThreshold)||(c=!0)}t[d]=g,o[d]=r.collection(h)}}l++}return o},kMedoids:function(e){var t,r,n=this.cy(),i=this.nodes(),a=null,o=_n(e),s=new Array(o.k),c={},l=new Array(o.k);o.testMode?"number"===typeof o.testCentroids||(t="object"===b(o.testCentroids)?o.testCentroids:Pn(i,o.k)):t=Pn(i,o.k);for(var u=!0,d=0;u&&d<o.maxIterations;){for(var h=0;h<i.length;h++)c[(a=i[h]).id()]=Sn(a,t,o.distance,o.attributes,"kMedoids");u=!1;for(var p=0;p<t.length;p++){var f=Tn(p,i,c);if(0!==f.length){l[p]=Nn(t[p],f,o.attributes);for(var g=0;g<f.length;g++)(r=Nn(f[g],f,o.attributes))<l[p]&&(l[p]=r,t[p]=f[g],u=!0);s[p]=n.collection(f)}}d++}return s},fuzzyCMeans:Rn,fcm:Rn},Fn=_t({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),Cn={single:"min",complete:"max"},Mn=function(e,t,r,n,i){for(var a,o=0,s=1/0,c=i.attributes,l=function(e,t){return vn(i.distance,c.length,function(t){return c[t](e)},function(e){return c[e](t)},e,t)},u=0;u<e.length;u++){var d=e[u].key,h=r[d][n[d]];h<s&&(o=d,s=h)}if("threshold"===i.mode&&s>=i.threshold||"dendrogram"===i.mode&&1===e.length)return!1;var p,f=t[o],g=t[n[o]];p="dendrogram"===i.mode?{left:f,right:g,key:f.key}:{value:f.value.concat(g.value),key:f.key},e[f.index]=p,e.splice(g.index,1),t[f.key]=p;for(var y=0;y<e.length;y++){var m=e[y];f.key===m.key?a=1/0:"min"===i.linkage?(a=r[f.key][m.key],r[f.key][m.key]>r[g.key][m.key]&&(a=r[g.key][m.key])):"max"===i.linkage?(a=r[f.key][m.key],r[f.key][m.key]<r[g.key][m.key]&&(a=r[g.key][m.key])):a="mean"===i.linkage?(r[f.key][m.key]*f.size+r[g.key][m.key]*g.size)/(f.size+g.size):"dendrogram"===i.mode?l(m.value,f.value):l(m.value[0],f.value[0]),r[f.key][m.key]=r[m.key][f.key]=a}for(var v=0;v<e.length;v++){var b=e[v].key;if(n[b]===f.key||n[b]===g.key){for(var _=b,w=0;w<e.length;w++){var x=e[w].key;r[b][x]<r[b][_]&&(_=x)}n[b]=_}e[v].index=v}return f.key=g.key=f.index=g.index=null,!0},kn=function(e,t,r){e&&(e.value?t.push(e.value):(e.left&&kn(e.left,t),e.right&&kn(e.right,t)))},Ln=function(e,t){if(!e)return"";if(e.left&&e.right){var r=Ln(e.left,t),n=Ln(e.right,t),i=t.add({group:"nodes",data:{id:r+","+n}});return t.add({group:"edges",data:{source:r,target:i.id()}}),t.add({group:"edges",data:{source:n,target:i.id()}}),i.id()}return e.value?e.value.id():void 0},Bn=function(e,t,r){if(!e)return[];var n=[],i=[],a=[];return 0===t?(e.left&&kn(e.left,n),e.right&&kn(e.right,i),a=n.concat(i),[r.collection(a)]):1===t?e.value?[r.collection(e.value)]:(e.left&&kn(e.left,n),e.right&&kn(e.right,i),[r.collection(n),r.collection(i)]):e.value?[r.collection(e.value)]:(e.left&&(n=Bn(e.left,t-1,r)),e.right&&(i=Bn(e.right,t-1,r)),n.concat(i))},Un=function(e){for(var t=this.cy(),r=this.nodes(),n=function(e){var t=Fn(e),r=Cn[t.linkage];return null!=r&&(t.linkage=r),t}(e),i=n.attributes,a=function(e,t){return vn(n.distance,i.length,function(t){return i[t](e)},function(e){return i[e](t)},e,t)},o=[],s=[],c=[],l=[],u=0;u<r.length;u++){var d={value:"dendrogram"===n.mode?r[u]:[r[u]],key:u,index:u};o[u]=d,l[u]=d,s[u]=[],c[u]=0}for(var h=0;h<o.length;h++)for(var p=0;p<=h;p++){var f=void 0;f="dendrogram"===n.mode?h===p?1/0:a(o[h].value,o[p].value):h===p?1/0:a(o[h].value[0],o[p].value[0]),s[h][p]=f,s[p][h]=f,f<s[h][c[h]]&&(c[h]=p)}for(var g,y=Mn(o,l,s,c,n);y;)y=Mn(o,l,s,c,n);return"dendrogram"===n.mode?(g=Bn(o[0],n.dendrogramDepth,t),n.addDendrogram&&Ln(o[0],t)):(g=new Array(o.length),o.forEach(function(e,r){e.key=e.index=null,g[r]=t.collection(e.value)})),g},Vn={hierarchicalClustering:Un,hca:Un},zn=_t({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),qn=function(e,t,r,n){var i=function(e,t){return n[t](e)};return-vn(e,n.length,function(e){return i(t,e)},function(e){return i(r,e)},t,r)},Qn=function(e,t){var r=null;return r="median"===t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],i=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];arguments.length>3&&void 0!==arguments[3]&&!arguments[3]?(r<e.length&&e.splice(r,e.length-r),t>0&&e.splice(0,t)):e=e.slice(t,r);for(var a=0,o=e.length-1;o>=0;o--){var s=e[o];i?isFinite(s)||(e[o]=-1/0,a++):e.splice(o,1)}n&&e.sort(function(e,t){return e-t});var c=e.length,l=Math.floor(c/2);return c%2!==0?e[l+1+a]:(e[l-1+a]+e[l+a])/2}(e):"mean"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n=0,i=0,a=t;a<r;a++){var o=e[a];isFinite(o)&&(n+=o,i++)}return n/i}(e):"min"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n=1/0,i=t;i<r;i++){var a=e[i];isFinite(a)&&(n=Math.min(a,n))}return n}(e):"max"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,n=-1/0,i=t;i<r;i++){var a=e[i];isFinite(a)&&(n=Math.max(a,n))}return n}(e):t,r},Gn=function(e,t,r){for(var n=[],i=0;i<e;i++){for(var a=-1,o=-1/0,s=0;s<r.length;s++){var c=r[s];t[i*e+c]>o&&(a=c,o=t[i*e+c])}a>0&&n.push(a)}for(var l=0;l<r.length;l++)n[r[l]]=r[l];return n},Hn=function(e){for(var t,r,n,i,a,o,s=this.cy(),c=this.nodes(),l=function(e){var t=e.damping,r=e.preference;.5<=t&&t<1||pt("Damping must range on [0.5, 1).  Got: ".concat(t));var n=["median","mean","min","max"];return n.some(function(e){return e===r})||oe(r)||pt("Preference must be one of [".concat(n.map(function(e){return"'".concat(e,"'")}).join(", "),"] or a number.  Got: ").concat(r)),zn(e)}(e),u={},d=0;d<c.length;d++)u[c[d].id()]=d;r=(t=c.length)*t,n=new Array(r);for(var h=0;h<r;h++)n[h]=-1/0;for(var p=0;p<t;p++)for(var f=0;f<t;f++)p!==f&&(n[p*t+f]=qn(l.distance,c[p],c[f],l.attributes));i=Qn(n,l.preference);for(var g=0;g<t;g++)n[g*t+g]=i;a=new Array(r);for(var y=0;y<r;y++)a[y]=0;o=new Array(r);for(var m=0;m<r;m++)o[m]=0;for(var v=new Array(t),b=new Array(t),_=new Array(t),w=0;w<t;w++)v[w]=0,b[w]=0,_[w]=0;for(var x,S=new Array(t*l.minIterations),T=0;T<S.length;T++)S[T]=0;for(x=0;x<l.maxIterations;x++){for(var O=0;O<t;O++){for(var E=-1/0,A=-1/0,P=-1,N=0,j=0;j<t;j++)v[j]=a[O*t+j],(N=o[O*t+j]+n[O*t+j])>=E?(A=E,E=N,P=j):N>A&&(A=N);for(var D=0;D<t;D++)a[O*t+D]=(1-l.damping)*(n[O*t+D]-E)+l.damping*v[D];a[O*t+P]=(1-l.damping)*(n[O*t+P]-A)+l.damping*v[P]}for(var R=0;R<t;R++){for(var I=0,F=0;F<t;F++)v[F]=o[F*t+R],b[F]=Math.max(0,a[F*t+R]),I+=b[F];I-=b[R],b[R]=a[R*t+R],I+=b[R];for(var C=0;C<t;C++)o[C*t+R]=(1-l.damping)*Math.min(0,I-b[C])+l.damping*v[C];o[R*t+R]=(1-l.damping)*(I-b[R])+l.damping*v[R]}for(var M=0,k=0;k<t;k++){var L=o[k*t+k]+a[k*t+k]>0?1:0;S[x%l.minIterations*t+k]=L,M+=L}if(M>0&&(x>=l.minIterations-1||x==l.maxIterations-1)){for(var B=0,U=0;U<t;U++){_[U]=0;for(var V=0;V<l.minIterations;V++)_[U]+=S[V*t+U];0!==_[U]&&_[U]!==l.minIterations||B++}if(B===t)break}}for(var z=function(e,t,r){for(var n=[],i=0;i<e;i++)t[i*e+i]+r[i*e+i]>0&&n.push(i);return n}(t,a,o),q=function(e,t,r){for(var n=Gn(e,t,r),i=0;i<r.length;i++){for(var a=[],o=0;o<n.length;o++)n[o]===r[i]&&a.push(o);for(var s=-1,c=-1/0,l=0;l<a.length;l++){for(var u=0,d=0;d<a.length;d++)u+=t[a[d]*e+a[l]];u>c&&(s=l,c=u)}r[i]=a[s]}return Gn(e,t,r)}(t,n,z),Q={},G=0;G<z.length;G++)Q[z[G]]=[];for(var H=0;H<c.length;H++){var W=q[u[c[H].id()]];null!=W&&Q[W].push(c[H])}for(var X=new Array(z.length),K=0;K<z.length;K++)X[K]=s.collection(Q[z[K]]);return X},Wn={affinityPropagation:Hn,ap:Hn},Xn=_t({root:void 0,directed:!1}),Kn={hierholzer:function(e){if(!ae(e)){var t=arguments;e={root:t[0],directed:t[1]}}var r,n,i,a=Xn(e),o=a.root,s=a.directed,c=this,l=!1;o&&(i=re(o)?this.filter(o)[0].id():o[0].id());var u={},d={};s?c.forEach(function(e){var t=e.id();if(e.isNode()){var i=e.indegree(!0),a=e.outdegree(!0),o=i-a,s=a-i;1==o?r?l=!0:r=t:1==s?n?l=!0:n=t:(s>1||o>1)&&(l=!0),u[t]=[],e.outgoers().forEach(function(e){e.isEdge()&&u[t].push(e.id())})}else d[t]=[void 0,e.target().id()]}):c.forEach(function(e){var t=e.id();e.isNode()?(e.degree(!0)%2&&(r?n?l=!0:n=t:r=t),u[t]=[],e.connectedEdges().forEach(function(e){return u[t].push(e.id())})):d[t]=[e.source().id(),e.target().id()]});var h={found:!1,trail:void 0};if(l)return h;if(n&&r)if(s){if(i&&n!=i)return h;i=n}else{if(i&&n!=i&&r!=i)return h;i||(i=n)}else i||(i=c[0].id());var p=function(e){for(var t,r,n,i=e,a=[e];u[i].length;)t=u[i].shift(),r=d[t][0],i!=(n=d[t][1])?(u[n]=u[n].filter(function(e){return e!=t}),i=n):s||i==r||(u[r]=u[r].filter(function(e){return e!=t}),i=r),a.unshift(t),a.unshift(i);return a},f=[],g=[];for(g=p(i);1!=g.length;)0==u[g[0]].length?(f.unshift(c.getElementById(g.shift())),f.unshift(c.getElementById(g.shift()))):g=p(g.shift()).concat(g);for(var y in f.unshift(c.getElementById(g.shift())),u)if(u[y].length)return h;return h.found=!0,h.trail=this.spawn(f,!0),h}},$n=function(){var e=this,t={},r=0,n=0,i=[],a=[],o={},s=function(c,l,u){c===u&&(n+=1),t[l]={id:r,low:r++,cutVertex:!1};var d,h,p,f,g=e.getElementById(l).connectedEdges().intersection(e);0===g.size()?i.push(e.spawn(e.getElementById(l))):g.forEach(function(r){d=r.source().id(),h=r.target().id(),(p=d===l?h:d)!==u&&(f=r.id(),o[f]||(o[f]=!0,a.push({x:l,y:p,edge:r})),p in t?t[l].low=Math.min(t[l].low,t[p].id):(s(c,p,l),t[l].low=Math.min(t[l].low,t[p].low),t[l].id<=t[p].low&&(t[l].cutVertex=!0,function(r,n){for(var o=a.length-1,s=[],c=e.spawn();a[o].x!=r||a[o].y!=n;)s.push(a.pop().edge),o--;s.push(a.pop().edge),s.forEach(function(r){var n=r.connectedNodes().intersection(e);c.merge(r),n.forEach(function(r){var n=r.id(),i=r.connectedEdges().intersection(e);c.merge(r),t[n].cutVertex?c.merge(i.filter(function(e){return e.isLoop()})):c.merge(i)})}),i.push(c)}(l,p))))})};e.forEach(function(e){if(e.isNode()){var r=e.id();r in t||(n=0,s(r,r),t[r].cutVertex=n>1)}});var c=Object.keys(t).filter(function(e){return t[e].cutVertex}).map(function(t){return e.getElementById(t)});return{cut:e.spawn(c),components:i}},Yn=function(){var e=this,t={},r=0,n=[],i=[],a=e.spawn(e),o=function(s){if(i.push(s),t[s]={index:r,low:r++,explored:!1},e.getElementById(s).connectedEdges().intersection(e).forEach(function(e){var r=e.target().id();r!==s&&(r in t||o(r),t[r].explored||(t[s].low=Math.min(t[s].low,t[r].low)))}),t[s].index===t[s].low){for(var c=e.spawn();;){var l=i.pop();if(c.merge(e.getElementById(l)),t[l].low=t[s].index,t[l].explored=!0,l===s)break}var u=c.edgesWith(c),d=c.merge(u);n.push(d),a=a.difference(d)}};return e.forEach(function(e){if(e.isNode()){var r=e.id();r in t||o(r)}}),{cut:a,components:n}},Jn={};[jt,Ut,Vt,qt,Gt,Wt,Yt,Hr,Xr,$r,Jr,ln,In,Vn,Wn,Kn,{hopcroftTarjanBiconnected:$n,htbc:$n,htb:$n,hopcroftTarjanBiconnectedComponents:$n},{tarjanStronglyConnected:Yn,tsc:Yn,tscc:Yn,tarjanStronglyConnectedComponents:Yn}].forEach(function(e){Ae(Jn,e)});var Zn=function(e){if(!(this instanceof Zn))return new Zn(e);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"===typeof e&&e.call(this,this.fulfill.bind(this),this.reject.bind(this))};Zn.prototype={fulfill:function(e){return ei(this,1,"fulfillValue",e)},reject:function(e){return ei(this,2,"rejectReason",e)},then:function(e,t){var r=this,n=new Zn;return r.onFulfilled.push(ni(e,n,"fulfill")),r.onRejected.push(ni(t,n,"reject")),ti(r),n.proxy}};var ei=function(e,t,r,n){return 0===e.state&&(e.state=t,e[r]=n,ti(e)),e},ti=function(e){1===e.state?ri(e,"onFulfilled",e.fulfillValue):2===e.state&&ri(e,"onRejected",e.rejectReason)},ri=function(e,t,r){if(0!==e[t].length){var n=e[t];e[t]=[];var i=function(){for(var e=0;e<n.length;e++)n[e](r)};"function"===typeof setImmediate?setImmediate(i):setTimeout(i,0)}},ni=function(e,t,r){return function(n){if("function"!==typeof e)t[r].call(t,n);else{var i;try{i=e(n)}catch(a){return void t.reject(a)}ii(t,i)}}},ii=function(e,t){if(e!==t&&e.proxy!==t){var r;if("object"===b(t)&&null!==t||"function"===typeof t)try{r=t.then}catch(i){return void e.reject(i)}if("function"!==typeof r)e.fulfill(t);else{var n=!1;try{r.call(t,function(r){n||(n=!0,r===t?e.reject(new TypeError("circular thenable chain")):ii(e,r))},function(t){n||(n=!0,e.reject(t))})}catch(i){n||e.reject(i)}}}else e.reject(new TypeError("cannot resolve promise with itself"))};Zn.all=function(e){return new Zn(function(t,r){for(var n=new Array(e.length),i=0,a=function(r,a){n[r]=a,++i===e.length&&t(n)},o=0;o<e.length;o++)(function(t){var n=e[t];null!=n&&null!=n.then?n.then(function(e){a(t,e)},function(e){r(e)}):a(t,n)})(o)})},Zn.resolve=function(e){return new Zn(function(t,r){t(e)})},Zn.reject=function(e){return new Zn(function(t,r){r(e)})};var ai="undefined"!==typeof Promise?Promise:Zn,oi=function(e,t,r){var n=de(e),i=!n,a=this._private=Ae({duration:1e3},t,r);if(a.target=e,a.style=a.style||a.css,a.started=!1,a.playing=!1,a.hooked=!1,a.applying=!1,a.progress=0,a.completes=[],a.frames=[],a.complete&&ne(a.complete)&&a.completes.push(a.complete),i){var o=e.position();a.startPosition=a.startPosition||{x:o.x,y:o.y},a.startStyle=a.startStyle||e.cy().style().getAnimationStartStyle(e,a.style)}if(n){var s=e.pan();a.startPan={x:s.x,y:s.y},a.startZoom=e.zoom()}this.length=1,this[0]=this},si=oi.prototype;Ae(si,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),ce(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,r=t.playing;return void 0===e?t.progress:(r&&this.pause(),t.progress=e,t.started=!1,r&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var r=function(t,r){var n=e[t];null!=n&&(e[t]=e[r],e[r]=n)};if(r("zoom","startZoom"),r("pan","startPan"),r("position","startPosition"),e.style)for(var n=0;n<e.style.length;n++){var i=e.style[n],a=i.name,o=e.startStyle[a];e.startStyle[a]=i,e.style[n]=o}return t&&this.play(),this},promise:function(e){var t,r=this._private;if("frame"===e)t=r.frames;else t=r.completes;return new ai(function(e,r){t.push(function(){e()})})}}),si.complete=si.completed,si.run=si.play,si.running=si.playing;var ci,li,ui,di,hi,pi,fi,gi,yi,mi,vi,bi,_i,wi,xi,Si,Ti,Oi,Ei,Ai,Pi,Ni,ji,Di,Ri,Ii,Fi,Ci,Mi,ki,Li,Bi,Ui,Vi,zi,qi,Qi,Gi,Hi,Wi,Xi,Ki,$i,Yi,Ji,Zi,ea,ta,ra,na,ia,aa,oa,sa,ca,la,ua,da,ha,pa,fa,ga,ya,ma,va,ba,_a,wa,xa,Sa,Ta,Oa,Ea,Aa,Pa,Na,ja,Da,Ra,Ia,Fa,Ca,Ma,ka,La,Ba,Ua={animated:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return!1;var r=t[0];return r?r._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=this,t=void 0!==e.length?e:[e];if(!(this._private.cy||this).styleEnabled())return this;for(var r=0;r<t.length;r++){t[r]._private.animation.queue=[]}return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var r=this,n=void 0!==r.length,i=n?r:[r],a=this._private.cy||this,o=!n,s=!o;if(!a.styleEnabled())return this;var c=a.style();if(e=Ae({},e,t),0===Object.keys(e).length)return new oi(i[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(s&&(e.style=c.getPropsList(e.style||e.css),e.css=void 0),s&&null!=e.renderedPosition){var l=e.renderedPosition,u=a.pan(),d=a.zoom();e.position=Zt(l,d,u)}if(o&&null!=e.panBy){var h=e.panBy,p=a.pan();e.pan={x:p.x+h.x,y:p.y+h.y}}var f=e.center||e.centre;if(o&&null!=f){var g=a.getCenterPan(f.eles,e.zoom);null!=g&&(e.pan=g)}if(o&&null!=e.fit){var y=e.fit,m=a.getFitViewport(y.eles||y.boundingBox,y.padding);null!=m&&(e.pan=m.pan,e.zoom=m.zoom)}if(o&&ae(e.zoom)){var v=a.getZoomedViewport(e.zoom);null!=v?(v.zoomed&&(e.zoom=v.zoom),v.panned&&(e.pan=v.pan)):e.zoom=null}return new oi(i[0],e)}},animate:function(){return function(e,t){var r=this,n=void 0!==r.length?r:[r];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=Ae({},e,t));for(var i=0;i<n.length;i++){var a=n[i],o=a.animated()&&(void 0===e.queue||e.queue);a.animation(e,o?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var r=this,n=void 0!==r.length?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var a=0;a<n.length;a++){for(var o=n[a]._private,s=o.animation.current,c=0;c<s.length;c++){var l=s[c]._private;t&&(l.duration=0)}e&&(o.animation.queue=[]),t||(o.animation.current=[])}return i.notify("draw"),this}}};function Va(){if(li)return ci;li=1;var e=Array.isArray;return ci=e}function za(){if(mi)return yi;mi=1;var e=function(){if(gi)return fi;gi=1;var e=Ce()["__core-js_shared__"];return fi=e}(),t=function(){var t=/[^.]+$/.exec(e&&e.keys&&e.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();return yi=function(e){return!!t&&t in e}}function qa(){if(wi)return _i;wi=1;var e=function(){if(pi)return hi;pi=1;var e=Le(),t=Fe();return hi=function(r){if(!t(r))return!1;var n=e(r);return"[object Function]"==n||"[object GeneratorFunction]"==n||"[object AsyncFunction]"==n||"[object Proxy]"==n}}(),t=za(),r=Fe(),n=function(){if(bi)return vi;bi=1;var e=Function.prototype.toString;return vi=function(t){if(null!=t){try{return e.call(t)}catch(r){}try{return t+""}catch(r){}}return""}}(),i=/^\[object .+?Constructor\]$/,a=Function.prototype,o=Object.prototype,s=a.toString,c=o.hasOwnProperty,l=RegExp("^"+s.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return _i=function(a){return!(!r(a)||t(a))&&(e(a)?l:i).test(n(a))}}function Qa(){if(Oi)return Ti;Oi=1;var e=qa(),t=(Si||(Si=1,xi=function(e,t){return null==e?void 0:e[t]}),xi);return Ti=function(r,n){var i=t(r,n);return e(i)?i:void 0},Ti}function Ga(){if(Ai)return Ei;Ai=1;var e=Qa()(Object,"create");return Ei=e}function Ha(){if(Bi)return Li;Bi=1;var e=function(){if(Ni)return Pi;Ni=1;var e=Ga();return Pi=function(){this.__data__=e?e(null):{},this.size=0}}(),t=Di?ji:(Di=1,ji=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}),r=function(){if(Ii)return Ri;Ii=1;var e=Ga(),t=Object.prototype.hasOwnProperty;return Ri=function(r){var n=this.__data__;if(e){var i=n[r];return"__lodash_hash_undefined__"===i?void 0:i}return t.call(n,r)?n[r]:void 0},Ri}(),n=function(){if(Ci)return Fi;Ci=1;var e=Ga(),t=Object.prototype.hasOwnProperty;return Fi=function(r){var n=this.__data__;return e?void 0!==n[r]:t.call(n,r)},Fi}(),i=function(){if(ki)return Mi;ki=1;var e=Ga();return Mi=function(t,r){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=e&&void 0===r?"__lodash_hash_undefined__":r,this},Mi}();function a(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,Li=a}function Wa(){if(qi)return zi;return qi=1,zi=function(e,t){return e===t||e!==e&&t!==t}}function Xa(){if(Gi)return Qi;Gi=1;var e=Wa();return Qi=function(t,r){for(var n=t.length;n--;)if(e(t[n][0],r))return n;return-1},Qi}function Ka(){if(ta)return ea;ta=1;var e=Vi?Ui:(Vi=1,Ui=function(){this.__data__=[],this.size=0}),t=function(){if(Wi)return Hi;Wi=1;var e=Xa(),t=Array.prototype.splice;return Hi=function(r){var n=this.__data__,i=e(n,r);return!(i<0)&&(i==n.length-1?n.pop():t.call(n,i,1),--this.size,!0)},Hi}(),r=function(){if(Ki)return Xi;Ki=1;var e=Xa();return Xi=function(t){var r=this.__data__,n=e(r,t);return n<0?void 0:r[n][1]},Xi}(),n=function(){if(Yi)return $i;Yi=1;var e=Xa();return $i=function(t){return e(this.__data__,t)>-1}}(),i=function(){if(Zi)return Ji;Zi=1;var e=Xa();return Ji=function(t,r){var n=this.__data__,i=e(n,t);return i<0?(++this.size,n.push([t,r])):n[i][1]=r,this},Ji}();function a(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,ea=a}function $a(){if(aa)return ia;aa=1;var e=Ha(),t=Ka(),r=function(){if(na)return ra;na=1;var e=Qa()(Ce(),"Map");return ra=e}();return ia=function(){this.size=0,this.__data__={hash:new e,map:new(r||t),string:new e}}}function Ya(){if(la)return ca;la=1;var e=sa?oa:(sa=1,oa=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e});return ca=function(t,r){var n=t.__data__;return e(r)?n["string"==typeof r?"string":"hash"]:n.map},ca}function Ja(){if(ba)return va;ba=1;var e=$a(),t=function(){if(da)return ua;da=1;var e=Ya();return ua=function(t){var r=e(this,t).delete(t);return this.size-=r?1:0,r}}(),r=function(){if(pa)return ha;pa=1;var e=Ya();return ha=function(t){return e(this,t).get(t)}}(),n=function(){if(ga)return fa;ga=1;var e=Ya();return fa=function(t){return e(this,t).has(t)}}(),i=function(){if(ma)return ya;ma=1;var e=Ya();return ya=function(t,r){var n=e(this,t),i=n.size;return n.set(t,r),this.size+=n.size==i?0:1,this},ya}();function a(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}return a.prototype.clear=e,a.prototype.delete=t,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,va=a}function Za(){if(Sa)return xa;Sa=1;var e=function(){if(wa)return _a;wa=1;var e=Ja();function t(r,n){if("function"!=typeof r||null!=n&&"function"!=typeof n)throw new TypeError("Expected a function");var i=function(){var e=arguments,t=n?n.apply(this,e):e[0],a=i.cache;if(a.has(t))return a.get(t);var o=r.apply(this,e);return i.cache=a.set(t,o)||a,o};return i.cache=new(t.Cache||e),i}return t.Cache=e,_a=t}();return xa=function(t){var r=e(t,function(e){return 500===n.size&&n.clear(),e}),n=r.cache;return r},xa}function eo(){if(Oa)return Ta;Oa=1;var e=Za(),t=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=e(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(t,function(e,t,i,a){n.push(i?a.replace(r,"$1"):t||e)}),n});return Ta=n}function to(){if(Aa)return Ea;return Aa=1,Ea=function(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i},Ea}function ro(){if(Da)return ja;Da=1;var e=function(){if(Na)return Pa;Na=1;var e=ke(),t=to(),r=Va(),n=Be(),i=e?e.prototype:void 0,a=i?i.toString:void 0;return Pa=function e(i){if("string"==typeof i)return i;if(r(i))return t(i,e)+"";if(n(i))return a?a.call(i):"";var o=i+"";return"0"==o&&1/i==-1/0?"-0":o},Pa}();return ja=function(t){return null==t?"":e(t)}}function no(){if(Ia)return Ra;Ia=1;var e=Va(),t=function(){if(di)return ui;di=1;var e=Va(),t=Be(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;return ui=function(i,a){if(e(i))return!1;var o=typeof i;return!("number"!=o&&"symbol"!=o&&"boolean"!=o&&null!=i&&!t(i))||n.test(i)||!r.test(i)||null!=a&&i in Object(a)},ui}(),r=eo(),n=ro();return Ra=function(i,a){return e(i)?i:t(i,a)?[i]:r(n(i))},Ra}function io(){if(Ca)return Fa;Ca=1;var e=Be();return Fa=function(t){if("string"==typeof t||e(t))return t;var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}}var ao,oo,so,co,lo,uo,ho,po,fo,go,yo,mo,vo=function(){if(Ba)return La;Ba=1;var e=function(){if(ka)return Ma;ka=1;var e=no(),t=io();return Ma=function(r,n){for(var i=0,a=(n=e(n,r)).length;null!=r&&i<a;)r=r[t(n[i++])];return i&&i==a?r:void 0},Ma}();return La=function(t,r,n){var i=null==t?void 0:e(t,r);return void 0===i?n:i},La}(),bo=Ie(vo);function _o(){if(co)return so;co=1;var e=function(){if(oo)return ao;oo=1;var e=Qa(),t=function(){try{var t=e(Object,"defineProperty");return t({},"",{}),t}catch(r){}}();return ao=t}();return so=function(t,r,n){"__proto__"==r&&e?e(t,r,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[r]=n},so}function wo(){if(go)return fo;go=1;var e=function(){if(uo)return lo;uo=1;var e=_o(),t=Wa(),r=Object.prototype.hasOwnProperty;return lo=function(n,i,a){var o=n[i];r.call(n,i)&&t(o,a)&&(void 0!==a||i in n)||e(n,i,a)},lo}(),t=no(),r=function(){if(po)return ho;po=1;var e=/^(?:0|[1-9]\d*)$/;return ho=function(t,r){var n=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&e.test(t))&&t>-1&&t%1==0&&t<r}}(),n=Fe(),i=io();return fo=function(a,o,s,c){if(!n(a))return a;for(var l=-1,u=(o=t(o,a)).length,d=u-1,h=a;null!=h&&++l<u;){var p=i(o[l]),f=s;if("__proto__"===p||"constructor"===p||"prototype"===p)return a;if(l!=d){var g=h[p];void 0===(f=c?c(g,p,h):void 0)&&(f=n(g)?g:r(o[l+1])?[]:{})}e(h,p,f),h=h[p]}return a},fo}var xo,So,To,Oo,Eo=function(){if(mo)return yo;mo=1;var e=wo();return yo=function(t,r,n){return null==t?t:e(t,r,n)},yo}(),Ao=Ie(Eo);var Po=function(){if(Oo)return To;Oo=1;var e=to(),t=(So||(So=1,xo=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}),xo),r=Va(),n=Be(),i=eo(),a=io(),o=ro();return To=function(s){return r(s)?e(s,a):n(s)?[s]:t(i(o(s)))}}(),No=Ie(Po),jo={data:function(e){return e=Ae({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},e),function(t,r){var n=e,i=this,a=void 0!==i.length,o=a?i:[i],s=a?i[0]:i;if(re(t)){var c,l=-1!==t.indexOf(".")&&No(t);if(n.allowGetting&&void 0===r)return s&&(n.beforeGet(s),c=l&&void 0===s._private[n.field][t]?bo(s._private[n.field],l):s._private[n.field][t]),c;if(n.allowSetting&&void 0!==r&&!n.immutableKeys[t]){var u=g({},t,r);n.beforeSet(i,u);for(var d=0,h=o.length;d<h;d++){var p=o[d];n.canSet(p)&&(l&&void 0===s._private[n.field][t]?Ao(p._private[n.field],l,r):p._private[n.field][t]=r)}n.updateStyle&&i.updateStyle(),n.onSet(i),n.settingTriggersEvent&&i[n.triggerFnName](n.settingEvent)}}else if(n.allowSetting&&ae(t)){var f,y,m=t,v=Object.keys(m);n.beforeSet(i,m);for(var b=0;b<v.length;b++){if(y=m[f=v[b]],!n.immutableKeys[f])for(var _=0;_<o.length;_++){var w=o[_];n.canSet(w)&&(w._private[n.field][f]=y)}}n.updateStyle&&i.updateStyle(),n.onSet(i),n.settingTriggersEvent&&i[n.triggerFnName](n.settingEvent)}else if(n.allowBinding&&ne(t)){var x=t;i.on(n.bindingEvent,x)}else if(n.allowGetting&&void 0===t){var S;return s&&(n.beforeGet(s),S=s._private[n.field]),S}return i}},removeData:function(e){return e=Ae({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var r=e,n=this,i=void 0!==n.length?n:[n];if(re(t)){for(var a=t.split(/\s+/),o=a.length,s=0;s<o;s++){var c=a[s];if(!pe(c))if(!r.immutableKeys[c])for(var l=0,u=i.length;l<u;l++)i[l]._private[r.field][c]=void 0}r.triggerEvent&&n[r.triggerFnName](r.event)}else if(void 0===t){for(var d=0,h=i.length;d<h;d++)for(var p=i[d]._private[r.field],f=Object.keys(p),g=0;g<f.length;g++){var y=f[g];!r.immutableKeys[y]&&(p[y]=void 0)}r.triggerEvent&&n[r.triggerFnName](r.event)}return n}}},Do={eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var r=this,n=Array.prototype.slice.call(arguments,0);return new ai(function(e,t){var i=n.concat([function(t){r.off.apply(r,a),e(t)}]),a=i.concat([]);r.on.apply(r,i)})}}},Ro={};[Ua,jo,Do].forEach(function(e){Ae(Ro,e)});var Io={animate:Ro.animate(),animation:Ro.animation(),animated:Ro.animated(),clearQueue:Ro.clearQueue(),delay:Ro.delay(),delayAnimation:Ro.delayAnimation(),stop:Ro.stop()},Fo={classes:function(e){var t=this;if(void 0===e){var r=[];return t[0]._private.classes.forEach(function(e){return r.push(e)}),r}ie(e)||(e=(e||"").match(/\S+/g)||[]);for(var n=[],i=new At(e),a=0;a<t.length;a++){for(var o=t[a],s=o._private,c=s.classes,l=!1,u=0;u<e.length;u++){var d=e[u];if(!c.has(d)){l=!0;break}}l||(l=c.size!==e.length),l&&(s.classes=i,n.push(o))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),t},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){ie(e)||(e=e.match(/\S+/g)||[]);for(var r=this,n=void 0===t,i=[],a=0,o=r.length;a<o;a++)for(var s=r[a],c=s._private.classes,l=!1,u=0;u<e.length;u++){var d=e[u],h=c.has(d),p=!1;t||n&&!h?(c.add(d),p=!0):(!t||n&&h)&&(c.delete(d),p=!0),!l&&p&&(i.push(s),l=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),r},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var r=this;if(null==t)t=250;else if(0===t)return r;return r.addClass(e),setTimeout(function(){r.removeClass(e)},t),r}};Fo.className=Fo.classNames=Fo.classes;var Co={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:we,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Co.variable="(?:[\\w-.]|(?:\\\\"+Co.metaChar+"))+",Co.className="(?:[\\w-]|(?:\\\\"+Co.metaChar+"))+",Co.value=Co.string+"|"+Co.number,Co.id=Co.variable,function(){var e,t,r;for(e=Co.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],Co.comparatorOp+="|@"+t;for(e=Co.comparatorOp.split("|"),r=0;r<e.length;r++)(t=e[r]).indexOf("!")>=0||"="!==t&&(Co.comparatorOp+="|\\!"+t)}();var Mo=0,ko=1,Lo=2,Bo=3,Uo=4,Vo=5,zo=6,qo=7,Qo=8,Go=9,Ho=10,Wo=11,Xo=12,Ko=13,$o=14,Yo=15,Jo=16,Zo=17,es=18,ts=19,rs=20,ns=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort(function(e,t){return function(e,t){return-1*Ee(e,t)}(e.selector,t.selector)}),is=function(){for(var e,t={},r=0;r<ns.length;r++)t[(e=ns[r]).selector]=e.matches;return t}(),as="("+ns.map(function(e){return e.selector}).join("|")+")",os=function(e){return e.replace(new RegExp("\\\\("+Co.metaChar+")","g"),function(e,t){return t})},ss=function(e,t,r){e[e.length-1]=r},cs=[{name:"group",query:!0,regex:"("+Co.group+")",populate:function(e,t,r){var n=y(r,1)[0];t.checks.push({type:Mo,value:"*"===n?n:n+"s"})}},{name:"state",query:!0,regex:as,populate:function(e,t,r){var n=y(r,1)[0];t.checks.push({type:qo,value:n})}},{name:"id",query:!0,regex:"\\#("+Co.id+")",populate:function(e,t,r){var n=y(r,1)[0];t.checks.push({type:Qo,value:os(n)})}},{name:"className",query:!0,regex:"\\.("+Co.className+")",populate:function(e,t,r){var n=y(r,1)[0];t.checks.push({type:Go,value:os(n)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Co.variable+")\\s*\\]",populate:function(e,t,r){var n=y(r,1)[0];t.checks.push({type:Uo,field:os(n)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Co.variable+")\\s*("+Co.comparatorOp+")\\s*("+Co.value+")\\s*\\]",populate:function(e,t,r){var n=y(r,3),i=n[0],a=n[1],o=n[2];o=null!=new RegExp("^"+Co.string+"$").exec(o)?o.substring(1,o.length-1):parseFloat(o),t.checks.push({type:Bo,field:os(i),operator:a,value:o})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Co.boolOp+")\\s*("+Co.variable+")\\s*\\]",populate:function(e,t,r){var n=y(r,2),i=n[0],a=n[1];t.checks.push({type:Vo,field:os(a),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Co.meta+")\\s*("+Co.comparatorOp+")\\s*("+Co.number+")\\s*\\]\\]",populate:function(e,t,r){var n=y(r,3),i=n[0],a=n[1],o=n[2];t.checks.push({type:zo,field:os(i),operator:a,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:Co.separator,populate:function(e,t){var r=e.currentSubject,n=e.edgeCount,i=e.compoundCount,a=e[e.length-1];return null!=r&&(a.subject=r,e.currentSubject=null),a.edgeCount=n,a.compoundCount=i,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Co.directedEdge,populate:function(e,t){if(null==e.currentSubject){var r={checks:[]},n=t,i={checks:[]};return r.checks.push({type:Wo,source:n,target:i}),ss(e,0,r),e.edgeCount++,i}var a={checks:[]},o=t,s={checks:[]};return a.checks.push({type:Xo,source:o,target:s}),ss(e,0,a),e.edgeCount++,s}},{name:"undirectedEdge",separator:!0,regex:Co.undirectedEdge,populate:function(e,t){if(null==e.currentSubject){var r={checks:[]},n=t,i={checks:[]};return r.checks.push({type:Ho,nodes:[n,i]}),ss(e,0,r),e.edgeCount++,i}var a={checks:[]},o=t,s={checks:[]};return a.checks.push({type:$o,node:o,neighbor:s}),ss(e,0,a),s}},{name:"child",separator:!0,regex:Co.child,populate:function(e,t){if(null==e.currentSubject){var r={checks:[]},n={checks:[]},i=e[e.length-1];return r.checks.push({type:Yo,parent:i,child:n}),ss(e,0,r),e.compoundCount++,n}if(e.currentSubject===t){var a={checks:[]},o=e[e.length-1],s={checks:[]},c={checks:[]},l={checks:[]},u={checks:[]};return a.checks.push({type:ts,left:o,right:s,subject:c}),c.checks=t.checks,t.checks=[{type:rs}],u.checks.push({type:rs}),s.checks.push({type:Zo,parent:u,child:l}),ss(e,0,a),e.currentSubject=c,e.compoundCount++,l}var d={checks:[]},h={checks:[]},p=[{type:Zo,parent:d,child:h}];return d.checks=t.checks,t.checks=p,e.compoundCount++,h}},{name:"descendant",separator:!0,regex:Co.descendant,populate:function(e,t){if(null==e.currentSubject){var r={checks:[]},n={checks:[]},i=e[e.length-1];return r.checks.push({type:Jo,ancestor:i,descendant:n}),ss(e,0,r),e.compoundCount++,n}if(e.currentSubject===t){var a={checks:[]},o=e[e.length-1],s={checks:[]},c={checks:[]},l={checks:[]},u={checks:[]};return a.checks.push({type:ts,left:o,right:s,subject:c}),c.checks=t.checks,t.checks=[{type:rs}],u.checks.push({type:rs}),s.checks.push({type:es,ancestor:u,descendant:l}),ss(e,0,a),e.currentSubject=c,e.compoundCount++,l}var d={checks:[]},h={checks:[]},p=[{type:es,ancestor:d,descendant:h}];return d.checks=t.checks,t.checks=p,e.compoundCount++,h}},{name:"subject",modifier:!0,regex:Co.subject,populate:function(e,t){if(null!=e.currentSubject&&e.currentSubject!==t)return gt("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var r=e[e.length-1].checks[0],n=null==r?null:r.type;n===Wo?r.type=Ko:n===Ho&&(r.type=$o,r.node=r.nodes[1],r.neighbor=r.nodes[0],r.nodes=null)}}];cs.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var ls=function(e){for(var t,r,n,i=0;i<cs.length;i++){var a=cs[i],o=a.name,s=e.match(a.regexObj);if(null!=s){r=s,t=a,n=o;var c=s[0];e=e.substring(c.length);break}}return{expr:t,match:r,name:n,remaining:e}},us={parse:function(e){var t=this,r=t.inputText=e,n=t[0]={checks:[]};for(t.length=1,r=function(e){var t=e.match(/^\s+/);if(t){var r=t[0];e=e.substring(r.length)}return e}(r);;){var i=ls(r);if(null==i.expr)return gt("The selector `"+e+"`is invalid"),!1;var a=i.match.slice(1),o=i.expr.populate(t,n,a);if(!1===o)return!1;if(null!=o&&(n=o),(r=i.remaining).match(/^\s*$/))break}var s=t[t.length-1];null!=t.currentSubject&&(s.subject=t.currentSubject),s.edgeCount=t.edgeCount,s.compoundCount=t.compoundCount;for(var c=0;c<t.length;c++){var l=t[c];if(l.compoundCount>0&&l.edgeCount>0)return gt("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(l.edgeCount>1)return gt("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;1===l.edgeCount&&gt("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(e){return null==e?"":e},t=function(t){return re(t)?'"'+t+'"':e(t)},r=function(e){return" "+e+" "},n=function(n,a){var o=n.type,s=n.value;switch(o){case Mo:var c=e(s);return c.substring(0,c.length-1);case Bo:var l=n.field,u=n.operator;return"["+l+r(e(u))+t(s)+"]";case Vo:var d=n.operator,h=n.field;return"["+e(d)+h+"]";case Uo:return"["+n.field+"]";case zo:var p=n.operator;return"[["+n.field+r(e(p))+t(s)+"]]";case qo:return s;case Qo:return"#"+s;case Go:return"."+s;case Zo:case Yo:return i(n.parent,a)+r(">")+i(n.child,a);case es:case Jo:return i(n.ancestor,a)+" "+i(n.descendant,a);case ts:var f=i(n.left,a),g=i(n.subject,a),y=i(n.right,a);return f+(f.length>0?" ":"")+g+y;case rs:return""}},i=function(e,t){return e.checks.reduce(function(r,i,a){return r+(t===e&&0===a?"$":"")+n(i,t)},"")},a="",o=0;o<this.length;o++){var s=this[o];a+=i(s,s.subject),this.length>1&&o<this.length-1&&(a+=", ")}return this.toStringCache=a,a}},ds=function(e,t,r){var n,i,a,o=re(e),s=oe(e),c=re(r),l=!1,u=!1,d=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),u=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),l=!0),(o||c||l)&&(i=o||s?""+e:"",a=""+r),l&&(e=i=i.toLowerCase(),r=a=a.toLowerCase()),t){case"*=":n=i.indexOf(a)>=0;break;case"$=":n=i.indexOf(a,i.length-a.length)>=0;break;case"^=":n=0===i.indexOf(a);break;case"=":n=e===r;break;case">":d=!0,n=e>r;break;case">=":d=!0,n=e>=r;break;case"<":d=!0,n=e<r;break;case"<=":d=!0,n=e<=r;break;default:n=!1}return!u||null==e&&d||(n=!n),n},hs=function(e,t){return e.data(t)},ps=[],fs=function(e,t){return e.checks.every(function(e){return ps[e.type](e,t)})};ps[Mo]=function(e,t){var r=e.value;return"*"===r||r===t.group()},ps[qo]=function(e,t){return function(e,t){return is[e](t)}(e.value,t)},ps[Qo]=function(e,t){var r=e.value;return t.id()===r},ps[Go]=function(e,t){var r=e.value;return t.hasClass(r)},ps[zo]=function(e,t){var r=e.field,n=e.operator,i=e.value;return ds(function(e,t){return e[t]()}(t,r),n,i)},ps[Bo]=function(e,t){var r=e.field,n=e.operator,i=e.value;return ds(hs(t,r),n,i)},ps[Vo]=function(e,t){var r=e.field,n=e.operator;return function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}(hs(t,r),n)},ps[Uo]=function(e,t){var r=e.field;return e.operator,void 0!==hs(t,r)},ps[Ho]=function(e,t){var r=e.nodes[0],n=e.nodes[1],i=t.source(),a=t.target();return fs(r,i)&&fs(n,a)||fs(n,i)&&fs(r,a)},ps[$o]=function(e,t){return fs(e.node,t)&&t.neighborhood().some(function(t){return t.isNode()&&fs(e.neighbor,t)})},ps[Wo]=function(e,t){return fs(e.source,t.source())&&fs(e.target,t.target())},ps[Xo]=function(e,t){return fs(e.source,t)&&t.outgoers().some(function(t){return t.isNode()&&fs(e.target,t)})},ps[Ko]=function(e,t){return fs(e.target,t)&&t.incomers().some(function(t){return t.isNode()&&fs(e.source,t)})},ps[Yo]=function(e,t){return fs(e.child,t)&&fs(e.parent,t.parent())},ps[Zo]=function(e,t){return fs(e.parent,t)&&t.children().some(function(t){return fs(e.child,t)})},ps[Jo]=function(e,t){return fs(e.descendant,t)&&t.ancestors().some(function(t){return fs(e.ancestor,t)})},ps[es]=function(e,t){return fs(e.ancestor,t)&&t.descendants().some(function(t){return fs(e.descendant,t)})},ps[ts]=function(e,t){return fs(e.subject,t)&&fs(e.left,t)&&fs(e.right,t)},ps[rs]=function(){return!0},ps[ko]=function(e,t){return e.value.has(t)},ps[Lo]=function(e,t){return(0,e.value)(t)};var gs={matches:function(e){for(var t=0;t<this.length;t++){var r=this[t];if(fs(r,e))return!0}return!1},filter:function(e){var t=this;if(1===t.length&&1===t[0].checks.length&&t[0].checks[0].type===Qo)return e.getElementById(t[0].checks[0].value).collection();var r=function(e){for(var r=0;r<t.length;r++){var n=t[r];if(fs(n,e))return!0}return!1};return null==t.text()&&(r=function(){return!0}),e.filter(r)}},ys=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||re(e)&&e.match(/^\s*$/)||(ce(e)?this.addQuery({checks:[{type:ko,value:e.collection()}]}):ne(e)?this.addQuery({checks:[{type:Lo,value:e}]}):re(e)?this.parse(e)||(this.invalid=!0):pt("A selector must be created from a string; found "))},ms=ys.prototype;[us,gs].forEach(function(e){return Ae(ms,e)}),ms.text=function(){return this.inputText},ms.size=function(){return this.length},ms.eq=function(e){return this[e]},ms.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},ms.addQuery=function(e){this[this.length++]=e},ms.selector=ms.toString;var vs={allAre:function(e){var t=new ys(e);return this.every(function(e){return t.matches(e)})},is:function(e){var t=new ys(e);return this.some(function(e){return t.matches(e)})},some:function(e,t){for(var r=0;r<this.length;r++){if(t?e.apply(t,[this[r],r,this]):e(this[r],r,this))return!0}return!1},every:function(e,t){for(var r=0;r<this.length;r++){if(!(t?e.apply(t,[this[r],r,this]):e(this[r],r,this)))return!1}return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(1===t?this[0]===e[0]:this.every(function(t){return e.hasElementWithId(t.id())}))},anySame:function(e){return e=this.cy().collection(e),this.some(function(t){return e.hasElementWithId(t.id())})},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every(function(e){return t.hasElementWithId(e.id())})},contains:function(e){e=this.cy().collection(e);var t=this;return e.every(function(e){return t.hasElementWithId(e.id())})}};vs.allAreNeighbours=vs.allAreNeighbors,vs.has=vs.contains,vs.equal=vs.equals=vs.same;var bs,_s,ws=function(e,t){return function(r,n,i,a){var o,s=r,c=this;if(null==s?o="":ce(s)&&1===s.length&&(o=s.id()),1===c.length&&o){var l=c[0]._private,u=l.traversalCache=l.traversalCache||{},d=u[t]=u[t]||[],h=tt(o),p=d[h];return p||(d[h]=e.call(c,r,n,i,a))}return e.call(c,r,n,i,a)}},xs={parent:function(e){var t=[];if(1===this.length){var r=this[0]._private.parent;if(r)return r}for(var n=0;n<this.length;n++){var i=this[n]._private.parent;i&&t.push(i)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],r=this.parent();r.nonempty();){for(var n=0;n<r.length;n++){var i=r[n];t.push(i)}r=r.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,r=0;r<this.length;r++){var n=this[r].parents();t=(t=t||n).intersect(n)}return t.filter(e)},orphans:function(e){return this.stdFilter(function(e){return e.isOrphan()}).filter(e)},nonorphans:function(e){return this.stdFilter(function(e){return e.isChild()}).filter(e)},children:ws(function(e){for(var t=[],r=0;r<this.length;r++)for(var n=this[r]._private.children,i=0;i<n.length;i++)t.push(n[i]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var t=[];return function e(r){for(var n=0;n<r.length;n++){var i=r[n];t.push(i),i.children().nonempty()&&e(i.children())}}(this.children()),this.spawn(t,!0).filter(e)}};function Ss(e,t,r,n){for(var i=[],a=new At,o=e.cy().hasCompoundNodes(),s=0;s<e.length;s++){var c=e[s];r?i.push(c):o&&n(i,a,c)}for(;i.length>0;){var l=i.shift();t(l),a.add(l.id()),o&&n(i,a,l)}return e}function Ts(e,t,r){if(r.isParent())for(var n=r._private.children,i=0;i<n.length;i++){var a=n[i];t.has(a.id())||e.push(a)}}function Os(e,t,r){if(r.isChild()){var n=r._private.parent;t.has(n.id())||e.push(n)}}function Es(e,t,r){Os(e,t,r),Ts(e,t,r)}xs.forEachDown=function(e){return Ss(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Ts)},xs.forEachUp=function(e){return Ss(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Os)},xs.forEachUpAndDown=function(e){return Ss(this,e,!(arguments.length>1&&void 0!==arguments[1])||arguments[1],Es)},xs.ancestors=xs.parents,(bs=_s={data:Ro.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Ro.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Ro.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ro.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Ro.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Ro.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=bs.data,bs.removeAttr=bs.removeData;var As,Ps,Ns=_s,js={};function Ds(e){return function(t){var r=this;if(void 0===t&&(t=!0),0!==r.length&&r.isNode()&&!r.removed()){for(var n=0,i=r[0],a=i._private.edges,o=0;o<a.length;o++){var s=a[o];!t&&s.isLoop()||(n+=e(i,s))}return n}}}function Rs(e,t){return function(r){for(var n,i=this.nodes(),a=0;a<i.length;a++){var o=i[a][e](r);void 0===o||void 0!==n&&!t(o,n)||(n=o)}return n}}Ae(js,{degree:Ds(function(e,t){return t.source().same(t.target())?2:1}),indegree:Ds(function(e,t){return t.target().same(e)?1:0}),outdegree:Ds(function(e,t){return t.source().same(e)?1:0})}),Ae(js,{minDegree:Rs("degree",function(e,t){return e<t}),maxDegree:Rs("degree",function(e,t){return e>t}),minIndegree:Rs("indegree",function(e,t){return e<t}),maxIndegree:Rs("indegree",function(e,t){return e>t}),minOutdegree:Rs("outdegree",function(e,t){return e<t}),maxOutdegree:Rs("outdegree",function(e,t){return e>t})}),Ae(js,{totalDegree:function(e){for(var t=0,r=this.nodes(),n=0;n<r.length;n++)t+=r[n].degree(e);return t}});var Is=function(e,t,r){for(var n=0;n<e.length;n++){var i=e[n];if(!i.locked()){var a=i._private.position,o={x:null!=t.x?t.x-a.x:0,y:null!=t.y?t.y-a.y:0};!i.isParent()||0===o.x&&0===o.y||i.children().shift(o,r),i.dirtyBoundingBoxCache()}}},Fs={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){Is(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};(As=Ps={position:Ro.data(Fs),silentPosition:Ro.data(Ae({},Fs,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){Is(e,t,!0)},onSet:function(e){e.dirtyCompoundBoundsCache()}})),positions:function(e,t){if(ae(e))t?this.silentPosition(e):this.position(e);else if(ne(e)){var r=e,n=this.cy();n.startBatch();for(var i=0;i<this.length;i++){var a,o=this[i];(a=r(o,i))&&(t?o.silentPosition(a):o.position(a))}n.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,r){var n;if(ae(e)?(n={x:oe(e.x)?e.x:0,y:oe(e.y)?e.y:0},r=t):re(e)&&oe(t)&&((n={x:0,y:0})[e]=t),null!=n){var i=this.cy();i.startBatch();for(var a=0;a<this.length;a++){var o=this[a];if(!(i.hasCompoundNodes()&&o.isChild()&&o.ancestors().anySame(this))){var s=o.position(),c={x:s.x+n.x,y:s.y+n.y};r?o.silentPosition(c):o.position(c)}}i.endBatch()}return this},silentShift:function(e,t){return ae(e)?this.shift(e,!0):re(e)&&oe(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var r=this[0],n=this.cy(),i=n.zoom(),a=n.pan(),o=ae(e)?e:void 0,s=void 0!==o||void 0!==t&&re(e);if(r&&r.isNode()){if(!s){var c=r.position();return o=Jt(c,i,a),void 0===e?o:o[e]}for(var l=0;l<this.length;l++){var u=this[l];void 0!==t?u.position(e,(t-a[e])/i):void 0!==o&&u.position(Zt(o,i,a))}}else if(!s)return;return this},relativePosition:function(e,t){var r=this[0],n=this.cy(),i=ae(e)?e:void 0,a=void 0!==i||void 0!==t&&re(e),o=n.hasCompoundNodes();if(r&&r.isNode()){if(!a){var s=r.position(),c=o?r.parent():null,l=c&&c.length>0,u=l;l&&(c=c[0]);var d=u?c.position():{x:0,y:0};return i={x:s.x-d.x,y:s.y-d.y},void 0===e?i:i[e]}for(var h=0;h<this.length;h++){var p=this[h],f=o?p.parent():null,g=f&&f.length>0,y=g;g&&(f=f[0]);var m=y?f.position():{x:0,y:0};void 0!==t?p.position(e,t+m[e]):void 0!==i&&p.position({x:i.x+m.x,y:i.y+m.y})}}else if(!a)return;return this}}).modelPosition=As.point=As.position,As.modelPositions=As.points=As.positions,As.renderedPoint=As.renderedPosition,As.relativePoint=As.relativePosition;var Cs,Ms,ks=Ps;Cs=Ms={},Ms.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),i=r.pan(),a=t.x1*n+i.x,o=t.x2*n+i.x,s=t.y1*n+i.y,c=t.y2*n+i.y;return{x1:a,x2:o,y1:s,y2:c,w:o-a,h:c-s}},Ms.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();return t.styleEnabled()&&t.hasCompoundNodes()?(this.forEachUp(function(t){if(t.isParent()){var r=t._private;r.compoundBoundsClean=!1,r.bbCache=null,e||t.emitAndNotify("bounds")}}),this):this},Ms.updateCompoundBounds=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(e){if(e.isParent()){var t=e._private,r=e.children(),n="include"===e.pstyle("compound-sizing-wrt-labels").value,i={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},a=r.boundingBox({includeLabels:n,includeOverlays:!1,useCache:!1}),o=t.position;0!==a.w&&0!==a.h||((a={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=o.x-a.w/2,a.x2=o.x+a.w/2,a.y1=o.y-a.h/2,a.y2=o.y+a.h/2);var s=i.width.left.value;"px"===i.width.left.units&&i.width.val>0&&(s=100*s/i.width.val);var c=i.width.right.value;"px"===i.width.right.units&&i.width.val>0&&(c=100*c/i.width.val);var l=i.height.top.value;"px"===i.height.top.units&&i.height.val>0&&(l=100*l/i.height.val);var u=i.height.bottom.value;"px"===i.height.bottom.units&&i.height.val>0&&(u=100*u/i.height.val);var d=m(i.width.val-a.w,s,c),h=d.biasDiff,p=d.biasComplementDiff,f=m(i.height.val-a.h,l,u),g=f.biasDiff,y=f.biasComplementDiff;t.autoPadding=function(e,t,r,n){if("%"!==r.units)return"px"===r.units?r.pfValue:0;switch(n){case"width":return e>0?r.pfValue*e:0;case"height":return t>0?r.pfValue*t:0;case"average":return e>0&&t>0?r.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?r.pfValue*t:r.pfValue*e:0;case"max":return e>0&&t>0?e>t?r.pfValue*e:r.pfValue*t:0;default:return 0}}(a.w,a.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(a.w,i.width.val),o.x=(-h+a.x1+a.x2+p)/2,t.autoHeight=Math.max(a.h,i.height.val),o.y=(-g+a.y1+a.y2+y)/2}function m(e,t,r){var n=0,i=0,a=t+r;return e>0&&a>0&&(n=t/a*e,i=r/a*e),{biasDiff:n,biasComplementDiff:i}}}for(var n=0;n<this.length;n++){var i=this[n],a=i._private;a.compoundBoundsClean&&!e||(r(i),t.batching()||(a.compoundBoundsClean=!0))}return this};var Ls=function(e){return e===1/0||e===-1/0?0:e},Bs=function(e,t,r,n,i){n-t!==0&&i-r!==0&&null!=t&&null!=r&&null!=n&&null!=i&&(e.x1=t<e.x1?t:e.x1,e.x2=n>e.x2?n:e.x2,e.y1=r<e.y1?r:e.y1,e.y2=i>e.y2?i:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Us=function(e,t){return null==t?e:Bs(e,t.x1,t.y1,t.x2,t.y2)},Vs=function(e,t,r){return St(e,t,r)},zs=function(e,t,r){if(!t.cy().headless()){var n,i,a=t._private,o=a.rstyle,s=o.arrowWidth/2;if("none"!==t.pstyle(r+"-arrow-shape").value){"source"===r?(n=o.srcX,i=o.srcY):"target"===r?(n=o.tgtX,i=o.tgtY):(n=o.midX,i=o.midY);var c=a.arrowBounds=a.arrowBounds||{},l=c[r]=c[r]||{};l.x1=n-s,l.y1=i-s,l.x2=n+s,l.y2=i+s,l.w=l.x2-l.x1,l.h=l.y2-l.y1,pr(l,1),Bs(e,l.x1,l.y1,l.x2,l.y2)}}},qs=function(e,t,r){if(!t.cy().headless()){var n;n=r?r+"-":"";var i=t._private,a=i.rstyle;if(t.pstyle(n+"label").strValue){var o,s,c,l,u=t.pstyle("text-halign"),d=t.pstyle("text-valign"),h=Vs(a,"labelWidth",r),p=Vs(a,"labelHeight",r),f=Vs(a,"labelX",r),g=Vs(a,"labelY",r),y=t.pstyle(n+"text-margin-x").pfValue,m=t.pstyle(n+"text-margin-y").pfValue,v=t.isEdge(),b=t.pstyle(n+"text-rotation"),_=t.pstyle("text-outline-width").pfValue,w=t.pstyle("text-border-width").pfValue/2,x=t.pstyle("text-background-padding").pfValue,S=p,T=h,O=T/2,E=S/2;if(v)o=f-O,s=f+O,c=g-E,l=g+E;else{switch(u.value){case"left":o=f-T,s=f;break;case"center":o=f-O,s=f+O;break;case"right":o=f,s=f+T}switch(d.value){case"top":c=g-S,l=g;break;case"center":c=g-E,l=g+E;break;case"bottom":c=g,l=g+S}}var A=y-Math.max(_,w)-x-2,P=y+Math.max(_,w)+x+2,N=m-Math.max(_,w)-x-2,j=m+Math.max(_,w)+x+2;o+=A,s+=P,c+=N,l+=j;var D=r||"main",R=i.labelBounds,I=R[D]=R[D]||{};I.x1=o,I.y1=c,I.x2=s,I.y2=l,I.w=s-o,I.h=l-c,I.leftPad=A,I.rightPad=P,I.topPad=N,I.botPad=j;var F=v&&"autorotate"===b.strValue,C=null!=b.pfValue&&0!==b.pfValue;if(F||C){var M=F?Vs(i.rstyle,"labelAngle",r):b.pfValue,k=Math.cos(M),L=Math.sin(M),B=(o+s)/2,U=(c+l)/2;if(!v){switch(u.value){case"left":B=s;break;case"right":B=o}switch(d.value){case"top":U=l;break;case"bottom":U=c}}var V=function(e,t){return{x:(e-=B)*k-(t-=U)*L+B,y:e*L+t*k+U}},z=V(o,c),q=V(o,l),Q=V(s,c),G=V(s,l);o=Math.min(z.x,q.x,Q.x,G.x),s=Math.max(z.x,q.x,Q.x,G.x),c=Math.min(z.y,q.y,Q.y,G.y),l=Math.max(z.y,q.y,Q.y,G.y)}var H=D+"Rot",W=R[H]=R[H]||{};W.x1=o,W.y1=c,W.x2=s,W.y2=l,W.w=s-o,W.h=l-c,Bs(e,o,c,s,l),Bs(i.labelBounds.all,o,c,s,l)}return e}},Qs=function(e,t){if(!t.cy().headless()){var r=t.pstyle("outline-opacity").value,n=t.pstyle("outline-width").value+t.pstyle("outline-offset").value;Gs(e,t,r,n,"outside",n/2)}},Gs=function(e,t,r,n,i,a){if(!(0===r||n<=0||"inside"===i)){var o=t.cy(),s=t.pstyle("shape").value,c=o.renderer().nodeShapes[s],l=t.position(),u=l.x,d=l.y,h=t.width(),p=t.height();if(c.hasMiterBounds){"center"===i&&(n/=2);var f=c.miterBounds(u,d,h,p,n);Us(e,f)}else null!=a&&a>0&&fr(e,[a,a,a,a])}},Hs=function(e,t){var r,n,i,a,o,s,c,l=e._private.cy,u=l.styleEnabled(),d=l.headless(),h=ur(),p=e._private,f=e.isNode(),g=e.isEdge(),y=p.rstyle,m=f&&u?e.pstyle("bounds-expansion").pfValue:[0],v=function(e){return"none"!==e.pstyle("display").value},b=!u||v(e)&&(!g||v(e.source())&&v(e.target()));if(b){var _=0;u&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(_=e.pstyle("overlay-padding").value);var w=0;u&&t.includeUnderlays&&0!==e.pstyle("underlay-opacity").value&&(w=e.pstyle("underlay-padding").value);var x=Math.max(_,w),S=0;if(u&&(S=e.pstyle("width").pfValue/2),f&&t.includeNodes){var T=e.position();o=T.x,s=T.y;var O=e.outerWidth()/2,E=e.outerHeight()/2;Bs(h,r=o-O,i=s-E,n=o+O,a=s+E),u&&Qs(h,e),u&&t.includeOutlines&&!d&&Qs(h,e),u&&function(e,t){if(!t.cy().headless()){var r=t.pstyle("border-opacity").value,n=t.pstyle("border-width").pfValue,i=t.pstyle("border-position").value;Gs(e,t,r,n,i)}}(h,e)}else if(g&&t.includeEdges)if(u&&!d){var A=e.pstyle("curve-style").strValue;if(r=Math.min(y.srcX,y.midX,y.tgtX),n=Math.max(y.srcX,y.midX,y.tgtX),i=Math.min(y.srcY,y.midY,y.tgtY),a=Math.max(y.srcY,y.midY,y.tgtY),Bs(h,r-=S,i-=S,n+=S,a+=S),"haystack"===A){var P=y.haystackPts;if(P&&2===P.length){if(r=P[0].x,i=P[0].y,r>(n=P[1].x)){var N=r;r=n,n=N}if(i>(a=P[1].y)){var j=i;i=a,a=j}Bs(h,r-S,i-S,n+S,a+S)}}else if("bezier"===A||"unbundled-bezier"===A||_e(A,"segments")||_e(A,"taxi")){var D;switch(A){case"bezier":case"unbundled-bezier":D=y.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":D=y.linePts}if(null!=D)for(var R=0;R<D.length;R++){var I=D[R];r=I.x-S,n=I.x+S,i=I.y-S,a=I.y+S,Bs(h,r,i,n,a)}}}else{var F=e.source().position(),C=e.target().position();if((r=F.x)>(n=C.x)){var M=r;r=n,n=M}if((i=F.y)>(a=C.y)){var k=i;i=a,a=k}Bs(h,r-=S,i-=S,n+=S,a+=S)}if(u&&t.includeEdges&&g&&(zs(h,e,"mid-source"),zs(h,e,"mid-target"),zs(h,e,"source"),zs(h,e,"target")),u)if("yes"===e.pstyle("ghost").value){var L=e.pstyle("ghost-offset-x").pfValue,B=e.pstyle("ghost-offset-y").pfValue;Bs(h,h.x1+L,h.y1+B,h.x2+L,h.y2+B)}var U=p.bodyBounds=p.bodyBounds||{};gr(U,h),fr(U,m),pr(U,1),u&&(r=h.x1,n=h.x2,i=h.y1,a=h.y2,Bs(h,r-x,i-x,n+x,a+x));var V=p.overlayBounds=p.overlayBounds||{};gr(V,h),fr(V,m),pr(V,1);var z=p.labelBounds=p.labelBounds||{};null!=z.all?((c=z.all).x1=1/0,c.y1=1/0,c.x2=-1/0,c.y2=-1/0,c.w=0,c.h=0):z.all=ur(),u&&t.includeLabels&&(t.includeMainLabels&&qs(h,e,null),g&&(t.includeSourceLabels&&qs(h,e,"source"),t.includeTargetLabels&&qs(h,e,"target")))}return h.x1=Ls(h.x1),h.y1=Ls(h.y1),h.x2=Ls(h.x2),h.y2=Ls(h.y2),h.w=Ls(h.x2-h.x1),h.h=Ls(h.y2-h.y1),h.w>0&&h.h>0&&b&&(fr(h,m),pr(h,1)),h},Ws=function(e){var t=0,r=function(e){return(e?1:0)<<t++},n=0;return n+=r(e.incudeNodes),n+=r(e.includeEdges),n+=r(e.includeLabels),n+=r(e.includeMainLabels),n+=r(e.includeSourceLabels),n+=r(e.includeTargetLabels),n+=r(e.includeOverlays),n+=r(e.includeOutlines)},Xs=function(e){var t=function(e){return Math.round(e)};if(e.isEdge()){var r=e.source().position(),n=e.target().position();return et([t(r.x),t(r.y),t(n.x),t(n.y)])}var i=e.position();return et([t(i.x),t(i.y)])},Ks=function(e,t){var r,n=e._private,i=e.isEdge(),a=(null==t?Ys:Ws(t))===Ys;if(null==n.bbCache?(r=Hs(e,$s),n.bbCache=r,n.bbCachePosKey=Xs(e)):r=n.bbCache,!a){var o=e.isNode();r=ur(),(t.includeNodes&&o||t.includeEdges&&!o)&&(t.includeOverlays?Us(r,n.overlayBounds):Us(r,n.bodyBounds)),t.includeLabels&&(t.includeMainLabels&&(!i||t.includeSourceLabels&&t.includeTargetLabels)?Us(r,n.labelBounds.all):(t.includeMainLabels&&Us(r,n.labelBounds.mainRot),t.includeSourceLabels&&Us(r,n.labelBounds.sourceRot),t.includeTargetLabels&&Us(r,n.labelBounds.targetRot))),r.w=r.x2-r.x1,r.h=r.y2-r.y1}return r},$s={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},Ys=Ws($s),Js=_t($s);Ms.boundingBox=function(e){var t,r=void 0===e||void 0===e.useCache||!0===e.useCache,n=ge(function(e){var t=e._private;return null==t.bbCache||t.styleDirty||t.bbCachePosKey!==Xs(e)},function(e){return e.id()});if(r&&1===this.length&&!n(this[0]))e=void 0===e?$s:Js(e),t=Ks(this[0],e);else{t=ur();var i=Js(e=e||$s),a=this,o=a.cy().styleEnabled();this.edges().forEach(n),this.nodes().forEach(n),o&&this.recalculateRenderedStyle(r),this.updateCompoundBounds(!r);for(var s=0;s<a.length;s++){var c=a[s];n(c)&&c.dirtyBoundingBoxCache(),Us(t,Ks(c,i))}}return t.x1=Ls(t.x1),t.y1=Ls(t.y1),t.x2=Ls(t.x2),t.y2=Ls(t.y2),t.w=Ls(t.x2-t.x1),t.h=Ls(t.y2-t.y1),t},Ms.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Ms.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),i=r.collection();if(n&&(i=t.filter(function(e){return e.isParent()}),t=t.not(i)),ae(e)){var a=e;e=function(){return a}}r.startBatch(),t.forEach(function(t,r){return t._private.bbAtOldPos=e(t,r)}).silentPositions(e),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0));var o=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}}(this.boundingBox({useCache:!1}));return t.silentPositions(function(e){return e._private.bbAtOldPos}),n&&(i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),i.updateCompoundBounds(!0)),r.endBatch(),o},Cs.boundingbox=Cs.bb=Cs.boundingBox,Cs.renderedBoundingbox=Cs.renderedBoundingBox;var Zs,ec,tc=Ms;Zs=ec={};var rc=function(e){e.uppercaseName=be(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=be(e.outerName),Zs[e.name]=function(){var t=this[0],r=t._private,n=r.cy._private.styleEnabled;if(t){if(n){if(t.isParent())return t.updateCompoundBounds(),r[e.autoName]||0;var i=t.pstyle(e.name);return"label"===i.strValue?(t.recalculateRenderedStyle(),r.rstyle[e.labelName]||0):i.pfValue}return 1}},Zs["outer"+e.uppercaseName]=function(){var t=this[0],r=t._private.cy._private.styleEnabled;if(t){if(r){var n=t[e.name](),i=t.pstyle("border-position").value;return n+("center"===i?t.pstyle("border-width").pfValue:"outside"===i?2*t.pstyle("border-width").pfValue:0)+2*t.padding()}return 1}},Zs["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},Zs["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};rc({name:"width"}),rc({name:"height"}),ec.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},ec.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},ec.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var nc=ec,ic={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},ac=Object.keys(ic).reduce(function(e,t){var r=ic[t],n=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(t);return e[t]=function(){return function(e,t){if(e.isEdge()&&e.takesUpSpace())return t(e)}(this,r.get)},r.mult?e[n]=function(){return function(e,t){if(e.isEdge()&&e.takesUpSpace()){var r=e.cy(),n=r.pan(),i=r.zoom();return t(e).map(function(e){return Jt(e,i,n)})}}(this,r.get)}:e[n]=function(){return function(e,t){if(e.isEdge()&&e.takesUpSpace()){var r=e.cy();return Jt(t(e),r.zoom(),r.pan())}}(this,r.get)},e},{}),oc=Ae({},ks,tc,nc,ac),sc=function(e,t){this.recycle(e,t)};function cc(){return!1}function lc(){return!0}sc.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=cc,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?lc:cc):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var r=this.position,n=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:r.x*n+i.x,y:r.y*n+i.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=lc;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=lc;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=lc,this.stopPropagation()},isDefaultPrevented:cc,isPropagationStopped:cc,isImmediatePropagationStopped:cc};var uc=/^([^.]+)(\.(?:[^.]+))?$/,dc={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},hc=Object.keys(dc),pc={};function fc(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pc,t=arguments.length>1?arguments[1]:void 0,r=0;r<hc.length;r++){var n=hc[r];this[n]=e[n]||dc[n]}this.context=t||this.context,this.listeners=[],this.emitting=0}var gc=fc.prototype,yc=function(e,t,r,n,i,a,o){ne(n)&&(i=n,n=null),o&&(a=null==a?o:Ae({},a,o));for(var s=ie(r)?r:r.split(/\s+/),c=0;c<s.length;c++){var l=s[c];if(!pe(l)){var u=l.match(uc);if(u)if(!1===t(e,l,u[1],u[2]?u[2]:null,n,i,a))break}}},mc=function(e,t){return e.addEventFields(e.context,t),new sc(t.type,t)},vc=function(e,t,r){if("event"!==te(r))if(ae(r))t(e,mc(e,r));else for(var n=ie(r)?r:r.split(/\s+/),i=0;i<n.length;i++){var a=n[i];if(!pe(a)){var o=a.match(uc);if(o){var s=o[1],c=o[2]?o[2]:null;t(e,mc(e,{type:s,namespace:c,target:e.context}))}}}else t(e,r)};gc.on=gc.addListener=function(e,t,r,n,i){return yc(this,function(e,t,r,n,i,a,o){ne(a)&&e.listeners.push({event:t,callback:a,type:r,namespace:n,qualifier:i,conf:o})},e,t,r,n,i),this},gc.one=function(e,t,r,n){return this.on(e,t,r,n,{one:!0})},gc.removeListener=gc.off=function(e,t,r,n){var i=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var a=this.listeners,o=function(o){var s=a[o];yc(i,function(t,r,n,i,c,l){if((s.type===n||"*"===e)&&(!i&&".*"!==s.namespace||s.namespace===i)&&(!c||t.qualifierCompare(s.qualifier,c))&&(!l||s.callback===l))return a.splice(o,1),!1},e,t,r,n)},s=a.length-1;s>=0;s--)o(s);return this},gc.removeAllListeners=function(){return this.removeListener("*")},gc.emit=gc.trigger=function(e,t,r){var n=this.listeners,i=n.length;return this.emitting++,ie(t)||(t=[t]),vc(this,function(e,a){null!=r&&(n=[{event:a.event,type:a.type,namespace:a.namespace,callback:r}],i=n.length);for(var o=function(){var r=n[s];if(r.type===a.type&&(!r.namespace||r.namespace===a.namespace||".*"===r.namespace)&&e.eventMatches(e.context,r,a)){var i=[a];null!=t&&function(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.push(n)}}(i,t),e.beforeEmit(e.context,r,a),r.conf&&r.conf.one&&(e.listeners=e.listeners.filter(function(e){return e!==r}));var o=e.callbackContext(e.context,r,a),c=r.callback.apply(o,i);e.afterEmit(e.context,r,a),!1===c&&(a.stopPropagation(),a.preventDefault())}},s=0;s<i;s++)o();e.bubble(e.context)&&!a.isPropagationStopped()&&e.parent(e.context).emit(a,t)},e),this.emitting--,this};var bc={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,r){var n=t.qualifier;return null==n||e!==r.target&&le(r.target)&&n.matches(r.target)},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,r){return null!=t.qualifier?r.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},_c=function(e){return re(e)?new ys(e):e},wc={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],r=t._private;r.emitter||(r.emitter=new fc(bc,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,r){for(var n=_c(t),i=0;i<this.length;i++){this[i].emitter().on(e,n,r)}return this},removeListener:function(e,t,r){for(var n=_c(t),i=0;i<this.length;i++){this[i].emitter().removeListener(e,n,r)}return this},removeAllListeners:function(){for(var e=0;e<this.length;e++){this[e].emitter().removeAllListeners()}return this},one:function(e,t,r){for(var n=_c(t),i=0;i<this.length;i++){this[i].emitter().one(e,n,r)}return this},once:function(e,t,r){for(var n=_c(t),i=0;i<this.length;i++){this[i].emitter().on(e,n,r,{once:!0,onceCollection:this})}},emit:function(e,t){for(var r=0;r<this.length;r++){this[r].emitter().emit(e,t)}return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,t),this}};Ro.eventAliasesOn(wc);var xc={nodes:function(e){return this.filter(function(e){return e.isNode()}).filter(e)},edges:function(e){return this.filter(function(e){return e.isEdge()}).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),r=0;r<this.length;r++){var n=this[r];n.isNode()?e.push(n):t.push(n)}return{nodes:e,edges:t}},filter:function(e,t){if(void 0===e)return this;if(re(e)||ce(e))return new ys(e).filter(this);if(ne(e)){for(var r=this.spawn(),n=this,i=0;i<n.length;i++){var a=n[i];(t?e.apply(t,[a,i,n]):e(a,i,n))&&r.push(a)}return r}return this.spawn()},not:function(e){if(e){re(e)&&(e=this.filter(e));for(var t=this.spawn(),r=0;r<this.length;r++){var n=this[r];e.has(n)||t.push(n)}return t}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(re(e)){var t=e;return this.filter(t)}for(var r=this.spawn(),n=e,i=this.length<e.length,a=i?this:n,o=i?n:this,s=0;s<a.length;s++){var c=a[s];o.has(c)&&r.push(c)}return r},xor:function(e){var t=this._private.cy;re(e)&&(e=t.$(e));var r=this.spawn(),n=e,i=function(e,t){for(var n=0;n<e.length;n++){var i=e[n],a=i._private.data.id;t.hasElementWithId(a)||r.push(i)}};return i(this,n),i(n,this),r},diff:function(e){var t=this._private.cy;re(e)&&(e=t.$(e));var r=this.spawn(),n=this.spawn(),i=this.spawn(),a=e,o=function(e,t,r){for(var n=0;n<e.length;n++){var a=e[n],o=a._private.data.id;t.hasElementWithId(o)?i.merge(a):r.push(a)}};return o(this,a,r),o(a,this,n),{left:r,right:n,both:i}},add:function(e){var t=this._private.cy;if(!e)return this;if(re(e)){var r=e;e=t.mutableElements().filter(r)}for(var n=this.spawnSelf(),i=0;i<e.length;i++){var a=e[i],o=!this.has(a);o&&n.push(a)}return n},merge:function(e){var t=this._private,r=t.cy;if(!e)return this;if(e&&re(e)){var n=e;e=r.mutableElements().filter(n)}for(var i=t.map,a=0;a<e.length;a++){var o=e[a],s=o._private.data.id;if(!i.has(s)){var c=this.length++;this[c]=o,i.set(s,{ele:o,index:c})}}return this},unmergeAt:function(e){var t=this[e].id(),r=this._private.map;this[e]=void 0,r.delete(t);var n=e===this.length-1;if(this.length>1&&!n){var i=this.length-1,a=this[i],o=a._private.data.id;this[i]=void 0,this[e]=a,r.set(o,{ele:a,index:e})}return this.length--,this},unmergeOne:function(e){e=e[0];var t=this._private,r=e._private.data.id,n=t.map.get(r);if(!n)return this;var i=n.index;return this.unmergeAt(i),this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&re(e)){var r=e;e=t.mutableElements().filter(r)}for(var n=0;n<e.length;n++)this.unmergeOne(e[n]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--){e(this[t])&&this.unmergeAt(t)}return this},map:function(e,t){for(var r=[],n=this,i=0;i<n.length;i++){var a=n[i],o=t?e.apply(t,[a,i,n]):e(a,i,n);r.push(o)}return r},reduce:function(e,t){for(var r=t,n=this,i=0;i<n.length;i++)r=e(r,n[i],i,n);return r},max:function(e,t){for(var r,n=-1/0,i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);s>n&&(n=s,r=o)}return{value:n,ele:r}},min:function(e,t){for(var r,n=1/0,i=this,a=0;a<i.length;a++){var o=i[a],s=t?e.apply(t,[o,a,i]):e(o,a,i);s<n&&(n=s,r=o)}return{value:n,ele:r}}},Sc=xc;Sc.u=Sc["|"]=Sc["+"]=Sc.union=Sc.or=Sc.add,Sc["\\"]=Sc["!"]=Sc["-"]=Sc.difference=Sc.relativeComplement=Sc.subtract=Sc.not,Sc.n=Sc["&"]=Sc["."]=Sc.and=Sc.intersection=Sc.intersect,Sc["^"]=Sc["(+)"]=Sc["(-)"]=Sc.symmetricDifference=Sc.symdiff=Sc.xor,Sc.fnFilter=Sc.filterFn=Sc.stdFilter=Sc.filter,Sc.complement=Sc.abscomp=Sc.absoluteComplement;var Tc=function(e,t){var r=e.cy().hasCompoundNodes();function n(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?r?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?ct:0}var i=n(e)-n(t);if(0!==i)return i;function a(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var o=a(e)-a(t);if(0!==o)return o;var s=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==s?s:e.poolIndex()-t.poolIndex()},Oc={forEach:function(e,t){if(ne(e))for(var r=this.length,n=0;n<r;n++){var i=this[n];if(!1===(t?e.apply(t,[i,n,this]):e(i,n,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var r=[],n=this.length;null==t&&(t=n),null==e&&(e=0),e<0&&(e=n+e),t<0&&(t=n+t);for(var i=e;i>=0&&i<t&&i<n;i++)r.push(this[i]);return this.spawn(r)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!ne(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(Tc)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var r=t.data.parent?e.parents().size():0;return e.isParent()?r:ct-1}var n=t.source,i=t.target,a=n.zDepth(),o=i.zDepth();return Math.max(a,o,0)}}};Oc.each=Oc.forEach;!function(){var e="undefined";("undefined"===typeof Symbol?"undefined":b(Symbol))!=e&&b(Symbol.iterator)!=e&&(Oc[Symbol.iterator]=function(){var e=this,t={value:void 0,done:!1},r=0,n=this.length;return g({next:function(){return r<n?t.value=e[r++]:(t.value=void 0,t.done=!0),t}},Symbol.iterator,function(){return this})})}();var Ec=_t({nodeDimensionsIncludeLabels:!1}),Ac={layoutDimensions:function(e){var t;if(e=Ec(e),this.takesUpSpace())if(e.nodeDimensionsIncludeLabels){var r=this.boundingBox();t={w:r.w,h:r.h}}else t={w:this.outerWidth(),h:this.outerHeight()};else t={w:0,h:0};return 0!==t.w&&0!==t.h||(t.w=t.h=1),t},layoutPositions:function(e,t,r){var n=this.nodes().filter(function(e){return!e.isParent()}),i=this.cy(),a=t.eles,o=function(e){return e.id()},s=ge(r,o);e.emit({type:"layoutstart",layout:e}),e.animations=[];var c=t.spacingFactor&&1!==t.spacingFactor,l=function(){if(!c)return null;for(var e=ur(),t=0;t<n.length;t++){var r=n[t],i=s(r,t);hr(e,i.x,i.y)}return e}(),u=ge(function(e,r){var n=s(e,r);c&&(n=function(e,t,r){var n=t.x1+t.w/2,i=t.y1+t.h/2;return{x:n+(r.x-n)*e,y:i+(r.y-i)*e}}(Math.abs(t.spacingFactor),l,n));return null!=t.transform&&(n=t.transform(e,n)),n},o);if(t.animate){for(var d=0;d<n.length;d++){var h=n[d],p=u(h,d);if(null==t.animateFilter||t.animateFilter(h,d)){var f=h.animation({position:p,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(f)}else h.position(p)}if(t.fit){var g=i.animation({fit:{boundingBox:a.boundingBoxAt(u),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(g)}else if(void 0!==t.zoom&&void 0!==t.pan){var y=i.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(y)}e.animations.forEach(function(e){return e.play()}),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),ai.all(e.animations.map(function(e){return e.promise()})).then(function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})})}else n.positions(u),t.fit&&i.fit(t.eles,t.padding),null!=t.zoom&&i.zoom(t.zoom),t.pan&&i.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(Ae({},e,{eles:this}))}};function Pc(e,t,r){var n,i=r._private,a=i.styleCache=i.styleCache||[];return null!=(n=a[e])?n:n=a[e]=t(r)}function Nc(e,t){return e=tt(e),function(r){return Pc(e,t,r)}}function jc(e,t){e=tt(e);var r=function(e){return t.call(e)};return function(){var t=this[0];if(t)return Pc(e,r,t)}}Ac.createLayout=Ac.makeLayout=Ac.layout;var Dc={recalculateRenderedStyle:function(e){var t=this.cy(),r=t.renderer(),n=t.styleEnabled();return r&&n&&r.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e,t=this.cy(),r=function(e){return e._private.styleCache=null};t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(r)):this.forEach(function(e){r(e),e.connectedEdges().forEach(r)});return this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var r=this;e=!(!e&&void 0!==e),t.hasCompoundNodes()&&(r=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var n=r;return e?n.emitAndNotify("style"):n.emit("style"),r.forEach(function(e){return e._private.styleDirty=!0}),this},cleanStyle:function(){var e=this.cy();if(e.styleEnabled())for(var t=0;t<this.length;t++){var r=this[t];r._private.styleDirty&&(r._private.styleDirty=!1,e.style().apply(r))}},parsedStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this[0],n=r.cy();if(n.styleEnabled()&&r){r._private.styleDirty&&(r._private.styleDirty=!1,n.style().apply(r));var i=r._private.style[e];return null!=i?i:t?n.style().getDefaultProperty(e):null}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var r=t.pstyle(e);return void 0!==r.pfValue?r.pfValue:r.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=this[0];return r?t.style().getRenderedStyle(r,e):void 0},style:function(e,t){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,i=r.style();if(ae(e)){var a=e;i.applyBypass(this,a,n),this.emitAndNotify("style")}else if(re(e)){if(void 0===t){var o=this[0];return o?i.getStylePropertyValue(o,e):void 0}i.applyBypass(this,e,t,n),this.emitAndNotify("style")}else if(void 0===e){var s=this[0];return s?i.getRawStyle(s):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var r=!1,n=t.style(),i=this;if(void 0===e)for(var a=0;a<i.length;a++){var o=i[a];n.removeAllBypasses(o,r)}else{e=e.split(/\s+/);for(var s=0;s<i.length;s++){var c=i[s];n.removeBypasses(c,e,r)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),r=this[0];if(r){var n=r._private,i=r.pstyle("opacity").value;if(!t)return i;var a=n.data.parent?r.parents():null;if(a)for(var o=0;o<a.length;o++){i*=a[o].pstyle("opacity").value}return i}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function Rc(e,t){var r=e._private.data.parent?e.parents():null;if(r)for(var n=0;n<r.length;n++){if(!t(r[n]))return!1}return!0}function Ic(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,n=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var i=this[0],a=e.hasCompoundNodes();if(i){var o=i._private;if(!t(i))return!1;if(i.isNode())return!a||Rc(i,n);var s=o.source,c=o.target;return r(s)&&(!a||Rc(s,r))&&(s===c||r(c)&&(!a||Rc(c,r)))}}}var Fc=Nc("eleTakesUpSpace",function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())});Dc.takesUpSpace=jc("takesUpSpace",Ic({ok:Fc}));var Cc=Nc("eleInteractive",function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&Fc(e)}),Mc=Nc("parentInteractive",function(e){return"visible"===e.pstyle("visibility").value&&Fc(e)});Dc.interactive=jc("interactive",Ic({ok:Cc,parentOk:Mc,edgeOkViaNode:Fc})),Dc.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var kc=Nc("eleVisible",function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&Fc(e)}),Lc=Fc;Dc.visible=jc("visible",Ic({ok:kc,edgeOkViaNode:Lc})),Dc.hidden=function(){var e=this[0];if(e)return!e.visible()},Dc.isBundledBezier=jc("isBundledBezier",function(){return!!this.cy().styleEnabled()&&(!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace())}),Dc.bypass=Dc.css=Dc.style,Dc.renderedCss=Dc.renderedStyle,Dc.removeBypass=Dc.removeCss=Dc.removeStyle,Dc.pstyle=Dc.parsedStyle;var Bc={};function Uc(e){return function(){var t=arguments,r=[];if(2===t.length){var n=t[0],i=t[1];this.on(e.event,n,i)}else if(1===t.length&&ne(t[0])){var a=t[0];this.on(e.event,a)}else if(0===t.length||1===t.length&&ie(t[0])){for(var o=1===t.length?t[0]:null,s=0;s<this.length;s++){var c=this[s],l=!e.ableField||c._private[e.ableField],u=c._private[e.field]!=e.value;if(e.overrideAble){var d=e.overrideAble(c);if(void 0!==d&&(l=d,!d))return this}l&&(c._private[e.field]=e.value,u&&r.push(c))}var h=this.spawn(r);h.updateStyle(),h.emit(e.event),o&&h.emit(o)}return this}}function Vc(e){Bc[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(void 0!==r)return r}return t._private[e.field]}},Bc[e.on]=Uc({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Bc[e.off]=Uc({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}Vc({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),Vc({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&!e.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Vc({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Vc({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),Bc.deselect=Bc.unselect,Bc.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},Vc({field:"active",on:"activate",off:"unactivate"}),Vc({field:"pannable",on:"panify",off:"unpanify"}),Bc.inactive=function(){var e=this[0];if(e)return!e._private.active};var zc={},qc=function(e){return function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n];if(i.isNode()){for(var a=!1,o=i.connectedEdges(),s=0;s<o.length;s++){var c=o[s],l=c.source(),u=c.target();if(e.noIncomingEdges&&u===i&&l!==i||e.noOutgoingEdges&&l===i&&u!==i){a=!0;break}}a||r.push(i)}}return this.spawn(r,!0).filter(t)}},Qc=function(e){return function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n];if(i.isNode())for(var a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],c=s.source(),l=s.target();e.outgoing&&c===i?(r.push(s),r.push(l)):e.incoming&&l===i&&(r.push(s),r.push(c))}}return this.spawn(r,!0).filter(t)}},Gc=function(e){return function(t){for(var r=this,n=[],i={};;){var a=e.outgoing?r.outgoers():r.incomers();if(0===a.length)break;for(var o=!1,s=0;s<a.length;s++){var c=a[s],l=c.id();i[l]||(i[l]=!0,n.push(c),o=!0)}if(!o)break;r=a}return this.spawn(n,!0).filter(t)}};function Hc(e){return function(t){for(var r=[],n=0;n<this.length;n++){var i=this[n]._private[e.attr];i&&r.push(i)}return this.spawn(r,!0).filter(t)}}function Wc(e){return function(t){var r=[],n=this._private.cy,i=e||{};re(t)&&(t=n.$(t));for(var a=0;a<t.length;a++)for(var o=t[a]._private.edges,s=0;s<o.length;s++){var c=o[s],l=c._private.data,u=this.hasElementWithId(l.source)&&t.hasElementWithId(l.target),d=t.hasElementWithId(l.source)&&this.hasElementWithId(l.target);if(u||d){if(i.thisIsSrc||i.thisIsTgt){if(i.thisIsSrc&&!u)continue;if(i.thisIsTgt&&!d)continue}r.push(c)}}return this.spawn(r,!0)}}function Xc(e){return e=Ae({},{codirected:!1},e),function(t){for(var r=[],n=this.edges(),i=e,a=0;a<n.length;a++)for(var o=n[a]._private,s=o.source,c=s._private.data.id,l=o.data.target,u=s._private.edges,d=0;d<u.length;d++){var h=u[d],p=h._private.data,f=p.target,g=p.source,y=f===l&&g===c,m=c===f&&l===g;(i.codirected&&y||!i.codirected&&(y||m))&&r.push(h)}return this.spawn(r,!0).filter(t)}}zc.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},Ae(zc,{roots:qc({noIncomingEdges:!0}),leaves:qc({noOutgoingEdges:!0}),outgoers:ws(Qc({outgoing:!0}),"outgoers"),successors:Gc({outgoing:!0}),incomers:ws(Qc({incoming:!0}),"incomers"),predecessors:Gc({})}),Ae(zc,{neighborhood:ws(function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var i=r[n],a=i.connectedEdges(),o=0;o<a.length;o++){var s=a[o],c=s.source(),l=s.target(),u=i===c?l:c;u.length>0&&t.push(u[0]),t.push(s[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),zc.neighbourhood=zc.neighborhood,zc.closedNeighbourhood=zc.closedNeighborhood,zc.openNeighbourhood=zc.openNeighborhood,Ae(zc,{source:ws(function(e){var t,r=this[0];return r&&(t=r._private.source||r.cy().collection()),t&&e?t.filter(e):t},"source"),target:ws(function(e){var t,r=this[0];return r&&(t=r._private.target||r.cy().collection()),t&&e?t.filter(e):t},"target"),sources:Hc({attr:"source"}),targets:Hc({attr:"target"})}),Ae(zc,{edgesWith:ws(Wc(),"edgesWith"),edgesTo:ws(Wc({thisIsSrc:!0}),"edgesTo")}),Ae(zc,{connectedEdges:ws(function(e){for(var t=[],r=0;r<this.length;r++){var n=this[r];if(n.isNode())for(var i=n._private.edges,a=0;a<i.length;a++){var o=i[a];t.push(o)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:ws(function(e){for(var t=[],r=0;r<this.length;r++){var n=this[r];n.isEdge()&&(t.push(n.source()[0]),t.push(n.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:ws(Xc(),"parallelEdges"),codirectedEdges:ws(Xc({codirected:!0}),"codirectedEdges")}),Ae(zc,{components:function(e){var t=this,r=t.cy(),n=r.collection(),i=null==e?t.nodes():e.nodes(),a=[];null!=e&&i.empty()&&(i=e.sources());var o=function(e,t){n.merge(e),i.unmerge(e),t.merge(e)};if(i.empty())return t.spawn();var s=function(){var e=r.collection();a.push(e);var n=i[0];o(n,e),t.bfs({directed:!1,roots:n,visit:function(t){return o(t,e)}}),e.forEach(function(r){r.connectedEdges().forEach(function(r){t.has(r)&&e.has(r.source())&&e.has(r.target())&&e.merge(r)})})};do{s()}while(i.length>0);return a},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),zc.componentsOf=zc.components;var Kc=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(void 0!==e){var i=new Ot,a=!1;if(t){if(t.length>0&&ae(t[0])&&!le(t[0])){a=!0;for(var o=[],s=new At,c=0,l=t.length;c<l;c++){var u=t[c];null==u.data&&(u.data={});var d=u.data;if(null==d.id)d.id=mt();else if(e.hasElementWithId(d.id)||s.has(d.id))continue;var h=new Pt(e,u,!1);o.push(h),s.add(d.id)}t=o}}else t=[];this.length=0;for(var p=0,f=t.length;p<f;p++){var g=t[p][0];if(null!=g){var y=g._private.data.id;r&&i.has(y)||(r&&i.set(y,{index:this.length,ele:g}),this[this.length]=g,this.length++)}}this._private={eles:this,cy:e,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(e){this.lazyMap=e},rebuildMap:function(){for(var e=this.lazyMap=new Ot,t=this.eles,r=0;r<t.length;r++){var n=t[r];e.set(n.id(),{index:r,ele:n})}}},r&&(this._private.map=i),a&&!n&&this.restore()}else pt("A collection must have a reference to the core")},$c=Pt.prototype=Kc.prototype=Object.create(Array.prototype);$c.instanceString=function(){return"collection"},$c.spawn=function(e,t){return new Kc(this.cy(),e,t)},$c.spawnSelf=function(){return this.spawn(this)},$c.cy=function(){return this._private.cy},$c.renderer=function(){return this._private.cy.renderer()},$c.element=function(){return this[0]},$c.collection=function(){return ue(this)?this:new Kc(this._private.cy,[this])},$c.unique=function(){return new Kc(this._private.cy,this,!0)},$c.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)},$c.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new Kc(t)},$c.$id=$c.getElementById,$c.poolIndex=function(){var e=this._private.cy._private.elements,t=this[0]._private.data.id;return e._private.map.get(t).index},$c.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index},$c.indexOfId=function(e){return e=""+e,this._private.map.get(e).index},$c.json=function(e){var t=this.element(),r=this.cy();if(null==t&&e)return this;if(null!=t){var n=t._private;if(ae(e)){if(r.startBatch(),e.data){t.data(e.data);var i=n.data;if(t.isEdge()){var a=!1,o={},s=e.data.source,c=e.data.target;null!=s&&s!=i.source&&(o.source=""+s,a=!0),null!=c&&c!=i.target&&(o.target=""+c,a=!0),a&&(t=t.move(o))}else{var l="parent"in e.data,u=e.data.parent;!l||null==u&&null==i.parent||u==i.parent||(void 0===u&&(u=null),null!=u&&(u=""+u),t=t.move({parent:u}))}}e.position&&t.position(e.position);var d=function(r,i,a){var o=e[r];null!=o&&o!==n[r]&&(o?t[i]():t[a]())};return d("removed","remove","restore"),d("selected","select","unselect"),d("selectable","selectify","unselectify"),d("locked","lock","unlock"),d("grabbable","grabify","ungrabify"),d("pannable","panify","unpanify"),null!=e.classes&&t.classes(e.classes),r.endBatch(),this}if(void 0===e){var h={data:yt(n.data),position:yt(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};h.classes="";var p=0;return n.classes.forEach(function(e){return h.classes+=0===p++?e:" "+e}),h}}},$c.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t].json();e.push(r)}return e},$c.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r].json(),i=new Pt(e,n,!1);t.push(i)}return new Kc(e,t)},$c.copy=$c.clone,$c.restore=function(){for(var e,t,r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this,a=i.cy(),o=a._private,s=[],c=[],l=0,u=i.length;l<u;l++){var d=i[l];n&&!d.removed()||(d.isNode()?s.push(d):c.push(d))}e=s.concat(c);var h=function(){e.splice(t,1),t--};for(t=0;t<e.length;t++){var p=e[t],f=p._private,g=f.data;if(p.clearTraversalCache(),n||f.removed)if(void 0===g.id)g.id=mt();else if(oe(g.id))g.id=""+g.id;else{if(pe(g.id)||!re(g.id)){pt("Can not create element with invalid string ID `"+g.id+"`"),h();continue}if(a.hasElementWithId(g.id)){pt("Can not create second element with ID `"+g.id+"`"),h();continue}}else;var y=g.id;if(p.isNode()){var m=f.position;null==m.x&&(m.x=0),null==m.y&&(m.y=0)}if(p.isEdge()){for(var v=p,b=["source","target"],_=b.length,w=!1,x=0;x<_;x++){var S=b[x],T=g[S];oe(T)&&(T=g[S]=""+g[S]),null==T||""===T?(pt("Can not create edge `"+y+"` with unspecified "+S),w=!0):a.hasElementWithId(T)||(pt("Can not create edge `"+y+"` with nonexistant "+S+" `"+T+"`"),w=!0)}if(w){h();continue}var O=a.getElementById(g.source),E=a.getElementById(g.target);O.same(E)?O._private.edges.push(v):(O._private.edges.push(v),E._private.edges.push(v)),v._private.source=O,v._private.target=E}f.map=new Ot,f.map.set(y,{ele:p,index:0}),f.removed=!1,n&&a.addToPool(p)}for(var A=0;A<s.length;A++){var P=s[A],N=P._private.data;oe(N.parent)&&(N.parent=""+N.parent);var j=N.parent;if(null!=j||P._private.parent){var D=P._private.parent?a.collection().merge(P._private.parent):a.getElementById(j);if(D.empty())N.parent=void 0;else if(D[0].removed())gt("Node added with missing parent, reference to parent removed"),N.parent=void 0,P._private.parent=null;else{for(var R=!1,I=D;!I.empty();){if(P.same(I)){R=!0,N.parent=void 0;break}I=I.parent()}R||(D[0]._private.children.push(P),P._private.parent=D[0],o.hasCompoundNodes=!0)}}}if(e.length>0){for(var F=e.length===i.length?i:new Kc(a,e),C=0;C<F.length;C++){var M=F[C];M.isNode()||(M.parallelEdges().clearTraversalCache(),M.source().clearTraversalCache(),M.target().clearTraversalCache())}(o.hasCompoundNodes?a.collection().merge(F).merge(F.connectedNodes()).merge(F.parent()):F).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(r),r?F.emitAndNotify("add"):n&&F.emit("add")}return i},$c.removed=function(){var e=this[0];return e&&e._private.removed},$c.inside=function(){var e=this[0];return e&&!e._private.removed},$c.remove=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this,n=[],i={},a=r._private.cy;function o(e){var r=i[e.id()];t&&e.removed()||r||(i[e.id()]=!0,e.isNode()?(n.push(e),function(e){for(var t=e._private.edges,r=0;r<t.length;r++)o(t[r])}(e),function(e){for(var t=e._private.children,r=0;r<t.length;r++)o(t[r])}(e)):n.unshift(e))}for(var s=0,c=r.length;s<c;s++){o(r[s])}function l(e,t){var r=e._private.edges;wt(r,t),e.clearTraversalCache()}function u(e){e.clearTraversalCache()}var d=[];function h(e,t){t=t[0];var r=(e=e[0])._private.children,n=e.id();wt(r,t),t._private.parent=null,d.ids[n]||(d.ids[n]=!0,d.push(e))}d.ids={},r.dirtyCompoundBoundsCache(),t&&a.removeFromPool(n);for(var p=0;p<n.length;p++){var f=n[p];if(f.isEdge()){var g=f.source()[0],y=f.target()[0];l(g,f),l(y,f);for(var m=f.parallelEdges(),v=0;v<m.length;v++){var b=m[v];u(b),b.isBundledBezier()&&b.dirtyBoundingBoxCache()}}else{var _=f.parent();0!==_.length&&h(_,f)}t&&(f._private.removed=!0)}var w=a._private.elements;a._private.hasCompoundNodes=!1;for(var x=0;x<w.length;x++){if(w[x].isParent()){a._private.hasCompoundNodes=!0;break}}var S=new Kc(this.cy(),n);S.size()>0&&(e?S.emitAndNotify("remove"):t&&S.emit("remove"));for(var T=0;T<d.length;T++){var O=d[T];t&&O.removed()||O.updateStyle()}return S},$c.move=function(e){var t=this._private.cy,r=this,n=!1,i=!1,a=function(e){return null==e?e:""+e};if(void 0!==e.source||void 0!==e.target){var o=a(e.source),s=a(e.target),c=null!=o&&t.hasElementWithId(o),l=null!=s&&t.hasElementWithId(s);(c||l)&&(t.batch(function(){r.remove(n,i),r.emitAndNotify("moveout");for(var e=0;e<r.length;e++){var t=r[e],a=t._private.data;t.isEdge()&&(c&&(a.source=o),l&&(a.target=s))}r.restore(n,i)}),r.emitAndNotify("move"))}else if(void 0!==e.parent){var u=a(e.parent);if(null===u||t.hasElementWithId(u)){var d=null===u?void 0:u;t.batch(function(){var e=r.remove(n,i);e.emitAndNotify("moveout");for(var t=0;t<r.length;t++){var a=r[t],o=a._private.data;a.isNode()&&(o.parent=d)}e.restore(n,i)}),r.emitAndNotify("move")}}return this},[Jn,Io,Fo,vs,xs,Ns,js,oc,wc,xc,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},Oc,Ac,Dc,Bc,zc].forEach(function(e){Ae($c,e)});var Yc={add:function(e){var t,r=this;if(ce(e)){var n=e;if(n._private.cy===r)t=n.restore();else{for(var i=[],a=0;a<n.length;a++){var o=n[a];i.push(o.json())}t=new Kc(r,i)}}else if(ie(e)){t=new Kc(r,e)}else if(ae(e)&&(ie(e.nodes)||ie(e.edges))){for(var s=e,c=[],l=["nodes","edges"],u=0,d=l.length;u<d;u++){var h=l[u],p=s[h];if(ie(p))for(var f=0,g=p.length;f<g;f++){var y=Ae({group:h},p[f]);c.push(y)}}t=new Kc(r,c)}else{t=new Pt(r,e).collection()}return t},remove:function(e){if(ce(e));else if(re(e)){var t=e;e=this.$(t)}return e.remove()}};function Jc(e,t,r,n){var i=.1,a="undefined"!==typeof Float32Array;if(4!==arguments.length)return!1;for(var o=0;o<4;++o)if("number"!==typeof arguments[o]||isNaN(arguments[o])||!isFinite(arguments[o]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var s=a?new Float32Array(11):new Array(11);function c(e,t){return 1-3*t+3*e}function l(e,t){return 3*t-6*e}function u(e){return 3*e}function d(e,t,r){return((c(t,r)*e+l(t,r))*e+u(t))*e}function h(e,t,r){return 3*c(t,r)*e*e+2*l(t,r)*e+u(t)}function p(t){for(var n=0,a=1;10!==a&&s[a]<=t;++a)n+=i;--a;var o=n+(t-s[a])/(s[a+1]-s[a])*i,c=h(o,e,r);return c>=.001?function(t,n){for(var i=0;i<4;++i){var a=h(n,e,r);if(0===a)return n;n-=(d(n,e,r)-t)/a}return n}(t,o):0===c?o:function(t,n,i){var a,o,s=0;do{(a=d(o=n+(i-n)/2,e,r)-t)>0?i=o:n=o}while(Math.abs(a)>1e-7&&++s<10);return o}(t,n,n+i)}var f=!1;function g(){f=!0,e===t&&r===n||function(){for(var t=0;t<11;++t)s[t]=d(t*i,e,r)}()}var y=function(i){return f||g(),e===t&&r===n?i:0===i?0:1===i?1:d(p(i),t,n)};y.getControlPoints=function(){return[{x:e,y:t},{x:r,y:n}]};var m="generateBezier("+[e,t,r,n]+")";return y.toString=function(){return m},y}var Zc=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,r,n){var i={x:t.x+n.dx*r,v:t.v+n.dv*r,tension:t.tension,friction:t.friction};return{dx:i.v,dv:e(i)}}function r(r,n){var i={dx:r.v,dv:e(r)},a=t(r,.5*n,i),o=t(r,.5*n,a),s=t(r,n,o),c=1/6*(i.dx+2*(a.dx+o.dx)+s.dx),l=1/6*(i.dv+2*(a.dv+o.dv)+s.dv);return r.x=r.x+c*n,r.v=r.v+l*n,r}return function e(t,n,i){var a,o,s,c={x:-1,v:0,tension:null,friction:null},l=[0],u=0,d=1e-4;for(t=parseFloat(t)||500,n=parseFloat(n)||20,i=i||null,c.tension=t,c.friction=n,o=(a=null!==i)?(u=e(t,n))/i*.016:.016;s=r(s||c,o),l.push(1+s.x),u+=16,Math.abs(s.x)>d&&Math.abs(s.v)>d;);return a?function(e){return l[e*(l.length-1)|0]}:u}}(),el=function(e,t,r,n){var i=Jc(e,t,r,n);return function(e,t,r){return e+(t-e)*i(r)}},tl={linear:function(e,t,r){return e+(t-e)*r},ease:el(.25,.1,.25,1),"ease-in":el(.42,0,1,1),"ease-out":el(0,0,.58,1),"ease-in-out":el(.42,0,.58,1),"ease-in-sine":el(.47,0,.745,.715),"ease-out-sine":el(.39,.575,.565,1),"ease-in-out-sine":el(.445,.05,.55,.95),"ease-in-quad":el(.55,.085,.68,.53),"ease-out-quad":el(.25,.46,.45,.94),"ease-in-out-quad":el(.455,.03,.515,.955),"ease-in-cubic":el(.55,.055,.675,.19),"ease-out-cubic":el(.215,.61,.355,1),"ease-in-out-cubic":el(.645,.045,.355,1),"ease-in-quart":el(.895,.03,.685,.22),"ease-out-quart":el(.165,.84,.44,1),"ease-in-out-quart":el(.77,0,.175,1),"ease-in-quint":el(.755,.05,.855,.06),"ease-out-quint":el(.23,1,.32,1),"ease-in-out-quint":el(.86,0,.07,1),"ease-in-expo":el(.95,.05,.795,.035),"ease-out-expo":el(.19,1,.22,1),"ease-in-out-expo":el(1,0,0,1),"ease-in-circ":el(.6,.04,.98,.335),"ease-out-circ":el(.075,.82,.165,1),"ease-in-out-circ":el(.785,.135,.15,.86),spring:function(e,t,r){if(0===r)return tl.linear;var n=Zc(e,t,r);return function(e,t,r){return e+(t-e)*n(r)}},"cubic-bezier":el};function rl(e,t,r,n,i){if(1===n)return r;if(t===r)return r;var a=i(t,r,n);return null==e||((e.roundValue||e.color)&&(a=Math.round(a)),void 0!==e.min&&(a=Math.max(a,e.min)),void 0!==e.max&&(a=Math.min(a,e.max))),a}function nl(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}function il(e,t,r,n,i){var a=null!=i?i.type:null;r<0?r=0:r>1&&(r=1);var o=nl(e,i),s=nl(t,i);if(oe(o)&&oe(s))return rl(a,o,s,r,n);if(ie(o)&&ie(s)){for(var c=[],l=0;l<s.length;l++){var u=o[l],d=s[l];if(null!=u&&null!=d){var h=rl(a,u,d,r,n);c.push(h)}else c.push(d)}return c}}function al(e,t,r,n){var i=!n,a=e._private,o=t._private,s=o.easing,c=o.startTime,l=(n?e:e.cy()).style();if(!o.easingImpl)if(null==s)o.easingImpl=tl.linear;else{var u,d,h;if(re(s))u=l.parse("transition-timing-function",s).value;else u=s;re(u)?(d=u,h=[]):(d=u[1],h=u.slice(2).map(function(e){return+e})),h.length>0?("spring"===d&&h.push(o.duration),o.easingImpl=tl[d].apply(null,h)):o.easingImpl=tl[d]}var p,f=o.easingImpl;if(p=0===o.duration?1:(r-c)/o.duration,o.applying&&(p=o.progress),p<0?p=0:p>1&&(p=1),null==o.delay){var g=o.startPosition,y=o.position;if(y&&i&&!e.locked()){var m={};ol(g.x,y.x)&&(m.x=il(g.x,y.x,p,f)),ol(g.y,y.y)&&(m.y=il(g.y,y.y,p,f)),e.position(m)}var v=o.startPan,b=o.pan,_=a.pan,w=null!=b&&n;w&&(ol(v.x,b.x)&&(_.x=il(v.x,b.x,p,f)),ol(v.y,b.y)&&(_.y=il(v.y,b.y,p,f)),e.emit("pan"));var x=o.startZoom,S=o.zoom,T=null!=S&&n;T&&(ol(x,S)&&(a.zoom=lr(a.minZoom,il(x,S,p,f),a.maxZoom)),e.emit("zoom")),(w||T)&&e.emit("viewport");var O=o.style;if(O&&O.length>0&&i){for(var E=0;E<O.length;E++){var A=O[E],P=A.name,N=A,j=o.startStyle[P],D=il(j,N,p,f,l.properties[j.name]);l.overrideBypass(e,P,D)}e.emit("style")}}return o.progress=p,p}function ol(e,t){return null!=e&&null!=t&&(!(!oe(e)||!oe(t))||!(!e||!t))}function sl(e,t,r,n){var i=t._private;i.started=!0,i.startTime=r-i.progress*i.duration}function cl(e,t){var r=t._private.aniEles,n=[];function i(t,r){var i=t._private,a=i.animation.current,o=i.animation.queue,s=!1;if(0===a.length){var c=o.shift();c&&a.push(c)}for(var l=function(e){for(var t=e.length-1;t>=0;t--){(0,e[t])()}e.splice(0,e.length)},u=a.length-1;u>=0;u--){var d=a[u],h=d._private;h.stopped?(a.splice(u,1),h.hooked=!1,h.playing=!1,h.started=!1,l(h.frames)):(h.playing||h.applying)&&(h.playing&&h.applying&&(h.applying=!1),h.started||sl(0,d,e),al(t,d,e,r),h.applying&&(h.applying=!1),l(h.frames),null!=h.step&&h.step(e),d.completed()&&(a.splice(u,1),h.hooked=!1,h.playing=!1,h.started=!1,l(h.completes)),s=!0)}return r||0!==a.length||0!==o.length||n.push(t),s}for(var a=!1,o=0;o<r.length;o++){var s=i(r[o]);a=a||s}var c=i(t,!0);(a||c)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(n),t.emit("step")}var ll={animate:Ro.animate(),animation:Ro.animation(),animated:Ro.animated(),clearQueue:Ro.clearQueue(),delay:Ro.delay(),delayAnimation:Ro.delayAnimation(),stop:Ro.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var t=e.renderer();t&&t.beforeRender?t.beforeRender(function(t,r){cl(r,e)},t.beforeRenderPriorities.animations):function t(){e._private.animationsRunning&&Ge(function(r){cl(r,e),t()})}()}}},ul={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,r){var n=t.qualifier;return null==n||e!==r.target&&le(r.target)&&n.matches(r.target)},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,r){return null!=t.qualifier?r.target:e}},dl=function(e){return re(e)?new ys(e):e},hl={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new fc(ul,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,r){return this.emitter().on(e,dl(t),r),this},removeListener:function(e,t,r){return this.emitter().removeListener(e,dl(t),r),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,r){return this.emitter().one(e,dl(t),r),this},once:function(e,t,r){return this.emitter().one(e,dl(t),r),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};Ro.eventAliasesOn(hl);var pl={png:function(e){return e=e||{},this._private.renderer.png(e)},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};pl.jpeg=pl.jpg;var fl={layout:function(e){var t=this;if(null!=e)if(null!=e.name){var r=e.name,n=t.extension("layout",r);if(null!=n){var i;i=re(e.eles)?t.$(e.eles):null!=e.eles?e.eles:t.$();var a=new n(Ae({},e,{cy:t,eles:i}));return a}pt("No such layout `"+r+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else pt("A `name` must be specified to make a layout");else pt("Layout options must be specified to make a layout")}};fl.createLayout=fl.makeLayout=fl.layout;var gl={notify:function(e,t){var r=this._private;if(this.batching()){r.batchNotifications=r.batchNotifications||{};var n=r.batchNotifications[e]=r.batchNotifications[e]||this.collection();null!=t&&n.merge(t)}else if(r.notificationsEnabled){var i=this.renderer();!this.destroyed()&&i&&i.notify(e,t)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach(function(r){var n=e.batchNotifications[r];n.empty()?t.notify(r):t.notify(r,n)})}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch(function(){for(var r=Object.keys(e),n=0;n<r.length;n++){var i=r[n],a=e[i];t.getElementById(i).data(a)}})}},yl=_t({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1,webgl:!1,webglDebug:!1,webglDebugShowAtlases:!1,webglTexSize:2048,webglTexRows:36,webglTexRowsNodes:18,webglBatchSize:2048,webglTexPerBatch:14,webglBgColor:[255,255,255]}),ml={renderTo:function(e,t,r,n){return this._private.renderer.renderTo(e,t,r,n),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this,r=t.extension("renderer",e.name);if(null!=r){void 0!==e.wheelSensitivity&&gt("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=yl(e);n.cy=t,t._private.renderer=new r(n),this.notify("init")}else pt("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){var e=this;e.notify("destroy");var t=e.container();if(t)for(t._cyreg=null;t.childNodes.length>0;)t.removeChild(t.childNodes[0]);e._private.renderer=null,e.mutableElements().forEach(function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]})},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};ml.invalidateDimensions=ml.resize;var vl={collection:function(e,t){return re(e)?this.$(e):ce(e)?e.collection():ie(e)?(t||(t={}),new Kc(this,e,t.unique,t.removed)):new Kc(this)},nodes:function(e){var t=this.$(function(e){return e.isNode()});return e?t.filter(e):t},edges:function(e){var t=this.$(function(e){return e.isEdge()});return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};vl.elements=vl.filter=vl.$;var bl={},_l="t";bl.apply=function(e){for(var t=this,r=t._private.cy.collection(),n=0;n<e.length;n++){var i=e[n],a=t.getContextMeta(i);if(!a.empty){var o=t.getContextStyle(a),s=t.applyContextStyle(a,o,i);i._private.appliedInitStyle?t.updateTransitions(i,s.diffProps):i._private.appliedInitStyle=!0,t.updateStyleHints(i)&&r.push(i)}}return r},bl.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},i=e+"-"+t,a=n[i];if(a)return a;for(var o=[],s={},c=0;c<r.length;c++){var l=r[c],u=e[c]===_l,d=t[c]===_l,h=u!==d,p=l.mappedProperties.length>0;if(h||d&&p){var f=void 0;h&&p||h?f=l.properties:p&&(f=l.mappedProperties);for(var g=0;g<f.length;g++){for(var y=f[g],m=y.name,v=!1,b=c+1;b<r.length;b++){var _=r[b];if(t[b]===_l&&(v=null!=_.properties[y.name]))break}s[m]||v||(s[m]=!0,o.push(m))}}}return n[i]=o,o},bl.getContextMeta=function(e){for(var t,r=this,n="",i=e._private.styleCxtKey||"",a=0;a<r.length;a++){var o=r[a];n+=o.selector&&o.selector.matches(e)?_l:"f"}return t=r.getPropertiesDiff(i,n),e._private.styleCxtKey=n,{key:n,diffPropNames:t,empty:0===t.length}},bl.getContextStyle=function(e){var t=e.key,r=this._private.contextStyles=this._private.contextStyles||{};if(r[t])return r[t];for(var n={_private:{key:t}},i=0;i<this.length;i++){var a=this[i];if(t[i]===_l)for(var o=0;o<a.properties.length;o++){var s=a.properties[o];n[s.name]=s}}return r[t]=n,n},bl.applyContextStyle=function(e,t,r){for(var n=e.diffPropNames,i={},a=this.types,o=0;o<n.length;o++){var s=n[o],c=t[s],l=r.pstyle(s);if(!c){if(!l)continue;c=l.bypass?{name:s,deleteBypassed:!0}:{name:s,delete:!0}}if(l!==c){if(c.mapped===a.fn&&null!=l&&null!=l.mapping&&l.mapping.value===c.value){var u=l.mapping;if((u.fnValue=c.value(r))===u.prevFnValue)continue}var d=i[s]={prev:l};this.applyParsedProperty(r,c),d.next=r.pstyle(s),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:i}},bl.updateStyleHints=function(e){var t=e._private,r=this,n=r.propertyGroupNames,i=r.propertyGroupKeys,a=function(e,t,n){return r.getPropertiesHash(e,t,n)},o=t.styleKey;if(e.removed())return!1;var s="nodes"===t.group,c=e._private.style;n=Object.keys(c);for(var l=0;l<i.length;l++){var u=i[l];t.styleKeys[u]=[We,Xe]}for(var d=function(e,r){return t.styleKeys[r][0]=$e(e,t.styleKeys[r][0])},h=function(e,r){return t.styleKeys[r][1]=Ye(e,t.styleKeys[r][1])},p=function(e,t){d(e,t),h(e,t)},f=function(e,t){for(var r=0;r<e.length;r++){var n=e.charCodeAt(r);d(n,t),h(n,t)}},g=function(e){return-128<e&&e<128&&Math.floor(e)!==e?2e9-(1024*e|0):e},y=0;y<n.length;y++){var m=n[y],v=c[m];if(null!=v){var b=this.properties[m],_=b.type,w=b.groupKey,x=void 0;null!=b.hashOverride?x=b.hashOverride(e,v):null!=v.pfValue&&(x=v.pfValue);var S=null==b.enums?v.value:null,T=null!=x,O=T||null!=S,E=v.units;if(_.number&&O&&!_.multiple)p(g(T?x:S),w),T||null==E||f(E,w);else f(v.strValue,w)}}for(var A,P,N=[We,Xe],j=0;j<i.length;j++){var D=i[j],R=t.styleKeys[D];N[0]=$e(R[0],N[0]),N[1]=Ye(R[1],N[1])}t.styleKey=(A=N[0],P=N[1],2097152*A+P);var I=t.styleKeys;t.labelDimsKey=Je(I.labelDimensions);var F=a(e,["label"],I.labelDimensions);if(t.labelKey=Je(F),t.labelStyleKey=Je(Ze(I.commonLabel,F)),!s){var C=a(e,["source-label"],I.labelDimensions);t.sourceLabelKey=Je(C),t.sourceLabelStyleKey=Je(Ze(I.commonLabel,C));var M=a(e,["target-label"],I.labelDimensions);t.targetLabelKey=Je(M),t.targetLabelStyleKey=Je(Ze(I.commonLabel,M))}if(s){var k=t.styleKeys,L=k.nodeBody,B=k.nodeBorder,U=k.nodeOutline,V=k.backgroundImage,z=k.compound,q=k.pie,Q=k.stripe,G=[L,B,U,V,z,q,Q].filter(function(e){return null!=e}).reduce(Ze,[We,Xe]);t.nodeKey=Je(G),t.hasPie=null!=q&&q[0]!==We&&q[1]!==Xe,t.hasStripe=null!=Q&&Q[0]!==We&&Q[1]!==Xe}return o!==t.styleKey},bl.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null,t.hasStripe=null},bl.applyParsedProperty=function(e,t){var r,n=this,i=t,a=e._private.style,o=n.types,s=n.properties[i.name].type,c=i.bypass,l=a[i.name],u=l&&l.bypass,d=e._private,h="mapping",p=function(e){return null==e?null:null!=e.pfValue?e.pfValue:e.value},f=function(){var t=p(l),r=p(i);n.checkTriggers(e,i.name,t,r)};if("curve-style"===t.name&&e.isEdge()&&("bezier"!==t.value&&e.isLoop()||"haystack"===t.value&&(e.source().isParent()||e.target().isParent()))&&(i=t=this.parse(t.name,"bezier",c)),i.delete)return a[i.name]=void 0,f(),!0;if(i.deleteBypassed)return l?!!l.bypass&&(l.bypassed=void 0,f(),!0):(f(),!0);if(i.deleteBypass)return l?!!l.bypass&&(a[i.name]=l.bypassed,f(),!0):(f(),!0);var g=function(){gt("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+i.name+"` with data field `"+i.field+"`); try a `["+i.field+"]` selector to limit scope to elements with `"+i.field+"` defined")};switch(i.mapped){case o.mapData:for(var y,m=i.field.split("."),v=d.data,b=0;b<m.length&&v;b++){v=v[m[b]]}if(null==v)return g(),!1;if(!oe(v))return gt("Do not use continuous mappers without specifying numeric data (i.e. `"+i.field+": "+v+"` for `"+e.id()+"` is non-numeric)"),!1;var _=i.fieldMax-i.fieldMin;if((y=0===_?0:(v-i.fieldMin)/_)<0?y=0:y>1&&(y=1),s.color){var w=i.valueMin[0],x=i.valueMax[0],S=i.valueMin[1],T=i.valueMax[1],O=i.valueMin[2],E=i.valueMax[2],A=null==i.valueMin[3]?1:i.valueMin[3],P=null==i.valueMax[3]?1:i.valueMax[3],N=[Math.round(w+(x-w)*y),Math.round(S+(T-S)*y),Math.round(O+(E-O)*y),Math.round(A+(P-A)*y)];r={bypass:i.bypass,name:i.name,value:N,strValue:"rgb("+N[0]+", "+N[1]+", "+N[2]+")"}}else{if(!s.number)return!1;var j=i.valueMin+(i.valueMax-i.valueMin)*y;r=this.parse(i.name,j,i.bypass,h)}if(!r)return g(),!1;r.mapping=i,i=r;break;case o.data:for(var D=i.field.split("."),R=d.data,I=0;I<D.length&&R;I++){R=R[D[I]]}if(null!=R&&(r=this.parse(i.name,R,i.bypass,h)),!r)return g(),!1;r.mapping=i,i=r;break;case o.fn:var F=i.value,C=null!=i.fnValue?i.fnValue:F(e);if(i.prevFnValue=C,null==C)return gt("Custom function mappers may not return null (i.e. `"+i.name+"` for ele `"+e.id()+"` is null)"),!1;if(!(r=this.parse(i.name,C,i.bypass,h)))return gt("Custom function mappers may not return invalid values for the property type (i.e. `"+i.name+"` for ele `"+e.id()+"` is invalid)"),!1;r.mapping=yt(i),i=r;break;case void 0:break;default:return!1}return c?(i.bypassed=u?l.bypassed:l,a[i.name]=i):u?l.bypassed=i:a[i.name]=i,f(),!0},bl.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),t)for(var i=n._private.style,a=Object.keys(i),o=0;o<a.length;o++){var s=a[o],c=i[s];null!=c&&(c.bypass?c.bypassed=null:i[s]=null)}else n._private.style={}}},bl.update=function(){this._private.cy.mutableElements().updateStyle()},bl.updateTransitions=function(e,t){var r=this,n=e._private,i=e.pstyle("transition-property").value,a=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(i.length>0&&a>0){for(var s={},c=!1,l=0;l<i.length;l++){var u=i[l],d=e.pstyle(u),h=t[u];if(h){var p=h.prev,f=null!=h.next?h.next:d,g=!1,y=void 0,m=1e-6;p&&(oe(p.pfValue)&&oe(f.pfValue)?(g=f.pfValue-p.pfValue,y=p.pfValue+m*g):oe(p.value)&&oe(f.value)?(g=f.value-p.value,y=p.value+m*g):ie(p.value)&&ie(f.value)&&(g=p.value[0]!==f.value[0]||p.value[1]!==f.value[1]||p.value[2]!==f.value[2],y=p.strValue),g&&(s[u]=f.strValue,this.applyBypass(e,u,y),c=!0))}}if(!c)return;n.transitioning=!0,new ai(function(t){o>0?e.delayAnimation(o).play().promise().then(t):t()}).then(function(){return e.animation({style:s,duration:a,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,i),e.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(e,i),e.emitAndNotify("style"),n.transitioning=!1)},bl.checkTrigger=function(e,t,r,n,i,a){var o=this.properties[t],s=i(o);e.removed()||null!=s&&s(r,n,e)&&a(o)},bl.checkZOrderTrigger=function(e,t,r,n){var i=this;this.checkTrigger(e,t,r,n,function(e){return e.triggersZOrder},function(){i._private.cy.notify("zorder",e)})},bl.checkBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(e){return e.triggersBounds},function(t){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache()})},bl.checkConnectedEdgesBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(e){return e.triggersBoundsOfConnectedEdges},function(t){e.connectedEdges().forEach(function(e){e.dirtyBoundingBoxCache()})})},bl.checkParallelEdgesBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(e){return e.triggersBoundsOfParallelEdges},function(t){e.parallelEdges().forEach(function(e){e.dirtyBoundingBoxCache()})})},bl.checkTriggers=function(e,t,r,n){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,n),this.checkBoundsTrigger(e,t,r,n),this.checkConnectedEdgesBoundsTrigger(e,t,r,n),this.checkParallelEdgesBoundsTrigger(e,t,r,n)};var wl={applyBypass:function(e,t,r,n){var i=[];if("*"===t||"**"===t){if(void 0!==r)for(var a=0;a<this.properties.length;a++){var o=this.properties[a].name,s=this.parse(o,r,!0);s&&i.push(s)}}else if(re(t)){var c=this.parse(t,r,!0);c&&i.push(c)}else{if(!ae(t))return!1;var l=t;n=r;for(var u=Object.keys(l),d=0;d<u.length;d++){var h=u[d],p=l[h];if(void 0===p&&(p=l[me(h)]),void 0!==p){var f=this.parse(h,p,!0);f&&i.push(f)}}}if(0===i.length)return!1;for(var g=!1,y=0;y<e.length;y++){for(var m=e[y],v={},b=void 0,_=0;_<i.length;_++){var w=i[_];if(n){var x=m.pstyle(w.name);b=v[w.name]={prev:x}}g=this.applyParsedProperty(m,yt(w))||g,n&&(b.next=m.pstyle(w.name))}g&&this.updateStyleHints(m),n&&this.updateTransitions(m,v,true)}return g},overrideBypass:function(e,t,r){t=ye(t);for(var n=0;n<e.length;n++){var i=e[n],a=i._private.style[t],o=this.properties[t].type,s=o.color,c=o.mutiple,l=a?null!=a.pfValue?a.pfValue:a.value:null;a&&a.bypass?(a.value=r,null!=a.pfValue&&(a.pfValue=r),a.strValue=s?"rgb("+r.join(",")+")":c?r.join(" "):""+r,this.updateStyleHints(i)):this.applyBypass(i,t,r),this.checkTriggers(i,t,l,r)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,r){for(var n=0;n<e.length;n++){for(var i=e[n],a={},o=0;o<t.length;o++){var s=t[o],c=this.properties[s],l=i.pstyle(c.name);if(l&&l.bypass){var u=this.parse(s,"",!0),d=a[c.name]={prev:l};this.applyParsedProperty(i,u),d.next=i.pstyle(c.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,a,true)}}},xl={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy,r=t.container(),n=t.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(e)}},Sl={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){var r=this;if(e=e[0]){for(var n={},i=0;i<r.properties.length;i++){var a=r.properties[i],o=r.getStylePropertyValue(e,a.name,t);null!=o&&(n[a.name]=o,n[me(a.name)]=o)}return n}},getIndexedStyle:function(e,t,r,n){var i=e.pstyle(t)[r][n];return null!=i?i:e.cy().style().getDefaultProperty(t)[r][0]},getStylePropertyValue:function(e,t,r){if(e=e[0]){var n=this.properties[t];n.alias&&(n=n.pointsTo);var i=n.type,a=e.pstyle(n.name);if(a){var o=a.value,s=a.units,c=a.strValue;if(r&&i.number&&null!=o&&oe(o)){var l=e.cy().zoom(),u=function(e){return e*l},d=function(e,t){return u(e)+t},h=ie(o);return(h?s.every(function(e){return null!=e}):null!=s)?h?o.map(function(e,t){return d(e,s[t])}).join(" "):d(o,s):h?o.map(function(e){return re(e)?e:""+u(e)}).join(" "):""+u(o)}if(null!=c)return c}return null}},getAnimationStartStyle:function(e,t){for(var r={},n=0;n<t.length;n++){var i=t[n].name,a=e.pstyle(i);void 0!==a&&(a=ae(a)?this.parse(i,a.strValue):this.parse(i,a)),a&&(r[i]=a)}return r},getPropsList:function(e){var t=[],r=e,n=this.properties;if(r)for(var i=Object.keys(r),a=0;a<i.length;a++){var o=i[a],s=r[o],c=n[o]||n[ye(o)],l=this.parse(c.name,s);l&&t.push(l)}return t},getNonDefaultPropertiesHash:function(e,t,r){var n,i,a,o,s,c,l=r.slice();for(s=0;s<t.length;s++)if(n=t[s],null!=(i=e.pstyle(n,!1)))if(null!=i.pfValue)l[0]=$e(o,l[0]),l[1]=Ye(o,l[1]);else for(a=i.strValue,c=0;c<a.length;c++)o=a.charCodeAt(c),l[0]=$e(o,l[0]),l[1]=Ye(o,l[1]);return l}};Sl.getPropertiesHash=Sl.getNonDefaultPropertiesHash;var Tl={appendFromJson:function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],i=n.selector,a=n.style||n.css,o=Object.keys(a);t.selector(i);for(var s=0;s<o.length;s++){var c=o[s],l=a[c];t.css(c,l)}}return t},fromJson:function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,i=r.properties,a={},o=0;o<i.length;o++){var s=i[o];a[s.name]=s.strValue}e.push({selector:n?n.toString():"core",style:a})}return e}},Ol={appendFromString:function(e){var t,r,n,i=this,a=""+e;function o(){a=a.length>t.length?a.substr(t.length):""}function s(){r=r.length>n.length?r.substr(n.length):""}for(a=a.replace(/[/][*](\s|.)+?[*][/]/g,"");;){if(a.match(/^\s*$/))break;var c=a.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!c){gt("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+a);break}t=c[0];var l=c[1];if("core"!==l)if(new ys(l).invalid){gt("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),o();continue}var u=c[2],d=!1;r=u;for(var h=[];;){if(r.match(/^\s*$/))break;var p=r.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!p){gt("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+u),d=!0;break}n=p[0];var f=p[1],g=p[2];if(this.properties[f])i.parse(f,g)?(h.push({name:f,val:g}),s()):(gt("Skipping property: Invalid property definition in: "+n),s());else gt("Skipping property: Invalid property name in: "+n),s()}if(d){o();break}i.selector(l);for(var y=0;y<h.length;y++){var m=h[y];i.css(m.name,m.val)}o()}return i},fromString:function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t}},El={};!function(){var e=we,t=Se,r=Oe,n=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},i=function(n){var i=e+"|\\w+|"+t+"|"+r+"|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+n+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+i+")\\s*\\,\\s*("+i+")\\)$"},a=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];El.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},axisDirectionExplicit:{enums:["leftward","rightward","upward","downward"]},axisDirectionPrimary:{enums:["horizontal","vertical"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},boxSelection:{enums:["contain","overlap","none"]},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle","circle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:n("data")},layoutData:{mapping:!0,regex:n("layoutData")},scratch:{mapping:!0,regex:n("scratch")},mapData:{mapping:!0,regex:i("mapData")},mapLayoutData:{mapping:!0,regex:i("mapLayoutData")},mapScratch:{mapping:!0,regex:i("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:a,singleRegexMatchValue:!0},urls:{regexes:a,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return re(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(e){var t=e.length;return 1===t||2===t||4===t}}};var o={zeroNonZero:function(e,t){return(null==e||null==t)&&e!==t||(0==e&&0!=t||0!=e&&0==t)},any:function(e,t){return e!=t},emptyNonEmpty:function(e,t){var r=pe(e),n=pe(t);return r&&!n||!r&&n}},s=El.types,c=[{name:"label",type:s.text,triggersBounds:o.any,triggersZOrder:o.emptyNonEmpty},{name:"text-rotation",type:s.textRotation,triggersBounds:o.any},{name:"text-margin-x",type:s.bidirectionalSize,triggersBounds:o.any},{name:"text-margin-y",type:s.bidirectionalSize,triggersBounds:o.any}],l=[{name:"source-label",type:s.text,triggersBounds:o.any},{name:"source-text-rotation",type:s.textRotation,triggersBounds:o.any},{name:"source-text-margin-x",type:s.bidirectionalSize,triggersBounds:o.any},{name:"source-text-margin-y",type:s.bidirectionalSize,triggersBounds:o.any},{name:"source-text-offset",type:s.size,triggersBounds:o.any}],u=[{name:"target-label",type:s.text,triggersBounds:o.any},{name:"target-text-rotation",type:s.textRotation,triggersBounds:o.any},{name:"target-text-margin-x",type:s.bidirectionalSize,triggersBounds:o.any},{name:"target-text-margin-y",type:s.bidirectionalSize,triggersBounds:o.any},{name:"target-text-offset",type:s.size,triggersBounds:o.any}],d=[{name:"font-family",type:s.fontFamily,triggersBounds:o.any},{name:"font-style",type:s.fontStyle,triggersBounds:o.any},{name:"font-weight",type:s.fontWeight,triggersBounds:o.any},{name:"font-size",type:s.size,triggersBounds:o.any},{name:"text-transform",type:s.textTransform,triggersBounds:o.any},{name:"text-wrap",type:s.textWrap,triggersBounds:o.any},{name:"text-overflow-wrap",type:s.textOverflowWrap,triggersBounds:o.any},{name:"text-max-width",type:s.size,triggersBounds:o.any},{name:"text-outline-width",type:s.size,triggersBounds:o.any},{name:"line-height",type:s.positiveNumber,triggersBounds:o.any}],h=[{name:"text-valign",type:s.valign,triggersBounds:o.any},{name:"text-halign",type:s.halign,triggersBounds:o.any},{name:"color",type:s.color},{name:"text-outline-color",type:s.color},{name:"text-outline-opacity",type:s.zeroOneNumber},{name:"text-background-color",type:s.color},{name:"text-background-opacity",type:s.zeroOneNumber},{name:"text-background-padding",type:s.size,triggersBounds:o.any},{name:"text-border-opacity",type:s.zeroOneNumber},{name:"text-border-color",type:s.color},{name:"text-border-width",type:s.size,triggersBounds:o.any},{name:"text-border-style",type:s.borderStyle,triggersBounds:o.any},{name:"text-background-shape",type:s.textBackgroundShape,triggersBounds:o.any},{name:"text-justification",type:s.justification},{name:"box-select-labels",type:s.bool,triggersBounds:o.any}],p=[{name:"events",type:s.bool,triggersZOrder:o.any},{name:"text-events",type:s.bool,triggersZOrder:o.any},{name:"box-selection",type:s.boxSelection,triggersZOrder:o.any}],f=[{name:"display",type:s.display,triggersZOrder:o.any,triggersBounds:o.any,triggersBoundsOfConnectedEdges:o.any,triggersBoundsOfParallelEdges:function(e,t,r){return e!==t&&"bezier"===r.pstyle("curve-style").value}},{name:"visibility",type:s.visibility,triggersZOrder:o.any},{name:"opacity",type:s.zeroOneNumber,triggersZOrder:o.zeroNonZero},{name:"text-opacity",type:s.zeroOneNumber},{name:"min-zoomed-font-size",type:s.size},{name:"z-compound-depth",type:s.zCompoundDepth,triggersZOrder:o.any},{name:"z-index-compare",type:s.zIndexCompare,triggersZOrder:o.any},{name:"z-index",type:s.number,triggersZOrder:o.any}],g=[{name:"overlay-padding",type:s.size,triggersBounds:o.any},{name:"overlay-color",type:s.color},{name:"overlay-opacity",type:s.zeroOneNumber,triggersBounds:o.zeroNonZero},{name:"overlay-shape",type:s.overlayShape,triggersBounds:o.any},{name:"overlay-corner-radius",type:s.cornerRadius}],y=[{name:"underlay-padding",type:s.size,triggersBounds:o.any},{name:"underlay-color",type:s.color},{name:"underlay-opacity",type:s.zeroOneNumber,triggersBounds:o.zeroNonZero},{name:"underlay-shape",type:s.overlayShape,triggersBounds:o.any},{name:"underlay-corner-radius",type:s.cornerRadius}],m=[{name:"transition-property",type:s.propList},{name:"transition-duration",type:s.time},{name:"transition-delay",type:s.time},{name:"transition-timing-function",type:s.easing}],v=function(e,t){return"label"===t.value?-e.poolIndex():t.pfValue},b=[{name:"height",type:s.nodeSize,triggersBounds:o.any,hashOverride:v},{name:"width",type:s.nodeSize,triggersBounds:o.any,hashOverride:v},{name:"shape",type:s.nodeShape,triggersBounds:o.any},{name:"shape-polygon-points",type:s.polygonPointList,triggersBounds:o.any},{name:"corner-radius",type:s.cornerRadius},{name:"background-color",type:s.color},{name:"background-fill",type:s.fill},{name:"background-opacity",type:s.zeroOneNumber},{name:"background-blacken",type:s.nOneOneNumber},{name:"background-gradient-stop-colors",type:s.colors},{name:"background-gradient-stop-positions",type:s.percentages},{name:"background-gradient-direction",type:s.gradientDirection},{name:"padding",type:s.sizeMaybePercent,triggersBounds:o.any},{name:"padding-relative-to",type:s.paddingRelativeTo,triggersBounds:o.any},{name:"bounds-expansion",type:s.boundsExpansion,triggersBounds:o.any}],_=[{name:"border-color",type:s.color},{name:"border-opacity",type:s.zeroOneNumber},{name:"border-width",type:s.size,triggersBounds:o.any},{name:"border-style",type:s.borderStyle},{name:"border-cap",type:s.lineCap},{name:"border-join",type:s.lineJoin},{name:"border-dash-pattern",type:s.numbers},{name:"border-dash-offset",type:s.number},{name:"border-position",type:s.linePosition}],w=[{name:"outline-color",type:s.color},{name:"outline-opacity",type:s.zeroOneNumber},{name:"outline-width",type:s.size,triggersBounds:o.any},{name:"outline-style",type:s.borderStyle},{name:"outline-offset",type:s.size,triggersBounds:o.any}],x=[{name:"background-image",type:s.urls},{name:"background-image-crossorigin",type:s.bgCrossOrigin},{name:"background-image-opacity",type:s.zeroOneNumbers},{name:"background-image-containment",type:s.bgContainment},{name:"background-image-smoothing",type:s.bools},{name:"background-position-x",type:s.bgPos},{name:"background-position-y",type:s.bgPos},{name:"background-width-relative-to",type:s.bgRelativeTo},{name:"background-height-relative-to",type:s.bgRelativeTo},{name:"background-repeat",type:s.bgRepeat},{name:"background-fit",type:s.bgFit},{name:"background-clip",type:s.bgClip},{name:"background-width",type:s.bgWH},{name:"background-height",type:s.bgWH},{name:"background-offset-x",type:s.bgPos},{name:"background-offset-y",type:s.bgPos}],S=[{name:"position",type:s.position,triggersBounds:o.any},{name:"compound-sizing-wrt-labels",type:s.compoundIncludeLabels,triggersBounds:o.any},{name:"min-width",type:s.size,triggersBounds:o.any},{name:"min-width-bias-left",type:s.sizeMaybePercent,triggersBounds:o.any},{name:"min-width-bias-right",type:s.sizeMaybePercent,triggersBounds:o.any},{name:"min-height",type:s.size,triggersBounds:o.any},{name:"min-height-bias-top",type:s.sizeMaybePercent,triggersBounds:o.any},{name:"min-height-bias-bottom",type:s.sizeMaybePercent,triggersBounds:o.any}],T=[{name:"line-style",type:s.lineStyle},{name:"line-color",type:s.color},{name:"line-fill",type:s.fill},{name:"line-cap",type:s.lineCap},{name:"line-opacity",type:s.zeroOneNumber},{name:"line-dash-pattern",type:s.numbers},{name:"line-dash-offset",type:s.number},{name:"line-outline-width",type:s.size},{name:"line-outline-color",type:s.color},{name:"line-gradient-stop-colors",type:s.colors},{name:"line-gradient-stop-positions",type:s.percentages},{name:"curve-style",type:s.curveStyle,triggersBounds:o.any,triggersBoundsOfParallelEdges:function(e,t){return e!==t&&("bezier"===e||"bezier"===t)}},{name:"haystack-radius",type:s.zeroOneNumber,triggersBounds:o.any},{name:"source-endpoint",type:s.edgeEndpoint,triggersBounds:o.any},{name:"target-endpoint",type:s.edgeEndpoint,triggersBounds:o.any},{name:"control-point-step-size",type:s.size,triggersBounds:o.any},{name:"control-point-distances",type:s.bidirectionalSizes,triggersBounds:o.any},{name:"control-point-weights",type:s.numbers,triggersBounds:o.any},{name:"segment-distances",type:s.bidirectionalSizes,triggersBounds:o.any},{name:"segment-weights",type:s.numbers,triggersBounds:o.any},{name:"segment-radii",type:s.numbers,triggersBounds:o.any},{name:"radius-type",type:s.radiusType,triggersBounds:o.any},{name:"taxi-turn",type:s.bidirectionalSizeMaybePercent,triggersBounds:o.any},{name:"taxi-turn-min-distance",type:s.size,triggersBounds:o.any},{name:"taxi-direction",type:s.axisDirection,triggersBounds:o.any},{name:"taxi-radius",type:s.number,triggersBounds:o.any},{name:"edge-distances",type:s.edgeDistances,triggersBounds:o.any},{name:"arrow-scale",type:s.positiveNumber,triggersBounds:o.any},{name:"loop-direction",type:s.angle,triggersBounds:o.any},{name:"loop-sweep",type:s.angle,triggersBounds:o.any},{name:"source-distance-from-node",type:s.size,triggersBounds:o.any},{name:"target-distance-from-node",type:s.size,triggersBounds:o.any}],O=[{name:"ghost",type:s.bool,triggersBounds:o.any},{name:"ghost-offset-x",type:s.bidirectionalSize,triggersBounds:o.any},{name:"ghost-offset-y",type:s.bidirectionalSize,triggersBounds:o.any},{name:"ghost-opacity",type:s.zeroOneNumber}],E=[{name:"selection-box-color",type:s.color},{name:"selection-box-opacity",type:s.zeroOneNumber},{name:"selection-box-border-color",type:s.color},{name:"selection-box-border-width",type:s.size},{name:"active-bg-color",type:s.color},{name:"active-bg-opacity",type:s.zeroOneNumber},{name:"active-bg-size",type:s.size},{name:"outside-texture-bg-color",type:s.color},{name:"outside-texture-bg-opacity",type:s.zeroOneNumber}],A=[];El.pieBackgroundN=16,A.push({name:"pie-size",type:s.sizeMaybePercent}),A.push({name:"pie-hole",type:s.sizeMaybePercent}),A.push({name:"pie-start-angle",type:s.angle});for(var P=1;P<=El.pieBackgroundN;P++)A.push({name:"pie-"+P+"-background-color",type:s.color}),A.push({name:"pie-"+P+"-background-size",type:s.percent}),A.push({name:"pie-"+P+"-background-opacity",type:s.zeroOneNumber});var N=[];El.stripeBackgroundN=16,N.push({name:"stripe-size",type:s.sizeMaybePercent}),N.push({name:"stripe-direction",type:s.axisDirectionPrimary});for(var j=1;j<=El.stripeBackgroundN;j++)N.push({name:"stripe-"+j+"-background-color",type:s.color}),N.push({name:"stripe-"+j+"-background-size",type:s.percent}),N.push({name:"stripe-"+j+"-background-opacity",type:s.zeroOneNumber});var D=[],R=El.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:s.arrowShape,triggersBounds:o.any},{name:"arrow-color",type:s.color},{name:"arrow-fill",type:s.arrowFill},{name:"arrow-width",type:s.arrowWidth}].forEach(function(e){R.forEach(function(t){var r=t+"-"+e.name,n=e.type,i=e.triggersBounds;D.push({name:r,type:n,triggersBounds:i})})},{});var I=El.properties=[].concat(p,m,f,g,y,O,h,d,c,l,u,b,_,w,x,A,N,S,T,D,E),F=El.propertyGroups={behavior:p,transition:m,visibility:f,overlay:g,underlay:y,ghost:O,commonLabel:h,labelDimensions:d,mainLabel:c,sourceLabel:l,targetLabel:u,nodeBody:b,nodeBorder:_,nodeOutline:w,backgroundImage:x,pie:A,stripe:N,compound:S,edgeLine:T,edgeArrow:D,core:E},C=El.propertyGroupNames={};(El.propertyGroupKeys=Object.keys(F)).forEach(function(e){C[e]=F[e].map(function(e){return e.name}),F[e].forEach(function(t){return t.groupKey=e})});var M=El.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];El.propertyNames=I.map(function(e){return e.name});for(var k=0;k<I.length;k++){var L=I[k];I[L.name]=L}for(var B=0;B<M.length;B++){var U=M[B],V=I[U.pointsTo],z={name:U.name,alias:!0,pointsTo:V};I.push(z),I[U.name]=z}}(),El.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},El.getDefaultProperties=function(){var e=this._private;if(null!=e.defaultProperties)return e.defaultProperties;for(var t=Ae({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","box-selection":"contain","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","box-select-labels":"no","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%","pie-hole":0,"pie-start-angle":"0deg"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var r=1;r<=El.pieBackgroundN;r++){var n=t.name.replace("{{i}}",r),i=t.value;e[n]=i}return e},{}),{"stripe-size":"100%","stripe-direction":"horizontal"},[{name:"stripe-{{i}}-background-color",value:"black"},{name:"stripe-{{i}}-background-size",value:"0%"},{name:"stripe-{{i}}-background-opacity",value:1}].reduce(function(e,t){for(var r=1;r<=El.stripeBackgroundN;r++){var n=t.name.replace("{{i}}",r),i=t.value;e[n]=i}return e},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(e,t){return El.arrowPrefixes.forEach(function(r){var n=r+"-"+t.name,i=t.value;e[n]=i}),e},{})),r={},n=0;n<this.properties.length;n++){var i=this.properties[n];if(!i.pointsTo){var a=i.name,o=t[a],s=this.parse(a,o);r[a]=s}}return e.defaultProperties=r,e.defaultProperties},El.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Al={parse:function(e,t,r,n){var i=this;if(ne(t))return i.parseImplWarn(e,t,r,n);var a,o=rt(e,""+t,r?"t":"f","mapping"===n||!0===n||!1===n||null==n?"dontcare":n),s=i.propCache=i.propCache||[];return(a=s[o])||(a=s[o]=i.parseImplWarn(e,t,r,n)),(r||"mapping"===n)&&(a=yt(a))&&(a.value=yt(a.value)),a},parseImplWarn:function(e,t,r,n){var i=this.parseImpl(e,t,r,n);return i||null==t||gt("The style property `".concat(e,": ").concat(t,"` is invalid")),!i||"width"!==i.name&&"height"!==i.name||"label"!==t||gt("The style value of `label` is deprecated for `"+i.name+"`"),i}};Al.parseImpl=function(e,t,r,n){var i=this;e=ye(e);var a=i.properties[e],o=t,s=i.types;if(!a)return null;if(void 0===t)return null;a.alias&&(a=a.pointsTo,e=a.name);var c=re(t);c&&(t=t.trim());var l,u,d=a.type;if(!d)return null;if(r&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(ne(t))return{name:e,value:t,strValue:"fn",mapped:s.fn,bypass:r};if(!c||n||t.length<7||"a"!==t[1]);else{if(t.length>=7&&"d"===t[0]&&(l=new RegExp(s.data.regex).exec(t))){if(r)return!1;var h=s.data;return{name:e,value:l,strValue:""+t,mapped:h,field:l[1],bypass:r}}if(t.length>=10&&"m"===t[0]&&(u=new RegExp(s.mapData.regex).exec(t))){if(r)return!1;if(d.multiple)return!1;var p=s.mapData;if(!d.color&&!d.number)return!1;var f=this.parse(e,u[4]);if(!f||f.mapped)return!1;var g=this.parse(e,u[5]);if(!g||g.mapped)return!1;if(f.pfValue===g.pfValue||f.strValue===g.strValue)return gt("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+f.strValue+"`"),this.parse(e,f.strValue);if(d.color){var y=f.value,m=g.value;if(y[0]===m[0]&&y[1]===m[1]&&y[2]===m[2]&&(y[3]===m[3]||(null==y[3]||1===y[3])&&(null==m[3]||1===m[3])))return!1}return{name:e,value:u,strValue:""+t,mapped:p,field:u[1],fieldMin:parseFloat(u[2]),fieldMax:parseFloat(u[3]),valueMin:f.value,valueMax:g.value,bypass:r}}}if(d.multiple&&"multiple"!==n){var v;if(v=c?t.split(/\s+/):ie(t)?t:[t],d.evenMultiple&&v.length%2!==0)return null;for(var b=[],_=[],w=[],x="",S=!1,T=0;T<v.length;T++){var O=i.parse(e,v[T],r,"multiple");S=S||re(O.value),b.push(O.value),w.push(null!=O.pfValue?O.pfValue:O.value),_.push(O.units),x+=(T>0?" ":"")+O.strValue}return d.validate&&!d.validate(b,_)?null:d.singleEnum&&S?1===b.length&&re(b[0])?{name:e,value:b[0],strValue:b[0],bypass:r}:null:{name:e,value:b,pfValue:w,strValue:x,bypass:r,units:_}}var E,A,P=function(){for(var n=0;n<d.enums.length;n++){if(d.enums[n]===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null};if(d.number){var N,j="px";if(d.units&&(N=d.units),d.implicitUnits&&(j=d.implicitUnits),!d.unitless)if(c){var D="px|em"+(d.allowPercent?"|\\%":"");N&&(D=N);var R=t.match("^("+we+")("+D+")?$");R&&(t=R[1],N=R[2]||j)}else N&&!d.implicitUnits||(N=j);if(t=parseFloat(t),isNaN(t)&&void 0===d.enums)return null;if(isNaN(t)&&void 0!==d.enums)return t=o,P();if(d.integer&&(!oe(A=t)||Math.floor(A)!==A))return null;if(void 0!==d.min&&(t<d.min||d.strictMin&&t===d.min)||void 0!==d.max&&(t>d.max||d.strictMax&&t===d.max))return null;var I={name:e,value:t,strValue:""+t+(N||""),units:N,bypass:r};return d.unitless||"px"!==N&&"em"!==N?I.pfValue=t:I.pfValue="px"!==N&&N?this.getEmSizeInPixels()*t:t,"ms"!==N&&"s"!==N||(I.pfValue="ms"===N?t:1e3*t),"deg"!==N&&"rad"!==N||(I.pfValue="rad"===N?t:(E=t,Math.PI*E/180)),"%"===N&&(I.pfValue=t/100),I}if(d.propList){var F=[],C=""+t;if("none"===C);else{for(var M=C.split(/\s*,\s*|\s+/),k=0;k<M.length;k++){var L=M[k].trim();i.properties[L]?F.push(L):gt("`"+L+"` is not a valid property name")}if(0===F.length)return null}return{name:e,value:F,strValue:0===F.length?"none":F.join(" "),bypass:r}}if(d.color){var B=Pe(t);return B?{name:e,value:B,pfValue:B,strValue:"rgb("+B[0]+","+B[1]+","+B[2]+")",bypass:r}:null}if(d.regex||d.regexes){if(d.enums){var U=P();if(U)return U}for(var V=d.regexes?d.regexes:[d.regex],z=0;z<V.length;z++){var q=new RegExp(V[z]).exec(t);if(q)return{name:e,value:d.singleRegexMatchValue?q[1]:q,strValue:""+t,bypass:r}}return null}return d.string?{name:e,value:""+t,strValue:""+t,bypass:r}:d.enums?P():null};var Pl=function(e){if(!(this instanceof Pl))return new Pl(e);de(e)?(this._private={cy:e,coreStyle:{}},this.length=0,this.resetToDefault()):pt("A style must have a core reference")},Nl=Pl.prototype;Nl.instanceString=function(){return"style"},Nl.clear=function(){for(var e=this._private,t=e.cy.elements(),r=0;r<this.length;r++)this[r]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0),t.forEach(function(e){var t=e[0]._private;t.styleDirty=!0,t.appliedInitStyle=!1}),this},Nl.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},Nl.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},Nl.selector=function(e){var t="core"===e?null:new ys(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this},Nl.css=function(){var e=arguments;if(1===e.length)for(var t=e[0],r=0;r<this.properties.length;r++){var n=this.properties[r],i=t[n.name];void 0===i&&(i=t[me(n.name)]),void 0!==i&&this.cssRule(n.name,i)}else 2===e.length&&this.cssRule(e[0],e[1]);return this},Nl.style=Nl.css,Nl.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.name.match(/stripe-(\d+)-background-size/)&&r.value&&(this._private.hasStripe=!0),r.mapped&&this[n].mappedProperties.push(r),!this[n].selector&&(this._private.coreStyle[r.name]=r)}return this},Nl.append=function(e){return he(e)?e.appendToStyle(this):ie(e)?this.appendFromJson(e):re(e)&&this.appendFromString(e),this},Pl.fromJson=function(e,t){var r=new Pl(e);return r.fromJson(t),r},Pl.fromString=function(e,t){return new Pl(e).fromString(t)},[bl,wl,xl,Sl,Tl,Ol,El,Al].forEach(function(e){Ae(Nl,e)}),Pl.types=Nl.types,Pl.properties=Nl.properties,Pl.propertyGroups=Nl.propertyGroups,Pl.propertyGroupNames=Nl.propertyGroupNames,Pl.propertyGroupKeys=Nl.propertyGroupKeys;var jl={style:function(e){e&&this.setStyle(e).update();return this._private.style},setStyle:function(e){var t=this._private;return he(e)?t.style=e.generateStyle(this):ie(e)?t.style=Pl.fromJson(this,e):re(e)?t.style=Pl.fromString(this,e):t.style=Pl(this),t.style},updateStyle:function(){this.mutableElements().updateStyle()}},Dl={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var t=this._private;return null==t.selectionType&&(t.selectionType="single"),void 0===e?t.selectionType:("additive"!==e&&"single"!==e||(t.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,r,n,i,a=arguments,o=this._private.pan;switch(a.length){case 0:return o;case 1:if(re(a[0]))return o[e=a[0]];if(ae(a[0])){if(!this._private.panningEnabled)return this;n=(r=a[0]).x,i=r.y,oe(n)&&(o.x=n),oe(i)&&(o.y=i),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=a[1],"x"!==(e=a[0])&&"y"!==e||!oe(t)||(o[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,t){var r,n,i,a,o,s=arguments,c=this._private.pan;if(!this._private.panningEnabled)return this;switch(s.length){case 1:ae(e)&&(a=(i=s[0]).x,o=i.y,oe(a)&&(c.x+=a),oe(o)&&(c.y+=o),this.emit("pan viewport"));break;case 2:n=t,"x"!==(r=e)&&"y"!==r||!oe(n)||(c[r]+=n),this.emit("pan viewport")}return this.notify("viewport"),this},gc:function(){this.notify("gc")},fit:function(e,t){var r=this.getFitViewport(e,t);if(r){var n=this._private;n.zoom=r.zoom,n.pan=r.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){if(oe(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled){var r,n;if(re(e)){var i=e;e=this.$(i)}else if(ae(n=e)&&oe(n.x1)&&oe(n.x2)&&oe(n.y1)&&oe(n.y2)){var a=e;(r={x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2}).w=r.x2-r.x1,r.h=r.y2-r.y1}else ce(e)||(e=this.mutableElements());if(!ce(e)||!e.empty()){r=r||e.boundingBox();var o,s=this.width(),c=this.height();if(t=oe(t)?t:0,!isNaN(s)&&!isNaN(c)&&s>0&&c>0&&!isNaN(r.w)&&!isNaN(r.h)&&r.w>0&&r.h>0)return{zoom:o=(o=(o=Math.min((s-2*t)/r.w,(c-2*t)/r.h))>this._private.maxZoom?this._private.maxZoom:o)<this._private.minZoom?this._private.minZoom:o,pan:{x:(s-o*(r.x1+r.x2))/2,y:(c-o*(r.y1+r.y2))/2}}}}},zoomRange:function(e,t){var r=this._private;if(null==t){var n=e;e=n.min,t=n.max}return oe(e)&&oe(t)&&e<=t?(r.minZoom=e,r.maxZoom=t):oe(e)&&void 0===t&&e<=r.maxZoom?r.minZoom=e:oe(t)&&void 0===e&&t>=r.minZoom&&(r.maxZoom=t),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t,r,n=this._private,i=n.pan,a=n.zoom,o=!1;if(n.zoomingEnabled||(o=!0),oe(e)?r=e:ae(e)&&(r=e.level,null!=e.position?t=Jt(e.position,a,i):null!=e.renderedPosition&&(t=e.renderedPosition),null==t||n.panningEnabled||(o=!0)),r=(r=r>n.maxZoom?n.maxZoom:r)<n.minZoom?n.minZoom:r,o||!oe(r)||r===a||null!=t&&(!oe(t.x)||!oe(t.y)))return null;if(null!=t){var s=i,c=a,l=r;return{zoomed:!0,panned:!0,zoom:l,pan:{x:-l/c*(t.x-s.x)+t.x,y:-l/c*(t.y-s.y)+t.y}}}return{zoomed:!0,panned:!1,zoom:r,pan:i}},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),r=this._private;return null!=t&&t.zoomed?(r.zoom=t.zoom,t.panned&&(r.pan.x=t.pan.x,r.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var t=this._private,r=!0,n=!0,i=[],a=!1,o=!1;if(!e)return this;if(oe(e.zoom)||(r=!1),ae(e.pan)||(n=!1),!r&&!n)return this;if(r){var s=e.zoom;s<t.minZoom||s>t.maxZoom||!t.zoomingEnabled?a=!0:(t.zoom=s,i.push("zoom"))}if(n&&(!a||!e.cancelOnFailedZoom)&&t.panningEnabled){var c=e.pan;oe(c.x)&&(t.pan.x=c.x,o=!1),oe(c.y)&&(t.pan.y=c.y,o=!1),o||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(re(e)){var r=e;e=this.mutableElements().filter(r)}else ce(e)||(e=this.mutableElements());if(0!==e.length){var n=e.boundingBox(),i=this.width(),a=this.height();return{x:(i-(t=void 0===t?this._private.zoom:t)*(n.x1+n.x2))/2,y:(a-t*(n.y1+n.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e=this._private,t=e.container,r=this;return e.sizeCache=e.sizeCache||(t?function(){var e=r.window().getComputedStyle(t),n=function(t){return parseFloat(e.getPropertyValue(t))};return{width:t.clientWidth-n("padding-left")-n("padding-right"),height:t.clientHeight-n("padding-top")-n("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,r=this.renderedExtent(),n={x1:(r.x1-e.x)/t,x2:(r.x2-e.x)/t,y1:(r.y1-e.y)/t,y2:(r.y2-e.y)/t};return n.w=n.x2-n.x1,n.h=n.y2-n.y1,n},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}},multiClickDebounceTime:function(e){return e?(this._private.multiClickDebounceTime=e,this):this._private.multiClickDebounceTime}};Dl.centre=Dl.center,Dl.autolockNodes=Dl.autolock,Dl.autoungrabifyNodes=Dl.autoungrabify;var Rl={data:Ro.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Ro.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Ro.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Ro.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};Rl.attr=Rl.data,Rl.removeAttr=Rl.removeData;var Il=function(e){var t=this,r=(e=Ae({},e)).container;r&&!se(r)&&se(r[0])&&(r=r[0]);var n=r?r._cyreg:null;(n=n||{})&&n.cy&&(n.cy.destroy(),n={});var i=n.readies=n.readies||[];r&&(r._cyreg=n),n.cy=t;var a=void 0!==w&&void 0!==r&&!e.headless,o=e;o.layout=Ae({name:a?"grid":"null"},o.layout),o.renderer=Ae({name:a?"canvas":"null"},o.renderer);var s=function(e,t,r){return void 0!==t?t:void 0!==r?r:e},c=this._private={container:r,ready:!1,options:o,elements:new Kc(this),listeners:[],aniEles:new Kc(this),data:o.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:s(!0,o.zoomingEnabled),userZoomingEnabled:s(!0,o.userZoomingEnabled),panningEnabled:s(!0,o.panningEnabled),userPanningEnabled:s(!0,o.userPanningEnabled),boxSelectionEnabled:s(!0,o.boxSelectionEnabled),autolock:s(!1,o.autolock,o.autolockNodes),autoungrabify:s(!1,o.autoungrabify,o.autoungrabifyNodes),autounselectify:s(!1,o.autounselectify),styleEnabled:void 0===o.styleEnabled?a:o.styleEnabled,zoom:oe(o.zoom)?o.zoom:1,pan:{x:ae(o.pan)&&oe(o.pan.x)?o.pan.x:0,y:ae(o.pan)&&oe(o.pan.y)?o.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:s(250,o.multiClickDebounceTime)};this.createEmitter(),this.selectionType(o.selectionType),this.zoomRange({min:o.minZoom,max:o.maxZoom});c.styleEnabled&&t.setStyle([]);var l=Ae({},o,o.renderer);t.initRenderer(l);!function(e,t){if(e.some(fe))return ai.all(e).then(t);t(e)}([o.style,o.elements],function(e){var r=e[0],a=e[1];c.styleEnabled&&t.style().append(r),function(e,r,n){t.notifications(!1);var i=t.mutableElements();i.length>0&&i.remove(),null!=e&&(ae(e)||ie(e))&&t.add(e),t.one("layoutready",function(e){t.notifications(!0),t.emit(e),t.one("load",r),t.emitAndNotify("load")}).one("layoutstop",function(){t.one("done",n),t.emit("done")});var a=Ae({},t._private.options.layout);a.eles=t.elements(),t.layout(a).run()}(a,function(){t.startAnimationLoop(),c.ready=!0,ne(o.ready)&&t.on("ready",o.ready);for(var e=0;e<i.length;e++){var r=i[e];t.on("ready",r)}n&&(n.readies=[]),t.emit("ready")},o.done)})},Fl=Il.prototype;Ae(Fl,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},window:function(){if(null==this._private.container)return w;var e=this._private.container.ownerDocument;return void 0===e||null==e?w:e.defaultView||w},mount:function(e){if(null!=e){var t=this,r=t._private,n=r.options;return!se(e)&&se(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),r.container=e,r.styleEnabled=!0,t.invalidateSize(),t.initRenderer(Ae({},n,n.renderer,{name:"null"===n.renderer.name?"canvas":n.renderer.name})),t.startAnimationLoop(),t.style(n.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return yt(this._private.options)},json:function(e){var t=this,r=t._private,n=t.mutableElements();if(ae(e)){if(t.startBatch(),e.elements){var i={},a=function(e,r){for(var n=[],a=[],o=0;o<e.length;o++){var s=e[o];if(s.data.id){var c=""+s.data.id,l=t.getElementById(c);i[c]=!0,0!==l.length?a.push({ele:l,json:s}):r?(s.group=r,n.push(s)):n.push(s)}else gt("cy.json() cannot handle elements without an ID attribute")}t.add(n);for(var u=0;u<a.length;u++){var d=a[u],h=d.ele,p=d.json;h.json(p)}};if(ie(e.elements))a(e.elements);else for(var o=["nodes","edges"],s=0;s<o.length;s++){var c=o[s],l=e.elements[c];ie(l)&&a(l,c)}var u=t.collection();n.filter(function(e){return!i[e.id()]}).forEach(function(e){e.isParent()?u.merge(e):e.remove()}),u.forEach(function(e){return e.children().move({parent:null})}),u.forEach(function(e){return function(e){return t.getElementById(e.id())}(e).remove()})}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==r.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===r.pan.x&&e.pan.y===r.pan.y||t.pan(e.pan)),e.data&&t.data(e.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],h=0;h<d.length;h++){var p=d[h];null!=e[p]&&t[p](e[p])}return t.endBatch(),this}var f={};!!e?f.elements=this.elements().map(function(e){return e.json()}):(f.elements={},n.forEach(function(e){var t=e.group();f.elements[t]||(f.elements[t]=[]),f.elements[t].push(e.json())})),this._private.styleEnabled&&(f.style=t.style().json()),f.data=yt(t.data());var g=r.options;return f.zoomingEnabled=r.zoomingEnabled,f.userZoomingEnabled=r.userZoomingEnabled,f.zoom=r.zoom,f.minZoom=r.minZoom,f.maxZoom=r.maxZoom,f.panningEnabled=r.panningEnabled,f.userPanningEnabled=r.userPanningEnabled,f.pan=yt(r.pan),f.boxSelectionEnabled=r.boxSelectionEnabled,f.renderer=yt(g.renderer),f.hideEdgesOnViewport=g.hideEdgesOnViewport,f.textureOnViewport=g.textureOnViewport,f.wheelSensitivity=g.wheelSensitivity,f.motionBlur=g.motionBlur,f.multiClickDebounceTime=g.multiClickDebounceTime,f}}),Fl.$id=Fl.getElementById,[Yc,ll,hl,pl,fl,gl,ml,vl,jl,Dl,Rl].forEach(function(e){Ae(Fl,e)});var Cl={fit:!0,directed:!1,direction:"downward",padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},Ml={maximal:!1,acyclic:!1},kl=function(e){return e.scratch("breadthfirst")},Ll=function(e,t){return e.scratch("breadthfirst",t)};function Bl(e){this.options=Ae({},Cl,Ml,e)}Bl.prototype.run=function(){var e,t=this.options,r=t.cy,n=t.eles,i=n.nodes().filter(function(e){return e.isChildless()}),a=n,o=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,c=!!t.boundingBox,l=ur(c?t.boundingBox:structuredClone(r.extent()));if(ce(t.roots))e=t.roots;else if(ie(t.roots)){for(var u=[],d=0;d<t.roots.length;d++){var h=t.roots[d],p=r.getElementById(h);u.push(p)}e=r.collection(u)}else if(re(t.roots))e=r.$(t.roots);else if(o)e=i.roots();else{var f=n.components();e=r.collection();for(var g=function(){var t=f[y],r=t.maxDegree(!1),n=t.filter(function(e){return e.degree(!1)===r});e=e.add(n)},y=0;y<f.length;y++)g()}var m=[],v={},b=function(e,t){null==m[t]&&(m[t]=[]);var r=m[t].length;m[t].push(e),Ll(e,{index:r,depth:t})};a.bfs({roots:e,directed:t.directed,visit:function(e,t,r,n,i){var a=e[0],o=a.id();a.isChildless()&&b(a,i),v[o]=!0}});for(var _=[],w=0;w<i.length;w++){var x=i[w];v[x.id()]||_.push(x)}var S=function(e){for(var t=m[e],r=0;r<t.length;r++){var n=t[r];null!=n?Ll(n,{depth:e,index:r}):(t.splice(r,1),r--)}},T=function(e,r){for(var i=kl(e),a=e.incomers().filter(function(e){return e.isNode()&&n.has(e)}),o=-1,s=e.id(),c=0;c<a.length;c++){var l=a[c],u=kl(l);o=Math.max(o,u.depth)}if(i.depth<=o){if(!t.acyclic&&r[s])return null;var d=o+1;return function(e,t){var r=kl(e),n=r.depth,i=r.index;m[n][i]=null,e.isChildless()&&b(e,t)}(e,d),r[s]=d,!0}return!1};if(o&&s){var O=[],E={},A=function(e){return O.push(e)},P=function(){return O.shift()};for(i.forEach(function(e){return O.push(e)});O.length>0;){var N=P(),j=T(N,E);if(j)N.outgoers().filter(function(e){return e.isNode()&&n.has(e)}).forEach(A);else if(null===j){gt("Detected double maximal shift for node `"+N.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}var D=0;if(t.avoidOverlap)for(var R=0;R<i.length;R++){var I=i[R].layoutDimensions(t),F=I.w,C=I.h;D=Math.max(D,F,C)}var M={},k=function(e){if(M[e.id()])return M[e.id()];for(var t=kl(e).depth,r=e.neighborhood(),n=0,a=0,o=0;o<r.length;o++){var s=r[o];if(!s.isEdge()&&!s.isParent()&&i.has(s)){var c=kl(s);if(null!=c){var l=c.index,u=c.depth;if(null!=l&&null!=u){var d=m[u].length;u<t&&(n+=l/d,a++)}}}}return n/=a=Math.max(1,a),0===a&&(n=0),M[e.id()]=n,n},L=function(e,t){var r=k(e)-k(t);return 0===r?Ee(e.id(),t.id()):r};void 0!==t.depthSort&&(L=t.depthSort);for(var B=m.length,U=0;U<B;U++)m[U].sort(L),S(U);for(var V=[],z=0;z<_.length;z++)V.push(_[z]);V.length&&(m.unshift(V),B=m.length,function(){for(var e=0;e<B;e++)S(e)}());for(var q=0,Q=0;Q<B;Q++)q=Math.max(m[Q].length,q);var G=l.x1+l.w/2,H=l.y1+l.h/2,W=i.reduce(function(e,r){return n=r.boundingBox({includeLabels:t.nodeDimensionsIncludeLabels}),{w:-1===e.w?n.w:(e.w+n.w)/2,h:-1===e.h?n.h:(e.h+n.h)/2};var n},{w:-1,h:-1}),X=Math.max(1===B?0:c?(l.h-2*t.padding-W.h)/(B-1):(l.h-2*t.padding-W.h)/(B+1),D),K=m.reduce(function(e,t){return Math.max(e,t.length)},0),$={downward:0,leftward:90,upward:180,rightward:-90};-1===Object.keys($).indexOf(t.direction)&&pt("Invalid direction '".concat(t.direction,"' specified for breadthfirst layout. Valid values are: ").concat(Object.keys($).join(", ")));return n.nodes().layoutPositions(this,t,function(e){return it(function(e){var r=kl(e),n=r.depth,i=r.index;if(t.circle){var a=Math.min(l.w/2/B,l.h/2/B),o=(a=Math.max(a,D))*n+a-(B>0&&m[0].length<=3?a/2:0),s=2*Math.PI/m[n].length*i;return 0===n&&1===m[0].length&&(o=1),{x:G+o*Math.cos(s),y:H+o*Math.sin(s)}}var u=m[n].length,d=Math.max(1===u?0:c?(l.w-2*t.padding-W.w)/((t.grid?K:u)-1):(l.w-2*t.padding-W.w)/((t.grid?K:u)+1),D);return{x:G+(i+1-(u+1)/2)*d,y:H+(n+1-(B+1)/2)*X}}(e),l,$[t.direction])}),this};var Ul={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Vl(e){this.options=Ae({},Ul,e)}Vl.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,a=n.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));for(var o,s=ur(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),c=s.x1+s.w/2,l=s.y1+s.h/2,u=(void 0===t.sweep?2*Math.PI-2*Math.PI/a.length:t.sweep)/Math.max(1,a.length-1),d=0,h=0;h<a.length;h++){var p=a[h].layoutDimensions(t),f=p.w,g=p.h;d=Math.max(d,f,g)}if(o=oe(t.radius)?t.radius:a.length<=1?0:Math.min(s.h,s.w)/2-d,a.length>1&&t.avoidOverlap){d*=1.75;var y=Math.cos(u)-Math.cos(0),m=Math.sin(u)-Math.sin(0),v=Math.sqrt(d*d/(y*y+m*m));o=Math.max(v,o)}return n.nodes().layoutPositions(this,t,function(e,r){var n=t.startAngle+r*u*(i?1:-1),a=o*Math.cos(n),s=o*Math.sin(n);return{x:c+a,y:l+s}}),this};var zl,ql={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Ql(e){this.options=Ae({},ql,e)}Ql.prototype.run=function(){for(var e=this.options,t=e,r=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,n=e.cy,i=t.eles,a=i.nodes().not(":parent"),o=ur(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s=o.x1+o.w/2,c=o.y1+o.h/2,l=[],u=0,d=0;d<a.length;d++){var h,p=a[d];h=t.concentric(p),l.push({value:h,node:p}),p._private.scratch.concentric=h}a.updateStyle();for(var f=0;f<a.length;f++){var g=a[f].layoutDimensions(t);u=Math.max(u,g.w,g.h)}l.sort(function(e,t){return t.value-e.value});for(var y=t.levelWidth(a),m=[[]],v=m[0],b=0;b<l.length;b++){var _=l[b];if(v.length>0)Math.abs(v[0].value-_.value)>=y&&(v=[],m.push(v));v.push(_)}var w=u+t.minNodeSpacing;if(!t.avoidOverlap){var x=m.length>0&&m[0].length>1,S=(Math.min(o.w,o.h)/2-w)/(m.length+x?1:0);w=Math.min(w,S)}for(var T=0,O=0;O<m.length;O++){var E=m[O],A=void 0===t.sweep?2*Math.PI-2*Math.PI/E.length:t.sweep,P=E.dTheta=A/Math.max(1,E.length-1);if(E.length>1&&t.avoidOverlap){var N=Math.cos(P)-Math.cos(0),j=Math.sin(P)-Math.sin(0),D=Math.sqrt(w*w/(N*N+j*j));T=Math.max(D,T)}E.r=T,T+=w}if(t.equidistant){for(var R=0,I=0,F=0;F<m.length;F++){var C=m[F].r-I;R=Math.max(R,C)}I=0;for(var M=0;M<m.length;M++){var k=m[M];0===M&&(I=k.r),k.r=I,I+=R}}for(var L={},B=0;B<m.length;B++)for(var U=m[B],V=U.dTheta,z=U.r,q=0;q<U.length;q++){var Q=U[q],G=t.startAngle+(r?1:-1)*V*q,H={x:s+z*Math.cos(G),y:c+z*Math.sin(G)};L[Q.node.id()]=H}return i.nodes().layoutPositions(this,t,function(e){var t=e.id();return L[t]}),this};var Gl={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Hl(e){this.options=Ae({},Gl,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges().filter(function(e){var r=e.source().data("id"),n=e.target().data("id"),i=t.some(function(e){return e.data("id")===r}),a=t.some(function(e){return e.data("id")===n});return!i||!a});this.options.eles=this.options.eles.not(r)}Hl.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,!0!==e.animate&&!1!==e.animate||r.emit({type:"layoutstart",layout:r}),zl=!0===e.debug;var n=Wl(t,r,e);zl&&undefined(n),e.randomize&&$l(n);var i=He(),a=function(){Jl(n,t,e),!0===e.fit&&t.fit(e.padding)},o=function(t){return!(r.stopped||t>=e.numIter)&&(Zl(n,e),n.temperature=n.temperature*e.coolingFactor,!(n.temperature<e.minTemp))},s=function(){if(!0===e.animate||!1===e.animate)a(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var t=e.eles.nodes(),i=Yl(n,e,t);t.layoutPositions(r,e,i)}},c=0,l=!0;if(!0===e.animate){var u=function(){for(var t=0;l&&t<e.refresh;)l=o(c),c++,t++;l?(He()-i>=e.animationThreshold&&a(),Ge(u)):(du(n,e),s())};u()}else{for(;l;)l=o(c),c++;du(n,e),s()}return this},Hl.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},Hl.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Wl=function(e,t,r){for(var n=r.eles.edges(),i=r.eles.nodes(),a=ur(r.boundingBox?r.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()}),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:n.size(),temperature:r.initialTemp,clientWidth:a.w,clientHeight:a.h,boundingBox:a},s=r.eles.components(),c={},l=0;l<s.length;l++)for(var u=s[l],d=0;d<u.length;d++){c[u[d].id()]=l}for(l=0;l<o.nodeSize;l++){var h=(m=i[l]).layoutDimensions(r);(I={}).isLocked=m.locked(),I.id=m.data("id"),I.parentId=m.data("parent"),I.cmptId=c[m.id()],I.children=[],I.positionX=m.position("x"),I.positionY=m.position("y"),I.offsetX=0,I.offsetY=0,I.height=h.w,I.width=h.h,I.maxX=I.positionX+I.width/2,I.minX=I.positionX-I.width/2,I.maxY=I.positionY+I.height/2,I.minY=I.positionY-I.height/2,I.padLeft=parseFloat(m.style("padding")),I.padRight=parseFloat(m.style("padding")),I.padTop=parseFloat(m.style("padding")),I.padBottom=parseFloat(m.style("padding")),I.nodeRepulsion=ne(r.nodeRepulsion)?r.nodeRepulsion(m):r.nodeRepulsion,o.layoutNodes.push(I),o.idToIndex[I.id]=l}var p=[],f=0,g=-1,y=[];for(l=0;l<o.nodeSize;l++){var m,v=(m=o.layoutNodes[l]).parentId;null!=v?o.layoutNodes[o.idToIndex[v]].children.push(m.id):(p[++g]=m.id,y.push(m.id))}for(o.graphSet.push(y);f<=g;){var b=p[f++],_=o.idToIndex[b],w=o.layoutNodes[_].children;if(w.length>0){o.graphSet.push(w);for(l=0;l<w.length;l++)p[++g]=w[l]}}for(l=0;l<o.graphSet.length;l++){var x=o.graphSet[l];for(d=0;d<x.length;d++){var S=o.idToIndex[x[d]];o.indexToGraph[S]=l}}for(l=0;l<o.edgeSize;l++){var T=n[l],O={};O.id=T.data("id"),O.sourceId=T.data("source"),O.targetId=T.data("target");var E=ne(r.idealEdgeLength)?r.idealEdgeLength(T):r.idealEdgeLength,A=ne(r.edgeElasticity)?r.edgeElasticity(T):r.edgeElasticity,P=o.idToIndex[O.sourceId],N=o.idToIndex[O.targetId];if(o.indexToGraph[P]!=o.indexToGraph[N]){for(var j=Xl(O.sourceId,O.targetId,o),D=o.graphSet[j],R=0,I=o.layoutNodes[P];-1===D.indexOf(I.id);)I=o.layoutNodes[o.idToIndex[I.parentId]],R++;for(I=o.layoutNodes[N];-1===D.indexOf(I.id);)I=o.layoutNodes[o.idToIndex[I.parentId]],R++;E*=R*r.nestingFactor}O.idealLength=E,O.elasticity=A,o.layoutEdges.push(O)}return o},Xl=function(e,t,r){var n=Kl(e,t,0,r);return 2>n.count?0:n.graph},Kl=function(e,t,r,n){var i=n.graphSet[r];if(-1<i.indexOf(e)&&-1<i.indexOf(t))return{count:2,graph:r};for(var a=0,o=0;o<i.length;o++){var s=i[o],c=n.idToIndex[s],l=n.layoutNodes[c].children;if(0!==l.length){var u=n.indexToGraph[n.idToIndex[l[0]]],d=Kl(e,t,u,n);if(0!==d.count){if(1!==d.count)return d;if(2===++a)break}}}return{count:a,graph:r}},$l=function(e,t){for(var r=e.clientWidth,n=e.clientHeight,i=0;i<e.nodeSize;i++){var a=e.layoutNodes[i];0!==a.children.length||a.isLocked||(a.positionX=Math.random()*r,a.positionY=Math.random()*n)}},Yl=function(e,t,r){var n=e.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(r.forEach(function(t){var r=e.layoutNodes[e.idToIndex[t.data("id")]];i.x1=Math.min(i.x1,r.positionX),i.x2=Math.max(i.x2,r.positionX),i.y1=Math.min(i.y1,r.positionY),i.y2=Math.max(i.y2,r.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(r,a){var o=e.layoutNodes[e.idToIndex[r.data("id")]];if(t.boundingBox){var s=0===i.w?.5:(o.positionX-i.x1)/i.w,c=0===i.h?.5:(o.positionY-i.y1)/i.h;return{x:n.x1+s*n.w,y:n.y1+c*n.h}}return{x:o.positionX,y:o.positionY}}},Jl=function(e,t,r){var n=r.layout,i=r.eles.nodes(),a=Yl(e,r,i);i.positions(a),!0!==e.ready&&(e.ready=!0,n.one("layoutready",r.ready),n.emit({type:"layoutready",layout:this}))},Zl=function(e,t,r){eu(e,t),au(e),ou(e,t),su(e),cu(e)},eu=function(e,t){for(var r=0;r<e.graphSet.length;r++)for(var n=e.graphSet[r],i=n.length,a=0;a<i;a++)for(var o=e.layoutNodes[e.idToIndex[n[a]]],s=a+1;s<i;s++){var c=e.layoutNodes[e.idToIndex[n[s]]];ru(o,c,e,t)}},tu=function(e){return 2*e*Math.random()-1},ru=function(e,t,r,n){if(e.cmptId===t.cmptId||r.isCompound){var i=t.positionX-e.positionX,a=t.positionY-e.positionY;0===i&&0===a&&(i=tu(1),a=tu(1));var o=nu(e,t,i,a);if(o>0)var s=(l=n.nodeOverlap*o)*i/(g=Math.sqrt(i*i+a*a)),c=l*a/g;else{var l,u=iu(e,i,a),d=iu(t,-1*i,-1*a),h=d.x-u.x,p=d.y-u.y,f=h*h+p*p,g=Math.sqrt(f);s=(l=(e.nodeRepulsion+t.nodeRepulsion)/f)*h/g,c=l*p/g}e.isLocked||(e.offsetX-=s,e.offsetY-=c),t.isLocked||(t.offsetX+=s,t.offsetY+=c)}},nu=function(e,t,r,n){if(r>0)var i=e.maxX-t.minX;else i=t.maxX-e.minX;if(n>0)var a=e.maxY-t.minY;else a=t.maxY-e.minY;return i>=0&&a>=0?Math.sqrt(i*i+a*a):0},iu=function(e,t,r){var n=e.positionX,i=e.positionY,a=e.height||1,o=e.width||1,s=r/t,c=a/o,l={};return 0===t&&0<r||0===t&&0>r?(l.x=n,l.y=i+a/2,l):0<t&&-1*c<=s&&s<=c?(l.x=n+o/2,l.y=i+o*r/2/t,l):0>t&&-1*c<=s&&s<=c?(l.x=n-o/2,l.y=i-o*r/2/t,l):0<r&&(s<=-1*c||s>=c)?(l.x=n+a*t/2/r,l.y=i+a/2,l):0>r&&(s<=-1*c||s>=c)?(l.x=n-a*t/2/r,l.y=i-a/2,l):l},au=function(e,t){for(var r=0;r<e.edgeSize;r++){var n=e.layoutEdges[r],i=e.idToIndex[n.sourceId],a=e.layoutNodes[i],o=e.idToIndex[n.targetId],s=e.layoutNodes[o],c=s.positionX-a.positionX,l=s.positionY-a.positionY;if(0!==c||0!==l){var u=iu(a,c,l),d=iu(s,-1*c,-1*l),h=d.x-u.x,p=d.y-u.y,f=Math.sqrt(h*h+p*p),g=Math.pow(n.idealLength-f,2)/n.elasticity;if(0!==f)var y=g*h/f,m=g*p/f;else y=0,m=0;a.isLocked||(a.offsetX+=y,a.offsetY+=m),s.isLocked||(s.offsetX-=y,s.offsetY-=m)}}},ou=function(e,t){if(0!==t.gravity)for(var r=0;r<e.graphSet.length;r++){var n=e.graphSet[r],i=n.length;if(0===r)var a=e.clientHeight/2,o=e.clientWidth/2;else{var s=e.layoutNodes[e.idToIndex[n[0]]],c=e.layoutNodes[e.idToIndex[s.parentId]];a=c.positionX,o=c.positionY}for(var l=0;l<i;l++){var u=e.layoutNodes[e.idToIndex[n[l]]];if(!u.isLocked){var d=a-u.positionX,h=o-u.positionY,p=Math.sqrt(d*d+h*h);if(p>1){var f=t.gravity*d/p,g=t.gravity*h/p;u.offsetX+=f,u.offsetY+=g}}}}},su=function(e,t){var r=[],n=0,i=-1;for(r.push.apply(r,e.graphSet[0]),i+=e.graphSet[0].length;n<=i;){var a=r[n++],o=e.idToIndex[a],s=e.layoutNodes[o],c=s.children;if(0<c.length&&!s.isLocked){for(var l=s.offsetX,u=s.offsetY,d=0;d<c.length;d++){var h=e.layoutNodes[e.idToIndex[c[d]]];h.offsetX+=l,h.offsetY+=u,r[++i]=c[d]}s.offsetX=0,s.offsetY=0}}},cu=function(e,t){for(var r=0;r<e.nodeSize;r++){0<(i=e.layoutNodes[r]).children.length&&(i.maxX=void 0,i.minX=void 0,i.maxY=void 0,i.minY=void 0)}for(r=0;r<e.nodeSize;r++){if(!(0<(i=e.layoutNodes[r]).children.length||i.isLocked)){var n=lu(i.offsetX,i.offsetY,e.temperature);i.positionX+=n.x,i.positionY+=n.y,i.offsetX=0,i.offsetY=0,i.minX=i.positionX-i.width,i.maxX=i.positionX+i.width,i.minY=i.positionY-i.height,i.maxY=i.positionY+i.height,uu(i,e)}}for(r=0;r<e.nodeSize;r++){var i;0<(i=e.layoutNodes[r]).children.length&&!i.isLocked&&(i.positionX=(i.maxX+i.minX)/2,i.positionY=(i.maxY+i.minY)/2,i.width=i.maxX-i.minX,i.height=i.maxY-i.minY)}},lu=function(e,t,r){var n=Math.sqrt(e*e+t*t);if(n>r)var i={x:r*e/n,y:r*t/n};else i={x:e,y:t};return i},uu=function(e,t){var r=e.parentId;if(null!=r){var n=t.layoutNodes[t.idToIndex[r]],i=!1;return(null==n.maxX||e.maxX+n.padRight>n.maxX)&&(n.maxX=e.maxX+n.padRight,i=!0),(null==n.minX||e.minX-n.padLeft<n.minX)&&(n.minX=e.minX-n.padLeft,i=!0),(null==n.maxY||e.maxY+n.padBottom>n.maxY)&&(n.maxY=e.maxY+n.padBottom,i=!0),(null==n.minY||e.minY-n.padTop<n.minY)&&(n.minY=e.minY-n.padTop,i=!0),i?uu(n,t):void 0}},du=function(e,t){for(var r=e.layoutNodes,n=[],i=0;i<r.length;i++){var a=r[i],o=a.cmptId;(n[o]=n[o]||[]).push(a)}var s=0;for(i=0;i<n.length;i++){if(g=n[i]){g.x1=1/0,g.x2=-1/0,g.y1=1/0,g.y2=-1/0;for(var c=0;c<g.length;c++){var l=g[c];g.x1=Math.min(g.x1,l.positionX-l.width/2),g.x2=Math.max(g.x2,l.positionX+l.width/2),g.y1=Math.min(g.y1,l.positionY-l.height/2),g.y2=Math.max(g.y2,l.positionY+l.height/2)}g.w=g.x2-g.x1,g.h=g.y2-g.y1,s+=g.w*g.h}}n.sort(function(e,t){return t.w*t.h-e.w*e.h});var u=0,d=0,h=0,p=0,f=Math.sqrt(s)*e.clientWidth/e.clientHeight;for(i=0;i<n.length;i++){var g;if(g=n[i]){for(c=0;c<g.length;c++){(l=g[c]).isLocked||(l.positionX+=u-g.x1,l.positionY+=d-g.y1)}u+=g.w+t.componentSpacing,h+=g.w+t.componentSpacing,p=Math.max(p,g.h),h>f&&(d+=p+t.componentSpacing,u=0,h=0,p=0)}}},hu={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function pu(e){this.options=Ae({},hu,e)}pu.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,i=n.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var a=ur(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(0===a.h||0===a.w)n.nodes().layoutPositions(this,t,function(e){return{x:a.x1,y:a.y1}});else{var o=i.size(),s=Math.sqrt(o*a.h/a.w),c=Math.round(s),l=Math.round(a.w/a.h*s),u=function(e){if(null==e)return Math.min(c,l);Math.min(c,l)==c?c=e:l=e},d=function(e){if(null==e)return Math.max(c,l);Math.max(c,l)==c?c=e:l=e},h=t.rows,p=null!=t.cols?t.cols:t.columns;if(null!=h&&null!=p)c=h,l=p;else if(null!=h&&null==p)c=h,l=Math.ceil(o/c);else if(null==h&&null!=p)l=p,c=Math.ceil(o/l);else if(l*c>o){var f=u(),g=d();(f-1)*g>=o?u(f-1):(g-1)*f>=o&&d(g-1)}else for(;l*c<o;){var y=u(),m=d();(m+1)*y>=o?d(m+1):u(y+1)}var v=a.w/l,b=a.h/c;if(t.condense&&(v=0,b=0),t.avoidOverlap)for(var _=0;_<i.length;_++){var w=i[_],x=w._private.position;null!=x.x&&null!=x.y||(x.x=0,x.y=0);var S=w.layoutDimensions(t),T=t.avoidOverlapPadding,O=S.w+T,E=S.h+T;v=Math.max(v,O),b=Math.max(b,E)}for(var A={},P=function(e,t){return!!A["c-"+e+"-"+t]},N=function(e,t){A["c-"+e+"-"+t]=!0},j=0,D=0,R=function(){++D>=l&&(D=0,j++)},I={},F=0;F<i.length;F++){var C=i[F],M=t.position(C);if(M&&(void 0!==M.row||void 0!==M.col)){var k={row:M.row,col:M.col};if(void 0===k.col)for(k.col=0;P(k.row,k.col);)k.col++;else if(void 0===k.row)for(k.row=0;P(k.row,k.col);)k.row++;I[C.id()]=k,N(k.row,k.col)}}i.layoutPositions(this,t,function(e,t){var r,n;if(e.locked()||e.isParent())return!1;var i=I[e.id()];if(i)r=i.col*v+v/2+a.x1,n=i.row*b+b/2+a.y1;else{for(;P(j,D);)R();r=D*v+v/2+a.x1,n=j*b+b/2+a.y1,N(j,D),R()}return{x:r,y:n}})}return this};var fu={ready:function(){},stop:function(){}};function gu(e){this.options=Ae({},fu,e)}gu.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this},gu.prototype.stop=function(){return this};var yu={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function mu(e){this.options=Ae({},yu,e)}mu.prototype.run=function(){var e=this.options,t=e.eles.nodes(),r=ne(e.positions);return t.layoutPositions(this,e,function(t,n){var i=function(t){if(null==e.positions)return function(e){return{x:e.x,y:e.y}}(t.position());if(r)return e.positions(t);var n=e.positions[t._private.data.id];return null==n?null:n}(t);return!t.locked()&&null!=i&&i}),this};var vu={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function bu(e){this.options=Ae({},vu,e)}bu.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=ur(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return r.nodes().layoutPositions(this,e,function(e,t){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}}),this};var _u=[{name:"breadthfirst",impl:Bl},{name:"circle",impl:Vl},{name:"concentric",impl:Ql},{name:"cose",impl:Hl},{name:"grid",impl:pu},{name:"null",impl:gu},{name:"preset",impl:mu},{name:"random",impl:bu}];function wu(e){this.options=e,this.notifications=0}var xu=function(){},Su=function(){throw new Error("A headless instance can not render images")};wu.prototype={recalculateRenderedStyle:xu,notify:function(){this.notifications++},init:xu,isHeadless:function(){return!0},png:Su,jpg:Su};var Tu={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,r=function(e,t,r,n,i,a,o){var s=i.x-r/2-o,c=i.x+r/2+o,l=i.y-r/2-o,u=i.y+r/2+o;return s<=e&&e<=c&&l<=t&&t<=u},n=function(e,t,r,n,i){var a=e*Math.cos(n)-t*Math.sin(n),o=(e*Math.sin(n)+t*Math.cos(n))*r;return{x:a*r+i.x,y:o+i.y}},i=function(e,t,r,i){for(var a=[],o=0;o<e.length;o+=2){var s=e[o],c=e[o+1];a.push(n(s,c,t,r,i))}return a},a=function(e){for(var t=[],r=0;r<e.length;r++){var n=e[r];t.push(n.x,n.y)}return t},o=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},s=function(n,s){re(s)&&(s=e[s]),e[n]=Ae({name:n,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,r,n,o,s){var c=a(i(this.points,r+2*s,n,o));return Ar(e,t,c)},roughCollide:r,draw:function(e,r,n,a){var o=i(this.points,r,n,a);t.arrowShapeImpl("polygon")(e,o)},spacing:function(e){return 0},gap:o},s)};s("none",{collide:ut,roughCollide:ut,draw:ht,spacing:dt,gap:dt}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(e,r,a,o,s){var c=i(this.points,r,a,o),l=this.controlPoint,u=n(l[0],l[1],r,a,o);t.arrowShapeImpl(this.name)(e,c,u)},gap:function(e){return.8*o(e)}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,r,n,o,s,c){var l=a(i(this.points,r+2*c,n,o)),u=a(i(this.pointsTee,r+2*c,n,o));return Ar(e,t,l)||Ar(e,t,u)},draw:function(e,r,n,a,o){var s=i(this.points,r,n,a),c=i(this.pointsTee,r,n,a);t.arrowShapeImpl(this.name)(e,s,c)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(e,t,r,n,o,s,c){var l=o,u=Math.pow(l.x-e,2)+Math.pow(l.y-t,2)<=Math.pow((r+2*c)*this.radius,2),d=a(i(this.points,r+2*c,n,o));return Ar(e,t,d)||u},draw:function(e,r,n,a,o){var s=i(this.pointsTr,r,n,a);t.arrowShapeImpl(this.name)(e,s,a.x,a.y,this.radius*r)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var r=this.baseCrossLinePts.slice(),n=t/e;return r[3]=r[3]-n,r[5]=r[5]-n,r},collide:function(e,t,r,n,o,s,c){var l=a(i(this.points,r+2*c,n,o)),u=a(i(this.crossLinePts(r,s),r+2*c,n,o));return Ar(e,t,l)||Ar(e,t,u)},draw:function(e,r,n,a,o){var s=i(this.points,r,n,a),c=i(this.crossLinePts(r,o),r,n,a);t.arrowShapeImpl(this.name)(e,s,c)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*o(e)}}),s("circle",{radius:.15,collide:function(e,t,r,n,i,a,o){var s=i;return Math.pow(s.x-e,2)+Math.pow(s.y-t,2)<=Math.pow((r+2*o)*this.radius,2)},draw:function(e,r,n,i,a){t.arrowShapeImpl(this.name)(e,i.x,i.y,this.radius*r)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}},Ou={projectIntoViewport:function(e,t){var r=this.cy,n=this.findContainerClientCoords(),i=n[0],a=n[1],o=n[4],s=r.pan(),c=r.zoom();return[((e-i)/o-s.x)/c,((t-a)/o-s.y)/c]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),n=function(e){return parseFloat(r.getPropertyValue(e))},i=n("padding-left"),a=n("padding-right"),o=n("padding-top"),s=n("padding-bottom"),c=n("border-left-width"),l=n("border-right-width"),u=n("border-top-width"),d=(n("border-bottom-width"),e.clientWidth),h=e.clientHeight,p=i+a,f=o+s,g=c+l,y=t.width/(d+g),m=d-p,v=h-f,b=t.left+i+c,_=t.top+o+u;return this.containerBB=[b,_,m,v,y]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,r,n){return this.findNearestElements(e,t,r,n)[0]},findNearestElements:function(e,t,r,n){var i,a,o=this,s=this,c=s.getCachedZSortedEles(),l=[],u=s.cy.zoom(),d=s.cy.hasCompoundNodes(),h=(n?24:8)/u,p=(n?8:2)/u,f=(n?8:2)/u,g=1/0;function y(e,t){if(e.isNode()){if(a)return;a=e,l.push(e)}if(e.isEdge()&&(null==t||t<g))if(i){if(i.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&i.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var r=0;r<l.length;r++)if(l[r].isEdge()){l[r]=e,i=e,g=null!=t?t:g;break}}else l.push(e),i=e,g=null!=t?t:g}function m(r){var n=r.outerWidth()+2*p,i=r.outerHeight()+2*p,a=n/2,c=i/2,l=r.position(),u="auto"===r.pstyle("corner-radius").value?"auto":r.pstyle("corner-radius").pfValue,d=r._private.rscratch;if(l.x-a<=e&&e<=l.x+a&&l.y-c<=t&&t<=l.y+c&&s.nodeShapes[o.getNodeShape(r)].checkPoint(e,t,0,n,i,l.x,l.y,u,d))return y(r,0),!0}function v(r){var n,i=r._private,a=i.rscratch,c=r.pstyle("width").pfValue,u=r.pstyle("arrow-scale").value,p=c/2+h,f=p*p,g=2*p,v=i.source,b=i.target;if("segments"===a.edgeType||"straight"===a.edgeType||"haystack"===a.edgeType){for(var _=a.allpts,w=0;w+3<_.length;w+=2)if(Sr(e,t,_[w],_[w+1],_[w+2],_[w+3],g)&&f>(n=Er(e,t,_[w],_[w+1],_[w+2],_[w+3])))return y(r,n),!0}else if("bezier"===a.edgeType||"multibezier"===a.edgeType||"self"===a.edgeType||"compound"===a.edgeType)for(_=a.allpts,w=0;w+5<a.allpts.length;w+=4)if(Tr(e,t,_[w],_[w+1],_[w+2],_[w+3],_[w+4],_[w+5],g)&&f>(n=Or(e,t,_[w],_[w+1],_[w+2],_[w+3],_[w+4],_[w+5])))return y(r,n),!0;v=v||i.source,b=b||i.target;var x=o.getArrowWidth(c,u),S=[{name:"source",x:a.arrowStartX,y:a.arrowStartY,angle:a.srcArrowAngle},{name:"target",x:a.arrowEndX,y:a.arrowEndY,angle:a.tgtArrowAngle},{name:"mid-source",x:a.midX,y:a.midY,angle:a.midsrcArrowAngle},{name:"mid-target",x:a.midX,y:a.midY,angle:a.midtgtArrowAngle}];for(w=0;w<S.length;w++){var T=S[w],O=s.arrowShapes[r.pstyle(T.name+"-arrow-shape").value],E=r.pstyle("width").pfValue;if(O.roughCollide(e,t,x,T.angle,{x:T.x,y:T.y},E,h)&&O.collide(e,t,x,T.angle,{x:T.x,y:T.y},E,h))return y(r),!0}d&&l.length>0&&(m(v),m(b))}function b(e,t,r){return St(e,t,r)}function _(r,n){var i,a=r._private,o=f;i=n?n+"-":"",r.boundingBox();var s=a.labelBounds[n||"main"],c=r.pstyle(i+"label").value;if("yes"===r.pstyle("text-events").strValue&&c){var l=b(a.rscratch,"labelX",n),u=b(a.rscratch,"labelY",n),d=b(a.rscratch,"labelAngle",n),h=r.pstyle(i+"text-margin-x").pfValue,p=r.pstyle(i+"text-margin-y").pfValue,g=s.x1-o-h,m=s.x2+o-h,v=s.y1-o-p,_=s.y2+o-p;if(d){var w=Math.cos(d),x=Math.sin(d),S=function(e,t){return{x:(e-=l)*w-(t-=u)*x+l,y:e*x+t*w+u}},T=S(g,v),O=S(g,_),E=S(m,v),A=S(m,_),P=[T.x+h,T.y+p,E.x+h,E.y+p,A.x+h,A.y+p,O.x+h,O.y+p];if(Ar(e,t,P))return y(r),!0}else if(mr(s,e,t))return y(r),!0}}r&&(c=c.interactive);for(var w=c.length-1;w>=0;w--){var x=c[w];x.isNode()?m(x)||_(x):v(x)||_(x)||_(x,"source")||_(x,"target")}return l},getAllInBox:function(e,t,r,n){var i=this.getCachedZSortedEles().interactive,a=2/this.cy.zoom(),o=[],s=Math.min(e,r),c=Math.max(e,r),l=Math.min(t,n),u=Math.max(t,n),d=ur({x1:e=s,y1:t=l,x2:r=c,y2:n=u}),h=[{x:d.x1,y:d.y1},{x:d.x2,y:d.y1},{x:d.x2,y:d.y2},{x:d.x1,y:d.y2}],p=[[h[0],h[1]],[h[1],h[2]],[h[2],h[3]],[h[3],h[0]]];function f(e,t,r){return St(e,t,r)}function g(e,t){var r=e._private,n=a;e.boundingBox();var i=r.labelBounds.main;if(!i)return null;var o=f(r.rscratch,"labelX",t),s=f(r.rscratch,"labelY",t),c=f(r.rscratch,"labelAngle",t),l=e.pstyle("text-margin-x").pfValue,u=e.pstyle("text-margin-y").pfValue,d=i.x1-n-l,h=i.x2+n-l,p=i.y1-n-u,g=i.y2+n-u;if(c){var y=Math.cos(c),m=Math.sin(c),v=function(e,t){return{x:(e-=o)*y-(t-=s)*m+o,y:e*m+t*y+s}};return[v(d,p),v(h,p),v(h,g),v(d,g)]}return[{x:d,y:p},{x:h,y:p},{x:h,y:g},{x:d,y:g}]}function m(e,t,r,n){function i(e,t,r){return(r.y-e.y)*(t.x-e.x)>(t.y-e.y)*(r.x-e.x)}return i(e,r,n)!==i(t,r,n)&&i(e,t,r)!==i(e,t,n)}for(var v=0;v<i.length;v++){var b=i[v];if(b.isNode()){var _=b,w="yes"===_.pstyle("text-events").strValue,x=_.pstyle("box-selection").strValue,S="yes"===_.pstyle("box-select-labels").strValue;if("none"===x)continue;var T=("overlap"===x||S)&&w,O=_.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:T});if("contain"===x){var E=!1;if(S&&w){var A=g(_);A&&Qr(A,h)&&(o.push(_),E=!0)}!E&&br(d,O)&&o.push(_)}else if("overlap"===x&&yr(d,O)){var P=_.boundingBox({includeNodes:!0,includeEdges:!0,includeLabels:!1,includeMainLabels:!1,includeSourceLabels:!1,includeTargetLabels:!1});if(Qr([{x:P.x1,y:P.y1},{x:P.x2,y:P.y1},{x:P.x2,y:P.y2},{x:P.x1,y:P.y2}],h))o.push(_);else{var N=g(_);N&&Qr(N,h)&&o.push(_)}}}else{var j=b,D=j._private,R=D.rscratch,I=j.pstyle("box-selection").strValue;if("none"===I)continue;if("contain"===I){if(null!=R.startX&&null!=R.startY&&!mr(d,R.startX,R.startY))continue;if(null!=R.endX&&null!=R.endY&&!mr(d,R.endX,R.endY))continue;if("bezier"===R.edgeType||"multibezier"===R.edgeType||"self"===R.edgeType||"compound"===R.edgeType||"segments"===R.edgeType||"haystack"===R.edgeType){for(var F=D.rstyle.bezierPts||D.rstyle.linePts||D.rstyle.haystackPts,C=!0,M=0;M<F.length;M++)if(!vr(d,F[M])){C=!1;break}C&&o.push(j)}else"straight"===R.edgeType&&o.push(j)}else if("overlap"===I){var k=!1;if(null!=R.startX&&null!=R.startY&&null!=R.endX&&null!=R.endY&&(mr(d,R.startX,R.startY)||mr(d,R.endX,R.endY)))o.push(j),k=!0;else if(!k&&"haystack"===R.edgeType)for(var L=D.rstyle.haystackPts,B=0;B<L.length;B++)if(vr(d,L[B])){o.push(j),k=!0;break}if(!k){var U=D.rstyle.bezierPts||D.rstyle.linePts||D.rstyle.haystackPts;if((!U||U.length<2)&&"straight"===R.edgeType&&null!=R.startX&&null!=R.startY&&null!=R.endX&&null!=R.endY&&(U=[{x:R.startX,y:R.startY},{x:R.endX,y:R.endY}]),!U||U.length<2)continue;for(var V=0;V<U.length-1;V++){for(var z=U[V],q=U[V+1],Q=0;Q<p.length;Q++){var G=y(p[Q],2);if(m(z,q,G[0],G[1])){o.push(j),k=!0;break}}if(k)break}}}}}return o}},Eu={calculateArrowAngles:function(e){var t,r,n,i,a,o,s=e._private.rscratch,c="haystack"===s.edgeType,l="bezier"===s.edgeType,u="multibezier"===s.edgeType,d="segments"===s.edgeType,h="compound"===s.edgeType,p="self"===s.edgeType;if(c?(n=s.haystackPts[0],i=s.haystackPts[1],a=s.haystackPts[2],o=s.haystackPts[3]):(n=s.arrowStartX,i=s.arrowStartY,a=s.arrowEndX,o=s.arrowEndY),g=s.midX,y=s.midY,d)t=n-s.segpts[0],r=i-s.segpts[1];else if(u||h||p||l){var f=s.allpts;t=n-sr(f[0],f[2],f[4],.1),r=i-sr(f[1],f[3],f[5],.1)}else t=n-g,r=i-y;s.srcArrowAngle=tr(t,r);var g=s.midX,y=s.midY;if(c&&(g=(n+a)/2,y=(i+o)/2),t=a-n,r=o-i,d)if((f=s.allpts).length/2%2===0){var m=(O=f.length/2)-2;t=f[O]-f[m],r=f[O+1]-f[m+1]}else if(s.isRound)t=s.midVector[1],r=-s.midVector[0];else{m=(O=f.length/2-1)-2;t=f[O]-f[m],r=f[O+1]-f[m+1]}else if(u||h||p){var v,b,_,w,f=s.allpts;if(s.ctrlpts.length/2%2===0){var x=(S=(T=f.length/2-1)+2)+2;v=sr(f[T],f[S],f[x],0),b=sr(f[T+1],f[S+1],f[x+1],0),_=sr(f[T],f[S],f[x],1e-4),w=sr(f[T+1],f[S+1],f[x+1],1e-4)}else{var S,T;x=(S=f.length/2-1)+2;v=sr(f[T=S-2],f[S],f[x],.4999),b=sr(f[T+1],f[S+1],f[x+1],.4999),_=sr(f[T],f[S],f[x],.5),w=sr(f[T+1],f[S+1],f[x+1],.5)}t=_-v,r=w-b}if(s.midtgtArrowAngle=tr(t,r),s.midDispX=t,s.midDispY=r,t*=-1,r*=-1,d)if((f=s.allpts).length/2%2===0);else if(!s.isRound){var O,E=(O=f.length/2-1)+2;t=-(f[E]-f[O]),r=-(f[E+1]-f[O+1])}if(s.midsrcArrowAngle=tr(t,r),d)t=a-s.segpts[s.segpts.length-2],r=o-s.segpts[s.segpts.length-1];else if(u||h||p||l){var A=(f=s.allpts).length;t=a-sr(f[A-6],f[A-4],f[A-2],.9),r=o-sr(f[A-5],f[A-3],f[A-1],.9)}else t=a-g,r=o-y;s.tgtArrowAngle=tr(t,r)}};Eu.getArrowWidth=Eu.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[e+", "+t];return n||(n=Math.max(Math.pow(13.37*e,.9),29)*t,r[e+", "+t]=n,n)};var Au,Pu,Nu,ju,Du,Ru,Iu,Fu,Cu,Mu,ku,Lu,Bu,Uu,Vu,zu,qu,Qu={},Gu={},Hu=function(e,t,r){r.x=t.x-e.x,r.y=t.y-e.y,r.len=Math.sqrt(r.x*r.x+r.y*r.y),r.nx=r.x/r.len,r.ny=r.y/r.len,r.ang=Math.atan2(r.ny,r.nx)},Wu=function(e,t,r,n,i){var a,o;if(e!==qu?Hu(t,e,Qu):((o=Qu).x=-1*(a=Gu).x,o.y=-1*a.y,o.nx=-1*a.nx,o.ny=-1*a.ny,o.ang=a.ang>0?-(Math.PI-a.ang):Math.PI+a.ang),Hu(t,r,Gu),Nu=Qu.nx*Gu.ny-Qu.ny*Gu.nx,ju=Qu.nx*Gu.nx-Qu.ny*-Gu.ny,Iu=Math.asin(Math.max(-1,Math.min(1,Nu))),Math.abs(Iu)<1e-6)return Au=t.x,Pu=t.y,void(Cu=ku=0);Du=1,Ru=!1,ju<0?Iu<0?Iu=Math.PI+Iu:(Iu=Math.PI-Iu,Du=-1,Ru=!0):Iu>0&&(Du=-1,Ru=!0),ku=void 0!==t.radius?t.radius:n,Fu=Iu/2,Lu=Math.min(Qu.len/2,Gu.len/2),i?(Mu=Math.abs(Math.cos(Fu)*ku/Math.sin(Fu)))>Lu?(Mu=Lu,Cu=Math.abs(Mu*Math.sin(Fu)/Math.cos(Fu))):Cu=ku:(Mu=Math.min(Lu,ku),Cu=Math.abs(Mu*Math.sin(Fu)/Math.cos(Fu))),Vu=t.x+Gu.nx*Mu,zu=t.y+Gu.ny*Mu,Au=Vu-Gu.ny*Cu*Du,Pu=zu+Gu.nx*Cu*Du,Bu=t.x+Qu.nx*Mu,Uu=t.y+Qu.ny*Mu,qu=t};function Xu(e,t){0===t.radius?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function Ku(e,t,r,n){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];return 0===n||0===t.radius?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(Wu(e,t,r,n,i),{cx:Au,cy:Pu,radius:Cu,startX:Bu,startY:Uu,stopX:Vu,stopY:zu,startAngle:Qu.ang+Math.PI/2*Du,endAngle:Gu.ang-Math.PI/2*Du,counterClockwise:Ru})}var $u=.01,Yu=Math.sqrt(.02),Ju={};function Zu(e){var t=[];if(null!=e){for(var r=0;r<e.length;r+=2){var n=e[r],i=e[r+1];t.push({x:n,y:i})}return t}}Ju.findMidptPtsEtc=function(e,t){var r,n=t.posPts,i=t.intersectionPts,a=t.vectorNormInverse,o=e.pstyle("source-endpoint"),s=e.pstyle("target-endpoint"),c=null!=o.units&&null!=s.units;switch(e.pstyle("edge-distances").value){case"node-position":r=n;break;case"intersection":r=i;break;case"endpoints":if(c){var l=y(this.manualEndptToPx(e.source()[0],o),2),u=l[0],d=l[1],h=y(this.manualEndptToPx(e.target()[0],s),2),p=h[0],f=h[1],g={x1:u,y1:d,x2:p,y2:f};a=function(e,t,r,n){var i=n-t,a=r-e,o=Math.sqrt(a*a+i*i);return{x:-i/o,y:a/o}}(u,d,p,f),r=g}else gt("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),r=i}return{midptPts:r,vectorNormInverse:a}},Ju.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r._private,i=n.rscratch;if(!i.haystack){var a=2*Math.random()*Math.PI;i.source={x:Math.cos(a),y:Math.sin(a)},a=2*Math.random()*Math.PI,i.target={x:Math.cos(a),y:Math.sin(a)}}var o=n.source,s=n.target,c=o.position(),l=s.position(),u=o.width(),d=s.width(),h=o.height(),p=s.height(),f=r.pstyle("haystack-radius").value/2;i.haystackPts=i.allpts=[i.source.x*u*f+c.x,i.source.y*h*f+c.y,i.target.x*d*f+l.x,i.target.y*p*f+l.y],i.midX=(i.allpts[0]+i.allpts[2])/2,i.midY=(i.allpts[1]+i.allpts[3])/2,i.edgeType="haystack",i.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}},Ju.findSegmentsPoints=function(e,t){var r=e._private.rscratch,n=e.pstyle("segment-weights"),i=e.pstyle("segment-distances"),a=e.pstyle("segment-radii"),o=e.pstyle("radius-type"),s=Math.min(n.pfValue.length,i.pfValue.length),c=a.pfValue[a.pfValue.length-1],l=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var u=0;u<s;u++){var d=n.pfValue[u],h=i.pfValue[u],p=1-d,f=d,g=this.findMidptPtsEtc(e,t),y=g.midptPts,m=g.vectorNormInverse,v={x:y.x1*p+y.x2*f,y:y.y1*p+y.y2*f};r.segpts.push(v.x+m.x*h,v.y+m.y*h),r.radii.push(void 0!==a.pfValue[u]?a.pfValue[u]:c),r.isArcRadius.push("arc-radius"===(void 0!==o.pfValue[u]?o.pfValue[u]:l))}},Ju.findLoopPoints=function(e,t,r,n){var i=e._private.rscratch,a=t.dirCounts,o=t.srcPos,s=e.pstyle("control-point-distances"),c=s?s.pfValue[0]:void 0,l=e.pstyle("loop-direction").pfValue,u=e.pstyle("loop-sweep").pfValue,d=e.pstyle("control-point-step-size").pfValue;i.edgeType="self";var h=r,p=d;n&&(h=0,p=c);var f=l-Math.PI/2,g=f-u/2,y=f+u/2,m=String(l+"_"+u);h=void 0===a[m]?a[m]=0:++a[m],i.ctrlpts=[o.x+1.4*Math.cos(g)*p*(h/3+1),o.y+1.4*Math.sin(g)*p*(h/3+1),o.x+1.4*Math.cos(y)*p*(h/3+1),o.y+1.4*Math.sin(y)*p*(h/3+1)]},Ju.findCompoundLoopPoints=function(e,t,r,n){var i=e._private.rscratch;i.edgeType="compound";var a=t.srcPos,o=t.tgtPos,s=t.srcW,c=t.srcH,l=t.tgtW,u=t.tgtH,d=e.pstyle("control-point-step-size").pfValue,h=e.pstyle("control-point-distances"),p=h?h.pfValue[0]:void 0,f=r,g=d;n&&(f=0,g=p);var y={x:a.x-s/2,y:a.y-c/2},m={x:o.x-l/2,y:o.y-u/2},v={x:Math.min(y.x,m.x),y:Math.min(y.y,m.y)},b=Math.max(.5,Math.log(s*$u)),_=Math.max(.5,Math.log(l*$u));i.ctrlpts=[v.x,v.y-(1+Math.pow(50,1.12)/100)*g*(f/3+1)*b,v.x-(1+Math.pow(50,1.12)/100)*g*(f/3+1)*_,v.y]},Ju.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},Ju.findBezierPoints=function(e,t,r,n,i){var a=e._private.rscratch,o=e.pstyle("control-point-step-size").pfValue,s=e.pstyle("control-point-distances"),c=e.pstyle("control-point-weights"),l=s&&c?Math.min(s.value.length,c.value.length):1,u=s?s.pfValue[0]:void 0,d=c.value[0],h=n;a.edgeType=h?"multibezier":"bezier",a.ctrlpts=[];for(var p=0;p<l;p++){var f=(.5-t.eles.length/2+r)*o*(i?-1:1),g=void 0,y=nr(f);h&&(u=s?s.pfValue[p]:o,d=c.value[p]);var m=void 0!==(g=n?u:void 0!==u?y*u:void 0)?g:f,v=1-d,b=d,_=this.findMidptPtsEtc(e,t),w=_.midptPts,x=_.vectorNormInverse,S={x:w.x1*v+w.x2*b,y:w.y1*v+w.y2*b};a.ctrlpts.push(S.x+x.x*m,S.y+x.y*m)}},Ju.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var n="vertical",i="horizontal",a="leftward",o="rightward",s="downward",c="upward",l=t.posPts,u=t.srcW,d=t.srcH,h=t.tgtW,p=t.tgtH,f="node-position"!==e.pstyle("edge-distances").value,g=e.pstyle("taxi-direction").value,y=g,m=e.pstyle("taxi-turn"),v="%"===m.units,b=m.pfValue,_=b<0,w=e.pstyle("taxi-turn-min-distance").pfValue,x=f?(u+h)/2:0,S=f?(d+p)/2:0,T=l.x2-l.x1,O=l.y2-l.y1,E=function(e,t){return e>0?Math.max(e-t,0):Math.min(e+t,0)},A=E(T,x),P=E(O,S),N=!1;"auto"===y?g=Math.abs(A)>Math.abs(P)?i:n:y===c||y===s?(g=n,N=!0):y!==a&&y!==o||(g=i,N=!0);var j,D=g===n,R=D?P:A,I=D?O:T,F=nr(I),C=!1;(N&&(v||_)||!(y===s&&I<0||y===c&&I>0||y===a&&I>0||y===o&&I<0)||(R=(F*=-1)*Math.abs(R),C=!0),v)?j=(b<0?1+b:b)*R:j=(b<0?R:0)+b*F;var M=function(e){return Math.abs(e)<w||Math.abs(e)>=Math.abs(R)},k=M(j),L=M(Math.abs(R)-Math.abs(j));if((k||L)&&!C)if(D){var B=Math.abs(I)<=d/2,U=Math.abs(T)<=h/2;if(B){var V=(l.x1+l.x2)/2,z=l.y1,q=l.y2;r.segpts=[V,z,V,q]}else if(U){var Q=(l.y1+l.y2)/2,G=l.x1,H=l.x2;r.segpts=[G,Q,H,Q]}else r.segpts=[l.x1,l.y2]}else{var W=Math.abs(I)<=u/2,X=Math.abs(O)<=p/2;if(W){var K=(l.y1+l.y2)/2,$=l.x1,Y=l.x2;r.segpts=[$,K,Y,K]}else if(X){var J=(l.x1+l.x2)/2,Z=l.y1,ee=l.y2;r.segpts=[J,Z,J,ee]}else r.segpts=[l.x2,l.y1]}else if(D){var te=l.y1+j+(f?d/2*F:0),re=l.x1,ne=l.x2;r.segpts=[re,te,ne,te]}else{var ie=l.x1+j+(f?u/2*F:0),ae=l.y1,oe=l.y2;r.segpts=[ie,ae,ie,oe]}if(r.isRound){var se=e.pstyle("taxi-radius").value,ce="arc-radius"===e.pstyle("radius-type").value[0];r.radii=new Array(r.segpts.length/2).fill(se),r.isArcRadius=new Array(r.segpts.length/2).fill(ce)}},Ju.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if("bezier"===r.edgeType){var n=t.srcPos,i=t.tgtPos,a=t.srcW,o=t.srcH,s=t.tgtW,c=t.tgtH,l=t.srcShape,u=t.tgtShape,d=t.srcCornerRadius,h=t.tgtCornerRadius,p=t.srcRs,f=t.tgtRs,g=!oe(r.startX)||!oe(r.startY),y=!oe(r.arrowStartX)||!oe(r.arrowStartY),m=!oe(r.endX)||!oe(r.endY),v=!oe(r.arrowEndX)||!oe(r.arrowEndY),b=3*(this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth),_=ir({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),w=_<b,x=ir({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),S=x<b,T=!1;if(g||y||w){T=!0;var O={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},E=Math.sqrt(O.x*O.x+O.y*O.y),A={x:O.x/E,y:O.y/E},P=Math.max(a,o),N={x:r.ctrlpts[0]+2*A.x*P,y:r.ctrlpts[1]+2*A.y*P},j=l.intersectLine(n.x,n.y,a,o,N.x,N.y,0,d,p);w?(r.ctrlpts[0]=r.ctrlpts[0]+A.x*(b-_),r.ctrlpts[1]=r.ctrlpts[1]+A.y*(b-_)):(r.ctrlpts[0]=j[0]+A.x*b,r.ctrlpts[1]=j[1]+A.y*b)}if(m||v||S){T=!0;var D={x:r.ctrlpts[0]-i.x,y:r.ctrlpts[1]-i.y},R=Math.sqrt(D.x*D.x+D.y*D.y),I={x:D.x/R,y:D.y/R},F=Math.max(a,o),C={x:r.ctrlpts[0]+2*I.x*F,y:r.ctrlpts[1]+2*I.y*F},M=u.intersectLine(i.x,i.y,s,c,C.x,C.y,0,h,f);S?(r.ctrlpts[0]=r.ctrlpts[0]+I.x*(b-x),r.ctrlpts[1]=r.ctrlpts[1]+I.y*(b-x)):(r.ctrlpts[0]=M[0]+I.x*b,r.ctrlpts[1]=M[1]+I.y*b)}T&&this.findEndpoints(e)}},Ju.storeAllpts=function(e){var t=e._private.rscratch;if("multibezier"===t.edgeType||"bezier"===t.edgeType||"self"===t.edgeType||"compound"===t.edgeType){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);var n;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2===0?(n=t.allpts.length/2-1,t.midX=t.allpts[n],t.midY=t.allpts[n+1]):(n=t.allpts.length/2-3,t.midX=sr(t.allpts[n],t.allpts[n+2],t.allpts[n+4],.5),t.midY=sr(t.allpts[n+1],t.allpts[n+3],t.allpts[n+5],.5))}else if("straight"===t.edgeType)t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if("segments"===t.edgeType){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var i=2;i+3<t.allpts.length;i+=2){var a=t.radii[i/2-1],o=t.isArcRadius[i/2-1];t.roundCorners.push(Ku({x:t.allpts[i-2],y:t.allpts[i-1]},{x:t.allpts[i],y:t.allpts[i+1],radius:a},{x:t.allpts[i+2],y:t.allpts[i+3]},a,o))}}if(t.segpts.length%4===0){var s=t.segpts.length/2,c=s-2;t.midX=(t.segpts[c]+t.segpts[s])/2,t.midY=(t.segpts[c+1]+t.segpts[s+1])/2}else{var l=t.segpts.length/2-1;if(t.isRound){var u={x:t.segpts[l],y:t.segpts[l+1]},d=t.roundCorners[l/2];if(0===d.radius){var h={x:t.segpts[l+2],y:t.segpts[l+3]};t.midX=u.x,t.midY=u.y,t.midVector=[u.y-h.y,h.x-u.x]}else{var p=[u.x-d.cx,u.y-d.cy],f=d.radius/Math.sqrt(Math.pow(p[0],2)+Math.pow(p[1],2));p=p.map(function(e){return e*f}),t.midX=d.cx+p[0],t.midY=d.cy+p[1],t.midVector=p}}else t.midX=t.segpts[l],t.midY=t.segpts[l+1]}}},Ju.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||oe(t.startX)&&oe(t.startY)&&oe(t.endX)&&oe(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,gt("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},Ju.findEdgeControlPoints=function(e){var t=this;if(e&&0!==e.length){for(var r=this,n=r.cy.hasCompoundNodes(),i=new Ot,a=function(e,t){return[].concat(m(e),[t?1:0]).join("-")},o=[],s=[],c=0;c<e.length;c++){var l=e[c],u=l._private,d=l.pstyle("curve-style").value;if(!l.removed()&&l.takesUpSpace())if("haystack"!==d){var h="unbundled-bezier"===d||_e(d,"segments")||"straight"===d||"straight-triangle"===d||_e(d,"taxi"),p="unbundled-bezier"===d||"bezier"===d,f=u.source,g=u.target,y=[f.poolIndex(),g.poolIndex()].sort(),v=a(y,h),b=i.get(v);null==b&&(b={eles:[]},o.push({pairId:y,edgeIsUnbundled:h}),i.set(v,b)),b.eles.push(l),h&&(b.hasUnbundled=!0),p&&(b.hasBezier=!0)}else s.push(l)}for(var _=function(){var e,s=o[w],c=s.pairId,l=s.edgeIsUnbundled,u=a(c,l),d=i.get(u);if(!d.hasUnbundled){var h=d.eles[0].parallelEdges().filter(function(e){return e.isBundledBezier()});xt(d.eles),h.forEach(function(e){return d.eles.push(e)}),d.eles.sort(function(e,t){return e.poolIndex()-t.poolIndex()})}var p=d.eles[0],f=p.source(),g=p.target();if(f.poolIndex()>g.poolIndex()){var y=f;f=g,g=y}var m=d.srcPos=f.position(),v=d.tgtPos=g.position(),b=d.srcW=f.outerWidth(),_=d.srcH=f.outerHeight(),x=d.tgtW=g.outerWidth(),S=d.tgtH=g.outerHeight(),T=d.srcShape=r.nodeShapes[t.getNodeShape(f)],O=d.tgtShape=r.nodeShapes[t.getNodeShape(g)],E=d.srcCornerRadius="auto"===f.pstyle("corner-radius").value?"auto":f.pstyle("corner-radius").pfValue,A=d.tgtCornerRadius="auto"===g.pstyle("corner-radius").value?"auto":g.pstyle("corner-radius").pfValue,P=d.tgtRs=g._private.rscratch,N=d.srcRs=f._private.rscratch;d.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var j=0;j<d.eles.length;j++){var D=d.eles[j],R=D[0]._private.rscratch,I=D.pstyle("curve-style").value,F="unbundled-bezier"===I||_e(I,"segments")||_e(I,"taxi"),C=!f.same(D.source());if(!d.calculatedIntersection&&f!==g&&(d.hasBezier||d.hasUnbundled)){d.calculatedIntersection=!0;var M=T.intersectLine(m.x,m.y,b,_,v.x,v.y,0,E,N),k=d.srcIntn=M,L=O.intersectLine(v.x,v.y,x,S,m.x,m.y,0,A,P),B=d.tgtIntn=L,U=d.intersectionPts={x1:M[0],x2:L[0],y1:M[1],y2:L[1]},V=d.posPts={x1:m.x,x2:v.x,y1:m.y,y2:v.y},z=L[1]-M[1],q=L[0]-M[0],Q=Math.sqrt(q*q+z*z);oe(Q)&&Q>=Yu||(Q=Math.sqrt(Math.max(q*q,$u)+Math.max(z*z,$u)));var G=d.vector={x:q,y:z},H=d.vectorNorm={x:G.x/Q,y:G.y/Q},W={x:-H.y,y:H.x};d.nodesOverlap=!oe(Q)||O.checkPoint(M[0],M[1],0,x,S,v.x,v.y,A,P)||T.checkPoint(L[0],L[1],0,b,_,m.x,m.y,E,N),d.vectorNormInverse=W,e={nodesOverlap:d.nodesOverlap,dirCounts:d.dirCounts,calculatedIntersection:!0,hasBezier:d.hasBezier,hasUnbundled:d.hasUnbundled,eles:d.eles,srcPos:v,srcRs:P,tgtPos:m,tgtRs:N,srcW:x,srcH:S,tgtW:b,tgtH:_,srcIntn:B,tgtIntn:k,srcShape:O,tgtShape:T,posPts:{x1:V.x2,y1:V.y2,x2:V.x1,y2:V.y1},intersectionPts:{x1:U.x2,y1:U.y2,x2:U.x1,y2:U.y1},vector:{x:-G.x,y:-G.y},vectorNorm:{x:-H.x,y:-H.y},vectorNormInverse:{x:-W.x,y:-W.y}}}var X=C?e:d;R.nodesOverlap=X.nodesOverlap,R.srcIntn=X.srcIntn,R.tgtIntn=X.tgtIntn,R.isRound=I.startsWith("round"),n&&(f.isParent()||f.isChild()||g.isParent()||g.isChild())&&(f.parents().anySame(g)||g.parents().anySame(f)||f.same(g)&&f.isParent())?t.findCompoundLoopPoints(D,X,j,F):f===g?t.findLoopPoints(D,X,j,F):I.endsWith("segments")?t.findSegmentsPoints(D,X):I.endsWith("taxi")?t.findTaxiPoints(D,X):"straight"===I||!F&&d.eles.length%2===1&&j===Math.floor(d.eles.length/2)?t.findStraightEdgePoints(D):t.findBezierPoints(D,X,j,F,C),t.findEndpoints(D),t.tryToCorrectInvalidPoints(D,X),t.checkForInvalidEdgeWarning(D),t.storeAllpts(D),t.storeEdgeProjections(D),t.calculateArrowAngles(D),t.recalculateEdgeLabelProjections(D),t.calculateLabelAngles(D)}},w=0;w<o.length;w++)_();this.findHaystackPoints(s)}},Ju.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if(this.recalculateRenderedStyle(e),"segments"===t.edgeType)return Zu(t.segpts)},Ju.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if("bezier"===r||"multibezier"===r||"self"===r||"compound"===r)return Zu(t.ctrlpts)},Ju.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var ed={manualEndptToPx:function(e,t){var r=e.position(),n=e.outerWidth(),i=e.outerHeight(),a=e._private.rscratch;if(2===t.value.length){var o=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(o[0]=o[0]*n),"%"===t.units[1]&&(o[1]=o[1]*i),o[0]+=r.x,o[1]+=r.y,o}var s=t.pfValue[0];s=-Math.PI/2+s;var c=2*Math.max(n,i),l=[r.x+Math.cos(s)*c,r.y+Math.sin(s)*c];return this.nodeShapes[this.getNodeShape(e)].intersectLine(r.x,r.y,n,i,l[0],l[1],0,"auto"===e.pstyle("corner-radius").value?"auto":e.pstyle("corner-radius").pfValue,a)},findEndpoints:function(e){var t,r,n,i,a,o,s,c,l,u=this,d=e.source()[0],h=e.target()[0],p=d.position(),f=h.position(),g=e.pstyle("target-arrow-shape").value,y=e.pstyle("source-arrow-shape").value,m=e.pstyle("target-distance-from-node").pfValue,v=e.pstyle("source-distance-from-node").pfValue,b=d._private.rscratch,_=h._private.rscratch,w=e.pstyle("curve-style").value,x=e._private.rscratch,S=x.edgeType,T=_e(w,"taxi"),O="self"===S||"compound"===S,E="bezier"===S||"multibezier"===S||O,A="bezier"!==S,P="straight"===S||"segments"===S,N="segments"===S,j=E||A||P,D=O||T,R=e.pstyle("source-endpoint"),I=D?"outside-to-node":R.value,F="auto"===d.pstyle("corner-radius").value?"auto":d.pstyle("corner-radius").pfValue,C=e.pstyle("target-endpoint"),M=D?"outside-to-node":C.value,k="auto"===h.pstyle("corner-radius").value?"auto":h.pstyle("corner-radius").pfValue;x.srcManEndpt=R,x.tgtManEndpt=C;var L=null!==(t=2===(null===C||void 0===C||null===(r=C.pfValue)||void 0===r?void 0:r.length)?C.pfValue:null)&&void 0!==t?t:[0,0],B=null!==(n=2===(null===R||void 0===R||null===(i=R.pfValue)||void 0===i?void 0:i.length)?R.pfValue:null)&&void 0!==n?n:[0,0];if(E){var U=[x.ctrlpts[0],x.ctrlpts[1]];o=A?[x.ctrlpts[x.ctrlpts.length-2],x.ctrlpts[x.ctrlpts.length-1]]:U,s=U}else if(P){var V=N?x.segpts.slice(0,2):[f.x+L[0],f.y+L[1]];o=N?x.segpts.slice(x.segpts.length-2):[p.x+B[0],p.y+B[1]],s=V}if("inside-to-node"===M)a=[f.x,f.y];else if(C.units)a=this.manualEndptToPx(h,C);else if("outside-to-line"===M)a=x.tgtIntn;else if("outside-to-node"===M||"outside-to-node-or-label"===M?c=o:"outside-to-line"!==M&&"outside-to-line-or-label"!==M||(c=[p.x,p.y]),a=u.nodeShapes[this.getNodeShape(h)].intersectLine(f.x,f.y,h.outerWidth(),h.outerHeight(),c[0],c[1],0,k,_),"outside-to-node-or-label"===M||"outside-to-line-or-label"===M){var z=h._private.rscratch,q=z.labelWidth,Q=z.labelHeight,G=z.labelX,H=z.labelY,W=q/2,X=Q/2,K=h.pstyle("text-valign").value;"top"===K?H-=X:"bottom"===K&&(H+=X);var $=h.pstyle("text-halign").value;"left"===$?G-=W:"right"===$&&(G+=W);var Y=Mr(c[0],c[1],[G-W,H-X,G+W,H-X,G+W,H+X,G-W,H+X],f.x,f.y);if(Y.length>0){var J=p,Z=ar(J,er(a)),ee=ar(J,er(Y)),te=Z;if(ee<Z&&(a=Y,te=ee),Y.length>2)ar(J,{x:Y[2],y:Y[3]})<te&&(a=[Y[2],Y[3]])}}var re=kr(a,o,u.arrowShapes[g].spacing(e)+m),ne=kr(a,o,u.arrowShapes[g].gap(e)+m);if(x.endX=ne[0],x.endY=ne[1],x.arrowEndX=re[0],x.arrowEndY=re[1],"inside-to-node"===I)a=[p.x,p.y];else if(R.units)a=this.manualEndptToPx(d,R);else if("outside-to-line"===I)a=x.srcIntn;else if("outside-to-node"===I||"outside-to-node-or-label"===I?l=s:"outside-to-line"!==I&&"outside-to-line-or-label"!==I||(l=[f.x,f.y]),a=u.nodeShapes[this.getNodeShape(d)].intersectLine(p.x,p.y,d.outerWidth(),d.outerHeight(),l[0],l[1],0,F,b),"outside-to-node-or-label"===I||"outside-to-line-or-label"===I){var ie=d._private.rscratch,ae=ie.labelWidth,se=ie.labelHeight,ce=ie.labelX,le=ie.labelY,ue=ae/2,de=se/2,he=d.pstyle("text-valign").value;"top"===he?le-=de:"bottom"===he&&(le+=de);var pe=d.pstyle("text-halign").value;"left"===pe?ce-=ue:"right"===pe&&(ce+=ue);var fe=Mr(l[0],l[1],[ce-ue,le-de,ce+ue,le-de,ce+ue,le+de,ce-ue,le+de],p.x,p.y);if(fe.length>0){var ge=f,ye=ar(ge,er(a)),me=ar(ge,er(fe)),ve=ye;if(me<ye&&(a=[fe[0],fe[1]],ve=me),fe.length>2)ar(ge,{x:fe[2],y:fe[3]})<ve&&(a=[fe[2],fe[3]])}}var be=kr(a,s,u.arrowShapes[y].spacing(e)+v),we=kr(a,s,u.arrowShapes[y].gap(e)+v);x.startX=we[0],x.startY=we[1],x.arrowStartX=be[0],x.arrowStartY=be[1],j&&(oe(x.startX)&&oe(x.startY)&&oe(x.endX)&&oe(x.endY)?x.badLine=!1:x.badLine=!0)},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[0],y:t.haystackPts[1]}:{x:t.arrowStartX,y:t.arrowStartY}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),"haystack"===t.edgeType?{x:t.haystackPts[2],y:t.haystackPts[3]}:{x:t.arrowEndX,y:t.arrowEndY}}},td={};function rd(e,t,r){for(var n=function(e,t,r,n){return sr(e,t,r,n)},i=t._private.rstyle.bezierPts,a=0;a<e.bezierProjPcts.length;a++){var o=e.bezierProjPcts[a];i.push({x:n(r[0],r[2],r[4],o),y:n(r[1],r[3],r[5],o)})}}td.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,n=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===n||"bezier"===n||"self"===n||"compound"===n){t.rstyle.bezierPts=[];for(var i=0;i+5<r.allpts.length;i+=4)rd(this,e,r.allpts.slice(i,i+6))}else if("segments"===n){var a=t.rstyle.linePts=[];for(i=0;i+1<r.allpts.length;i+=2)a.push({x:r.allpts[i],y:r.allpts[i+1]})}else if("haystack"===n){var o=r.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},td.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var nd={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!pe(t)){var r,n,i=e._private,a=e.width(),o=e.height(),s=e.padding(),c=e.position(),l=e.pstyle("text-halign").strValue,u=e.pstyle("text-valign").strValue,d=i.rscratch,h=i.rstyle;switch(l){case"left":r=c.x-a/2-s;break;case"right":r=c.x+a/2+s;break;default:r=c.x}switch(u){case"top":n=c.y-o/2-s;break;case"bottom":n=c.y+o/2+s;break;default:n=c.y}d.labelX=r,d.labelY=n,h.labelX=r,h.labelY=n,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}}},id=function(e,t){var r=Math.atan(t/e);return 0===e&&r<0&&(r*=-1),r},ad=function(e,t){var r=t.x-e.x,n=t.y-e.y;return id(r,n)};nd.recalculateEdgeLabelProjections=function(e){var t,r=e._private,n=r.rscratch,i=this,a={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(a.mid||a.source||a.target){t={x:n.midX,y:n.midY};var o=function(e,t,n){Tt(r.rscratch,e,t,n),Tt(r.rstyle,e,t,n)};o("labelX",null,t.x),o("labelY",null,t.y);var s=id(n.midDispX,n.midDispY);o("labelAutoAngle",null,s);var c=function(){if(c.cache)return c.cache;for(var e=[],t=0;t+5<n.allpts.length;t+=4){var a={x:n.allpts[t],y:n.allpts[t+1]},o={x:n.allpts[t+2],y:n.allpts[t+3]},s={x:n.allpts[t+4],y:n.allpts[t+5]};e.push({p0:a,p1:o,p2:s,startDist:0,length:0,segments:[]})}var l=r.rstyle.bezierPts,u=i.bezierProjPcts.length;function d(e,t,r,n,i){var a=ir(t,r),o=e.segments[e.segments.length-1],s={p0:t,p1:r,t0:n,t1:i,startDist:o?o.startDist+o.length:0,length:a};e.segments.push(s),e.length+=a}for(var h=0;h<e.length;h++){var p=e[h],f=e[h-1];f&&(p.startDist=f.startDist+f.length),d(p,p.p0,l[h*u],0,i.bezierProjPcts[0]);for(var g=0;g<u-1;g++)d(p,l[h*u+g],l[h*u+g+1],i.bezierProjPcts[g],i.bezierProjPcts[g+1]);d(p,l[h*u+u-1],p.p2,i.bezierProjPcts[u-1],1)}return c.cache=e},l=function(r){var i,s="source"===r;if(a[r]){var l=e.pstyle(r+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var u,d=c(),h=0,p=0,f=0;f<d.length;f++){for(var g=d[s?f:d.length-1-f],y=0;y<g.segments.length;y++){var m=g.segments[s?y:g.segments.length-1-y],v=f===d.length-1&&y===g.segments.length-1;if(h=p,(p+=m.length)>=l||v){u={cp:g,segment:m};break}}if(u)break}var b=u.cp,_=u.segment,w=(l-h)/_.length,x=_.t1-_.t0,S=s?_.t0+x*w:_.t1-x*w;S=lr(0,S,1),t=cr(b.p0,b.p1,b.p2,S),i=function(e,t,r,n){var i=lr(0,n-.001,1),a=lr(0,n+.001,1),o=cr(e,t,r,i),s=cr(e,t,r,a);return ad(o,s)}(b.p0,b.p1,b.p2,S);break;case"straight":case"segments":case"haystack":for(var T,O,E,A,P=0,N=n.allpts.length,j=0;j+3<N&&(s?(E={x:n.allpts[j],y:n.allpts[j+1]},A={x:n.allpts[j+2],y:n.allpts[j+3]}):(E={x:n.allpts[N-2-j],y:n.allpts[N-1-j]},A={x:n.allpts[N-4-j],y:n.allpts[N-3-j]}),O=P,!((P+=T=ir(E,A))>=l));j+=2);var D=(l-O)/T;D=lr(0,D,1),t=function(e,t,r,n){var i=t.x-e.x,a=t.y-e.y,o=ir(e,t),s=i/o,c=a/o;return r=null==r?0:r,n=null!=n?n:r*o,{x:e.x+s*n,y:e.y+c*n}}(E,A,D),i=ad(E,A)}o("labelX",r,t.x),o("labelY",r,t.y),o("labelAutoAngle",r,i)}};l("source"),l("target"),this.applyLabelDimensions(e)}},nd.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},nd.applyPrefixedLabelDimensions=function(e,t){var r=e._private,n=this.getLabelText(e,t),i=tt(n,e._private.labelDimsKey);if(St(r.rscratch,"prefixedLabelDimsKey",t)!==i){Tt(r.rscratch,"prefixedLabelDimsKey",t,i);var a=this.calculateLabelDimensions(e,n),o=e.pstyle("line-height").pfValue,s=e.pstyle("text-wrap").strValue,c=St(r.rscratch,"labelWrapCachedLines",t)||[],l="wrap"!==s?1:Math.max(c.length,1),u=a.height/l,d=u*o,h=a.width,p=a.height+(l-1)*(o-1)*u;Tt(r.rstyle,"labelWidth",t,h),Tt(r.rscratch,"labelWidth",t,h),Tt(r.rstyle,"labelHeight",t,p),Tt(r.rscratch,"labelHeight",t,p),Tt(r.rscratch,"labelLineHeight",t,d)}},nd.getLabelText=function(e,t){var r=e._private,n=t?t+"-":"",i=e.pstyle(n+"label").strValue,a=e.pstyle("text-transform").value,o=function(e,n){return n?(Tt(r.rscratch,e,t,n),n):St(r.rscratch,e,t)};if(!i)return"";"none"==a||("uppercase"==a?i=i.toUpperCase():"lowercase"==a&&(i=i.toLowerCase()));var s=e.pstyle("text-wrap").value;if("wrap"===s){var c=o("labelKey");if(null!=c&&o("labelWrapKey")===c)return o("labelWrapCachedText");for(var l=i.split("\n"),u=e.pstyle("text-max-width").pfValue,d="anywhere"===e.pstyle("text-overflow-wrap").value,h=[],p=/[\s\u200b]+|$/g,g=0;g<l.length;g++){var y=l[g],m=this.calculateLabelDimensions(e,y).width;if(d){var v=y.split("").join("\u200b");y=v}if(m>u){var b,_="",w=0,x=f(y.matchAll(p));try{for(x.s();!(b=x.n()).done;){var S=b.value,T=S[0],O=y.substring(w,S.index);w=S.index+T.length;var E=0===_.length?O:_+O+T;this.calculateLabelDimensions(e,E).width<=u?_+=O+T:(_&&h.push(_),_=O+T)}}catch(D){x.e(D)}finally{x.f()}_.match(/^[\s\u200b]+$/)||h.push(_)}else h.push(y)}o("labelWrapCachedLines",h),i=o("labelWrapCachedText",h.join("\n")),o("labelWrapKey",c)}else if("ellipsis"===s){var A=e.pstyle("text-max-width").pfValue,P="",N=!1;if(this.calculateLabelDimensions(e,i).width<A)return i;for(var j=0;j<i.length;j++){if(this.calculateLabelDimensions(e,P+i[j]+"\u2026").width>A)break;P+=i[j],j===i.length-1&&(N=!0)}return N||(P+="\u2026"),P}return i},nd.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if("auto"!==t)return t;if(!e.isNode())return"center";switch(r){case"left":return"right";case"right":return"left";default:return"center"}},nd.calculateLabelDimensions=function(e,t){var r=this.cy.window().document,n=e.pstyle("font-style").strValue,i=e.pstyle("font-size").pfValue,a=e.pstyle("font-family").strValue,o=e.pstyle("font-weight").strValue,s=this.labelCalcCanvas,c=this.labelCalcCanvasContext;if(!s){s=this.labelCalcCanvas=r.createElement("canvas"),c=this.labelCalcCanvasContext=s.getContext("2d");var l=s.style;l.position="absolute",l.left="-9999px",l.top="-9999px",l.zIndex="-1",l.visibility="hidden",l.pointerEvents="none"}c.font="".concat(n," ").concat(o," ").concat(i,"px ").concat(a);for(var u=0,d=0,h=t.split("\n"),p=0;p<h.length;p++){var f=h[p],g=c.measureText(f),y=Math.ceil(g.width),m=i;u=Math.max(y,u),d+=m}return{width:u+=0,height:d+=0}},nd.calculateLabelAngle=function(e,t){var r=e._private.rscratch,n=e.isEdge(),i=t?t+"-":"",a=e.pstyle(i+"text-rotation"),o=a.strValue;return"none"===o?0:n&&"autorotate"===o?r.labelAutoAngle:"autorotate"===o?0:a.pfValue},nd.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),n=e._private.rscratch;n.labelAngle=t.calculateLabelAngle(e),r&&(n.sourceLabelAngle=t.calculateLabelAngle(e,"source"),n.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var od={},sd=!1;od.getNodeShape=function(e){var t=e.pstyle("shape").value;if("cutrectangle"===t&&(e.width()<28||e.height()<28))return sd||(gt("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),sd=!0),"rectangle";if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"round-rectangle"===t||"cutrectangle"===t||"cut-rectangle"===t||"barrel"===t?t:"rectangle";if("polygon"===t){var r=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(r).name}return t};var cd={registerCalculationListeners:function(){var e=this.cy,t=e.collection(),r=this,n=function(e){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.merge(e),r)for(var n=0;n<e.length;n++){var i=e[n]._private.rstyle;i.clean=!1,i.cleanConnected=!1}};r.binder(e).on("bounds.* dirty.*",function(e){var t=e.target;n(t)}).on("style.* background.*",function(e){var t=e.target;n(t,!1)});var i=function(i){if(i){var a=r.onUpdateEleCalcsFns;t.cleanStyle();for(var o=0;o<t.length;o++){var s=t[o],c=s._private.rstyle;s.isNode()&&!c.cleanConnected&&(n(s.connectedEdges()),c.cleanConnected=!0)}if(a)for(var l=0;l<a.length;l++){(0,a[l])(i,t)}r.recalculateRenderedStyle(t),t=e.collection()}};r.flushRenderedStyleQueue=function(){i(!0)},r.beforeRender(i,r.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var r=function(e){return e._private.rstyle.cleanConnected};if(0!==e.length){var n=[],i=[];if(!this.destroyed){void 0===t&&(t=!0);for(var a=0;a<e.length;a++){var o=e[a],s=o._private,c=s.rstyle;!o.isEdge()||r(o.source())&&r(o.target())||(c.clean=!1),o.isEdge()&&o.isBundledBezier()&&o.parallelEdges().some(function(e){return!e._private.rstyle.clean&&e.isBundledBezier()})&&(c.clean=!1),t&&c.clean||o.removed()||"none"!==o.pstyle("display").value&&("nodes"===s.group?i.push(o):n.push(o),c.clean=!0)}for(var l=0;l<i.length;l++){var u=i[l],d=u._private.rstyle,h=u.position();this.recalculateNodeLabelProjection(u),d.nodeX=h.x,d.nodeY=h.y,d.nodeW=u.pstyle("width").pfValue,d.nodeH=u.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var p=0;p<n.length;p++){var f=n[p]._private,g=f.rstyle,y=f.rscratch;g.srcX=y.arrowStartX,g.srcY=y.arrowStartY,g.tgtX=y.arrowEndX,g.tgtY=y.arrowEndY,g.midX=y.midX,g.midY=y.midY,g.labelAngle=y.labelAngle,g.sourceLabelAngle=y.sourceLabelAngle,g.targetLabelAngle=y.targetLabelAngle}}}}},ld={updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var n=(i=e[r])._private.rscratch;i.grabbed()&&!i.isParent()?t.push(i):n.inDragLayer?e.drag.push(i):e.nondrag.push(i)}for(r=0;r<t.length;r++){var i=t[r];e.drag.push(i)}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(Tc),t.interactive=t.filter(function(e){return e.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}},ud={};[Ou,Eu,Ju,ed,td,nd,od,cd,ld].forEach(function(e){Ae(ud,e)});var dd={getCachedImage:function(e,t,r){var n=this.imageCache=this.imageCache||{},i=n[e];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;var a=(i=n[e]=n[e]||{}).image=new Image;a.addEventListener("load",r),a.addEventListener("error",function(){a.error=!0});var o="data:";return e.substring(0,5).toLowerCase()===o||(t="null"===t?null:t,a.crossOrigin=t),a.src=e,a}},hd={registerBinding:function(e,t,r,n){var i=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var a=[],o=0;o<e.length;o++){var s=e[o];if(void 0!==s){var c=this.binder(s);a.push(c.on.apply(c,i))}}return a}return(c=this.binder(e)).on.apply(c,i)}};hd.binder=function(e){var t,r=this,n=r.cy.window(),i=e===n||e===n.document||e===n.document.body||(t=e,"undefined"!==typeof HTMLElement&&t instanceof HTMLElement);if(null==r.supportsPassiveEvents){var a=!1;try{var o=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});n.addEventListener("test",null,o)}catch(c){}r.supportsPassiveEvents=a}var s=function(t,n,a){var o=Array.prototype.slice.call(arguments);return i&&r.supportsPassiveEvents&&(o[2]={capture:null!=a&&a,passive:!1,once:!1}),r.bindings.push({target:e,args:o}),(e.addEventListener||e.on).apply(e,o),this};return{on:s,addEventListener:s,addListener:s,bind:s}},hd.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},hd.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()},hd.load=function(){var e=this,t=e.cy.window(),r=function(e){return e.selected()},n=function(t,r,n,i){null==t&&(t=e.cy);for(var a=0;a<r.length;a++){var o=r[a];t.emit({originalEvent:n,type:o,position:i})}},i=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},a=function(t,r){var n=!0;if(e.cy.hasCompoundNodes()&&t&&t.pannable())for(var i=0;r&&i<r.length;i++){if((t=r[i]).isNode()&&t.isParent()&&!t.pannable()){n=!1;break}}else n=!0;return n},o=function(e){e[0]._private.rscratch.inDragLayer=!0},s=function(e){e[0]._private.rscratch.isGrabTarget=!0},c=function(e,t){var r=t.addToList;r.has(e)||!e.grabbable()||e.locked()||(r.merge(e),function(e){e[0]._private.grabbed=!0}(e))},l=function(t,r){r=r||{};var n=t.cy().hasCompoundNodes();r.inDragLayer&&(t.forEach(o),t.neighborhood().stdFilter(function(e){return!n||e.isEdge()}).forEach(o)),r.addToList&&t.forEach(function(e){c(e,r)}),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var r=e.descendants();t.inDragLayer&&(r.forEach(o),r.connectedEdges().forEach(o)),t.addToList&&c(r,t)}}(t,r),h(t,{inDragLayer:r.inDragLayer}),e.updateCachedGrabbedEles()},u=l,d=function(t){t&&(e.getCachedZSortedEles().forEach(function(e){!function(e){e[0]._private.grabbed=!1}(e),function(e){e[0]._private.rscratch.inDragLayer=!1}(e),function(e){e[0]._private.rscratch.isGrabTarget=!1}(e)}),e.updateCachedGrabbedEles())},h=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var r=e.ancestors().orphans();if(!r.same(e)){var n=r.descendants().spawnSelf().merge(r).unmerge(e).unmerge(e.descendants()),i=n.connectedEdges();t.inDragLayer&&(i.forEach(o),n.forEach(o)),t.addToList&&n.forEach(function(e){c(e,t)})}}},p=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},f="undefined"!==typeof MutationObserver,g="undefined"!==typeof ResizeObserver;f?(e.removeObserver=new MutationObserver(function(t){for(var r=0;r<t.length;r++){var n=t[r].removedNodes;if(n)for(var i=0;i<n.length;i++){if(n[i]===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(t){e.destroy()});var y=Ve(function(){e.cy.resize()},100);f&&(e.styleObserver=new MutationObserver(y),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",y),g&&(e.resizeObserver=new ResizeObserver(y),e.resizeObserver.observe(e.container));var m=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,function(t){e.registerBinding(t,"transitionend",m),e.registerBinding(t,"animationend",m),e.registerBinding(t,"scroll",m)}),e.registerBinding(e.container,"contextmenu",function(e){e.preventDefault()});var v=function(t){for(var r=e.findContainerClientCoords(),n=r[0],i=r[1],a=r[2],o=r[3],s=t.touches?t.touches:[t],c=!1,l=0;l<s.length;l++){var u=s[l];if(n<=u.clientX&&u.clientX<=n+a&&i<=u.clientY&&u.clientY<=i+o){c=!0;break}}if(!c)return!1;for(var d=e.container,h=t.target.parentNode,p=!1;h;){if(h===d){p=!0;break}h=h.parentNode}return!!p};e.registerBinding(e.container,"mousedown",function(t){if(v(t)&&(1!==e.hoverData.which||1===t.which)){t.preventDefault(),p(),e.hoverData.capture=!0,e.hoverData.which=t.which;var r=e.cy,i=[t.clientX,t.clientY],a=e.projectIntoViewport(i[0],i[1]),o=e.selection,c=e.findNearestElements(a[0],a[1],!0,!1),d=c[0],h=e.dragData.possibleDragElements;e.hoverData.mdownPos=a,e.hoverData.mdownGPos=i;var f=function(e){return{originalEvent:t,type:e,position:{x:a[0],y:a[1]}}};if(3==t.which){e.hoverData.cxtStarted=!0;var g={originalEvent:t,type:"cxttapstart",position:{x:a[0],y:a[1]}};d?(d.activate(),d.emit(g),e.hoverData.down=d):r.emit(g),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==t.which){if(d&&d.activate(),null!=d&&e.nodeIsGrabbable(d)){if(s(d),d.selected()){h=e.dragData.possibleDragElements=r.collection();var y=r.$(function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)});l(y,{addToList:h}),d.emit(f("grabon")),y.forEach(function(e){e.emit(f("grab"))})}else h=e.dragData.possibleDragElements=r.collection(),u(d,{addToList:h}),d.emit(f("grabon")).emit(f("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=d,e.hoverData.downs=c,e.hoverData.downTime=(new Date).getTime(),n(d,["mousedown","tapstart","vmousedown"],t,{x:a[0],y:a[1]}),null==d?(o[4]=1,e.data.bgActivePosistion={x:a[0],y:a[1]},e.redrawHint("select",!0),e.redraw()):d.pannable()&&(o[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var t=e.hoverData.down;t?t.emit(f("taphold")):r.emit(f("taphold"))}},e.tapholdDuration)}o[0]=o[2]=a[0],o[1]=o[3]=a[1]}},!1);var b,_,w,x=function(e){var t=e.getRootNode();if(t&&11===t.nodeType&&void 0!==t.host)return t}(e.container);e.registerBinding([t,x],"mousemove",function(t){if(e.hoverData.capture||v(t)){var r=!1,o=e.cy,s=o.zoom(),c=[t.clientX,t.clientY],u=e.projectIntoViewport(c[0],c[1]),h=e.hoverData.mdownPos,p=e.hoverData.mdownGPos,f=e.selection,g=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(g=e.findNearestElement(u[0],u[1],!0,!1));var y,m=e.hoverData.last,b=e.hoverData.down,_=[u[0]-f[2],u[1]-f[3]],w=e.dragData.possibleDragElements;if(p){var x=c[0]-p[0],S=x*x,T=c[1]-p[1],O=S+T*T;e.hoverData.isOverThresholdDrag=y=O>=e.desktopTapThreshold2}var E=i(t);y&&(e.hoverData.tapholdCancelled=!0);r=!0,n(g,["mousemove","vmousemove","tapdrag"],t,{x:u[0],y:u[1]});var A=function(e){return{originalEvent:t,type:e,position:{x:u[0],y:u[1]}}},P=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||o.emit(A("boxstart")),f[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(y){var N=A("cxtdrag");b?b.emit(N):o.emit(N),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&g===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit(A("cxtdragout")),e.hoverData.cxtOver=g,g&&g.emit(A("cxtdragover")))}}else if(e.hoverData.dragging){if(r=!0,o.panningEnabled()&&o.userPanningEnabled()){var j;if(e.hoverData.justStartedPan){var D=e.hoverData.mdownPos;j={x:(u[0]-D[0])*s,y:(u[1]-D[1])*s},e.hoverData.justStartedPan=!1}else j={x:_[0]*s,y:_[1]*s};o.panBy(j),o.emit(A("dragpan")),e.hoverData.dragged=!0}u=e.projectIntoViewport(t.clientX,t.clientY)}else if(1!=f[4]||null!=b&&!b.pannable()){if(b&&b.pannable()&&b.active()&&b.unactivate(),b&&b.grabbed()||g==m||(m&&n(m,["mouseout","tapdragout"],t,{x:u[0],y:u[1]}),g&&n(g,["mouseover","tapdragover"],t,{x:u[0],y:u[1]}),e.hoverData.last=g),b)if(y){if(o.boxSelectionEnabled()&&E)b&&b.grabbed()&&(d(w),b.emit(A("freeon")),w.emit(A("free")),e.dragData.didDrag&&(b.emit(A("dragfreeon")),w.emit(A("dragfree")))),P();else if(b&&b.grabbed()&&e.nodeIsDraggable(b)){var R=!e.dragData.didDrag;R&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||l(w,{inDragLayer:!0});var I={x:0,y:0};if(oe(_[0])&&oe(_[1])&&(I.x+=_[0],I.y+=_[1],R)){var F=e.hoverData.dragDelta;F&&oe(F[0])&&oe(F[1])&&(I.x+=F[0],I.y+=F[1])}e.hoverData.draggingEles=!0,w.silentShift(I).emit(A("position")).emit(A("drag")),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(_[0]),t.push(_[1])):(t[0]+=_[0],t[1]+=_[1])}();r=!0}else if(y){if(e.hoverData.dragging||!o.boxSelectionEnabled()||!E&&o.panningEnabled()&&o.userPanningEnabled()){if(!e.hoverData.selecting&&o.panningEnabled()&&o.userPanningEnabled()){a(b,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,f[4]=0,e.data.bgActivePosistion=er(h),e.redrawHint("select",!0),e.redraw())}}else P();b&&b.pannable()&&b.active()&&b.unactivate()}return f[2]=u[0],f[3]=u[1],r?(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1):void 0}},!1),e.registerBinding(t,"mouseup",function(t){if((1!==e.hoverData.which||1===t.which||!e.hoverData.capture)&&e.hoverData.capture){e.hoverData.capture=!1;var a=e.cy,o=e.projectIntoViewport(t.clientX,t.clientY),s=e.selection,c=e.findNearestElement(o[0],o[1],!0,!1),l=e.dragData.possibleDragElements,u=e.hoverData.down,h=i(t);e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,u&&u.unactivate();var p=function(e){return{originalEvent:t,type:e,position:{x:o[0],y:o[1]}}};if(3===e.hoverData.which){var f=p("cxttapend");if(u?u.emit(f):a.emit(f),!e.hoverData.cxtDragged){var g=p("cxttap");u?u.emit(g):a.emit(g)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(n(c,["mouseup","tapend","vmouseup"],t,{x:o[0],y:o[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||(n(u,["click","tap","vclick"],t,{x:o[0],y:o[1]}),_=!1,t.timeStamp-w<=a.multiClickDebounceTime()?(b&&clearTimeout(b),_=!0,w=null,n(u,["dblclick","dbltap","vdblclick"],t,{x:o[0],y:o[1]})):(b=setTimeout(function(){_||n(u,["oneclick","onetap","voneclick"],t,{x:o[0],y:o[1]})},a.multiClickDebounceTime()),w=t.timeStamp)),null!=u||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||i(t)||(a.$(r).unselect(["tapunselect"]),l.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=l=a.collection()),c!=u||e.dragData.didDrag||e.hoverData.selecting||null!=c&&c._private.selectable&&(e.hoverData.dragging||("additive"===a.selectionType()||h?c.selected()?c.unselect(["tapunselect"]):c.select(["tapselect"]):h||(a.$(r).unmerge(c).unselect(["tapunselect"]),c.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var y=a.collection(e.getAllInBox(s[0],s[1],s[2],s[3]));e.redrawHint("select",!0),y.length>0&&e.redrawHint("eles",!0),a.emit(p("boxend"));var m=function(e){return e.selectable()&&!e.selected()};"additive"===a.selectionType()||h||a.$(r).unmerge(y).unselect(),y.emit(p("box")).stdFilter(m).select().emit(p("boxselect")),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!s[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var v=u&&u.grabbed();d(l),v&&(u.emit(p("freeon")),l.emit(p("free")),e.dragData.didDrag&&(u.emit(p("dragfreeon")),l.emit(p("dragfree"))))}}s[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}},!1);var S,T,O,E,A,P,N,j,D,R,I,F,C,M,k=[],L=1e5,B=function(t){var r=!1,n=t.deltaY;if(null==n&&(null!=t.wheelDeltaY?n=t.wheelDeltaY/4:null!=t.wheelDelta&&(n=t.wheelDelta/4)),0!==n){if(null==S)if(k.length>=4){var i=k;if(S=function(e,t){for(var r=0;r<e.length;r++)if(e[r]%t!==0)return!1;return!0}(i,5),!S){var a=Math.abs(i[0]);S=function(e){for(var t=Math.abs(e[0]),r=1;r<e.length;r++)if(Math.abs(e[r])!==t)return!1;return!0}(i)&&a>5}if(S)for(var o=0;o<i.length;o++)L=Math.min(Math.abs(i[o]),L)}else k.push(n),r=!0;else S&&(L=Math.min(Math.abs(n),L));if(!e.scrollingPage){var s=e.cy,c=s.zoom(),l=s.pan(),u=e.projectIntoViewport(t.clientX,t.clientY),d=[u[0]*c+l.x,u[1]*c+l.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||0!==e.selection[4])t.preventDefault();else if(s.panningEnabled()&&s.userPanningEnabled()&&s.zoomingEnabled()&&s.userZoomingEnabled()){var h;t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150),r&&Math.abs(n)>5&&(n=5*nr(n)),h=n/-250,S&&(h/=L,h*=3),h*=e.wheelSensitivity,1===t.deltaMode&&(h*=33);var p=s.zoom()*Math.pow(10,h);"gesturechange"===t.type&&(p=e.gestureStartZoom*t.scale),s.zoom({level:p,renderedPosition:{x:d[0],y:d[1]}}),s.emit({type:"gesturechange"===t.type?"pinchzoom":"scrollzoom",originalEvent:t,position:{x:u[0],y:u[1]}})}}}};e.registerBinding(e.container,"wheel",B,!0),e.registerBinding(t,"scroll",function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(t){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||t.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(t){e.hasTouchStarted||B(t)},!0),e.registerBinding(e.container,"mouseout",function(t){var r=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:r[0],y:r[1]}})},!1),e.registerBinding(e.container,"mouseover",function(t){var r=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:r[0],y:r[1]}})},!1);var U,V,z,q,Q,G,H,W=function(e,t,r,n){return Math.sqrt((r-e)*(r-e)+(n-t)*(n-t))},X=function(e,t,r,n){return(r-e)*(r-e)+(n-t)*(n-t)};if(e.registerBinding(e.container,"touchstart",U=function(t){if(e.hasTouchStarted=!0,v(t)){p(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var r=e.cy,i=e.touchData.now,a=e.touchData.earlier;if(t.touches[0]){var o=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);i[0]=o[0],i[1]=o[1]}if(t.touches[1]){o=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);i[2]=o[0],i[3]=o[1]}if(t.touches[2]){o=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);i[4]=o[0],i[5]=o[1]}var c=function(e){return{originalEvent:t,type:e,position:{x:i[0],y:i[1]}}};if(t.touches[1]){e.touchData.singleTouchMoved=!0,d(e.dragData.touchDragEles);var h=e.findContainerClientCoords();R=h[0],I=h[1],F=h[2],C=h[3],T=t.touches[0].clientX-R,O=t.touches[0].clientY-I,E=t.touches[1].clientX-R,A=t.touches[1].clientY-I,M=0<=T&&T<=F&&0<=E&&E<=F&&0<=O&&O<=C&&0<=A&&A<=C;var f=r.pan(),g=r.zoom();P=W(T,O,E,A),N=X(T,O,E,A),D=[((j=[(T+E)/2,(O+A)/2])[0]-f.x)/g,(j[1]-f.y)/g];if(N<4e4&&!t.touches[2]){var y=e.findNearestElement(i[0],i[1],!0,!0),m=e.findNearestElement(i[2],i[3],!0,!0);return y&&y.isNode()?(y.activate().emit(c("cxttapstart")),e.touchData.start=y):m&&m.isNode()?(m.activate().emit(c("cxttapstart")),e.touchData.start=m):r.emit(c("cxttapstart")),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(t.touches[2])r.boxSelectionEnabled()&&t.preventDefault();else if(t.touches[1]);else if(t.touches[0]){var b=e.findNearestElements(i[0],i[1],!0,!0),_=b[0];if(null!=_&&(_.activate(),e.touchData.start=_,e.touchData.starts=b,e.nodeIsGrabbable(_))){var w=e.dragData.touchDragEles=r.collection(),x=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),_.selected()?(x=r.$(function(t){return t.selected()&&e.nodeIsGrabbable(t)}),l(x,{addToList:w})):u(_,{addToList:w}),s(_),_.emit(c("grabon")),x?x.forEach(function(e){e.emit(c("grab"))}):_.emit(c("grab"))}n(_,["touchstart","tapstart","vmousedown"],t,{x:i[0],y:i[1]}),null==_&&(e.data.bgActivePosistion={x:o[0],y:o[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||n(e.touchData.start,["taphold"],t,{x:i[0],y:i[1]})},e.tapholdDuration)}if(t.touches.length>=1){for(var S=e.touchData.startPosition=[null,null,null,null,null,null],k=0;k<i.length;k++)S[k]=a[k]=i[k];var L=t.touches[0];e.touchData.startGPosition=[L.clientX,L.clientY]}}},!1),e.registerBinding(t,"touchmove",V=function(t){var r=e.touchData.capture;if(r||v(t)){var i=e.selection,o=e.cy,s=e.touchData.now,c=e.touchData.earlier,u=o.zoom();if(t.touches[0]){var h=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=h[0],s[1]=h[1]}if(t.touches[1]){h=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);s[2]=h[0],s[3]=h[1]}if(t.touches[2]){h=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);s[4]=h[0],s[5]=h[1]}var p,f=function(e){return{originalEvent:t,type:e,position:{x:s[0],y:s[1]}}},g=e.touchData.startGPosition;if(r&&t.touches[0]&&g){for(var y=[],m=0;m<s.length;m++)y[m]=s[m]-c[m];var b=t.touches[0].clientX-g[0],_=b*b,w=t.touches[0].clientY-g[1];p=_+w*w>=e.touchTapThreshold2}if(r&&e.touchData.cxt){t.preventDefault();var x=t.touches[0].clientX-R,S=t.touches[0].clientY-I,j=t.touches[1].clientX-R,F=t.touches[1].clientY-I,C=X(x,S,j,F);if(C/N>=2.25||C>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var k=f("cxttapend");e.touchData.start?(e.touchData.start.unactivate().emit(k),e.touchData.start=null):o.emit(k)}}if(r&&e.touchData.cxt){k=f("cxtdrag");e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(k):o.emit(k),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var L=e.findNearestElement(s[0],s[1],!0,!0);e.touchData.cxtOver&&L===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit(f("cxtdragout")),e.touchData.cxtOver=L,L&&L.emit(f("cxtdragover")))}else if(r&&t.touches[2]&&o.boxSelectionEnabled())t.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||o.emit(f("boxstart")),e.touchData.selecting=!0,e.touchData.didSelect=!0,i[4]=1,i&&0!==i.length&&void 0!==i[0]?(i[2]=(s[0]+s[2]+s[4])/3,i[3]=(s[1]+s[3]+s[5])/3):(i[0]=(s[0]+s[2]+s[4])/3,i[1]=(s[1]+s[3]+s[5])/3,i[2]=(s[0]+s[2]+s[4])/3+1,i[3]=(s[1]+s[3]+s[5])/3+1),e.redrawHint("select",!0),e.redraw();else if(r&&t.touches[1]&&!e.touchData.didSelect&&o.zoomingEnabled()&&o.panningEnabled()&&o.userZoomingEnabled()&&o.userPanningEnabled()){if(t.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),ee=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var B=0;B<ee.length;B++){var U=ee[B]._private;U.grabbed=!1,U.rscratch.inDragLayer=!1}}var V=e.touchData.start,z=(x=t.touches[0].clientX-R,S=t.touches[0].clientY-I,j=t.touches[1].clientX-R,F=t.touches[1].clientY-I,W(x,S,j,F)),q=z/P;if(M){var Q=(x-T+(j-E))/2,G=(S-O+(F-A))/2,H=o.zoom(),K=H*q,$=o.pan(),Y=D[0]*H+$.x,J=D[1]*H+$.y,Z={x:-K/H*(Y-$.x-Q)+Y,y:-K/H*(J-$.y-G)+J};if(V&&V.active()){var ee=e.dragData.touchDragEles;d(ee),e.redrawHint("drag",!0),e.redrawHint("eles",!0),V.unactivate().emit(f("freeon")),ee.emit(f("free")),e.dragData.didDrag&&(V.emit(f("dragfreeon")),ee.emit(f("dragfree")))}o.viewport({zoom:K,pan:Z,cancelOnFailedZoom:!0}),o.emit(f("pinchzoom")),P=z,T=x,O=S,E=j,A=F,e.pinching=!0}if(t.touches[0]){h=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=h[0],s[1]=h[1]}if(t.touches[1]){h=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);s[2]=h[0],s[3]=h[1]}if(t.touches[2]){h=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);s[4]=h[0],s[5]=h[1]}}else if(t.touches[0]&&!e.touchData.didSelect){var te=e.touchData.start,re=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(L=e.findNearestElement(s[0],s[1],!0,!0)),r&&null!=te&&t.preventDefault(),r&&null!=te&&e.nodeIsDraggable(te))if(p){ee=e.dragData.touchDragEles;var ne=!e.dragData.didDrag;ne&&l(ee,{inDragLayer:!0}),e.dragData.didDrag=!0;var ie={x:0,y:0};if(oe(y[0])&&oe(y[1]))if(ie.x+=y[0],ie.y+=y[1],ne)e.redrawHint("eles",!0),(ae=e.touchData.dragDelta)&&oe(ae[0])&&oe(ae[1])&&(ie.x+=ae[0],ie.y+=ae[1]);e.hoverData.draggingEles=!0,ee.silentShift(ie).emit(f("position")).emit(f("drag")),e.redrawHint("drag",!0),e.touchData.startPosition[0]==c[0]&&e.touchData.startPosition[1]==c[1]&&e.redrawHint("eles",!0),e.redraw()}else{var ae;0===(ae=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(ae.push(y[0]),ae.push(y[1])):(ae[0]+=y[0],ae[1]+=y[1])}if(n(te||L,["touchmove","tapdrag","vmousemove"],t,{x:s[0],y:s[1]}),te&&te.grabbed()||L==re||(re&&re.emit(f("tapdragout")),L&&L.emit(f("tapdragover"))),e.touchData.last=L,r)for(B=0;B<s.length;B++)s[B]&&e.touchData.startPosition[B]&&p&&(e.touchData.singleTouchMoved=!0);if(r&&(null==te||te.pannable())&&o.panningEnabled()&&o.userPanningEnabled()){a(te,e.touchData.starts)&&(t.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=er(e.touchData.startPosition)),e.swipePanning?(o.panBy({x:y[0]*u,y:y[1]*u}),o.emit(f("dragpan"))):p&&(e.swipePanning=!0,o.panBy({x:b*u,y:w*u}),o.emit(f("dragpan")),te&&(te.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));h=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);s[0]=h[0],s[1]=h[1]}}for(m=0;m<s.length;m++)c[m]=s[m];r&&t.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&null!=e.data.bgActivePosistion&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1),e.registerBinding(t,"touchcancel",z=function(t){var r=e.touchData.start;e.touchData.capture=!1,r&&r.unactivate()}),e.registerBinding(t,"touchend",q=function(t){var i=e.touchData.start;if(e.touchData.capture){0===t.touches.length&&(e.touchData.capture=!1),t.preventDefault();var a=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var o=e.cy,s=o.zoom(),c=e.touchData.now,l=e.touchData.earlier;if(t.touches[0]){var u=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);c[0]=u[0],c[1]=u[1]}if(t.touches[1]){u=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY);c[2]=u[0],c[3]=u[1]}if(t.touches[2]){u=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY);c[4]=u[0],c[5]=u[1]}var h,p=function(e){return{originalEvent:t,type:e,position:{x:c[0],y:c[1]}}};if(i&&i.unactivate(),e.touchData.cxt){if(h=p("cxttapend"),i?i.emit(h):o.emit(h),!e.touchData.cxtDragged){var f=p("cxttap");i?i.emit(f):o.emit(f)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!t.touches[2]&&o.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var g=o.collection(e.getAllInBox(a[0],a[1],a[2],a[3]));a[0]=void 0,a[1]=void 0,a[2]=void 0,a[3]=void 0,a[4]=0,e.redrawHint("select",!0),o.emit(p("boxend"));g.emit(p("box")).stdFilter(function(e){return e.selectable()&&!e.selected()}).select().emit(p("boxselect")),g.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=i&&i.unactivate(),t.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(t.touches[1]);else if(t.touches[0]);else if(!t.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var y=e.dragData.touchDragEles;if(null!=i){var m=i._private.grabbed;d(y),e.redrawHint("drag",!0),e.redrawHint("eles",!0),m&&(i.emit(p("freeon")),y.emit(p("free")),e.dragData.didDrag&&(i.emit(p("dragfreeon")),y.emit(p("dragfree")))),n(i,["touchend","tapend","vmouseup","tapdragout"],t,{x:c[0],y:c[1]}),i.unactivate(),e.touchData.start=null}else{var v=e.findNearestElement(c[0],c[1],!0,!0);n(v,["touchend","tapend","vmouseup","tapdragout"],t,{x:c[0],y:c[1]})}var b=e.touchData.startPosition[0]-c[0],_=b*b,w=e.touchData.startPosition[1]-c[1],x=(_+w*w)*s*s;e.touchData.singleTouchMoved||(i||o.$(":selected").unselect(["tapunselect"]),n(i,["tap","vclick"],t,{x:c[0],y:c[1]}),Q=!1,t.timeStamp-H<=o.multiClickDebounceTime()?(G&&clearTimeout(G),Q=!0,H=null,n(i,["dbltap","vdblclick"],t,{x:c[0],y:c[1]})):(G=setTimeout(function(){Q||n(i,["onetap","voneclick"],t,{x:c[0],y:c[1]})},o.multiClickDebounceTime()),H=t.timeStamp)),null!=i&&!e.dragData.didDrag&&i._private.selectable&&x<e.touchTapThreshold2&&!e.pinching&&("single"===o.selectionType()?(o.$(r).unmerge(i).unselect(["tapunselect"]),i.select(["tapselect"])):i.selected()?i.unselect(["tapunselect"]):i.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var S=0;S<c.length;S++)l[S]=c[S];e.dragData.didDrag=!1,0===t.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),t.touches.length<2&&(1===t.touches.length&&(e.touchData.startGPosition=[t.touches[0].clientX,t.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"===typeof TouchEvent){var K=[],$=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},Y=function(e){K.push(function(e){return{event:e,touch:$(e)}}(e))},J=function(e){for(var t=0;t<K.length;t++){if(K[t].event.pointerId===e.pointerId)return void K.splice(t,1)}},Z=function(e){e.touches=K.map(function(e){return e.touch})},ee=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",function(e){ee(e)||(e.preventDefault(),Y(e),Z(e),U(e))}),e.registerBinding(e.container,"pointerup",function(e){ee(e)||(J(e),Z(e),q(e))}),e.registerBinding(e.container,"pointercancel",function(e){ee(e)||(J(e),Z(e),z())}),e.registerBinding(e.container,"pointermove",function(e){ee(e)||(e.preventDefault(),function(e){var t=K.filter(function(t){return t.event.pointerId===e.pointerId})[0];t.event=e,t.touch=$(e)}(e),Z(e),V(e))})}};var pd={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,r,n,i,a){this.renderer.nodeShapeImpl("polygon",e,t,r,n,i,this.points)},intersectLine:function(e,t,r,n,i,a,o,s){return Mr(i,a,this.points,e,t,r/2,n/2,o)},checkPoint:function(e,t,r,n,i,a,o,s){return Pr(e,t,this.points,a,o,n,i,[0,-1],r)},hasMiterBounds:"rectangle"!==e,miterBounds:function(e,t,r,n,i,a){return wr(this.points,e,t,r,n,i)}}}};pd.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},intersectLine:function(e,t,r,n,i,a,o,s){return function(e,t,r,n,i,a){var o=r-e,s=n-t;o/=i,s/=a;var c=Math.sqrt(o*o+s*s),l=c-1;if(l<0)return[];var u=l/c;return[(r-e)*u+e,(n-t)*u+t]}(i,a,e,t,r/2+o,n/2+o)},checkPoint:function(e,t,r,n,i,a,o,s){return Dr(e,t,n,i,a,o,r)}}},pd.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(e,r,n,i,a,o,s){if(void 0!==o[s]&&o[s+"-cx"]===e&&o[s+"-cy"]===r)return o[s];o[s]=new Array(t.length/2),o[s+"-cx"]=e,o[s+"-cy"]=r;var c=n/2,l=i/2;a="auto"===a?zr(n,i):a;for(var u=new Array(t.length/2),d=0;d<t.length/2;d++)u[d]={x:e+c*t[2*d],y:r+l*t[2*d+1]};var h,p,f,g,y=u.length;for(p=u[y-1],h=0;h<y;h++)f=u[h%y],g=u[(h+1)%y],o[s][h]=Ku(p,f,g,a),p=f,f=g;return o[s]},draw:function(e,t,r,n,i,a,o){this.renderer.nodeShapeImpl("round-polygon",e,t,r,n,i,this.points,this.getOrCreateCorners(t,r,n,i,a,o,"drawCorners"))},intersectLine:function(e,t,r,n,i,a,o,s,c){return function(e,t,r,n,i,a,o,s,c){var l,u=[],d=new Array(2*r.length);c.forEach(function(r,a){0===a?(d[d.length-2]=r.startX,d[d.length-1]=r.startY):(d[4*a-2]=r.startX,d[4*a-1]=r.startY),d[4*a]=r.stopX,d[4*a+1]=r.stopY,0!==(l=Rr(e,t,n,i,r.cx,r.cy,r.radius)).length&&u.push(l[0],l[1])});for(var h=0;h<d.length/4;h++)0!==(l=Fr(e,t,n,i,d[4*h],d[4*h+1],d[4*h+2],d[4*h+3],!1)).length&&u.push(l[0],l[1]);if(u.length>2){for(var p=[u[0],u[1]],f=Math.pow(p[0]-e,2)+Math.pow(p[1]-t,2),g=1;g<u.length/2;g++){var y=Math.pow(u[2*g]-e,2)+Math.pow(u[2*g+1]-t,2);y<=f&&(p[0]=u[2*g],p[1]=u[2*g+1],f=y)}return p}return u}(i,a,this.points,e,t,0,0,0,this.getOrCreateCorners(e,t,r,n,s,c,"corners"))},checkPoint:function(e,t,r,n,i,a,o,s,c){return function(e,t,r,n,i,a,o,s){for(var c=new Array(2*r.length),l=0;l<s.length;l++){var u=s[l];if(c[4*l+0]=u.startX,c[4*l+1]=u.startY,c[4*l+2]=u.stopX,c[4*l+3]=u.stopY,Math.pow(u.cx-e,2)+Math.pow(u.cy-t,2)<=Math.pow(u.radius,2))return!0}return Ar(e,t,c)}(e,t,this.points,0,0,0,0,this.getOrCreateCorners(a,o,n,i,s,c,"corners"))}}},pd.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:Lr(4,0),draw:function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i,this.points,a)},intersectLine:function(e,t,r,n,i,a,o,s){return xr(i,a,e,t,r,n,o,s)},checkPoint:function(e,t,r,n,i,a,o,s){var c=n/2,l=i/2;s="auto"===s?Vr(n,i):s;var u=2*(s=Math.min(c,l,s));return!!Pr(e,t,this.points,a,o,n,i-u,[0,-1],r)||(!!Pr(e,t,this.points,a,o,n-u,i,[0,-1],r)||(!!Dr(e,t,u,u,a-c+s,o-l+s,r)||(!!Dr(e,t,u,u,a+c-s,o-l+s,r)||(!!Dr(e,t,u,u,a+c-s,o+l-s,r)||!!Dr(e,t,u,u,a-c+s,o+l-s,r)))))}}},pd.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:Lr(4,0),draw:function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i,null,a)},generateCutTrianglePts:function(e,t,r,n,i){var a="auto"===i?this.cornerLength:i,o=t/2,s=e/2,c=r-s,l=r+s,u=n-o,d=n+o;return{topLeft:[c,u+a,c+a,u,c+a,u+a],topRight:[l-a,u,l,u+a,l-a,u+a],bottomRight:[l,d-a,l-a,d,l-a,d-a],bottomLeft:[c+a,d,c,d-a,c+a,d-a]}},intersectLine:function(e,t,r,n,i,a,o,s){var c=this.generateCutTrianglePts(r+2*o,n+2*o,e,t,s),l=[].concat.apply([],[c.topLeft.splice(0,4),c.topRight.splice(0,4),c.bottomRight.splice(0,4),c.bottomLeft.splice(0,4)]);return Mr(i,a,l,e,t)},checkPoint:function(e,t,r,n,i,a,o,s){var c="auto"===s?this.cornerLength:s;if(Pr(e,t,this.points,a,o,n,i-2*c,[0,-1],r))return!0;if(Pr(e,t,this.points,a,o,n-2*c,i,[0,-1],r))return!0;var l=this.generateCutTrianglePts(n,i,a,o);return Ar(e,t,l.topLeft)||Ar(e,t,l.topRight)||Ar(e,t,l.bottomRight)||Ar(e,t,l.bottomLeft)}}},pd.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:Lr(4,0),draw:function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i)},intersectLine:function(e,t,r,n,i,a,o,s){var c=this.generateBarrelBezierPts(r+2*o,n+2*o,e,t),l=function(e){var t=cr({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),r=cr({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),n=cr({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,r.x,r.y,n.x,n.y,e[4],e[5]]},u=[].concat(l(c.topLeft),l(c.topRight),l(c.bottomRight),l(c.bottomLeft));return Mr(i,a,u,e,t)},generateBarrelBezierPts:function(e,t,r,n){var i=t/2,a=e/2,o=r-a,s=r+a,c=n-i,l=n+i,u=qr(e,t),d=u.heightOffset,h=u.widthOffset,p=u.ctrlPtOffsetPct*e,f={topLeft:[o,c+d,o+p,c,o+h,c],topRight:[s-h,c,s-p,c,s,c+d],bottomRight:[s,l-d,s-p,l,s-h,l],bottomLeft:[o+h,l,o+p,l,o,l-d]};return f.topLeft.isTop=!0,f.topRight.isTop=!0,f.bottomLeft.isBottom=!0,f.bottomRight.isBottom=!0,f},checkPoint:function(e,t,r,n,i,a,o,s){var c=qr(n,i),l=c.heightOffset,u=c.widthOffset;if(Pr(e,t,this.points,a,o,n,i-2*l,[0,-1],r))return!0;if(Pr(e,t,this.points,a,o,n-2*u,i,[0,-1],r))return!0;for(var d=this.generateBarrelBezierPts(n,i,a,o),h=function(e,t,r){var n,i,a=r[4],o=r[2],s=r[0],c=r[5],l=r[1],u=Math.min(a,s),d=Math.max(a,s),h=Math.min(c,l),p=Math.max(c,l);if(u<=e&&e<=d&&h<=t&&t<=p){var f=[(n=a)-2*(i=o)+s,2*(i-n),n],g=function(e,t,r,n){var i=t*t-4*e*(r-=n);if(i<0)return[];var a=Math.sqrt(i),o=2*e;return[(-t+a)/o,(-t-a)/o]}(f[0],f[1],f[2],e),y=g.filter(function(e){return 0<=e&&e<=1});if(y.length>0)return y[0]}return null},p=Object.keys(d),f=0;f<p.length;f++){var g=d[p[f]],y=h(e,t,g);if(null!=y){var m=g[5],v=g[3],b=g[1],_=sr(m,v,b,y);if(g.isTop&&_<=t)return!0;if(g.isBottom&&t<=_)return!0}}return!1}}},pd.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:Lr(4,0),draw:function(e,t,r,n,i,a){this.renderer.nodeShapeImpl(this.name,e,t,r,n,i,this.points,a)},intersectLine:function(e,t,r,n,i,a,o,s){var c=t-(n/2+o),l=Fr(i,a,e,t,e-(r/2+o),c,e+(r/2+o),c,!1);return l.length>0?l:xr(i,a,e,t,r,n,o,s)},checkPoint:function(e,t,r,n,i,a,o,s){var c=2*(s="auto"===s?Vr(n,i):s);if(Pr(e,t,this.points,a,o,n,i-c,[0,-1],r))return!0;if(Pr(e,t,this.points,a,o,n-c,i,[0,-1],r))return!0;var l=n/2+2*r,u=i/2+2*r;return!!Ar(e,t,[a-l,o-u,a-l,o,a+l,o,a+l,o-u])||(!!Dr(e,t,c,c,a+n/2-s,o+i/2-s,r)||!!Dr(e,t,c,c,a-n/2+s,o+i/2-s,r))}}},pd.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",Lr(3,0)),this.generateRoundPolygon("round-triangle",Lr(3,0)),this.generatePolygon("rectangle",Lr(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r),this.generatePolygon("pentagon",Lr(5,0)),this.generateRoundPolygon("round-pentagon",Lr(5,0)),this.generatePolygon("hexagon",Lr(6,0)),this.generateRoundPolygon("round-hexagon",Lr(6,0)),this.generatePolygon("heptagon",Lr(7,0)),this.generateRoundPolygon("round-heptagon",Lr(7,0)),this.generatePolygon("octagon",Lr(8,0)),this.generateRoundPolygon("round-octagon",Lr(8,0));var n=new Array(20),i=Ur(5,0),a=Ur(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<a.length/2;s++)a[2*s]*=o,a[2*s+1]*=o;for(s=0;s<5;s++)n[4*s]=i[2*s],n[4*s+1]=i[2*s+1],n[4*s+2]=a[2*s],n[4*s+3]=a[2*s+1];n=Br(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var c=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",c),this.generateRoundPolygon("round-tag",c),e.makePolygon=function(e){var r,n="polygon-"+e.join("$");return(r=this[n])?r:t.generatePolygon(n,e)}};var fd={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||bt();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){null==t&&pt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(e,t){return t.priority-e.priority})}}},gd=function(e,t,r){for(var n=e.beforeRenderCallbacks,i=0;i<n.length;i++)n[i].fn(t,r)};fd.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var r=function(n){if(!e.destroyed){if(t.batching());else if(e.requestedFrame&&!e.skipFrame){gd(e,!0,n);var i=He();e.render(e.renderOptions);var a=e.lastDrawTime=He();void 0===e.averageRedrawTime&&(e.averageRedrawTime=a-i),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var o=a-i;e.redrawTotalTime+=o,e.lastRedrawTime=o,e.averageRedrawTime=e.averageRedrawTime/2+o/2,e.requestedFrame=!1}else gd(e,!1,n);e.skipFrame=!1,Ge(r)}};Ge(r)}};var yd=function(e){this.init(e)},md=yd.prototype;md.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],md.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),n=t.cy.window();if(n){var i=n.document,a=i.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",c=null!=i.getElementById(o);if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!c){var l=i.createElement("style");l.id=o,l.textContent="."+s+" { position: relative; }",a.insertBefore(l,a.children[0])}"static"===n.getComputedStyle(r).getPropertyValue("position")&&gt("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.webgl=e.webgl,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=oe(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},md.notify=function(e,t){var r=this,n=r.cy;this.destroyed||("init"!==e?"destroy"!==e?(("add"===e||"remove"===e||"move"===e&&n.hasCompoundNodes()||"load"===e||"zorder"===e||"mount"===e)&&r.invalidateCachedZSortedEles(),"viewport"===e&&r.redrawHint("select",!0),"gc"===e&&r.redrawHint("gc",!0),"load"!==e&&"resize"!==e&&"mount"!==e||(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):r.destroy():r.load())},md.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],n=r.target;(n.off||n.removeEventListener).apply(n,r.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(i){}},md.isHeadless=function(){return!1},[Tu,ud,dd,hd,pd,fd].forEach(function(e){Ae(md,e)});var vd=1e3/60,bd=function(e){return function(){var t=this,r=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var n=Ve(function(){r.redrawHint("eles",!0),r.redrawHint("drag",!0),r.redraw()},e.deqRedrawThreshold),i=e.priority||ht;r.beforeRender(function(i,a){var o=He(),s=r.averageRedrawTime,c=r.lastRedrawTime,l=[],u=r.cy.extent(),d=r.getPixelRatio();for(i||r.flushRenderedStyleQueue();;){var h=He(),p=h-o,f=h-a;if(c<vd){var g=vd-(i?s:0);if(f>=e.deqFastCost*g)break}else if(i){if(p>=e.deqCost*c||p>=e.deqAvgCost*s)break}else if(f>=e.deqNoDrawCost*vd)break;var y=e.deq(t,d,u);if(!(y.length>0))break;for(var m=0;m<y.length;m++)l.push(y[m])}l.length>0&&(e.onDeqd(t,l),!i&&e.shouldRedraw(t,l,d,u)&&n())},i(t))}}},_d=function(){return p(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ut;h(this,e),this.idsByKey=new Ot,this.keyForId=new Ot,this.cachesByLvl=new Ot,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r},[{key:"getIdsFor",value:function(e){null==e&&pt("Can not get id list for null key");var t=this.idsByKey,r=this.idsByKey.get(e);return r||(r=new At,t.set(e,r)),r}},{key:"addIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).add(t)}},{key:"deleteIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).delete(t)}},{key:"getNumberOfIdsForKey",value:function(e){return null==e?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var t=e.id(),r=this.keyForId.get(t),n=this.getKey(e);this.deleteIdForKey(r,t),this.addIdForKey(n,t),this.keyForId.set(t,n)}},{key:"deleteKeyMappingFor",value:function(e){var t=e.id(),r=this.keyForId.get(t);this.deleteIdForKey(r,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(e){var t=e.id();return this.keyForId.get(t)!==this.getKey(e)}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var t=this.cachesByLvl,r=this.lvls,n=t.get(e);return n||(n=new Ot,t.set(e,n),r.push(e)),n}},{key:"getCache",value:function(e,t){return this.getCachesAt(t).get(e)}},{key:"get",value:function(e,t){var r=this.getKey(e),n=this.getCache(r,t);return null!=n&&this.updateKeyMappingFor(e),n}},{key:"getForCachedKey",value:function(e,t){var r=this.keyForId.get(e.id());return this.getCache(r,t)}},{key:"hasCache",value:function(e,t){return this.getCachesAt(t).has(e)}},{key:"has",value:function(e,t){var r=this.getKey(e);return this.hasCache(r,t)}},{key:"setCache",value:function(e,t,r){r.key=e,this.getCachesAt(t).set(e,r)}},{key:"set",value:function(e,t,r){var n=this.getKey(e);this.setCache(n,t,r),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,t){this.getCachesAt(t).delete(e)}},{key:"delete",value:function(e,t){var r=this.getKey(e);this.deleteCache(r,t)}},{key:"invalidateKey",value:function(e){var t=this;this.lvls.forEach(function(r){return t.deleteCache(e,r)})}},{key:"invalidate",value:function(e){var t=e.id(),r=this.keyForId.get(t);this.deleteKeyMappingFor(e);var n=this.doesEleInvalidateKey(e);return n&&this.invalidateKey(r),n||0===this.getNumberOfIdsForKey(r)}}])}(),wd=7.99,xd={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Sd=_t({getKey:null,doesEleInvalidateKey:ut,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:lt,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Td=function(e,t){var r=this;r.renderer=e,r.onDequeues=[];var n=Sd(t);Ae(r,n),r.lookup=new _d(n.getKey,n.doesEleInvalidateKey),r.setupDequeueing()},Od=Td.prototype;Od.reasons=xd,Od.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]},Od.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},Od.getElementQueue=function(){var e=this.eleCacheQueue=this.eleCacheQueue||new Lt(function(e,t){return t.reqs-e.reqs});return e},Od.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Od.getElement=function(e,t,r,n,i){var a=this,o=this.renderer,s=o.cy.zoom(),c=this.lookup;if(!t||0===t.w||0===t.h||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed())return null;if(!a.allowEdgeTxrCaching&&e.isEdge()||!a.allowParentTxrCaching&&e.isParent())return null;if(null==n&&(n=Math.ceil(rr(s*r))),n<-4)n=-4;else if(s>=7.99||n>3)return null;var l=Math.pow(2,n),u=t.h*l,d=t.w*l,h=o.eleTextBiggerThanMin(e,l);if(!this.isVisible(e,h))return null;var p,f=c.get(e,n);if(f&&f.invalidated&&(f.invalidated=!1,f.texture.invalidatedWidth-=f.width),f)return f;if(p=u<=25?25:u<=50?50:50*Math.ceil(u/50),u>1024||d>1024)return null;var g=a.getTextureQueue(p),y=g[g.length-2],m=function(){return a.recycleTexture(p,d)||a.addTexture(p,d)};y||(y=g[g.length-1]),y||(y=m()),y.width-y.usedWidth<d&&(y=m());for(var v,b=function(e){return e&&e.scaledLabelShown===h},_=i&&i===xd.dequeue,w=i&&i===xd.highQuality,x=i&&i===xd.downscale,S=n+1;S<=3;S++){var T=c.get(e,S);if(T){v=T;break}}var O=v&&v.level===n+1?v:null,E=function(){y.context.drawImage(O.texture.canvas,O.x,0,O.width,O.height,y.usedWidth,0,d,u)};if(y.context.setTransform(1,0,0,1,0,0),y.context.clearRect(y.usedWidth,0,d,p),b(O))E();else if(b(v)){if(!w)return a.queueElement(e,v.level-1),v;for(var A=v.level;A>n;A--)O=a.getElement(e,t,r,A,xd.downscale);E()}else{var P;if(!_&&!w&&!x)for(var N=n-1;N>=-4;N--){var j=c.get(e,N);if(j){P=j;break}}if(b(P))return a.queueElement(e,n),P;y.context.translate(y.usedWidth,0),y.context.scale(l,l),this.drawElement(y.context,e,t,h,!1),y.context.scale(1/l,1/l),y.context.translate(-y.usedWidth,0)}return f={x:y.usedWidth,texture:y,level:n,scale:l,width:d,height:u,scaledLabelShown:h},y.usedWidth+=Math.ceil(d+8),y.eleCaches.push(f),c.set(e,n,f),a.checkTextureFullness(y),f},Od.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},Od.invalidateElement=function(e){var t=this,r=t.lookup,n=[];if(r.isInvalid(e)){for(var i=-4;i<=3;i++){var a=r.getForCachedKey(e,i);a&&n.push(a)}if(r.invalidate(e))for(var o=0;o<n.length;o++){var s=n[o],c=s.texture;c.invalidatedWidth+=s.width,s.invalidated=!0,t.checkTextureUtility(c)}t.removeFromQueue(e)}},Od.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},Od.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?wt(t,e):e.fullnessChecks++},Od.retireTexture=function(e){var t=e.height,r=this.getTextureQueue(t),n=this.lookup;wt(r,e),e.retired=!0;for(var i=e.eleCaches,a=0;a<i.length;a++){var o=i[a];n.deleteCache(o.key,o.level)}xt(i),this.getRetiredTextureQueue(t).push(e)},Od.addTexture=function(e,t){var r={};return this.getTextureQueue(e).push(r),r.eleCaches=[],r.height=e,r.width=Math.max(1024,t),r.usedWidth=0,r.invalidatedWidth=0,r.fullnessChecks=0,r.canvas=this.renderer.makeOffscreenCanvas(r.width,r.height),r.context=r.canvas.getContext("2d"),r},Od.recycleTexture=function(e,t){for(var r=this.getTextureQueue(e),n=this.getRetiredTextureQueue(e),i=0;i<n.length;i++){var a=n[i];if(a.width>=t)return a.retired=!1,a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,xt(a.eleCaches),a.context.setTransform(1,0,0,1,0,0),a.context.clearRect(0,0,a.width,a.height),wt(n,a),r.push(a),a}},Od.queueElement=function(e,t){var r=this.getElementQueue(),n=this.getElementKeyToQueue(),i=this.getKey(e),a=n[i];if(a)a.level=Math.max(a.level,t),a.eles.merge(e),a.reqs++,r.updateItem(a);else{var o={eles:e.spawn().merge(e),level:t,reqs:1,key:i};r.push(o),n[i]=o}},Od.dequeue=function(e){for(var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),i=[],a=t.lookup,o=0;o<1&&r.size()>0;o++){var s=r.pop(),c=s.key,l=s.eles[0],u=a.hasCache(l,s.level);if(n[c]=null,!u){i.push(s);var d=t.getBoundingBox(l);t.getElement(l,d,e,s.level,xd.dequeue)}}return i},Od.removeFromQueue=function(e){var t=this.getElementQueue(),r=this.getElementKeyToQueue(),n=this.getKey(e),i=r[n];null!=i&&(1===i.eles.length?(i.reqs=ct,t.updateItem(i),t.pop(),r[n]=null):i.eles.unmerge(e))},Od.onDequeue=function(e){this.onDequeues.push(e)},Od.offDequeue=function(e){wt(this.onDequeues,e)},Od.setupDequeueing=bd({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,r){return e.dequeue(t,r)},onDeqd:function(e,t){for(var r=0;r<e.onDequeues.length;r++){(0,e.onDequeues[r])(t)}},shouldRedraw:function(e,t,r,n){for(var i=0;i<t.length;i++)for(var a=t[i].eles,o=0;o<a.length;o++){var s=a[o].boundingBox();if(yr(s,n))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var Ed=function(e){var t=this,r=t.renderer=e,n=r.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=He()-500,t.skipping=!1,t.eleTxrDeqs=n.collection(),t.scheduleElementRefinement=Ve(function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)},50),r.beforeRender(function(e,r){r-t.lastInvalidationTime<=250?t.skipping=!0:t.skipping=!1},r.beforeRenderPriorities.lyrTxrSkip);t.layersQueue=new Lt(function(e,t){return t.reqs-e.reqs}),t.setupDequeueing()},Ad=Ed.prototype,Pd=0,Nd=Math.pow(2,53)-1;Ad.makeLayer=function(e,t){var r=Math.pow(2,t),n=Math.ceil(e.w*r),i=Math.ceil(e.h*r),a=this.renderer.makeOffscreenCanvas(n,i),o={id:Pd=++Pd%Nd,bb:e,level:t,width:n,height:i,canvas:a,context:a.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,c=-o.bb.x1,l=-o.bb.y1;return s.scale(r,r),s.translate(c,l),o},Ad.getLayers=function(e,t,r){var n=this,i=n.renderer.cy.zoom(),a=n.firstGet;if(n.firstGet=!1,null==r)if((r=Math.ceil(rr(i*t)))<-4)r=-4;else if(i>=3.99||r>2)return null;n.validateLayersElesOrdering(r,e);var o,s,c=n.layersByLevel,l=Math.pow(2,r),u=c[r]=c[r]||[];if(n.levelIsComplete(r,e))return u;!function(){var t=function(t){if(n.validateLayersElesOrdering(t,e),n.levelIsComplete(t,e))return s=c[t],!0},i=function(e){if(!s)for(var n=r+e;-4<=n&&n<=2&&!t(n);n+=e);};i(1),i(-1);for(var a=u.length-1;a>=0;a--){var o=u[a];o.invalid&&wt(u,o)}}();var d=function(t){var i=(t=t||{}).after;!function(){if(!o){o=ur();for(var t=0;t<e.length;t++)dr(o,e[t].boundingBox())}}();var a=Math.ceil(o.w*l),s=Math.ceil(o.h*l);if(a>32767||s>32767)return null;if(a*s>16e6)return null;var c=n.makeLayer(o,r);if(null!=i){var d=u.indexOf(i)+1;u.splice(d,0,c)}else(void 0===t.insert||t.insert)&&u.unshift(c);return c};if(n.skipping&&!a)return null;for(var h=null,p=e.length/1,f=!a,g=0;g<e.length;g++){var y=e[g],m=y._private.rscratch,v=m.imgLayerCaches=m.imgLayerCaches||{},b=v[r];if(b)h=b;else{if((!h||h.eles.length>=p||!br(h.bb,y.boundingBox()))&&!(h=d({insert:!0,after:h})))return null;s||f?n.queueLayer(h,y):n.drawEleInLayer(h,y,r,t),h.eles.push(y),v[r]=h}}return s||(f?null:u)},Ad.getEleLevelForLayerLevel=function(e,t){return e},Ad.drawEleInLayer=function(e,t,r,n){var i=this.renderer,a=e.context,o=t.boundingBox();0!==o.w&&0!==o.h&&t.visible()&&(r=this.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(a,!1),i.drawCachedElement(a,t,null,null,r,true),i.setImgSmoothing(a,!0))},Ad.levelIsComplete=function(e,t){var r=this.layersByLevel[e];if(!r||0===r.length)return!1;for(var n=0,i=0;i<r.length;i++){var a=r[i];if(a.reqs>0)return!1;if(a.invalid)return!1;n+=a.eles.length}return n===t.length},Ad.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var n=0;n<r.length;n++){for(var i=r[n],a=-1,o=0;o<t.length;o++)if(i.eles[0]===t[o]){a=o;break}if(a<0)this.invalidateLayer(i);else{var s=a;for(o=0;o<i.eles.length;o++)if(i.eles[o]!==t[s+o]){this.invalidateLayer(i);break}}}},Ad.updateElementsInLayers=function(e,t){for(var r=le(e[0]),n=0;n<e.length;n++)for(var i=r?null:e[n],a=r?e[n]:e[n].ele,o=a._private.rscratch,s=o.imgLayerCaches=o.imgLayerCaches||{},c=-4;c<=2;c++){var l=s[c];l&&(i&&this.getEleLevelForLayerLevel(l.level)!==i.level||t(l,a,i))}},Ad.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var r=this.layersByLevel[t];if(r&&r.length>0){e=!0;break}}return e},Ad.invalidateElements=function(e){var t=this;0!==e.length&&(t.lastInvalidationTime=He(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,function(e,r,n){t.invalidateLayer(e)}))},Ad.invalidateLayer=function(e){if(this.lastInvalidationTime=He(),!e.invalid){var t=e.level,r=e.eles,n=this.layersByLevel[t];wt(n,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<r.length;i++){var a=r[i]._private.rscratch.imgLayerCaches;a&&(a[t]=null)}}},Ad.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(e,r,n){var i=e.replacement;if(i||((i=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,i.eles=e.eles),!i.reqs)for(var a=0;a<i.eles.length;a++)t.queueLayer(i,i.eles[a])})},Ad.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},Ad.queueLayer=function(e,t){var r=this.layersQueue,n=e.elesQueue,i=n.hasId=n.hasId||{};if(!e.replacement){if(t){if(i[t.id()])return;n.push(t),i[t.id()]=!0}e.reqs?(e.reqs++,r.updateItem(e)):(e.reqs=1,r.push(e))}},Ad.dequeue=function(e){for(var t=this,r=t.layersQueue,n=[],i=0;i<1&&0!==r.size();){var a=r.peek();if(a.replacement)r.pop();else if(a.replaces&&a!==a.replaces.replacement)r.pop();else if(a.invalid)r.pop();else{var o=a.elesQueue.shift();o&&(t.drawEleInLayer(a,o,a.level,e),i++),0===n.length&&n.push(!0),0===a.elesQueue.length&&(r.pop(),a.reqs=0,a.replaces&&t.applyLayerReplacement(a),t.requestRedraw())}}return n},Ad.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],r=e.replaces,n=t.indexOf(r);if(!(n<0||r.invalid)){t[n]=e;for(var i=0;i<e.eles.length;i++){var a=e.eles[i]._private,o=a.imgLayerCaches=a.imgLayerCaches||{};o&&(o[e.level]=e)}this.requestRedraw()}},Ad.requestRedraw=Ve(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100),Ad.setupDequeueing=bd({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:ht,shouldRedraw:lt,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var jd,Dd={};function Rd(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}}function Id(e,t,r){for(var n,i=0;i<t.length;i++){var a=t[i];0===i&&(n=a),e.lineTo(a.x,a.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)}function Fd(e,t,r){e.beginPath&&e.beginPath();for(var n=t,i=0;i<n.length;i++){var a=n[i];e.lineTo(a.x,a.y)}var o=r,s=r[0];e.moveTo(s.x,s.y);for(i=1;i<o.length;i++){a=o[i];e.lineTo(a.x,a.y)}e.closePath&&e.closePath()}function Cd(e,t,r,n,i){e.beginPath&&e.beginPath(),e.arc(r,n,i,0,2*Math.PI,!1);var a=t,o=a[0];e.moveTo(o.x,o.y);for(var s=0;s<a.length;s++){var c=a[s];e.lineTo(c.x,c.y)}e.closePath&&e.closePath()}function Md(e,t,r,n){e.arc(t,r,n,0,2*Math.PI,!1)}Dd.arrowShapeImpl=function(e){return(jd||(jd={polygon:Rd,"triangle-backcurve":Id,"triangle-tee":Fd,"circle-triangle":Cd,"triangle-cross":Fd,circle:Md}))[e]};var kd={drawElement:function(e,t,r,n,i,a){t.isNode()?this.drawNode(e,t,r,n,i,a):this.drawEdge(e,t,r,n,i,a)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawElementUnderlay:function(e,t){t.isNode()?this.drawNodeUnderlay(e,t):this.drawEdgeUnderlay(e,t)},drawCachedElementPortion:function(e,t,r,n,i,a,o,s){var c=this,l=r.getBoundingBox(t);if(0!==l.w&&0!==l.h){var u=r.getElement(t,l,n,i,a);if(null!=u){var d=s(c,t);if(0===d)return;var h,p,f,g,y,m,v=o(c,t),b=l.x1,_=l.y1,w=l.w,x=l.h;if(0!==v){var S=r.getRotationPoint(t);f=S.x,g=S.y,e.translate(f,g),e.rotate(v),(y=c.getImgSmoothing(e))||c.setImgSmoothing(e,!0);var T=r.getRotationOffset(t);h=T.x,p=T.y}else h=b,p=_;1!==d&&(m=e.globalAlpha,e.globalAlpha=m*d),e.drawImage(u.texture.canvas,u.x,0,u.width,u.height,h,p,w,x),1!==d&&(e.globalAlpha=m),0!==v&&(e.rotate(-v),e.translate(-f,-g),y||c.setImgSmoothing(e,!1))}else r.drawElement(e,t)}}},Ld=function(){return 0},Bd=function(e,t){return e.getTextAngle(t,null)},Ud=function(e,t){return e.getTextAngle(t,"source")},Vd=function(e,t){return e.getTextAngle(t,"target")},zd=function(e,t){return t.effectiveOpacity()},qd=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};kd.drawCachedElement=function(e,t,r,n,i,a){var o=this,s=o.data,c=s.eleTxrCache,l=s.lblTxrCache,u=s.slbTxrCache,d=s.tlbTxrCache,h=t.boundingBox(),p=!0===a?c.reasons.highQuality:null;if(0!==h.w&&0!==h.h&&t.visible()&&(!n||yr(h,n))){var f=t.isEdge(),g=t.element()._private.rscratch.badLine;o.drawElementUnderlay(e,t),o.drawCachedElementPortion(e,t,c,r,i,p,Ld,zd),f&&g||o.drawCachedElementPortion(e,t,l,r,i,p,Bd,qd),f&&!g&&(o.drawCachedElementPortion(e,t,u,r,i,p,Ud,qd),o.drawCachedElementPortion(e,t,d,r,i,p,Vd,qd)),o.drawElementOverlay(e,t)}},kd.drawElements=function(e,t){for(var r=0;r<t.length;r++){var n=t[r];this.drawElement(e,n)}},kd.drawCachedElements=function(e,t,r,n){for(var i=0;i<t.length;i++){var a=t[i];this.drawCachedElement(e,a,r,n)}},kd.drawCachedNodes=function(e,t,r,n){for(var i=0;i<t.length;i++){var a=t[i];a.isNode()&&this.drawCachedElement(e,a,r,n)}},kd.drawLayeredElements=function(e,t,r,n){var i=this.data.lyrTxrCache.getLayers(t,r);if(i)for(var a=0;a<i.length;a++){var o=i[a],s=o.bb;0!==s.w&&0!==s.h&&e.drawImage(o.canvas,s.x1,s.y1,s.w,s.h)}else this.drawCachedElements(e,t,r,n)};var Qd={drawEdge:function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this,s=t._private.rscratch;if((!a||t.visible())&&!s.badLine&&null!=s.allpts&&!isNaN(s.allpts[0])){var c;r&&(c=r,e.translate(-c.x1,-c.y1));var l=a?t.pstyle("opacity").value:1,u=a?t.pstyle("line-opacity").value:1,d=t.pstyle("curve-style").value,h=t.pstyle("line-style").value,p=t.pstyle("width").pfValue,f=t.pstyle("line-cap").value,g=t.pstyle("line-outline-width").value,y=t.pstyle("line-outline-color").value,m=l*u,v=l*u,b=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;"straight-triangle"===d?(o.eleStrokeStyle(e,t,r),o.drawEdgeTrianglePath(t,e,s.allpts)):(e.lineWidth=p,e.lineCap=f,o.eleStrokeStyle(e,t,r),o.drawEdgePath(t,e,s.allpts,h),e.lineCap="butt")},_=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v;o.drawArrowheads(e,t,r)};if(e.lineJoin="round","yes"===t.pstyle("ghost").value){var w=t.pstyle("ghost-offset-x").pfValue,x=t.pstyle("ghost-offset-y").pfValue,S=t.pstyle("ghost-opacity").value,T=m*S;e.translate(w,x),b(T),_(T),e.translate(-w,-x)}else!function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;e.lineWidth=p+g,e.lineCap=f,g>0?(o.colorStrokeStyle(e,y[0],y[1],y[2],r),"straight-triangle"===d?o.drawEdgeTrianglePath(t,e,s.allpts):(o.drawEdgePath(t,e,s.allpts,h),e.lineCap="butt")):e.lineCap="butt"}();i&&o.drawEdgeUnderlay(e,t),b(),_(),i&&o.drawEdgeOverlay(e,t),o.drawElementText(e,t,null,n),r&&e.translate(c.x1,c.y1)}}},Gd=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r){if(r.visible()){var n=r.pstyle("".concat(e,"-opacity")).value;if(0!==n){var i=this,a=i.usePaths(),o=r._private.rscratch,s=2*r.pstyle("".concat(e,"-padding")).pfValue,c=r.pstyle("".concat(e,"-color")).value;t.lineWidth=s,"self"!==o.edgeType||a?t.lineCap="round":t.lineCap="butt",i.colorStrokeStyle(t,c[0],c[1],c[2],n),i.drawEdgePath(r,t,o.allpts,"solid")}}}};Qd.drawEdgeOverlay=Gd("overlay"),Qd.drawEdgeUnderlay=Gd("underlay"),Qd.drawEdgePath=function(e,t,r,n){var i,a=e._private.rscratch,o=t,s=!1,c=this.usePaths(),l=e.pstyle("line-dash-pattern").pfValue,u=e.pstyle("line-dash-offset").pfValue;if(c){var d=r.join("$");a.pathCacheKey&&a.pathCacheKey===d?(i=t=a.pathCache,s=!0):(i=t=new Path2D,a.pathCacheKey=d,a.pathCache=i)}if(o.setLineDash)switch(n){case"dotted":o.setLineDash([1,1]);break;case"dashed":o.setLineDash(l),o.lineDashOffset=u;break;case"solid":o.setLineDash([])}if(!s&&!a.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var h=2;h+3<r.length;h+=4)t.quadraticCurveTo(r[h],r[h+1],r[h+2],r[h+3]);break;case"straight":case"haystack":for(var p=2;p+1<r.length;p+=2)t.lineTo(r[p],r[p+1]);break;case"segments":if(a.isRound){var g,y=f(a.roundCorners);try{for(y.s();!(g=y.n()).done;){Xu(t,g.value)}}catch(v){y.e(v)}finally{y.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var m=2;m+1<r.length;m+=2)t.lineTo(r[m],r[m+1])}t=o,c?t.stroke(i):t.stroke(),t.setLineDash&&t.setLineDash([])},Qd.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var n=e.pstyle("width").pfValue,i=0;i+1<r.length;i+=2){var a=[r[i+2]-r[i],r[i+3]-r[i+1]],o=Math.sqrt(a[0]*a[0]+a[1]*a[1]),s=[a[1]/o,-a[0]/o],c=[s[0]*n/2,s[1]*n/2];t.beginPath(),t.moveTo(r[i]-c[0],r[i+1]-c[1]),t.lineTo(r[i]+c[0],r[i+1]+c[1]),t.lineTo(r[i+2],r[i+3]),t.closePath(),t.fill()}},Qd.drawArrowheads=function(e,t,r){var n=t._private.rscratch,i="haystack"===n.edgeType;i||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),i||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)},Qd.drawArrowhead=function(e,t,r,n,i,a,o){if(!(isNaN(n)||null==n||isNaN(i)||null==i||isNaN(a)||null==a)){var s=this,c=t.pstyle(r+"-arrow-shape").value;if("none"!==c){var l="hollow"===t.pstyle(r+"-arrow-fill").value?"both":"filled",u=t.pstyle(r+"-arrow-fill").value,d=t.pstyle("width").pfValue,h=t.pstyle(r+"-arrow-width"),p="match-line"===h.value?d:h.pfValue;"%"===h.units&&(p*=d);var f=t.pstyle("opacity").value;void 0===o&&(o=f);var g=e.globalCompositeOperation;1===o&&"hollow"!==u||(e.globalCompositeOperation="destination-out",s.colorFillStyle(e,255,255,255,1),s.colorStrokeStyle(e,255,255,255,1),s.drawArrowShape(t,e,l,d,c,p,n,i,a),e.globalCompositeOperation=g);var y=t.pstyle(r+"-arrow-color").value;s.colorFillStyle(e,y[0],y[1],y[2],o),s.colorStrokeStyle(e,y[0],y[1],y[2],o),s.drawArrowShape(t,e,u,d,c,p,n,i,a)}}},Qd.drawArrowShape=function(e,t,r,n,i,a,o,s,c){var l,u=this,d=this.usePaths()&&"triangle-cross"!==i,h=!1,p=t,f={x:o,y:s},g=e.pstyle("arrow-scale").value,y=this.getArrowWidth(n,g),m=u.arrowShapes[i];if(d){var v=u.arrowPathCache=u.arrowPathCache||[],b=tt(i),_=v[b];null!=_?(l=t=_,h=!0):(l=t=new Path2D,v[b]=l)}h||(t.beginPath&&t.beginPath(),d?m.draw(t,1,0,{x:0,y:0},1):m.draw(t,y,c,f,n),t.closePath&&t.closePath()),t=p,d&&(t.translate(o,s),t.rotate(c),t.scale(y,y)),"filled"!==r&&"both"!==r||(d?t.fill(l):t.fill()),"hollow"!==r&&"both"!==r||(t.lineWidth=a/(d?y:1),t.lineJoin="miter",d?t.stroke(l):t.stroke()),d&&(t.scale(1/y,1/y),t.rotate(-c),t.translate(-o,-s))};var Hd={safeDrawImage:function(e,t,r,n,i,a,o,s,c,l){if(!(i<=0||a<=0||c<=0||l<=0))try{e.drawImage(t,r,n,i,a,o,s,c,l)}catch(u){gt(u)}},drawInscribedImage:function(e,t,r,n,i){var a=this,o=r.position(),s=o.x,c=o.y,l=r.cy().style(),u=l.getIndexedStyle.bind(l),d=u(r,"background-fit","value",n),h=u(r,"background-repeat","value",n),p=r.width(),f=r.height(),g=2*r.padding(),y=p+("inner"===u(r,"background-width-relative-to","value",n)?0:g),m=f+("inner"===u(r,"background-height-relative-to","value",n)?0:g),v=r._private.rscratch,b="node"===u(r,"background-clip","value",n),_=u(r,"background-image-opacity","value",n)*i,w=u(r,"background-image-smoothing","value",n),x=r.pstyle("corner-radius").value;"auto"!==x&&(x=r.pstyle("corner-radius").pfValue);var S=t.width||t.cachedW,T=t.height||t.cachedH;null!=S&&null!=T||(document.body.appendChild(t),S=t.cachedW=t.width||t.offsetWidth,T=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var O=S,E=T;if("auto"!==u(r,"background-width","value",n)&&(O="%"===u(r,"background-width","units",n)?u(r,"background-width","pfValue",n)*y:u(r,"background-width","pfValue",n)),"auto"!==u(r,"background-height","value",n)&&(E="%"===u(r,"background-height","units",n)?u(r,"background-height","pfValue",n)*m:u(r,"background-height","pfValue",n)),0!==O&&0!==E){if("contain"===d)O*=A=Math.min(y/O,m/E),E*=A;else if("cover"===d){var A;O*=A=Math.max(y/O,m/E),E*=A}var P=s-y/2,N=u(r,"background-position-x","units",n),j=u(r,"background-position-x","pfValue",n);P+="%"===N?(y-O)*j:j;var D=u(r,"background-offset-x","units",n),R=u(r,"background-offset-x","pfValue",n);P+="%"===D?(y-O)*R:R;var I=c-m/2,F=u(r,"background-position-y","units",n),C=u(r,"background-position-y","pfValue",n);I+="%"===F?(m-E)*C:C;var M=u(r,"background-offset-y","units",n),k=u(r,"background-offset-y","pfValue",n);I+="%"===M?(m-E)*k:k,v.pathCache&&(P-=s,I-=c,s=0,c=0);var L=e.globalAlpha;e.globalAlpha=_;var B=a.getImgSmoothing(e),U=!1;if("no"===w&&B?(a.setImgSmoothing(e,!1),U=!0):"yes"!==w||B||(a.setImgSmoothing(e,!0),U=!0),"no-repeat"===h)b&&(e.save(),v.pathCache?e.clip(v.pathCache):(a.nodeShapes[a.getNodeShape(r)].draw(e,s,c,y,m,x,v),e.clip())),a.safeDrawImage(e,t,0,0,S,T,P,I,O,E),b&&e.restore();else{var V=e.createPattern(t,h);e.fillStyle=V,a.nodeShapes[a.getNodeShape(r)].draw(e,s,c,y,m,x,v),e.translate(P,I),e.fill(),e.translate(-P,-I)}e.globalAlpha=L,U&&a.setImgSmoothing(e,B)}}},Wd={};function Xd(e,t,r,n,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5,o=Math.min(a,n/2,i/2);e.beginPath(),e.moveTo(t+o,r),e.lineTo(t+n-o,r),e.quadraticCurveTo(t+n,r,t+n,r+o),e.lineTo(t+n,r+i-o),e.quadraticCurveTo(t+n,r+i,t+n-o,r+i),e.lineTo(t+o,r+i),e.quadraticCurveTo(t,r+i,t,r+i-o),e.lineTo(t,r+o),e.quadraticCurveTo(t,r,t+o,r),e.closePath()}Wd.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),n=this.getPixelRatio(),i=Math.ceil(rr(r*n));t=Math.pow(2,i)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},Wd.drawElementText=function(e,t,r,n,i){var a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],o=this;if(null==n){if(a&&!o.eleTextBiggerThanMin(t))return}else if(!1===n)return;if(t.isNode()){var s=t.pstyle("label");if(!s||!s.value)return;var c=o.getLabelJustification(t);e.textAlign=c,e.textBaseline="bottom"}else{var l=t.element()._private.rscratch.badLine,u=t.pstyle("label"),d=t.pstyle("source-label"),h=t.pstyle("target-label");if(l||(!u||!u.value)&&(!d||!d.value)&&(!h||!h.value))return;e.textAlign="center",e.textBaseline="bottom"}var p,f=!r;r&&(p=r,e.translate(-p.x1,-p.y1)),null==i?(o.drawText(e,t,null,f,a),t.isEdge()&&(o.drawText(e,t,"source",f,a),o.drawText(e,t,"target",f,a))):o.drawText(e,t,i,f,a),r&&e.translate(p.x1,p.y1)},Wd.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if((t=this.fontCaches[r]).context===e)return t;return t={context:e},this.fontCaches.push(t),t},Wd.setupTextStyle=function(e,t){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=t.pstyle("font-style").strValue,i=t.pstyle("font-size").pfValue+"px",a=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,c=t.pstyle("text-outline-opacity").value*s,l=t.pstyle("color").value,u=t.pstyle("text-outline-color").value;e.font=n+" "+o+" "+i+" "+a,e.lineJoin="round",this.colorFillStyle(e,l[0],l[1],l[2],s),this.colorStrokeStyle(e,u[0],u[1],u[2],c)},Wd.getTextAngle=function(e,t){var r,n=e._private.rscratch,i=t?t+"-":"",a=e.pstyle(i+"text-rotation");if("autorotate"===a.strValue){var o=St(n,"labelAngle",t);r=e.isEdge()?o:0}else r="none"===a.strValue?0:a.pfValue;return r},Wd.drawText=function(e,t,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=t._private.rscratch,o=i?t.effectiveOpacity():1;if(!i||0!==o&&0!==t.pstyle("text-opacity").value){"main"===r&&(r=null);var s,c,l=St(a,"labelX",r),u=St(a,"labelY",r),d=this.getLabelText(t,r);if(null!=d&&""!==d&&!isNaN(l)&&!isNaN(u)){this.setupTextStyle(e,t,i);var h,p=r?r+"-":"",f=St(a,"labelWidth",r),g=St(a,"labelHeight",r),y=t.pstyle(p+"text-margin-x").pfValue,m=t.pstyle(p+"text-margin-y").pfValue,v=t.isEdge(),b=t.pstyle("text-halign").value,_=t.pstyle("text-valign").value;switch(v&&(b="center",_="center"),l+=y,u+=m,0!==(h=n?this.getTextAngle(t,r):0)&&(s=l,c=u,e.translate(s,c),e.rotate(h),l=0,u=0),_){case"top":break;case"center":u+=g/2;break;case"bottom":u+=g}var w=t.pstyle("text-background-opacity").value,x=t.pstyle("text-border-opacity").value,S=t.pstyle("text-border-width").pfValue,T=t.pstyle("text-background-padding").pfValue,O=t.pstyle("text-background-shape").strValue,E="round-rectangle"===O||"roundrectangle"===O,A="circle"===O;if(w>0||S>0&&x>0){var P=e.fillStyle,N=e.strokeStyle,j=e.lineWidth,D=t.pstyle("text-background-color").value,R=t.pstyle("text-border-color").value,I=t.pstyle("text-border-style").value,F=w>0,C=S>0&&x>0,M=l-T;switch(b){case"left":M-=f;break;case"center":M-=f/2}var k=u-g-T,L=f+2*T,B=g+2*T;if(F&&(e.fillStyle="rgba(".concat(D[0],",").concat(D[1],",").concat(D[2],",").concat(w*o,")")),C&&(e.strokeStyle="rgba(".concat(R[0],",").concat(R[1],",").concat(R[2],",").concat(x*o,")"),e.lineWidth=S,e.setLineDash))switch(I){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=S/4,e.setLineDash([]);break;default:e.setLineDash([])}if(E?(e.beginPath(),Xd(e,M,k,L,B,2)):A?(e.beginPath(),function(e,t,r,n,i){var a=Math.min(n,i)/2,o=t+n/2,s=r+i/2;e.beginPath(),e.arc(o,s,a,0,2*Math.PI),e.closePath()}(e,M,k,L,B)):(e.beginPath(),e.rect(M,k,L,B)),F&&e.fill(),C&&e.stroke(),C&&"double"===I){var U=S/2;e.beginPath(),E?Xd(e,M+U,k+U,L-2*U,B-2*U,2):e.rect(M+U,k+U,L-2*U,B-2*U),e.stroke()}e.fillStyle=P,e.strokeStyle=N,e.lineWidth=j,e.setLineDash&&e.setLineDash([])}var V=2*t.pstyle("text-outline-width").pfValue;if(V>0&&(e.lineWidth=V),"wrap"===t.pstyle("text-wrap").value){var z=St(a,"labelWrapCachedLines",r),q=St(a,"labelLineHeight",r),Q=f/2,G=this.getLabelJustification(t);switch("auto"===G||("left"===b?"left"===G?l+=-f:"center"===G&&(l+=-Q):"center"===b?"left"===G?l+=-Q:"right"===G&&(l+=Q):"right"===b&&("center"===G?l+=Q:"right"===G&&(l+=f))),_){case"top":case"center":case"bottom":u-=(z.length-1)*q}for(var H=0;H<z.length;H++)V>0&&e.strokeText(z[H],l,u),e.fillText(z[H],l,u),u+=q}else V>0&&e.strokeText(d,l,u),e.fillText(d,l,u);0!==h&&(e.rotate(-h),e.translate(-s,-c))}}};var Kd={drawNode:function(e,t,r){var n,i,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],s=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],c=this,l=t._private,u=l.rscratch,d=t.position();if(oe(d.x)&&oe(d.y)&&(!s||t.visible())){var h,p,f=s?t.effectiveOpacity():1,g=c.usePaths(),y=!1,m=t.padding();n=t.width()+2*m,i=t.height()+2*m,r&&(p=r,e.translate(-p.x1,-p.y1));for(var v=t.pstyle("background-image").value,b=new Array(v.length),_=new Array(v.length),w=0,x=0;x<v.length;x++){var S=v[x];if(b[x]=null!=S&&"none"!==S){var T=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",x);w++,_[x]=c.getCachedImage(S,T,function(){l.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var O=t.pstyle("background-blacken").value,E=t.pstyle("border-width").pfValue,A=t.pstyle("background-opacity").value*f,P=t.pstyle("border-color").value,N=t.pstyle("border-style").value,j=t.pstyle("border-join").value,D=t.pstyle("border-cap").value,R=t.pstyle("border-position").value,I=t.pstyle("border-dash-pattern").pfValue,F=t.pstyle("border-dash-offset").pfValue,C=t.pstyle("border-opacity").value*f,M=t.pstyle("outline-width").pfValue,k=t.pstyle("outline-color").value,L=t.pstyle("outline-style").value,B=t.pstyle("outline-opacity").value*f,U=t.pstyle("outline-offset").value,V=t.pstyle("corner-radius").value;"auto"!==V&&(V=t.pstyle("corner-radius").pfValue);var z=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A;c.eleFillStyle(e,t,r)},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C;c.colorStrokeStyle(e,P[0],P[1],P[2],t)},Q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B;c.colorStrokeStyle(e,k[0],k[1],k[2],t)},G=function(e,t,r,n){var i,a=c.nodePathCache=c.nodePathCache||[],o=rt("polygon"===r?r+","+n.join(","):r,""+t,""+e,""+V),s=a[o],l=!1;return null!=s?(i=s,l=!0,u.pathCache=i):(i=new Path2D,a[o]=u.pathCache=i),{path:i,cacheHit:l}},H=t.pstyle("shape").strValue,W=t.pstyle("shape-polygon-points").pfValue;if(g){e.translate(d.x,d.y);var X=G(n,i,H,W);h=X.path,y=X.cacheHit}var K=function(){if(!y){var r=d;g&&(r={x:0,y:0}),c.nodeShapes[c.getNodeShape(t)].draw(h||e,r.x,r.y,n,i,V,u)}g?e.fill(h):e.fill()},$=function(){for(var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=l.backgrounding,a=0,o=0;o<_.length;o++){var s=t.cy().style().getIndexedStyle(t,"background-image-containment","value",o);n&&"over"===s||!n&&"inside"===s?a++:b[o]&&_[o].complete&&!_[o].error&&(a++,c.drawInscribedImage(e,_[o],t,o,r))}l.backgrounding=!(a===w),i!==l.backgrounding&&t.updateStyle(!1)},Y=function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;c.hasPie(t)&&(c.drawPie(e,t,a),r&&(g||c.nodeShapes[c.getNodeShape(t)].draw(e,d.x,d.y,n,i,V,u)))},J=function(){var r=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f;c.hasStripe(t)&&(e.save(),g?e.clip(u.pathCache):(c.nodeShapes[c.getNodeShape(t)].draw(e,d.x,d.y,n,i,V,u),e.clip()),c.drawStripe(e,t,a),e.restore(),r&&(g||c.nodeShapes[c.getNodeShape(t)].draw(e,d.x,d.y,n,i,V,u)))},Z=function(){var t=(O>0?O:-O)*(arguments.length>0&&void 0!==arguments[0]?arguments[0]:f),r=O>0?0:255;0!==O&&(c.colorFillStyle(e,r,r,r,t),g?e.fill(h):e.fill())},ee=function(){if(E>0){if(e.lineWidth=E,e.lineCap=D,e.lineJoin=j,e.setLineDash)switch(N){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(I),e.lineDashOffset=F;break;case"solid":case"double":e.setLineDash([])}if("center"!==R){if(e.save(),e.lineWidth*=2,"inside"===R)g?e.clip(h):e.clip();else{var t=new Path2D;t.rect(-n/2-E,-i/2-E,n+2*E,i+2*E),t.addPath(h),e.clip(t,"evenodd")}g?e.stroke(h):e.stroke(),e.restore()}else g?e.stroke(h):e.stroke();if("double"===N){e.lineWidth=E/3;var r=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(h):e.stroke(),e.globalCompositeOperation=r}e.setLineDash&&e.setLineDash([])}},te=function(){if(M>0){if(e.lineWidth=M,e.lineCap="butt",e.setLineDash)switch(L){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}var r=d;g&&(r={x:0,y:0});var a=c.getNodeShape(t),o=E;"inside"===R&&(o=0),"outside"===R&&(o*=2);var s,l=(n+o+(M+U))/n,u=(i+o+(M+U))/i,h=n*l,p=i*u,f=c.nodeShapes[a].points;if(g)s=G(h,p,a,f).path;if("ellipse"===a)c.drawEllipsePath(s||e,r.x,r.y,h,p);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(a)){var y=0,m=0,v=0;"round-diamond"===a?y=1.4*(o+U+M):"round-heptagon"===a?(y=1.075*(o+U+M),v=-(o/2+U+M)/35):"round-hexagon"===a?y=1.12*(o+U+M):"round-pentagon"===a?(y=1.13*(o+U+M),v=-(o/2+U+M)/15):"round-tag"===a?(y=1.12*(o+U+M),m=.07*(o/2+M+U)):"round-triangle"===a&&(y=(o+U+M)*(Math.PI/2),v=-(o+U/2+M)/Math.PI),0!==y&&(h=n*(l=(n+y)/n),["round-hexagon","round-tag"].includes(a)||(p=i*(u=(i+y)/i)));for(var b=h/2,_=p/2,w=(V="auto"===V?zr(h,p):V)+(o+M+U)/2,x=new Array(f.length/2),S=new Array(f.length/2),T=0;T<f.length/2;T++)x[T]={x:r.x+m+b*f[2*T],y:r.y+v+_*f[2*T+1]};var O,A,P,N,j=x.length;for(A=x[j-1],O=0;O<j;O++)P=x[O%j],N=x[(O+1)%j],S[O]=Ku(A,P,N,w),A=P,P=N;c.drawRoundPolygonPath(s||e,r.x+m,r.y+v,n*l,i*u,f,S)}else if(["roundrectangle","round-rectangle"].includes(a))V="auto"===V?Vr(h,p):V,c.drawRoundRectanglePath(s||e,r.x,r.y,h,p,V+(o+M+U)/2);else if(["cutrectangle","cut-rectangle"].includes(a))V="auto"===V?8:V,c.drawCutRectanglePath(s||e,r.x,r.y,h,p,null,V+(o+M+U)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(a))V="auto"===V?Vr(h,p):V,c.drawBottomRoundRectanglePath(s||e,r.x,r.y,h,p,V+(o+M+U)/2);else if("barrel"===a)c.drawBarrelPath(s||e,r.x,r.y,h,p);else if(a.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(a)){f=Nr(jr(f,(o+M+U)/n)),c.drawPolygonPath(s||e,r.x,r.y,n,i,f)}else{f=Nr(jr(f,-((o+M+U)/n))),c.drawPolygonPath(s||e,r.x,r.y,n,i,f)}if(g?e.stroke(s):e.stroke(),"double"===L){e.lineWidth=o/3;var D=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",g?e.stroke(s):e.stroke(),e.globalCompositeOperation=D}e.setLineDash&&e.setLineDash([])}};if("yes"===t.pstyle("ghost").value){var re=t.pstyle("ghost-offset-x").pfValue,ne=t.pstyle("ghost-offset-y").pfValue,ie=t.pstyle("ghost-opacity").value,ae=ie*f;e.translate(re,ne),Q(),te(),z(ie*A),K(),$(ae,!0),q(ie*C),ee(),Y(0!==O||0!==E),J(0!==O||0!==E),$(ae,!1),Z(ae),e.translate(-re,-ne)}g&&e.translate(-d.x,-d.y),o&&c.drawNodeUnderlay(e,t,d,n,i),g&&e.translate(d.x,d.y),Q(),te(),z(),K(),$(f,!0),q(),ee(),Y(0!==O||0!==E),J(0!==O||0!==E),$(f,!1),Z(),g&&e.translate(-d.x,-d.y),c.drawElementText(e,t,null,a),o&&c.drawNodeOverlay(e,t,d,n,i),r&&e.translate(p.x1,p.y1)}}},$d=function(e){if(!["overlay","underlay"].includes(e))throw new Error("Invalid state");return function(t,r,n,i,a){if(r.visible()){var o=r.pstyle("".concat(e,"-padding")).pfValue,s=r.pstyle("".concat(e,"-opacity")).value,c=r.pstyle("".concat(e,"-color")).value,l=r.pstyle("".concat(e,"-shape")).value,u=r.pstyle("".concat(e,"-corner-radius")).value;if(s>0){if(n=n||r.position(),null==i||null==a){var d=r.padding();i=r.width()+2*d,a=r.height()+2*d}this.colorFillStyle(t,c[0],c[1],c[2],s),this.nodeShapes[l].draw(t,n.x,n.y,i+2*o,a+2*o,u),t.fill()}}}};Kd.drawNodeOverlay=$d("overlay"),Kd.drawNodeUnderlay=$d("underlay"),Kd.hasPie=function(e){return(e=e[0])._private.hasPie},Kd.hasStripe=function(e){return(e=e[0])._private.hasStripe},Kd.drawPie=function(e,t,r,n){t=t[0],n=n||t.position();var i,a=t.cy().style(),o=t.pstyle("pie-size"),s=t.pstyle("pie-hole"),c=t.pstyle("pie-start-angle").pfValue,l=n.x,u=n.y,d=t.width(),h=t.height(),p=Math.min(d,h)/2,f=0;if(this.usePaths()&&(l=0,u=0),"%"===o.units?p*=o.pfValue:void 0!==o.pfValue&&(p=o.pfValue/2),"%"===s.units?i=p*s.pfValue:void 0!==s.pfValue&&(i=s.pfValue/2),!(i>=p))for(var g=1;g<=a.pieBackgroundN;g++){var y=t.pstyle("pie-"+g+"-background-size").value,m=t.pstyle("pie-"+g+"-background-color").value,v=t.pstyle("pie-"+g+"-background-opacity").value*r,b=y/100;b+f>1&&(b=1-f);var _=1.5*Math.PI+2*Math.PI*f,w=(_+=c)+2*Math.PI*b;0===y||f>=1||f+b>1||(0===i?(e.beginPath(),e.moveTo(l,u),e.arc(l,u,p,_,w),e.closePath()):(e.beginPath(),e.arc(l,u,p,_,w),e.arc(l,u,i,w,_,!0),e.closePath()),this.colorFillStyle(e,m[0],m[1],m[2],v),e.fill(),f+=b)}},Kd.drawStripe=function(e,t,r,n){t=t[0],n=n||t.position();var i=t.cy().style(),a=n.x,o=n.y,s=t.width(),c=t.height(),l=0,u=this.usePaths();e.save();var d=t.pstyle("stripe-direction").value,h=t.pstyle("stripe-size");switch(d){case"vertical":break;case"righward":e.rotate(-Math.PI/2)}var p=s,f=c;"%"===h.units?(p*=h.pfValue,f*=h.pfValue):void 0!==h.pfValue&&(p=h.pfValue,f=h.pfValue),u&&(a=0,o=0),o-=p/2,a-=f/2;for(var g=1;g<=i.stripeBackgroundN;g++){var y=t.pstyle("stripe-"+g+"-background-size").value,m=t.pstyle("stripe-"+g+"-background-color").value,v=t.pstyle("stripe-"+g+"-background-opacity").value*r,b=y/100;b+l>1&&(b=1-l),0===y||l>=1||l+b>1||(e.beginPath(),e.rect(a,o+f*l,p,f*b),e.closePath(),this.colorFillStyle(e,m[0],m[1],m[2],v),e.fill(),l+=b)}e.restore()};var Yd,Jd={};function Zd(e,t,r){var n=e.createShader(t);if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))throw new Error(e.getShaderInfoLog(n));return n}function eh(e,t,r){void 0===r&&(r=t);var n=e.makeOffscreenCanvas(t,r),i=n.context=n.getContext("2d");return n.clear=function(){return i.clearRect(0,0,n.width,n.height)},n.clear(),n}function th(e){var t=e.pixelRatio,r=e.cy.zoom(),n=e.cy.pan();return{zoom:r*t,pan:{x:n.x*t,y:n.y*t}}}function rh(e){return"solid"===e.pstyle("background-fill").value&&("none"===e.pstyle("background-image").strValue&&(0===e.pstyle("border-width").value||(0===e.pstyle("border-opacity").value||"solid"===e.pstyle("border-style").value)))}function nh(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function ih(e,t,r){var n=e[0]/255,i=e[1]/255,a=e[2]/255,o=t,s=r||new Array(4);return s[0]=n*o,s[1]=i*o,s[2]=a*o,s[3]=o,s}function ah(e,t){var r=t||new Array(4);return r[0]=(255&e)/255,r[1]=(e>>8&255)/255,r[2]=(e>>16&255)/255,r[3]=(e>>24&255)/255,r}function oh(e){return e[0]+(e[1]<<8)+(e[2]<<16)+(e[3]<<24)}function sh(e,t){switch(t){case"float":return[1,e.FLOAT,4];case"vec2":return[2,e.FLOAT,4];case"vec3":return[3,e.FLOAT,4];case"vec4":return[4,e.FLOAT,4];case"int":return[1,e.INT,4];case"ivec2":return[2,e.INT,4]}}function ch(e,t,r){switch(t){case e.FLOAT:return new Float32Array(r);case e.INT:return new Int32Array(r)}}function lh(e,t,r,n,i,a){switch(t){case e.FLOAT:return new Float32Array(r.buffer,a*n,i);case e.INT:return new Int32Array(r.buffer,a*n,i)}}function uh(e,t,r,n){var i=y(sh(e,r),3),a=i[0],o=i[1],s=i[2],c=ch(e,o,t*a),l=a*s,u=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,u),e.bufferData(e.ARRAY_BUFFER,t*l,e.DYNAMIC_DRAW),e.enableVertexAttribArray(n),o===e.FLOAT?e.vertexAttribPointer(n,a,o,!1,l,0):o===e.INT&&e.vertexAttribIPointer(n,a,o,l,0),e.vertexAttribDivisor(n,1),e.bindBuffer(e.ARRAY_BUFFER,null);for(var d=new Array(t),h=0;h<t;h++)d[h]=lh(e,o,c,l,a,h);return u.dataArray=c,u.stride=l,u.size=a,u.getView=function(e){return d[e]},u.setPoint=function(e,t,r){var n=d[e];n[0]=t,n[1]=r},u.bufferSubData=function(t){e.bindBuffer(e.ARRAY_BUFFER,u),t?e.bufferSubData(e.ARRAY_BUFFER,0,c,0,t*a):e.bufferSubData(e.ARRAY_BUFFER,0,c)},u}Jd.getPixelRatio=function(){var e=this.data.contexts[0];if(null!=this.forcedPixelRatio)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r},Jd.paintCache=function(e){for(var t,r=this.paintCaches=this.paintCaches||[],n=!0,i=0;i<r.length;i++)if((t=r[i]).context===e){n=!1;break}return n&&(t={context:e},r.push(t)),t},Jd.createGradientStyleFor=function(e,t,r,n,i){var a,o=this.usePaths(),s=r.pstyle(t+"-gradient-stop-colors").value,c=r.pstyle(t+"-gradient-stop-positions").pfValue;if("radial-gradient"===n)if(r.isEdge()){var l=r.sourceEndpoint(),u=r.targetEndpoint(),d=r.midpoint(),h=ir(l,d),p=ir(u,d);a=e.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(h,p))}else{var f=o?{x:0,y:0}:r.position(),g=r.paddedWidth(),y=r.paddedHeight();a=e.createRadialGradient(f.x,f.y,0,f.x,f.y,Math.max(g,y))}else if(r.isEdge()){var m=r.sourceEndpoint(),v=r.targetEndpoint();a=e.createLinearGradient(m.x,m.y,v.x,v.y)}else{var b=o?{x:0,y:0}:r.position(),_=r.paddedWidth()/2,w=r.paddedHeight()/2;switch(r.pstyle("background-gradient-direction").value){case"to-bottom":a=e.createLinearGradient(b.x,b.y-w,b.x,b.y+w);break;case"to-top":a=e.createLinearGradient(b.x,b.y+w,b.x,b.y-w);break;case"to-left":a=e.createLinearGradient(b.x+_,b.y,b.x-_,b.y);break;case"to-right":a=e.createLinearGradient(b.x-_,b.y,b.x+_,b.y);break;case"to-bottom-right":case"to-right-bottom":a=e.createLinearGradient(b.x-_,b.y-w,b.x+_,b.y+w);break;case"to-top-right":case"to-right-top":a=e.createLinearGradient(b.x-_,b.y+w,b.x+_,b.y-w);break;case"to-bottom-left":case"to-left-bottom":a=e.createLinearGradient(b.x+_,b.y-w,b.x-_,b.y+w);break;case"to-top-left":case"to-left-top":a=e.createLinearGradient(b.x+_,b.y+w,b.x-_,b.y-w)}}if(!a)return null;for(var x=c.length===s.length,S=s.length,T=0;T<S;T++)a.addColorStop(x?c[T]:T/(S-1),"rgba("+s[T][0]+","+s[T][1]+","+s[T][2]+","+i+")");return a},Jd.gradientFillStyle=function(e,t,r,n){var i=this.createGradientStyleFor(e,"background",t,r,n);if(!i)return null;e.fillStyle=i},Jd.colorFillStyle=function(e,t,r,n,i){e.fillStyle="rgba("+t+","+r+","+n+","+i+")"},Jd.eleFillStyle=function(e,t,r){var n=t.pstyle("background-fill").value;if("linear-gradient"===n||"radial-gradient"===n)this.gradientFillStyle(e,t,n,r);else{var i=t.pstyle("background-color").value;this.colorFillStyle(e,i[0],i[1],i[2],r)}},Jd.gradientStrokeStyle=function(e,t,r,n){var i=this.createGradientStyleFor(e,"line",t,r,n);if(!i)return null;e.strokeStyle=i},Jd.colorStrokeStyle=function(e,t,r,n,i){e.strokeStyle="rgba("+t+","+r+","+n+","+i+")"},Jd.eleStrokeStyle=function(e,t,r){var n=t.pstyle("line-fill").value;if("linear-gradient"===n||"radial-gradient"===n)this.gradientStrokeStyle(e,t,n,r);else{var i=t.pstyle("line-color").value;this.colorStrokeStyle(e,i[0],i[1],i[2],r)}},Jd.matchCanvasSize=function(e){var t=this,r=t.data,n=t.findContainerClientCoords(),i=n[2],a=n[3],o=t.getPixelRatio(),s=t.motionBlurPxRatio;e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(o=s);var c,l=i*o,u=a*o;if(l!==t.canvasWidth||u!==t.canvasHeight){t.fontCaches=null;var d=r.canvasContainer;d.style.width=i+"px",d.style.height=a+"px";for(var h=0;h<t.CANVAS_LAYERS;h++)(c=r.canvases[h]).width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";for(h=0;h<t.BUFFER_COUNT;h++)(c=r.bufferCanvases[h]).width=l,c.height=u,c.style.width=i+"px",c.style.height=a+"px";t.textureMult=1,o<=1&&(c=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,c.width=l*t.textureMult,c.height=u*t.textureMult),t.canvasWidth=l,t.canvasHeight=u,t.pixelRatio=o}},Jd.renderTo=function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})},Jd.clearCanvas=function(){var e=this,t=e.data;function r(t){t.clearRect(0,0,e.canvasWidth,e.canvasHeight)}r(t.contexts[e.NODE]),r(t.contexts[e.DRAG])},Jd.render=function(e){var t=this;e=e||bt();var r=t.cy,n=e.forcedContext,i=e.drawAllLayers,a=e.drawOnlyNodeLayer,o=e.forcedZoom,s=e.forcedPan,c=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,l=t.data,u=l.canvasNeedsRedraw,d=t.textureOnViewport&&!n&&(t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming),h=void 0!==e.motionBlur?e.motionBlur:t.motionBlur,p=t.motionBlurPxRatio,f=r.hasCompoundNodes(),g=t.hoverData.draggingEles,y=!(!t.hoverData.selecting&&!t.touchData.selecting),m=h=h&&!n&&t.motionBlurEnabled&&!y;n||(t.prevPxRatio!==c&&(t.invalidateContainerClientCoordsCache(),t.matchCanvasSize(t.container),t.redrawHint("eles",!0),t.redrawHint("drag",!0)),t.prevPxRatio=c),!n&&t.motionBlurTimeout&&clearTimeout(t.motionBlurTimeout),h&&(null==t.mbFrames&&(t.mbFrames=0),t.mbFrames++,t.mbFrames<3&&(m=!1),t.mbFrames>t.minMbLowQualFrames&&(t.motionBlurPxRatio=t.mbPxRBlurry)),t.clearingMotionBlur&&(t.motionBlurPxRatio=1),t.textureDrawLastFrame&&!d&&(u[t.NODE]=!0,u[t.SELECT_BOX]=!0);var v=r.style(),b=r.zoom(),_=void 0!==o?o:b,w=r.pan(),x={x:w.x,y:w.y},S={zoom:b,pan:{x:w.x,y:w.y}},T=t.prevViewport;void 0===T||S.zoom!==T.zoom||S.pan.x!==T.pan.x||S.pan.y!==T.pan.y||g&&!f||(t.motionBlurPxRatio=1),s&&(x=s),_*=c,x.x*=c,x.y*=c;var O=t.getCachedZSortedEles();function E(e,r,n,i,a){var o=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",t.colorFillStyle(e,255,255,255,t.motionBlurTransparency),e.fillRect(r,n,i,a),e.globalCompositeOperation=o}function A(e,r){var a,c,u,d;t.clearingMotionBlur||e!==l.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]&&e!==l.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]?(a=x,c=_,u=t.canvasWidth,d=t.canvasHeight):(a={x:w.x*p,y:w.y*p},c=b*p,u=t.canvasWidth*p,d=t.canvasHeight*p),e.setTransform(1,0,0,1,0,0),"motionBlur"===r?E(e,0,0,u,d):n||void 0!==r&&!r||e.clearRect(0,0,u,d),i||(e.translate(a.x,a.y),e.scale(c,c)),s&&e.translate(s.x,s.y),o&&e.scale(o,o)}if(d||(t.textureDrawLastFrame=!1),d){if(t.textureDrawLastFrame=!0,!t.textureCache){t.textureCache={},t.textureCache.bb=r.mutableElements().boundingBox(),t.textureCache.texture=t.data.bufferCanvases[t.TEXTURE_BUFFER];var P=t.data.bufferContexts[t.TEXTURE_BUFFER];P.setTransform(1,0,0,1,0,0),P.clearRect(0,0,t.canvasWidth*t.textureMult,t.canvasHeight*t.textureMult),t.render({forcedContext:P,drawOnlyNodeLayer:!0,forcedPxRatio:c*t.textureMult}),(S=t.textureCache.viewport={zoom:r.zoom(),pan:r.pan(),width:t.canvasWidth,height:t.canvasHeight}).mpan={x:(0-S.pan.x)/S.zoom,y:(0-S.pan.y)/S.zoom}}u[t.DRAG]=!1,u[t.NODE]=!1;var N=l.contexts[t.NODE],j=t.textureCache.texture;S=t.textureCache.viewport;N.setTransform(1,0,0,1,0,0),h?E(N,0,0,S.width,S.height):N.clearRect(0,0,S.width,S.height);var D=v.core("outside-texture-bg-color").value,R=v.core("outside-texture-bg-opacity").value;t.colorFillStyle(N,D[0],D[1],D[2],R),N.fillRect(0,0,S.width,S.height);b=r.zoom();A(N,!1),N.clearRect(S.mpan.x,S.mpan.y,S.width/S.zoom/c,S.height/S.zoom/c),N.drawImage(j,S.mpan.x,S.mpan.y,S.width/S.zoom/c,S.height/S.zoom/c)}else t.textureOnViewport&&!n&&(t.textureCache=null);var I=r.extent(),F=t.pinching||t.hoverData.dragging||t.swipePanning||t.data.wheelZooming||t.hoverData.draggingEles||t.cy.animated(),C=t.hideEdgesOnViewport&&F,M=[];if(M[t.NODE]=!u[t.NODE]&&h&&!t.clearedForMotionBlur[t.NODE]||t.clearingMotionBlur,M[t.NODE]&&(t.clearedForMotionBlur[t.NODE]=!0),M[t.DRAG]=!u[t.DRAG]&&h&&!t.clearedForMotionBlur[t.DRAG]||t.clearingMotionBlur,M[t.DRAG]&&(t.clearedForMotionBlur[t.DRAG]=!0),u[t.NODE]||i||a||M[t.NODE]){var k=h&&!M[t.NODE]&&1!==p;A(N=n||(k?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_NODE]:l.contexts[t.NODE]),h&&!k?"motionBlur":void 0),C?t.drawCachedNodes(N,O.nondrag,c,I):t.drawLayeredElements(N,O.nondrag,c,I),t.debug&&t.drawDebugPoints(N,O.nondrag),i||h||(u[t.NODE]=!1)}if(!a&&(u[t.DRAG]||i||M[t.DRAG])){k=h&&!M[t.DRAG]&&1!==p;A(N=n||(k?t.data.bufferContexts[t.MOTIONBLUR_BUFFER_DRAG]:l.contexts[t.DRAG]),h&&!k?"motionBlur":void 0),C?t.drawCachedNodes(N,O.drag,c,I):t.drawCachedElements(N,O.drag,c,I),t.debug&&t.drawDebugPoints(N,O.drag),i||h||(u[t.DRAG]=!1)}if(this.drawSelectionRectangle(e,A),h&&1!==p){var L=l.contexts[t.NODE],B=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE],U=l.contexts[t.DRAG],V=t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG],z=function(e,r,n){e.setTransform(1,0,0,1,0,0),n||!m?e.clearRect(0,0,t.canvasWidth,t.canvasHeight):E(e,0,0,t.canvasWidth,t.canvasHeight);var i=p;e.drawImage(r,0,0,t.canvasWidth*i,t.canvasHeight*i,0,0,t.canvasWidth,t.canvasHeight)};(u[t.NODE]||M[t.NODE])&&(z(L,B,M[t.NODE]),u[t.NODE]=!1),(u[t.DRAG]||M[t.DRAG])&&(z(U,V,M[t.DRAG]),u[t.DRAG]=!1)}t.prevViewport=S,t.clearingMotionBlur&&(t.clearingMotionBlur=!1,t.motionBlurCleared=!0,t.motionBlur=!0),h&&(t.motionBlurTimeout=setTimeout(function(){t.motionBlurTimeout=null,t.clearedForMotionBlur[t.NODE]=!1,t.clearedForMotionBlur[t.DRAG]=!1,t.motionBlur=!1,t.clearingMotionBlur=!d,t.mbFrames=0,u[t.NODE]=!0,u[t.DRAG]=!0,t.redraw()},100)),n||r.emit("render")},Jd.drawSelectionRectangle=function(e,t){var r=this,n=r.cy,i=r.data,a=n.style(),o=e.drawOnlyNodeLayer,s=e.drawAllLayers,c=i.canvasNeedsRedraw,l=e.forcedContext;if(r.showFps||!o&&c[r.SELECT_BOX]&&!s){var u=l||i.contexts[r.SELECT_BOX];if(t(u),1==r.selection[4]&&(r.hoverData.selecting||r.touchData.selecting)){var d=r.cy.zoom(),h=a.core("selection-box-border-width").value/d;u.lineWidth=h,u.fillStyle="rgba("+a.core("selection-box-color").value[0]+","+a.core("selection-box-color").value[1]+","+a.core("selection-box-color").value[2]+","+a.core("selection-box-opacity").value+")",u.fillRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]),h>0&&(u.strokeStyle="rgba("+a.core("selection-box-border-color").value[0]+","+a.core("selection-box-border-color").value[1]+","+a.core("selection-box-border-color").value[2]+","+a.core("selection-box-opacity").value+")",u.strokeRect(r.selection[0],r.selection[1],r.selection[2]-r.selection[0],r.selection[3]-r.selection[1]))}if(i.bgActivePosistion&&!r.hoverData.selecting){d=r.cy.zoom();var p=i.bgActivePosistion;u.fillStyle="rgba("+a.core("active-bg-color").value[0]+","+a.core("active-bg-color").value[1]+","+a.core("active-bg-color").value[2]+","+a.core("active-bg-opacity").value+")",u.beginPath(),u.arc(p.x,p.y,a.core("active-bg-size").pfValue/d,0,2*Math.PI),u.fill()}var f=r.lastRedrawTime;if(r.showFps&&f){f=Math.round(f);var g=Math.round(1e3/f),y="1 frame = "+f+" ms = "+g+" fps";if(u.setTransform(1,0,0,1,0,0),u.fillStyle="rgba(255, 0, 0, 0.75)",u.strokeStyle="rgba(255, 0, 0, 0.75)",u.font="30px Arial",!Yd){var m=u.measureText(y);Yd=m.actualBoundingBoxAscent}u.fillText(y,0,Yd);u.strokeRect(0,Yd+10,250,20),u.fillRect(0,Yd+10,250*Math.min(g/60,1),20)}s||(c[r.SELECT_BOX]=!1)}};var dh="undefined"!==typeof Float32Array?Float32Array:Array;function hh(){var e=new dh(9);return dh!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function ph(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=1,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e}function fh(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],h=r[0],p=r[1];return e[0]=n,e[1]=i,e[2]=a,e[3]=o,e[4]=s,e[5]=c,e[6]=h*n+p*o+l,e[7]=h*i+p*s+u,e[8]=h*a+p*c+d,e}function gh(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],h=Math.sin(r),p=Math.cos(r);return e[0]=p*n+h*o,e[1]=p*i+h*s,e[2]=p*a+h*c,e[3]=p*o-h*n,e[4]=p*s-h*i,e[5]=p*c-h*a,e[6]=l,e[7]=u,e[8]=d,e}function yh(e,t,r){var n=r[0],i=r[1];return e[0]=n*t[0],e[1]=n*t[1],e[2]=n*t[2],e[3]=i*t[3],e[4]=i*t[4],e[5]=i*t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e}Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var mh=function(){return p(function e(t,r,n,i){h(this,e),this.debugID=Math.floor(1e4*Math.random()),this.r=t,this.texSize=r,this.texRows=n,this.texHeight=Math.floor(r/n),this.enableWrapping=!0,this.locked=!1,this.texture=null,this.needsBuffer=!0,this.freePointer={x:0,row:0},this.keyToLocation=new Map,this.canvas=i(t,r,r),this.scratch=i(t,r,this.texHeight,"scratch")},[{key:"lock",value:function(){this.locked=!0}},{key:"getKeys",value:function(){return new Set(this.keyToLocation.keys())}},{key:"getScale",value:function(e){var t=e.w,r=e.h,n=this.texHeight,i=this.texSize,a=n/r,o=t*a,s=r*a;return o>i&&(o=t*(a=i/t),s=r*a),{scale:a,texW:o,texH:s}}},{key:"draw",value:function(e,t,r){var n=this;if(this.locked)throw new Error("can't draw, atlas is locked");var i=this.texSize,a=this.texRows,o=this.texHeight,s=this.getScale(t),c=s.scale,l=s.texW,u=s.texH,d=function(e,n){if(r&&n){var i=n.context,a=e.x,s=e.row,l=a,u=o*s;i.save(),i.translate(l,u),i.scale(c,c),r(i,t),i.restore()}},h=[null,null],p=function(){d(n.freePointer,n.canvas),h[0]={x:n.freePointer.x,y:n.freePointer.row*o,w:l,h:u},h[1]={x:n.freePointer.x+l,y:n.freePointer.row*o,w:0,h:u},n.freePointer.x+=l,n.freePointer.x==i&&(n.freePointer.x=0,n.freePointer.row++)},f=function(){n.freePointer.x=0,n.freePointer.row++};if(this.freePointer.x+l<=i)p();else{if(this.freePointer.row>=a-1)return!1;this.freePointer.x===i?(f(),p()):this.enableWrapping?function(){var e=n.scratch,t=n.canvas;e.clear(),d({x:0,row:0},e);var r=i-n.freePointer.x,a=l-r,s=o,c=n.freePointer.x,p=n.freePointer.row*o,f=r;t.context.drawImage(e,0,0,f,s,c,p,f,s),h[0]={x:c,y:p,w:f,h:u};var g=r,y=(n.freePointer.row+1)*o,m=a;t&&t.context.drawImage(e,g,0,m,s,0,y,m,s),h[1]={x:0,y:y,w:m,h:u},n.freePointer.x=a,n.freePointer.row++}():(f(),p())}return this.keyToLocation.set(e,h),this.needsBuffer=!0,h}},{key:"getOffsets",value:function(e){return this.keyToLocation.get(e)}},{key:"isEmpty",value:function(){return 0===this.freePointer.x&&0===this.freePointer.row}},{key:"canFit",value:function(e){if(this.locked)return!1;var t=this.texSize,r=this.texRows,n=this.getScale(e).texW;return!(this.freePointer.x+n>t)||this.freePointer.row<r-1}},{key:"bufferIfNeeded",value:function(e){this.texture||(this.texture=function(e){var t=e.createTexture();return t.buffer=function(r){e.bindTexture(e.TEXTURE_2D,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR_MIPMAP_NEAREST),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r),e.generateMipmap(e.TEXTURE_2D),e.bindTexture(e.TEXTURE_2D,null)},t.deleteTexture=function(){e.deleteTexture(t)},t}(e,this.debugID)),this.needsBuffer&&(this.texture.buffer(this.canvas),this.needsBuffer=!1,this.locked&&(this.canvas=null,this.scratch=null))}},{key:"dispose",value:function(){this.texture&&(this.texture.deleteTexture(),this.texture=null),this.canvas=null,this.scratch=null,this.locked=!0}}])}(),vh=function(){return p(function e(t,r,n,i){h(this,e),this.r=t,this.texSize=r,this.texRows=n,this.createTextureCanvas=i,this.atlases=[],this.styleKeyToAtlas=new Map,this.markedKeys=new Set},[{key:"getKeys",value:function(){return new Set(this.styleKeyToAtlas.keys())}},{key:"_createAtlas",value:function(){var e=this.r,t=this.texSize,r=this.texRows,n=this.createTextureCanvas;return new mh(e,t,r,n)}},{key:"_getScratchCanvas",value:function(){if(!this.scratch){var e=this.r,t=this.texSize,r=this.texRows,n=this.createTextureCanvas,i=Math.floor(t/r);this.scratch=n(e,t,i,"scratch")}return this.scratch}},{key:"draw",value:function(e,t,r){var n=this.styleKeyToAtlas.get(e);return n||((n=this.atlases[this.atlases.length-1])&&n.canFit(t)||(n&&n.lock(),n=this._createAtlas(),this.atlases.push(n)),n.draw(e,t,r),this.styleKeyToAtlas.set(e,n)),n}},{key:"getAtlas",value:function(e){return this.styleKeyToAtlas.get(e)}},{key:"hasAtlas",value:function(e){return this.styleKeyToAtlas.has(e)}},{key:"markKeyForGC",value:function(e){this.markedKeys.add(e)}},{key:"gc",value:function(){var e=this,t=this.markedKeys;if(0!==t.size){var r,n=[],i=new Map,a=null,o=f(this.atlases);try{var s=function(){var o,s,c=r.value,l=c.getKeys(),u=(s=l,(o=t).intersection?o.intersection(s):new Set(m(o).filter(function(e){return s.has(e)})));if(0===u.size)return n.push(c),l.forEach(function(e){return i.set(e,c)}),1;a||(a=e._createAtlas(),n.push(a));var d,h=f(l);try{for(h.s();!(d=h.n()).done;){var p=d.value;if(!u.has(p)){var g=y(c.getOffsets(p),2),v=g[0],b=g[1];a.canFit({w:v.w+b.w,h:v.h})||(a.lock(),a=e._createAtlas(),n.push(a)),c.canvas&&(e._copyTextureToNewAtlas(p,c,a),i.set(p,a))}}}catch(_){h.e(_)}finally{h.f()}c.dispose()};for(o.s();!(r=o.n()).done;)s()}catch(c){o.e(c)}finally{o.f()}this.atlases=n,this.styleKeyToAtlas=i,this.markedKeys=new Set}else console.log("nothing to garbage collect")}},{key:"_copyTextureToNewAtlas",value:function(e,t,r){var n=y(t.getOffsets(e),2),i=n[0],a=n[1];if(0===a.w)r.draw(e,i,function(e){e.drawImage(t.canvas,i.x,i.y,i.w,i.h,0,0,i.w,i.h)});else{var o=this._getScratchCanvas();o.clear(),o.context.drawImage(t.canvas,i.x,i.y,i.w,i.h,0,0,i.w,i.h),o.context.drawImage(t.canvas,a.x,a.y,a.w,a.h,i.w,0,a.w,a.h);var s=i.w+a.w,c=i.h;r.draw(e,{w:s,h:c},function(e){e.drawImage(o,0,0,s,c,0,0,s,c)})}}},{key:"getCounts",value:function(){return{keyCount:this.styleKeyToAtlas.size,atlasCount:new Set(this.styleKeyToAtlas.values()).size}}}])}();var bh=function(){return p(function e(t,r){h(this,e),this.r=t,this.globalOptions=r,this.atlasSize=r.webglTexSize,this.maxAtlasesPerBatch=r.webglTexPerBatch,this.renderTypes=new Map,this.collections=new Map,this.typeAndIdToKey=new Map},[{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"addAtlasCollection",value:function(e,t){var r=this.globalOptions,n=r.webglTexSize,i=r.createTextureCanvas,a=t.texRows,o=this._cacheScratchCanvas(i),s=new vh(this.r,n,a,o);this.collections.set(e,s)}},{key:"addRenderType",value:function(e,t){var r=t.collection;if(!this.collections.has(r))throw new Error("invalid atlas collection name '".concat(r,"'"));var n=this.collections.get(r),i=Ae({type:e,atlasCollection:n},t);this.renderTypes.set(e,i)}},{key:"getRenderTypeOpts",value:function(e){return this.renderTypes.get(e)}},{key:"getAtlasCollection",value:function(e){return this.collections.get(e)}},{key:"_cacheScratchCanvas",value:function(e){var t=-1,r=-1,n=null;return function(i,a,o,s){return s?(n&&a==t&&o==r||(t=a,r=o,n=e(i,a,o)),n):e(i,a,o)}}},{key:"_key",value:function(e,t){return"".concat(e,"-").concat(t)}},{key:"invalidate",value:function(e){var t,r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=n.forceRedraw,a=void 0!==i&&i,o=n.filterEle,s=void 0===o?function(){return!0}:o,c=n.filterType,l=void 0===c?function(){return!0}:c,u=!1,d=!1,h=f(e);try{for(h.s();!(t=h.n()).done;){var p=t.value;if(s(p)){var g,y=f(this.renderTypes.values());try{var m=function(){var e=g.value,t=e.type;if(l(t)){var n=r.collections.get(e.collection),i=e.getKey(p),o=Array.isArray(i)?i:[i];if(a)o.forEach(function(e){return n.markKeyForGC(e)}),d=!0;else{var s=e.getID?e.getID(p):p.id(),c=r._key(t,s),h=r.typeAndIdToKey.get(c);void 0===h||nh(o,h)||(u=!0,r.typeAndIdToKey.delete(c),h.forEach(function(e){return n.markKeyForGC(e)}))}}};for(y.s();!(g=y.n()).done;)m()}catch(v){y.e(v)}finally{y.f()}}}}catch(v){h.e(v)}finally{h.f()}return d&&(this.gc(),u=!1),u}},{key:"gc",value:function(){var e,t=f(this.collections.values());try{for(t.s();!(e=t.n()).done;){e.value.gc()}}catch(r){t.e(r)}finally{t.f()}}},{key:"getOrCreateAtlas",value:function(e,t,r,n){var i=this.renderTypes.get(t),a=this.collections.get(i.collection),o=!1,s=a.draw(n,r,function(t){i.drawClipped?(t.save(),t.beginPath(),t.rect(0,0,r.w,r.h),t.clip(),i.drawElement(t,e,r,!0,!0),t.restore()):i.drawElement(t,e,r,!0,!0),o=!0});if(o){var c=i.getID?i.getID(e):e.id(),l=this._key(t,c);this.typeAndIdToKey.has(l)?this.typeAndIdToKey.get(l).push(n):this.typeAndIdToKey.set(l,[n])}return s}},{key:"getAtlasInfo",value:function(e,t){var r=this,n=this.renderTypes.get(t),i=n.getKey(e);return(Array.isArray(i)?i:[i]).map(function(i){var a=n.getBoundingBox(e,i),o=r.getOrCreateAtlas(e,t,a,i),s=y(o.getOffsets(i),2),c=s[0];return{atlas:o,tex:c,tex1:c,tex2:s[1],bb:a}})}},{key:"getDebugInfo",value:function(){var e,t=[],r=f(this.collections);try{for(r.s();!(e=r.n()).done;){var n=y(e.value,2),i=n[0],a=n[1].getCounts(),o=a.keyCount,s=a.atlasCount;t.push({type:i,keyCount:o,atlasCount:s})}}catch(c){r.e(c)}finally{r.f()}return t}}])}(),_h=function(){return p(function e(t){h(this,e),this.globalOptions=t,this.atlasSize=t.webglTexSize,this.maxAtlasesPerBatch=t.webglTexPerBatch,this.batchAtlases=[]},[{key:"getMaxAtlasesPerBatch",value:function(){return this.maxAtlasesPerBatch}},{key:"getAtlasSize",value:function(){return this.atlasSize}},{key:"getIndexArray",value:function(){return Array.from({length:this.maxAtlasesPerBatch},function(e,t){return t})}},{key:"startBatch",value:function(){this.batchAtlases=[]}},{key:"getAtlasCount",value:function(){return this.batchAtlases.length}},{key:"getAtlases",value:function(){return this.batchAtlases}},{key:"canAddToCurrentBatch",value:function(e){return this.batchAtlases.length!==this.maxAtlasesPerBatch||this.batchAtlases.includes(e)}},{key:"getAtlasIndexForBatch",value:function(e){var t=this.batchAtlases.indexOf(e);if(t<0){if(this.batchAtlases.length===this.maxAtlasesPerBatch)throw new Error("cannot add more atlases to batch");this.batchAtlases.push(e),t=this.batchAtlases.length-1}return t}}])}(),wh={SCREEN:{name:"screen",screen:!0},PICKING:{name:"picking",picking:!0}},xh=1,Sh=2,Th=function(){return p(function e(t,r,n){h(this,e),this.r=t,this.gl=r,this.maxInstances=n.webglBatchSize,this.atlasSize=n.webglTexSize,this.bgColor=n.bgColor,this.debug=n.webglDebug,this.batchDebugInfo=[],n.enableWrapping=!0,n.createTextureCanvas=eh,this.atlasManager=new bh(t,n),this.batchManager=new _h(n),this.simpleShapeOptions=new Map,this.program=this._createShaderProgram(wh.SCREEN),this.pickingProgram=this._createShaderProgram(wh.PICKING),this.vao=this._createVAO()},[{key:"addAtlasCollection",value:function(e,t){this.atlasManager.addAtlasCollection(e,t)}},{key:"addTextureAtlasRenderType",value:function(e,t){this.atlasManager.addRenderType(e,t)}},{key:"addSimpleShapeRenderType",value:function(e,t){this.simpleShapeOptions.set(e,t)}},{key:"invalidate",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).type,r=this.atlasManager;return t?r.invalidate(e,{filterType:function(e){return e===t},forceRedraw:!0}):r.invalidate(e)}},{key:"gc",value:function(){this.atlasManager.gc()}},{key:"_createShaderProgram",value:function(e){var t=this.gl,r="#version 300 es\n      precision highp float;\n\n      uniform mat3 uPanZoomMatrix;\n      uniform int  uAtlasSize;\n      \n      // instanced\n      in vec2 aPosition; // a vertex from the unit square\n      \n      in mat3 aTransform; // used to transform verticies, eg into a bounding box\n      in int aVertType; // the type of thing we are rendering\n\n      // the z-index that is output when using picking mode\n      in vec4 aIndex;\n      \n      // For textures\n      in int aAtlasId; // which shader unit/atlas to use\n      in vec4 aTex; // x/y/w/h of texture in atlas\n\n      // for edges\n      in vec4 aPointAPointB;\n      in vec4 aPointCPointD;\n      in vec2 aLineWidth; // also used for node border width\n\n      // simple shapes\n      in vec4 aCornerRadius; // for round-rectangle [top-right, bottom-right, top-left, bottom-left]\n      in vec4 aColor; // also used for edges\n      in vec4 aBorderColor; // aLineWidth is used for border width\n\n      // output values passed to the fragment shader\n      out vec2 vTexCoord;\n      out vec4 vColor;\n      out vec2 vPosition;\n      // flat values are not interpolated\n      flat out int vAtlasId; \n      flat out int vVertType;\n      flat out vec2 vTopRight;\n      flat out vec2 vBotLeft;\n      flat out vec4 vCornerRadius;\n      flat out vec4 vBorderColor;\n      flat out vec2 vBorderWidth;\n      flat out vec4 vIndex;\n      \n      void main(void) {\n        int vid = gl_VertexID;\n        vec2 position = aPosition; // TODO make this a vec3, simplifies some code below\n\n        if(aVertType == ".concat(0,") {\n          float texX = aTex.x; // texture coordinates\n          float texY = aTex.y;\n          float texW = aTex.z;\n          float texH = aTex.w;\n\n          if(vid == 1 || vid == 2 || vid == 4) {\n            texX += texW;\n          }\n          if(vid == 2 || vid == 4 || vid == 5) {\n            texY += texH;\n          }\n\n          float d = float(uAtlasSize);\n          vTexCoord = vec2(texX / d, texY / d); // tex coords must be between 0 and 1\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n        }\n        else if(aVertType == ").concat(4," || aVertType == ").concat(7," \n             || aVertType == ").concat(5," || aVertType == ").concat(6,") { // simple shapes\n\n          // the bounding box is needed by the fragment shader\n          vBotLeft  = (aTransform * vec3(0, 0, 1)).xy; // flat\n          vTopRight = (aTransform * vec3(1, 1, 1)).xy; // flat\n          vPosition = (aTransform * vec3(position, 1)).xy; // will be interpolated\n\n          // calculations are done in the fragment shader, just pass these along\n          vColor = aColor;\n          vCornerRadius = aCornerRadius;\n          vBorderColor = aBorderColor;\n          vBorderWidth = aLineWidth;\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n        }\n        else if(aVertType == ").concat(1,") {\n          vec2 source = aPointAPointB.xy;\n          vec2 target = aPointAPointB.zw;\n\n          // adjust the geometry so that the line is centered on the edge\n          position.y = position.y - 0.5;\n\n          // stretch the unit square into a long skinny rectangle\n          vec2 xBasis = target - source;\n          vec2 yBasis = normalize(vec2(-xBasis.y, xBasis.x));\n          vec2 point = source + xBasis * position.x + yBasis * aLineWidth[0] * position.y;\n\n          gl_Position = vec4(uPanZoomMatrix * vec3(point, 1.0), 1.0);\n          vColor = aColor;\n        } \n        else if(aVertType == ").concat(2,") {\n          vec2 pointA = aPointAPointB.xy;\n          vec2 pointB = aPointAPointB.zw;\n          vec2 pointC = aPointCPointD.xy;\n          vec2 pointD = aPointCPointD.zw;\n\n          // adjust the geometry so that the line is centered on the edge\n          position.y = position.y - 0.5;\n\n          vec2 p0, p1, p2, pos;\n          if(position.x == 0.0) { // The left side of the unit square\n            p0 = pointA;\n            p1 = pointB;\n            p2 = pointC;\n            pos = position;\n          } else { // The right side of the unit square, use same approach but flip the geometry upside down\n            p0 = pointD;\n            p1 = pointC;\n            p2 = pointB;\n            pos = vec2(0.0, -position.y);\n          }\n\n          vec2 p01 = p1 - p0;\n          vec2 p12 = p2 - p1;\n          vec2 p21 = p1 - p2;\n\n          // Find the normal vector.\n          vec2 tangent = normalize(normalize(p12) + normalize(p01));\n          vec2 normal = vec2(-tangent.y, tangent.x);\n\n          // Find the vector perpendicular to p0 -> p1.\n          vec2 p01Norm = normalize(vec2(-p01.y, p01.x));\n\n          // Determine the bend direction.\n          float sigma = sign(dot(p01 + p21, normal));\n          float width = aLineWidth[0];\n\n          if(sign(pos.y) == -sigma) {\n            // This is an intersecting vertex. Adjust the position so that there's no overlap.\n            vec2 point = 0.5 * width * normal * -sigma / dot(normal, p01Norm);\n            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);\n          } else {\n            // This is a non-intersecting vertex. Treat it like a mitre join.\n            vec2 point = 0.5 * width * normal * sigma * dot(normal, p01Norm);\n            gl_Position = vec4(uPanZoomMatrix * vec3(p1 + point, 1.0), 1.0);\n          }\n\n          vColor = aColor;\n        } \n        else if(aVertType == ").concat(3," && vid < 3) {\n          // massage the first triangle into an edge arrow\n          if(vid == 0)\n            position = vec2(-0.15, -0.3);\n          if(vid == 1)\n            position = vec2(  0.0,  0.0);\n          if(vid == 2)\n            position = vec2( 0.15, -0.3);\n\n          gl_Position = vec4(uPanZoomMatrix * aTransform * vec3(position, 1.0), 1.0);\n          vColor = aColor;\n        }\n        else {\n          gl_Position = vec4(2.0, 0.0, 0.0, 1.0); // discard vertex by putting it outside webgl clip space\n        }\n\n        vAtlasId = aAtlasId;\n        vVertType = aVertType;\n        vIndex = aIndex;\n      }\n    "),n=this.batchManager.getIndexArray(),i="#version 300 es\n      precision highp float;\n\n      // declare texture unit for each texture atlas in the batch\n      ".concat(n.map(function(e){return"uniform sampler2D uTexture".concat(e,";")}).join("\n\t"),"\n\n      uniform vec4 uBGColor;\n      uniform float uZoom;\n\n      in vec2 vTexCoord;\n      in vec4 vColor;\n      in vec2 vPosition; // model coordinates\n\n      flat in int vAtlasId;\n      flat in vec4 vIndex;\n      flat in int vVertType;\n      flat in vec2 vTopRight;\n      flat in vec2 vBotLeft;\n      flat in vec4 vCornerRadius;\n      flat in vec4 vBorderColor;\n      flat in vec2 vBorderWidth;\n\n      out vec4 outColor;\n\n      ").concat("\n  float circleSD(vec2 p, float r) {\n    return distance(vec2(0), p) - r; // signed distance\n  }\n","\n      ").concat("\n  float rectangleSD(vec2 p, vec2 b) {\n    vec2 d = abs(p)-b;\n    return distance(vec2(0),max(d,0.0)) + min(max(d.x,d.y),0.0);\n  }\n","\n      ").concat("\n  float roundRectangleSD(vec2 p, vec2 b, vec4 cr) {\n    cr.xy = (p.x > 0.0) ? cr.xy : cr.zw;\n    cr.x  = (p.y > 0.0) ? cr.x  : cr.y;\n    vec2 q = abs(p) - b + cr.x;\n    return min(max(q.x, q.y), 0.0) + distance(vec2(0), max(q, 0.0)) - cr.x;\n  }\n","\n      ").concat("\n  float ellipseSD(vec2 p, vec2 ab) {\n    p = abs( p ); // symmetry\n\n    // find root with Newton solver\n    vec2 q = ab*(p-ab);\n    float w = (q.x<q.y)? 1.570796327 : 0.0;\n    for( int i=0; i<5; i++ ) {\n      vec2 cs = vec2(cos(w),sin(w));\n      vec2 u = ab*vec2( cs.x,cs.y);\n      vec2 v = ab*vec2(-cs.y,cs.x);\n      w = w + dot(p-u,v)/(dot(p-u,u)+dot(v,v));\n    }\n    \n    // compute final point and distance\n    float d = length(p-ab*vec2(cos(w),sin(w)));\n    \n    // return signed distance\n    return (dot(p/ab,p/ab)>1.0) ? d : -d;\n  }\n","\n\n      vec4 blend(vec4 top, vec4 bot) { // blend colors with premultiplied alpha\n        return vec4( \n          top.rgb + (bot.rgb * (1.0 - top.a)),\n          top.a   + (bot.a   * (1.0 - top.a)) \n        );\n      }\n\n      vec4 distInterp(vec4 cA, vec4 cB, float d) { // interpolate color using Signed Distance\n        // scale to the zoom level so that borders don't look blurry when zoomed in\n        // note 1.5 is an aribitrary value chosen because it looks good\n        return mix(cA, cB, 1.0 - smoothstep(0.0, 1.5 / uZoom, abs(d))); \n      }\n\n      void main(void) {\n        if(vVertType == ").concat(0,") {\n          // look up the texel from the texture unit\n          ").concat(n.map(function(e){return"if(vAtlasId == ".concat(e,") outColor = texture(uTexture").concat(e,", vTexCoord);")}).join("\n\telse "),"\n        } \n        else if(vVertType == ").concat(3,") {\n          // mimics how canvas renderer uses context.globalCompositeOperation = 'destination-out';\n          outColor = blend(vColor, uBGColor);\n          outColor.a = 1.0; // make opaque, masks out line under arrow\n        }\n        else if(vVertType == ").concat(4," && vBorderWidth == vec2(0.0)) { // simple rectangle with no border\n          outColor = vColor; // unit square is already transformed to the rectangle, nothing else needs to be done\n        }\n        else if(vVertType == ").concat(4," || vVertType == ").concat(7," \n          || vVertType == ").concat(5," || vVertType == ").concat(6,") { // use SDF\n\n          float outerBorder = vBorderWidth[0];\n          float innerBorder = vBorderWidth[1];\n          float borderPadding = outerBorder * 2.0;\n          float w = vTopRight.x - vBotLeft.x - borderPadding;\n          float h = vTopRight.y - vBotLeft.y - borderPadding;\n          vec2 b = vec2(w/2.0, h/2.0); // half width, half height\n          vec2 p = vPosition - vec2(vTopRight.x - b[0] - outerBorder, vTopRight.y - b[1] - outerBorder); // translate to center\n\n          float d; // signed distance\n          if(vVertType == ").concat(4,") {\n            d = rectangleSD(p, b);\n          } else if(vVertType == ").concat(7," && w == h) {\n            d = circleSD(p, b.x); // faster than ellipse\n          } else if(vVertType == ").concat(7,") {\n            d = ellipseSD(p, b);\n          } else {\n            d = roundRectangleSD(p, b, vCornerRadius.wzyx);\n          }\n\n          // use the distance to interpolate a color to smooth the edges of the shape, doesn't need multisampling\n          // we must smooth colors inwards, because we can't change pixels outside the shape's bounding box\n          if(d > 0.0) {\n            if(d > outerBorder) {\n              discard;\n            } else {\n              outColor = distInterp(vBorderColor, vec4(0), d - outerBorder);\n            }\n          } else {\n            if(d > innerBorder) {\n              vec4 outerColor = outerBorder == 0.0 ? vec4(0) : vBorderColor;\n              vec4 innerBorderColor = blend(vBorderColor, vColor);\n              outColor = distInterp(innerBorderColor, outerColor, d);\n            } \n            else {\n              vec4 outerColor;\n              if(innerBorder == 0.0 && outerBorder == 0.0) {\n                outerColor = vec4(0);\n              } else if(innerBorder == 0.0) {\n                outerColor = vBorderColor;\n              } else {\n                outerColor = blend(vBorderColor, vColor);\n              }\n              outColor = distInterp(vColor, outerColor, d - innerBorder);\n            }\n          }\n        }\n        else {\n          outColor = vColor;\n        }\n\n        ").concat(e.picking?"if(outColor.a == 0.0) discard;\n             else outColor = vIndex;":"","\n      }\n    "),a=function(e,t,r){var n=Zd(e,e.VERTEX_SHADER,t),i=Zd(e,e.FRAGMENT_SHADER,r),a=e.createProgram();if(e.attachShader(a,n),e.attachShader(a,i),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Error("Could not initialize shaders");return a}(t,r,i);a.aPosition=t.getAttribLocation(a,"aPosition"),a.aIndex=t.getAttribLocation(a,"aIndex"),a.aVertType=t.getAttribLocation(a,"aVertType"),a.aTransform=t.getAttribLocation(a,"aTransform"),a.aAtlasId=t.getAttribLocation(a,"aAtlasId"),a.aTex=t.getAttribLocation(a,"aTex"),a.aPointAPointB=t.getAttribLocation(a,"aPointAPointB"),a.aPointCPointD=t.getAttribLocation(a,"aPointCPointD"),a.aLineWidth=t.getAttribLocation(a,"aLineWidth"),a.aColor=t.getAttribLocation(a,"aColor"),a.aCornerRadius=t.getAttribLocation(a,"aCornerRadius"),a.aBorderColor=t.getAttribLocation(a,"aBorderColor"),a.uPanZoomMatrix=t.getUniformLocation(a,"uPanZoomMatrix"),a.uAtlasSize=t.getUniformLocation(a,"uAtlasSize"),a.uBGColor=t.getUniformLocation(a,"uBGColor"),a.uZoom=t.getUniformLocation(a,"uZoom"),a.uTextures=[];for(var o=0;o<this.batchManager.getMaxAtlasesPerBatch();o++)a.uTextures.push(t.getUniformLocation(a,"uTexture".concat(o)));return a}},{key:"_createVAO",value:function(){var e=[0,0,1,0,1,1,0,0,1,1,0,1];this.vertexCount=e.length/2;var t=this.maxInstances,r=this.gl,n=this.program,i=r.createVertexArray();return r.bindVertexArray(i),function(e,t,r,n){var i=y(sh(e,t),2),a=i[0],o=i[1],s=ch(e,o,n),c=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,c),e.bufferData(e.ARRAY_BUFFER,s,e.STATIC_DRAW),o===e.FLOAT?e.vertexAttribPointer(r,a,o,!1,0,0):o===e.INT&&e.vertexAttribIPointer(r,a,o,0,0),e.enableVertexAttribArray(r),e.bindBuffer(e.ARRAY_BUFFER,null)}(r,"vec2",n.aPosition,e),this.transformBuffer=function(e,t,r){for(var n=new Float32Array(9*t),i=new Array(t),a=0;a<t;a++){var o=9*a*4;i[a]=new Float32Array(n.buffer,o,9)}var s=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferData(e.ARRAY_BUFFER,n.byteLength,e.DYNAMIC_DRAW);for(var c=0;c<3;c++){var l=r+c;e.enableVertexAttribArray(l),e.vertexAttribPointer(l,3,e.FLOAT,!1,36,12*c),e.vertexAttribDivisor(l,1)}return e.bindBuffer(e.ARRAY_BUFFER,null),s.getMatrixView=function(e){return i[e]},s.setData=function(e,t){i[t].set(e,0)},s.bufferSubData=function(){e.bindBuffer(e.ARRAY_BUFFER,s),e.bufferSubData(e.ARRAY_BUFFER,0,n)},s}(r,t,n.aTransform),this.indexBuffer=uh(r,t,"vec4",n.aIndex),this.vertTypeBuffer=uh(r,t,"int",n.aVertType),this.atlasIdBuffer=uh(r,t,"int",n.aAtlasId),this.texBuffer=uh(r,t,"vec4",n.aTex),this.pointAPointBBuffer=uh(r,t,"vec4",n.aPointAPointB),this.pointCPointDBuffer=uh(r,t,"vec4",n.aPointCPointD),this.lineWidthBuffer=uh(r,t,"vec2",n.aLineWidth),this.colorBuffer=uh(r,t,"vec4",n.aColor),this.cornerRadiusBuffer=uh(r,t,"vec4",n.aCornerRadius),this.borderColorBuffer=uh(r,t,"vec4",n.aBorderColor),r.bindVertexArray(null),i}},{key:"buffers",get:function(){var e=this;return this._buffers||(this._buffers=Object.keys(this).filter(function(e){return _e(e,"Buffer")}).map(function(t){return e[t]})),this._buffers}},{key:"startFrame",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wh.SCREEN;this.panZoomMatrix=e,this.renderTarget=t,this.batchDebugInfo=[],this.wrappedCount=0,this.simpleCount=0,this.startBatch()}},{key:"startBatch",value:function(){this.instanceCount=0,this.batchManager.startBatch()}},{key:"endFrame",value:function(){this.endBatch()}},{key:"_isVisible",value:function(e,t){return!!e.visible()&&(!t||!t.isVisible||t.isVisible(e))}},{key:"drawTexture",value:function(e,t,r){var n=this.atlasManager,i=this.batchManager,a=n.getRenderTypeOpts(r);if(this._isVisible(e,a)){if(this.renderTarget.picking&&a.getTexPickingMode){var o=a.getTexPickingMode(e);if(o===xh)return;if(o==Sh)return void this.drawPickingRectangle(e,t,r)}var s,c=f(n.getAtlasInfo(e,r));try{for(c.s();!(s=c.n()).done;){var l=s.value,u=l.atlas,d=l.tex1,h=l.tex2;i.canAddToCurrentBatch(u)||this.endBatch();for(var p=i.getAtlasIndexForBatch(u),g=0,m=[[d,!0],[h,!1]];g<m.length;g++){var v=y(m[g],2),b=v[0],_=v[1];if(0!=b.w){var w=this.instanceCount;this.vertTypeBuffer.getView(w)[0]=0,ah(t,this.indexBuffer.getView(w)),this.atlasIdBuffer.getView(w)[0]=p;var x=this.texBuffer.getView(w);x[0]=b.x,x[1]=b.y,x[2]=b.w,x[3]=b.h;var S=this.transformBuffer.getMatrixView(w);this.setTransformMatrix(e,S,a,l,_),this.instanceCount++,_||this.wrappedCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}catch(T){c.e(T)}finally{c.f()}}}},{key:"setTransformMatrix",value:function(e,t,r,n){var i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=0;if(r.shapeProps&&r.shapeProps.padding&&(a=e.pstyle(r.shapeProps.padding).pfValue),n){var o=n.bb,s=n.tex1,c=n.tex2,l=s.w/(s.w+c.w);i||(l=1-l);var u=this._getAdjustedBB(o,a,i,l);this._applyTransformMatrix(t,u,r,e)}else{var d=r.getBoundingBox(e),h=this._getAdjustedBB(d,a,!0,1);this._applyTransformMatrix(t,h,r,e)}}},{key:"_applyTransformMatrix",value:function(e,t,r,n){var i,a;ph(e);var o=r.getRotation?r.getRotation(n):0;if(0!==o){var s=r.getRotationPoint(n);fh(e,e,[s.x,s.y]),gh(e,e,o);var c=r.getRotationOffset(n);i=c.x+(t.xOffset||0),a=c.y+(t.yOffset||0)}else i=t.x1,a=t.y1;fh(e,e,[i,a]),yh(e,e,[t.w,t.h])}},{key:"_getAdjustedBB",value:function(e,t,r,n){var i=e.x1,a=e.y1,o=e.w,s=e.h;t&&(i-=t,a-=t,o+=2*t,s+=2*t);var c=0,l=o*n;return r&&n<1?o=l:!r&&n<1&&(i+=c=o-l,o=l),{x1:i,y1:a,w:o,h:s,xOffset:c,yOffset:e.yOffset}}},{key:"drawPickingRectangle",value:function(e,t,r){var n=this.atlasManager.getRenderTypeOpts(r),i=this.instanceCount;this.vertTypeBuffer.getView(i)[0]=4,ah(t,this.indexBuffer.getView(i)),ih([0,0,0],1,this.colorBuffer.getView(i));var a=this.transformBuffer.getMatrixView(i);this.setTransformMatrix(e,a,n),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}},{key:"drawNode",value:function(e,t,r){var n=this.simpleShapeOptions.get(r);if(this._isVisible(e,n)){var i=n.shapeProps,a=this._getVertTypeForShape(e,i.shape);if(void 0===a||n.isSimple&&!n.isSimple(e))this.drawTexture(e,t,r);else{var o=this.instanceCount;if(this.vertTypeBuffer.getView(o)[0]=a,5===a||6===a){var s=n.getBoundingBox(e),c=this._getCornerRadius(e,i.radius,s),l=this.cornerRadiusBuffer.getView(o);l[0]=c,l[1]=c,l[2]=c,l[3]=c,6===a&&(l[0]=0,l[2]=0)}ah(t,this.indexBuffer.getView(o)),ih(e.pstyle(i.color).value,e.pstyle(i.opacity).value,this.colorBuffer.getView(o));var u=this.lineWidthBuffer.getView(o);if(u[0]=0,u[1]=0,i.border){var d=e.pstyle("border-width").value;if(d>0){ih(e.pstyle("border-color").value,e.pstyle("border-opacity").value,this.borderColorBuffer.getView(o));var h=e.pstyle("border-position").value;if("inside"===h)u[0]=0,u[1]=-d;else if("outside"===h)u[0]=d,u[1]=0;else{var p=d/2;u[0]=p,u[1]=-p}}}var f=this.transformBuffer.getMatrixView(o);this.setTransformMatrix(e,f,n),this.simpleCount++,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"_getVertTypeForShape",value:function(e,t){switch(e.pstyle(t).value){case"rectangle":return 4;case"ellipse":return 7;case"roundrectangle":case"round-rectangle":return 5;case"bottom-round-rectangle":return 6;default:return}}},{key:"_getCornerRadius",value:function(e,t,r){var n=r.w,i=r.h;if("auto"===e.pstyle(t).value)return Vr(n,i);var a=e.pstyle(t).pfValue,o=n/2,s=i/2;return Math.min(a,s,o)}},{key:"drawEdgeArrow",value:function(e,t,r){if(e.visible()){var n,i,a,o=e._private.rscratch;if("source"===r?(n=o.arrowStartX,i=o.arrowStartY,a=o.srcArrowAngle):(n=o.arrowEndX,i=o.arrowEndY,a=o.tgtArrowAngle),!(isNaN(n)||null==n||isNaN(i)||null==i||isNaN(a)||null==a))if("none"!==e.pstyle(r+"-arrow-shape").value){var s=e.pstyle(r+"-arrow-color").value,c=e.pstyle("opacity").value*e.pstyle("line-opacity").value,l=e.pstyle("width").pfValue,u=e.pstyle("arrow-scale").value,d=this.r.getArrowWidth(l,u),h=this.instanceCount,p=this.transformBuffer.getMatrixView(h);ph(p),fh(p,p,[n,i]),yh(p,p,[d,d]),gh(p,p,a),this.vertTypeBuffer.getView(h)[0]=3,ah(t,this.indexBuffer.getView(h)),ih(s,c,this.colorBuffer.getView(h)),this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}},{key:"drawEdgeLine",value:function(e,t){if(e.visible()){var r=this._getEdgePoints(e);if(r){var n=e.pstyle("opacity").value,i=e.pstyle("line-opacity").value,a=e.pstyle("width").pfValue,o=e.pstyle("line-color").value,s=n*i;if(r.length/2+this.instanceCount>this.maxInstances&&this.endBatch(),4==r.length){var c=this.instanceCount;this.vertTypeBuffer.getView(c)[0]=1,ah(t,this.indexBuffer.getView(c)),ih(o,s,this.colorBuffer.getView(c)),this.lineWidthBuffer.getView(c)[0]=a;var l=this.pointAPointBBuffer.getView(c);l[0]=r[0],l[1]=r[1],l[2]=r[2],l[3]=r[3],this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}else for(var u=0;u<r.length-2;u+=2){var d=this.instanceCount;this.vertTypeBuffer.getView(d)[0]=2,ah(t,this.indexBuffer.getView(d)),ih(o,s,this.colorBuffer.getView(d)),this.lineWidthBuffer.getView(d)[0]=a;var h=r[u-2],p=r[u-1],f=r[u],g=r[u+1],y=r[u+2],m=r[u+3],v=r[u+4],b=r[u+5];0==u&&(h=2*f-y+.001,p=2*g-m+.001),u==r.length-4&&(v=2*y-f+.001,b=2*m-g+.001);var _=this.pointAPointBBuffer.getView(d);_[0]=h,_[1]=p,_[2]=f,_[3]=g;var w=this.pointCPointDBuffer.getView(d);w[0]=y,w[1]=m,w[2]=v,w[3]=b,this.instanceCount++,this.instanceCount>=this.maxInstances&&this.endBatch()}}}}},{key:"_getEdgePoints",value:function(e){var t=e._private.rscratch;if(!t.badLine&&null!=t.allpts&&!isNaN(t.allpts[0])){var r=t.allpts;if(4==r.length)return r;var n=this._getNumSegments(e);return this._getCurveSegmentPoints(r,n)}}},{key:"_getNumSegments",value:function(e){return Math.min(Math.max(15,5),this.maxInstances)}},{key:"_getCurveSegmentPoints",value:function(e,t){if(4==e.length)return e;for(var r=Array(2*(t+1)),n=0;n<=t;n++)if(0==n)r[0]=e[0],r[1]=e[1];else if(n==t)r[2*n]=e[e.length-2],r[2*n+1]=e[e.length-1];else{var i=n/t;this._setCurvePoint(e,i,r,2*n)}return r}},{key:"_setCurvePoint",value:function(e,t,r,n){if(!(e.length<=2)){for(var i=Array(e.length-2),a=0;a<i.length;a+=2){var o=(1-t)*e[a]+t*e[a+2],s=(1-t)*e[a+1]+t*e[a+3];i[a]=o,i[a+1]=s}return this._setCurvePoint(i,t,r,n)}r[n]=e[0],r[n+1]=e[1]}},{key:"endBatch",value:function(){var e=this.gl,t=this.vao,r=this.vertexCount,n=this.instanceCount;if(0!==n){var i=this.renderTarget.picking?this.pickingProgram:this.program;e.useProgram(i),e.bindVertexArray(t);var a,o=f(this.buffers);try{for(o.s();!(a=o.n()).done;){a.value.bufferSubData(n)}}catch(d){o.e(d)}finally{o.f()}for(var s=this.batchManager.getAtlases(),c=0;c<s.length;c++)s[c].bufferIfNeeded(e);for(var l=0;l<s.length;l++)e.activeTexture(e.TEXTURE0+l),e.bindTexture(e.TEXTURE_2D,s[l].texture),e.uniform1i(i.uTextures[l],l);e.uniform1f(i.uZoom,function(e){var t=e.pixelRatio;return e.cy.zoom()*t}(this.r)),e.uniformMatrix3fv(i.uPanZoomMatrix,!1,this.panZoomMatrix),e.uniform1i(i.uAtlasSize,this.batchManager.getAtlasSize());var u=ih(this.bgColor,1);e.uniform4fv(i.uBGColor,u),e.drawArraysInstanced(e.TRIANGLES,0,r,n),e.bindVertexArray(null),e.bindTexture(e.TEXTURE_2D,null),this.debug&&this.batchDebugInfo.push({count:n,atlasCount:s.length}),this.startBatch()}}},{key:"getDebugInfo",value:function(){var e=this.atlasManager.getDebugInfo(),t=e.reduce(function(e,t){return e+t.atlasCount},0),r=this.batchDebugInfo,n=r.reduce(function(e,t){return e+t.count},0);return{atlasInfo:e,totalAtlases:t,wrappedCount:this.wrappedCount,simpleCount:this.simpleCount,batchCount:r.length,batchInfo:r,totalInstances:n}}}])}(),Oh={};function Eh(e,t){var r=e._private.rscratch;return St(r,"labelWrapCachedLines",t)||[]}Oh.initWebgl=function(e,t){var r=this,n=r.data.contexts[r.WEBGL];e.bgColor=function(e){var t=e.cy.container(),r=t&&t.style&&t.style.backgroundColor||"white";return Pe(r)}(r),e.webglTexSize=Math.min(e.webglTexSize,n.getParameter(n.MAX_TEXTURE_SIZE)),e.webglTexRows=Math.min(e.webglTexRows,54),e.webglTexRowsNodes=Math.min(e.webglTexRowsNodes,54),e.webglBatchSize=Math.min(e.webglBatchSize,16384),e.webglTexPerBatch=Math.min(e.webglTexPerBatch,n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS)),r.webglDebug=e.webglDebug,r.webglDebugShowAtlases=e.webglDebugShowAtlases,r.pickingFrameBuffer=function(e){var t=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,t);var r=e.createTexture();return e.bindTexture(e.TEXTURE_2D,r),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.bindFramebuffer(e.FRAMEBUFFER,null),t.setFramebufferAttachmentSizes=function(t,n){e.bindTexture(e.TEXTURE_2D,r),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null)},t}(n),r.pickingFrameBuffer.needsDraw=!0,r.drawing=new Th(r,n,e);var i=function(e){return function(t){return r.getTextAngle(t,e)}},a=function(e){return function(t){var r=t.pstyle(e);return r&&r.value}},o=function(e){return function(t){return t.pstyle("".concat(e,"-opacity")).value>0}},s=function(e){return"yes"===e.pstyle("text-events").strValue?Sh:xh},c=function(e){var t=e.position(),r=t.x,n=t.y,i=e.outerWidth(),a=e.outerHeight();return{w:i,h:a,x1:r-i/2,y1:n-a/2}};r.drawing.addAtlasCollection("node",{texRows:e.webglTexRowsNodes}),r.drawing.addAtlasCollection("label",{texRows:e.webglTexRows}),r.drawing.addTextureAtlasRenderType("node-body",{collection:"node",getKey:t.getStyleKey,getBoundingBox:t.getElementBox,drawElement:t.drawElement}),r.drawing.addSimpleShapeRenderType("node-body",{getBoundingBox:c,isSimple:rh,shapeProps:{shape:"shape",color:"background-color",opacity:"background-opacity",radius:"corner-radius",border:!0}}),r.drawing.addSimpleShapeRenderType("node-overlay",{getBoundingBox:c,isVisible:o("overlay"),shapeProps:{shape:"overlay-shape",color:"overlay-color",opacity:"overlay-opacity",padding:"overlay-padding",radius:"overlay-corner-radius"}}),r.drawing.addSimpleShapeRenderType("node-underlay",{getBoundingBox:c,isVisible:o("underlay"),shapeProps:{shape:"underlay-shape",color:"underlay-color",opacity:"underlay-opacity",padding:"underlay-padding",radius:"underlay-corner-radius"}}),r.drawing.addTextureAtlasRenderType("label",{collection:"label",getTexPickingMode:s,getKey:Ah(t.getLabelKey,null),getBoundingBox:Ph(t.getLabelBox,null),drawClipped:!0,drawElement:t.drawLabel,getRotation:i(null),getRotationPoint:t.getLabelRotationPoint,getRotationOffset:t.getLabelRotationOffset,isVisible:a("label")}),r.drawing.addTextureAtlasRenderType("edge-source-label",{collection:"label",getTexPickingMode:s,getKey:Ah(t.getSourceLabelKey,"source"),getBoundingBox:Ph(t.getSourceLabelBox,"source"),drawClipped:!0,drawElement:t.drawSourceLabel,getRotation:i("source"),getRotationPoint:t.getSourceLabelRotationPoint,getRotationOffset:t.getSourceLabelRotationOffset,isVisible:a("source-label")}),r.drawing.addTextureAtlasRenderType("edge-target-label",{collection:"label",getTexPickingMode:s,getKey:Ah(t.getTargetLabelKey,"target"),getBoundingBox:Ph(t.getTargetLabelBox,"target"),drawClipped:!0,drawElement:t.drawTargetLabel,getRotation:i("target"),getRotationPoint:t.getTargetLabelRotationPoint,getRotationOffset:t.getTargetLabelRotationOffset,isVisible:a("target-label")});var l=Ve(function(){console.log("garbage collect flag set"),r.data.gc=!0},1e4);r.onUpdateEleCalcs(function(e,t){var n=!1;t&&t.length>0&&(n|=r.drawing.invalidate(t)),n&&l()}),function(e){var t=e.render;e.render=function(r){r=r||{};var n=e.cy;e.webgl&&(n.zoom()>wd?(!function(e){var t=e.data.contexts[e.WEBGL];t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}(e),t.call(e,r)):(!function(e){var t=function(t){t.save(),t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.canvasWidth,e.canvasHeight),t.restore()};t(e.data.contexts[e.NODE]),t(e.data.contexts[e.DRAG])}(e),Dh(e,r,wh.SCREEN)))};var r=e.matchCanvasSize;e.matchCanvasSize=function(t){r.call(e,t),e.pickingFrameBuffer.setFramebufferAttachmentSizes(e.canvasWidth,e.canvasHeight),e.pickingFrameBuffer.needsDraw=!0},e.findNearestElements=function(t,r,n,i){return function(e,t,r){var n,i,a,o=function(e,t,r){var n,i,a,o,s=th(e),c=s.pan,l=s.zoom,u=function(e,t,r,n,i){var a=n*r+t.x,o=i*r+t.y;return[a,o=Math.round(e.canvasHeight-o)]}(e,c,l,t,r),d=y(u,2),h=d[0],p=d[1],f=6;if(n=h-f/2,i=p-f/2,a=f,o=f,0===a||0===o)return[];var g=e.data.contexts[e.WEBGL];g.bindFramebuffer(g.FRAMEBUFFER,e.pickingFrameBuffer),e.pickingFrameBuffer.needsDraw&&(g.viewport(0,0,g.canvas.width,g.canvas.height),Dh(e,null,wh.PICKING),e.pickingFrameBuffer.needsDraw=!1);var m=a*o,v=new Uint8Array(4*m);g.readPixels(n,i,a,o,g.RGBA,g.UNSIGNED_BYTE,v),g.bindFramebuffer(g.FRAMEBUFFER,null);for(var b=new Set,_=0;_<m;_++){var w=oh(v.slice(4*_,4*_+4))-1;w>=0&&b.add(w)}return b}(e,t,r),s=e.getCachedZSortedEles(),c=f(o);try{for(c.s();!(a=c.n()).done;){var l=s[a.value];if(!n&&l.isNode()&&(n=l),!i&&l.isEdge()&&(i=l),n&&i)break}}catch(u){c.e(u)}finally{c.f()}return[n,i].filter(Boolean)}(e,t,r)};var n=e.invalidateCachedZSortedEles;e.invalidateCachedZSortedEles=function(){n.call(e),e.pickingFrameBuffer.needsDraw=!0};var i=e.notify;e.notify=function(t,r){i.call(e,t,r),"viewport"===t||"bounds"===t?e.pickingFrameBuffer.needsDraw=!0:"background"===t&&e.drawing.invalidate(r,{type:"node-body"})}}(r)};var Ah=function(e,t){return function(r){var n=e(r),i=Eh(r,t);return i.length>1?i.map(function(e,t){return"".concat(n,"_").concat(t)}):n}},Ph=function(e,t){return function(r,n){var i=e(r);if("string"===typeof n){var a=n.indexOf("_");if(a>0){var o=Number(n.substring(a+1)),s=Eh(r,t),c=i.h/s.length,l=c*o,u=i.y1+l;return{x1:i.x1,w:i.w,y1:u,h:c,yOffset:l}}}return i}};function Nh(e,t){var r=e.canvasWidth,n=e.canvasHeight,i=th(e),a=i.pan,o=i.zoom;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,r,n),t.translate(a.x,a.y),t.scale(o,o)}function jh(e,t,r){var n=e.drawing;t+=1,r.isNode()?(n.drawNode(r,t,"node-underlay"),n.drawNode(r,t,"node-body"),n.drawTexture(r,t,"label"),n.drawNode(r,t,"node-overlay")):(n.drawEdgeLine(r,t),n.drawEdgeArrow(r,t,"source"),n.drawEdgeArrow(r,t,"target"),n.drawTexture(r,t,"label"),n.drawTexture(r,t,"edge-source-label"),n.drawTexture(r,t,"edge-target-label"))}function Dh(e,t,r){var n;e.webglDebug&&(n=performance.now());var i=e.drawing,a=0;if(r.screen&&e.data.canvasNeedsRedraw[e.SELECT_BOX]&&function(e,t){e.drawSelectionRectangle(t,function(t){return Nh(e,t)})}(e,t),e.data.canvasNeedsRedraw[e.NODE]||r.picking){var o=e.data.contexts[e.WEBGL];r.screen?(o.clearColor(0,0,0,0),o.enable(o.BLEND),o.blendFunc(o.ONE,o.ONE_MINUS_SRC_ALPHA)):o.disable(o.BLEND),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.viewport(0,0,o.canvas.width,o.canvas.height);var s=function(e){var t=e.canvasWidth,r=e.canvasHeight,n=th(e),i=n.pan,a=n.zoom,o=hh();fh(o,o,[i.x,i.y]),yh(o,o,[a,a]);var s=hh();!function(e,t,r){e[0]=2/t,e[1]=0,e[2]=0,e[3]=0,e[4]=-2/r,e[5]=0,e[6]=-1,e[7]=1,e[8]=1}(s,t,r);var c=hh();return function(e,t,r){var n=t[0],i=t[1],a=t[2],o=t[3],s=t[4],c=t[5],l=t[6],u=t[7],d=t[8],h=r[0],p=r[1],f=r[2],g=r[3],y=r[4],m=r[5],v=r[6],b=r[7],_=r[8];e[0]=h*n+p*o+f*l,e[1]=h*i+p*s+f*u,e[2]=h*a+p*c+f*d,e[3]=g*n+y*o+m*l,e[4]=g*i+y*s+m*u,e[5]=g*a+y*c+m*d,e[6]=v*n+b*o+_*l,e[7]=v*i+b*s+_*u,e[8]=v*a+b*c+_*d}(c,s,o),c}(e),c=e.getCachedZSortedEles();if(a=c.length,i.startFrame(s,r),r.screen){for(var l=0;l<c.nondrag.length;l++)jh(e,l,c.nondrag[l]);for(var u=0;u<c.drag.length;u++)jh(e,u,c.drag[u])}else if(r.picking)for(var d=0;d<c.length;d++)jh(e,d,c[d]);i.endFrame(),r.screen&&e.webglDebugShowAtlases&&(function(e){var t=e.data.contexts[e.NODE];t.save(),Nh(e,t),t.strokeStyle="rgba(0, 0, 0, 0.3)",t.beginPath(),t.moveTo(-1e3,0),t.lineTo(1e3,0),t.stroke(),t.beginPath(),t.moveTo(0,-1e3),t.lineTo(0,1e3),t.stroke(),t.restore()}(e),function(e){var t=function(t,r,n){for(var i=t.atlasManager.getAtlasCollection(r),a=e.data.contexts[e.NODE],o=i.atlases,s=0;s<o.length;s++){var c=o[s].canvas;if(c){var l=c.width,u=c.height,d=l*s,h=c.height*n;a.save(),a.scale(.4,.4),a.drawImage(c,d,h),a.strokeStyle="black",a.rect(d,h,l,u),a.stroke(),a.restore()}}},r=0;t(e.drawing,"node",r++),t(e.drawing,"label",r++)}(e)),e.data.canvasNeedsRedraw[e.NODE]=!1,e.data.canvasNeedsRedraw[e.DRAG]=!1}if(e.webglDebug){var h=performance.now(),p=Math.ceil(h-n),g=i.getDebugInfo(),y=["".concat(a," elements"),"".concat(g.totalInstances," instances"),"".concat(g.batchCount," batches"),"".concat(g.totalAtlases," atlases"),"".concat(g.wrappedCount," wrapped textures"),"".concat(g.simpleCount," simple shapes")].join(", ");console.log("WebGL (".concat(r.name,") - frame time ").concat(p,"ms")),console.log("Totals:"),console.log("  ".concat(y)),console.log("Texture Atlases Used:");var m,v=f(g.atlasInfo);try{for(v.s();!(m=v.n()).done;){var b=m.value;console.log("  ".concat(b.type,": ").concat(b.keyCount," keys, ").concat(b.atlasCount," atlases"))}}catch(_){v.e(_)}finally{v.f()}console.log("")}e.data.gc&&(console.log("Garbage Collect!"),e.data.gc=!1,i.gc())}for(var Rh={drawPolygonPath:function(e,t,r,n,i,a){var o=n/2,s=i/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*a[0],r+s*a[1]);for(var c=1;c<a.length/2;c++)e.lineTo(t+o*a[2*c],r+s*a[2*c+1]);e.closePath()},drawRoundPolygonPath:function(e,t,r,n,i,a,o){o.forEach(function(t){return Xu(e,t)}),e.closePath()},drawRoundRectanglePath:function(e,t,r,n,i,a){var o=n/2,s=i/2,c="auto"===a?Vr(n,i):Math.min(a,s,o);e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.arcTo(t+o,r-s,t+o,r,c),e.arcTo(t+o,r+s,t,r+s,c),e.arcTo(t-o,r+s,t-o,r,c),e.arcTo(t-o,r-s,t,r-s,c),e.lineTo(t,r-s),e.closePath()},drawBottomRoundRectanglePath:function(e,t,r,n,i,a){var o=n/2,s=i/2,c="auto"===a?Vr(n,i):a;e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.lineTo(t+o,r-s),e.lineTo(t+o,r),e.arcTo(t+o,r+s,t,r+s,c),e.arcTo(t-o,r+s,t-o,r,c),e.lineTo(t-o,r-s),e.lineTo(t,r-s),e.closePath()},drawCutRectanglePath:function(e,t,r,n,i,a,o){var s=n/2,c=i/2,l="auto"===o?8:o;e.beginPath&&e.beginPath(),e.moveTo(t-s+l,r-c),e.lineTo(t+s-l,r-c),e.lineTo(t+s,r-c+l),e.lineTo(t+s,r+c-l),e.lineTo(t+s-l,r+c),e.lineTo(t-s+l,r+c),e.lineTo(t-s,r+c-l),e.lineTo(t-s,r-c+l),e.closePath()},drawBarrelPath:function(e,t,r,n,i){var a=n/2,o=i/2,s=t-a,c=t+a,l=r-o,u=r+o,d=qr(n,i),h=d.widthOffset,p=d.heightOffset,f=d.ctrlPtOffsetPct*h;e.beginPath&&e.beginPath(),e.moveTo(s,l+p),e.lineTo(s,u-p),e.quadraticCurveTo(s+f,u,s+h,u),e.lineTo(c-h,u),e.quadraticCurveTo(c-f,u,c,u-p),e.lineTo(c,l+p),e.quadraticCurveTo(c-f,l,c-h,l),e.lineTo(s+h,l),e.quadraticCurveTo(s+f,l,s,l+p),e.closePath()}},Ih=Math.sin(0),Fh=Math.cos(0),Ch={},Mh={},kh=Math.PI/40,Lh=0*Math.PI;Lh<2*Math.PI;Lh+=kh)Ch[Lh]=Math.sin(Lh),Mh[Lh]=Math.cos(Lh);Rh.drawEllipsePath=function(e,t,r,n,i){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,n/2,i/2,0,0,2*Math.PI);else for(var a,o,s=n/2,c=i/2,l=0*Math.PI;l<2*Math.PI;l+=kh)a=t-s*Ch[l]*Ih+s*Mh[l]*Fh,o=r+c*Mh[l]*Ih+c*Ch[l]*Fh,0===l?e.moveTo(a,o):e.lineTo(a,o);e.closePath()};var Bh={};function Uh(e){var t=e.indexOf(",");return e.substr(t+1)}function Vh(e,t,r){var n=function(){return t.toDataURL(r,e.quality)};switch(e.output){case"blob-promise":return new ai(function(n,i){try{t.toBlob(function(e){null!=e?n(e):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,e.quality)}catch(a){i(a)}});case"blob":return function(e,t){for(var r=atob(e),n=new ArrayBuffer(r.length),i=new Uint8Array(n),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return new Blob([n],{type:t})}(Uh(n()),r);case"base64":return Uh(n());default:return n()}}Bh.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]},Bh.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements().boundingBox(),n=this.findContainerClientCoords(),i=e.full?Math.ceil(r.w):n[2],a=e.full?Math.ceil(r.h):n[3],o=oe(e.maxWidth)||oe(e.maxHeight),s=this.getPixelRatio(),c=1;if(void 0!==e.scale)i*=e.scale,a*=e.scale,c=e.scale;else if(o){var l=1/0,u=1/0;oe(e.maxWidth)&&(l=c*e.maxWidth/i),oe(e.maxHeight)&&(u=c*e.maxHeight/a),i*=c=Math.min(l,u),a*=c}o||(i*=s,a*=s,c*=s);var d=document.createElement("canvas");d.width=i,d.height=a,d.style.width=i+"px",d.style.height=a+"px";var h=d.getContext("2d");if(i>0&&a>0){h.clearRect(0,0,i,a),h.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(e.full)h.translate(-r.x1*c,-r.y1*c),h.scale(c,c),this.drawElements(h,p),h.scale(1/c,1/c),h.translate(r.x1*c,r.y1*c);else{var f=t.pan(),g={x:f.x*c,y:f.y*c};c*=t.zoom(),h.translate(g.x,g.y),h.scale(c,c),this.drawElements(h,p),h.scale(1/c,1/c),h.translate(-g.x,-g.y)}e.bg&&(h.globalCompositeOperation="destination-over",h.fillStyle=e.bg,h.rect(0,0,i,a),h.fill())}return d},Bh.png=function(e){return Vh(e,this.bufferCanvasImage(e),"image/png")},Bh.jpg=function(e){return Vh(e,this.bufferCanvasImage(e),"image/jpeg")};var zh={nodeShapeImpl:function(e,t,r,n,i,a,o,s){switch(e){case"ellipse":return this.drawEllipsePath(t,r,n,i,a);case"polygon":return this.drawPolygonPath(t,r,n,i,a,o);case"round-polygon":return this.drawRoundPolygonPath(t,r,n,i,a,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,n,i,a,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,n,i,a,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,n,i,a,s);case"barrel":return this.drawBarrelPath(t,r,n,i,a)}}},qh=Gh,Qh=Gh.prototype;function Gh(e){var t=this,r=t.cy.window().document;e.webgl&&(Qh.CANVAS_LAYERS=t.CANVAS_LAYERS=4,console.log("webgl rendering enabled")),t.data={canvases:new Array(Qh.CANVAS_LAYERS),contexts:new Array(Qh.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Qh.CANVAS_LAYERS),bufferCanvases:new Array(Qh.BUFFER_COUNT),bufferContexts:new Array(Qh.CANVAS_LAYERS)};var n="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";t.data.canvasContainer=r.createElement("div");var a=t.data.canvasContainer.style;t.data.canvasContainer.style[n]=i,a.position="relative",a.zIndex="0",a.overflow="hidden";var o=e.cy.container();o.appendChild(t.data.canvasContainer),o.style[n]=i;var s={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};x&&x.userAgent.match(/msie|trident|edge/i)&&(s["-ms-touch-action"]="none",s["touch-action"]="none");for(var c=0;c<Qh.CANVAS_LAYERS;c++){var l=t.data.canvases[c]=r.createElement("canvas"),u=Qh.CANVAS_TYPES[c];t.data.contexts[c]=l.getContext(u),t.data.contexts[c]||pt("Could not create canvas of type "+u),Object.keys(s).forEach(function(e){l.style[e]=s[e]}),l.style.position="absolute",l.setAttribute("data-id","layer"+c),l.style.zIndex=String(Qh.CANVAS_LAYERS-c),t.data.canvasContainer.appendChild(l),t.data.canvasNeedsRedraw[c]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[Qh.NODE].setAttribute("data-id","layer"+Qh.NODE+"-node"),t.data.canvases[Qh.SELECT_BOX].setAttribute("data-id","layer"+Qh.SELECT_BOX+"-selectbox"),t.data.canvases[Qh.DRAG].setAttribute("data-id","layer"+Qh.DRAG+"-drag"),t.data.canvases[Qh.WEBGL]&&t.data.canvases[Qh.WEBGL].setAttribute("data-id","layer"+Qh.WEBGL+"-webgl");for(c=0;c<Qh.BUFFER_COUNT;c++)t.data.bufferCanvases[c]=r.createElement("canvas"),t.data.bufferContexts[c]=t.data.bufferCanvases[c].getContext("2d"),t.data.bufferCanvases[c].style.position="absolute",t.data.bufferCanvases[c].setAttribute("data-id","buffer"+c),t.data.bufferCanvases[c].style.zIndex=String(-c-1),t.data.bufferCanvases[c].style.visibility="hidden";t.pathsEnabled=!0;var d=ur(),h=function(e){return{x:-e.w/2,y:-e.h/2}},p=function(e){return e[0]._private.nodeKey},f=function(e){return e[0]._private.labelStyleKey},g=function(e){return e[0]._private.sourceLabelStyleKey},y=function(e){return e[0]._private.targetLabelStyleKey},m=function(e,r,n,i,a){return t.drawElement(e,r,n,!1,!1,a)},v=function(e,r,n,i,a){return t.drawElementText(e,r,n,i,"main",a)},b=function(e,r,n,i,a){return t.drawElementText(e,r,n,i,"source",a)},_=function(e,r,n,i,a){return t.drawElementText(e,r,n,i,"target",a)},w=function(e){return e.boundingBox(),e[0]._private.bodyBounds},S=function(e){return e.boundingBox(),e[0]._private.labelBounds.main||d},T=function(e){return e.boundingBox(),e[0]._private.labelBounds.source||d},O=function(e){return e.boundingBox(),e[0]._private.labelBounds.target||d},E=function(e,t){return t},A=function(e){return{x:((t=w(e)).x1+t.x2)/2,y:(t.y1+t.y2)/2};var t},P=function(e,t,r){var n=e?e+"-":"";return{x:t.x+r.pstyle(n+"text-margin-x").pfValue,y:t.y+r.pstyle(n+"text-margin-y").pfValue}},N=function(e,t,r){var n=e[0]._private.rscratch;return{x:n[t],y:n[r]}},j=function(e){return P("",N(e,"labelX","labelY"),e)},D=function(e){return P("source",N(e,"sourceLabelX","sourceLabelY"),e)},R=function(e){return P("target",N(e,"targetLabelX","targetLabelY"),e)},I=function(e){return h(w(e))},F=function(e){return h(T(e))},C=function(e){return h(O(e))},M=function(e){var t=S(e),r=h(S(e));if(e.isNode()){switch(e.pstyle("text-halign").value){case"left":r.x=-t.w-(t.leftPad||0);break;case"right":r.x=-(t.rightPad||0)}switch(e.pstyle("text-valign").value){case"top":r.y=-t.h-(t.topPad||0);break;case"bottom":r.y=-(t.botPad||0)}}return r},k=t.data.eleTxrCache=new Td(t,{getKey:p,doesEleInvalidateKey:function(e){var t=e[0]._private;return!(t.oldBackgroundTimestamp===t.backgroundTimestamp)},drawElement:m,getBoundingBox:w,getRotationPoint:A,getRotationOffset:I,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),L=t.data.lblTxrCache=new Td(t,{getKey:f,drawElement:v,getBoundingBox:S,getRotationPoint:j,getRotationOffset:M,isVisible:E}),B=t.data.slbTxrCache=new Td(t,{getKey:g,drawElement:b,getBoundingBox:T,getRotationPoint:D,getRotationOffset:F,isVisible:E}),U=t.data.tlbTxrCache=new Td(t,{getKey:y,drawElement:_,getBoundingBox:O,getRotationPoint:R,getRotationOffset:C,isVisible:E}),V=t.data.lyrTxrCache=new Ed(t);t.onUpdateEleCalcs(function(e,t){k.invalidateElements(t),L.invalidateElements(t),B.invalidateElements(t),U.invalidateElements(t),V.invalidateElements(t);for(var r=0;r<t.length;r++){var n=t[r]._private;n.oldBackgroundTimestamp=n.backgroundTimestamp}});var z=function(e){for(var t=0;t<e.length;t++)V.enqueueElementRefinement(e[t].ele)};k.onDequeue(z),L.onDequeue(z),B.onDequeue(z),U.onDequeue(z),e.webgl&&t.initWebgl(e,{getStyleKey:p,getLabelKey:f,getSourceLabelKey:g,getTargetLabelKey:y,drawElement:m,drawLabel:v,drawSourceLabel:b,drawTargetLabel:_,getElementBox:w,getLabelBox:S,getSourceLabelBox:T,getTargetLabelBox:O,getElementRotationPoint:A,getElementRotationOffset:I,getLabelRotationPoint:j,getSourceLabelRotationPoint:D,getTargetLabelRotationPoint:R,getLabelRotationOffset:M,getSourceLabelRotationOffset:F,getTargetLabelRotationOffset:C})}Qh.CANVAS_LAYERS=3,Qh.SELECT_BOX=0,Qh.DRAG=1,Qh.NODE=2,Qh.WEBGL=3,Qh.CANVAS_TYPES=["2d","2d","2d","webgl2"],Qh.BUFFER_COUNT=3,Qh.TEXTURE_BUFFER=0,Qh.MOTIONBLUR_BUFFER_NODE=1,Qh.MOTIONBLUR_BUFFER_DRAG=2,Qh.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[Qh.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[Qh.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[Qh.SELECT_BOX]=t;break;case"gc":r.data.gc=!0}};var Hh="undefined"!==typeof Path2D;Qh.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},Qh.usePaths=function(){return Hh&&this.pathsEnabled},Qh.setImgSmoothing=function(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},Qh.getImgSmoothing=function(e){return null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},Qh.makeOffscreenCanvas=function(e,t){var r;"undefined"!==("undefined"===typeof OffscreenCanvas?"undefined":b(OffscreenCanvas))?r=new OffscreenCanvas(e,t):((r=this.cy.window().document.createElement("canvas")).width=e,r.height=t);return r},[Dd,kd,Qd,Hd,Wd,Kd,Jd,Oh,Rh,Bh,zh].forEach(function(e){Ae(Qh,e)});var Wh=[{type:"layout",extensions:_u},{type:"renderer",extensions:[{name:"null",impl:wu},{name:"base",impl:yd},{name:"canvas",impl:qh}]}],Xh={},Kh={};function $h(e,t,r){var n=r,i=function(r){gt("Can not register `"+t+"` for `"+e+"` since `"+r+"` already exists in the prototype and can not be overridden")};if("core"===e){if(Il.prototype[t])return i(t);Il.prototype[t]=r}else if("collection"===e){if(Kc.prototype[t])return i(t);Kc.prototype[t]=r}else if("layout"===e){for(var a=function(e){this.options=e,r.call(this,e),ae(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},o=a.prototype=Object.create(r.prototype),s=[],c=0;c<s.length;c++){var l=s[c];o[l]=o[l]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var u=r.prototype.stop;o.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var r=0;r<t.length;r++)t[r].stop()}return u?u.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var d=function(e){return e._private.cy},h={addEventFields:function(e,t){t.layout=e,t.cy=d(e),t.target=e},bubble:function(){return!0},parent:function(e){return d(e)}};Ae(o,{createEmitter:function(){return this._private.emitter=new fc(h,this),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),Ro.eventAliasesOn(o),n=a}else if("renderer"===e&&"null"!==t&&"base"!==t){var p=Yh("renderer","base"),f=p.prototype,g=r,y=r.prototype,m=function(){p.apply(this,arguments),g.apply(this,arguments)},v=m.prototype;for(var b in f){var _=f[b];if(null!=y[b])return i(b);v[b]=_}for(var w in y)v[w]=y[w];f.clientFunctions.forEach(function(e){v[e]=v[e]||function(){pt("Renderer does not implement `renderer."+e+"()` on its prototype")}}),n=m}else if("__proto__"===e||"constructor"===e||"prototype"===e)return pt(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return je({map:Xh,keys:[e,t],value:n})}function Yh(e,t){return De({map:Xh,keys:[e,t]})}function Jh(e,t,r,n,i){return je({map:Kh,keys:[e,t,r,n],value:i})}function Zh(e,t,r,n){return De({map:Kh,keys:[e,t,r,n]})}var ep=function(){return 2===arguments.length?Yh.apply(null,arguments):3===arguments.length?$h.apply(null,arguments):4===arguments.length?Zh.apply(null,arguments):5===arguments.length?Jh.apply(null,arguments):void pt("Invalid extension access syntax")};Il.prototype.extension=ep,Wh.forEach(function(e){e.extensions.forEach(function(t){$h(e.type,t.name,t.impl)})});var tp=function(){if(!(this instanceof tp))return new tp;this.length=0},rp=tp.prototype;rp.instanceString=function(){return"stylesheet"},rp.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},rp.css=function(e,t){var r=this.length-1;if(re(e))this[r].properties.push({name:e,value:t});else if(ae(e))for(var n=e,i=Object.keys(n),a=0;a<i.length;a++){var o=i[a],s=n[o];if(null!=s){var c=Pl.properties[o]||Pl.properties[me(o)];if(null!=c){var l=c.name,u=s;this[r].properties.push({name:l,value:u})}}}return this},rp.style=rp.css,rp.generateStyle=function(e){var t=new Pl(e);return this.appendToStyle(t)},rp.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],n=r.selector,i=r.properties;e.selector(n);for(var a=0;a<i.length;a++){var o=i[a];e.css(o.name,o.value)}}return e};var np=function(e){return void 0===e&&(e={}),ae(e)?new Il(e):re(e)?ep.apply(ep,arguments):void 0};np.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(np),e.apply(null,t),this},np.warnings=function(e){return ft(e)},np.version="3.33.0",np.stylesheet=np.Stylesheet=tp;const ip=t=>{let{graphData:r,onNodeClick:n,onEdgeCreate:i,onNodeDrag:a,onGraphChange:o,telemetryData:c}=t;const u=(0,e.useRef)(null),d=(0,e.useRef)(null),[h,p]=(0,e.useState)(null),[f,g]=(0,e.useState)(!1),[y,m]=(0,e.useState)(null),[v,b]=(0,e.useState)(!1),[_,w]=(0,e.useState)(!1),[x,S]=(0,e.useState)(null),[T,O]=(0,e.useState)({layout:"preset",showLabels:!0,showHealthStatus:!0,nodeSize:"medium",edgeStyle:"curved",theme:"default"});(0,e.useEffect)(()=>{var e,t;if(console.log("GraphEditor useEffect triggered:",{graphData:r,containerRef:!!d.current}),!d.current||!r||!r.nodes||!r.edges)return void console.log("GraphEditor: Missing container or graphData",{container:!!d.current,graphData:r,nodes:null===r||void 0===r||null===(e=r.nodes)||void 0===e?void 0:e.length,edges:null===r||void 0===r||null===(t=r.edges)||void 0===t?void 0:t.length});if(u.current){try{u.current.destroy()}catch(pt){console.warn("Error destroying previous cytoscape instance:",pt)}u.current=null}const i=setTimeout(()=>{if(d.current)try{const e=np({container:d.current,elements:[...r.nodes.map((e,t)=>{var r;return{data:{id:e.id,label:e.label,type:e.type,uri:(null===(r=e.data)||void 0===r?void 0:r.uri)||e.id},position:e.position||{x:100+t%3*200,y:100+150*Math.floor(t/3)},classes:"node-".concat(e.type," ").concat(E(e.id,c))}}),...r.edges.map(e=>({data:{id:e.id,source:e.source,target:e.target,label:e.label,type:e.type},classes:"edge-".concat(e.type)}))],style:[{selector:"node",style:{"background-color":"#666",label:"data(label)","text-valign":"center","text-halign":"center",color:"#fff","font-size":"10px","text-wrap":"wrap","text-max-width":"80px",width:60,height:60,"border-width":2,"border-color":"#333"}},{selector:"node.node-line",style:{"background-color":"#3498db",shape:"rectangle",width:120,height:50,"font-size":"11px","text-max-width":"110px"}},{selector:"node.node-machine",style:{"background-color":"#e74c3c",shape:"round-rectangle",width:90,height:60,"font-size":"10px","text-max-width":"80px"}},{selector:"node.node-component",style:{"background-color":"#2ecc71",shape:"ellipse",width:65,height:55,"font-size":"9px","text-max-width":"55px"}},{selector:"node.node-sensor",style:{"background-color":"#f39c12",shape:"diamond",width:50,height:50,"font-size":"8px","text-max-width":"40px"}},{selector:"node.health-healthy",style:{"border-color":"#27ae60","border-width":3}},{selector:"node.health-warning",style:{"border-color":"#f39c12","border-width":3}},{selector:"node.health-critical",style:{"border-color":"#e74c3c","border-width":3}},{selector:"node.health-fault",style:{"border-color":"#c0392b","border-width":4,"background-color":"#e74c3c"}},{selector:"edge",style:{width:2,"line-color":"#666","target-arrow-color":"#666","target-arrow-shape":"triangle","curve-style":"bezier",label:"data(label)","font-size":"10px","text-rotation":"autorotate"}},{selector:"edge.edge-inLine",style:{"line-color":"#3498db","target-arrow-color":"#3498db"}},{selector:"edge.edge-partOf",style:{"line-color":"#2ecc71","target-arrow-color":"#2ecc71"}},{selector:"edge.edge-dependsOn",style:{"line-color":"#e74c3c","target-arrow-color":"#e74c3c","line-style":"dashed"}},{selector:"node:selected",style:{"overlay-color":"#3498db","overlay-padding":10,"overlay-opacity":.3}},{selector:".highlighted",style:{"background-color":"#f39c12","line-color":"#f39c12","target-arrow-color":"#f39c12","transition-property":"background-color, line-color, target-arrow-color","transition-duration":"0.5s"}}],layout:{name:"preset",fit:!0,padding:30},minZoom:.1,maxZoom:3,wheelSensitivity:.2});e.on("tap","node",e=>{if(!e.target||!u.current)return;const t=e.target;p(t.data()),f&&y?(y.id()!==t.id()&&A(y,t),g(!1),m(null)):n&&n(t.data())}),e.on("tap",t=>{u.current&&t.target!==e||(p(null),g(!1),m(null))}),e.on("position","node",e=>{if(e.target&&u.current&&a){const t=e.target;a(t.data(),t.position())}}),e.on("cxttap","node",e=>{if(!e.target||!u.current)return;e.preventDefault();const t=e.target,r=e.renderedPosition;P(r,"node",t.id())}),e.on("cxttap","edge",e=>{if(!e.target||!u.current)return;e.preventDefault();const t=e.target,r=e.renderedPosition;P(r,"edge",t.id())}),e.on("cxttap",t=>{if(!u.current||t.target===e){t.preventDefault();const e=t.renderedPosition;P(e,"background")}}),e.on("dragfree","node",()=>{u.current&&I()}),u.current=e}catch(pt){return void console.error("Error initializing Cytoscape:",pt)}},100);return()=>{if(clearTimeout(i),u.current){try{u.current.destroy()}catch(pt){console.warn("Error destroying cytoscape on cleanup:",pt)}u.current=null}}},[r]),(0,e.useEffect)(()=>{u.current&&c&&u.current.nodes().forEach(e=>{e.removeClass("health-healthy health-warning health-critical health-fault health-unknown");const t=E(e.id(),c);e.addClass(t)})},[c]);const E=(e,t)=>{if(!t)return"health-unknown";const r=e.split("/").pop(),n=t.find(e=>e.componentID===r);if(!n)return"health-unknown";const{sensorAReading:i,sensorBReading:a,sensorCReading:o,sensorDReading:s}=n;return i>100||a>70||o>140||s>85?"health-critical":i>90||a>60||o>120||s>75?"health-warning":"health-healthy"},A=(0,e.useCallback)((e,t)=>{const r=prompt("Enter connection type (inLine, partOf, dependsOn):")||"relationship";i&&i({source:e.id(),target:t.id(),type:r,label:r});u.current.add({data:{id:"".concat(e.id(),"-").concat(r,"-").concat(t.id()),source:e.id(),target:t.id(),label:r,type:r},classes:"edge-".concat(r)}),e.removeClass("connecting"),I()},[i]),P=(0,e.useCallback)((e,t,r)=>{if("node"===t){N(e,[{label:"Edit Node",action:()=>C(r)},{label:"Delete Node",action:()=>M(r)},{label:"Connect to...",action:()=>j(r)}])}else if("edge"===t){N(e,[{label:"Delete Connection",action:()=>k(r)}])}else if("background"===t){N(e,[{label:"Add Line",action:()=>F("line",e)},{label:"Add Machine",action:()=>F("machine",e)},{label:"Add Component",action:()=>F("component",e)},{label:"Add Sensor",action:()=>F("sensor",e)}])}},[]),N=(e,t)=>{const r=t.map(e=>e.label).join("\n"),n=prompt("Choose action:\n".concat(r,"\n\nEnter the number (1-").concat(t.length,"):")),i=parseInt(n)-1;i>=0&&i<t.length&&t[i].action()},j=e=>{if(u.current){const t=u.current.getElementById(e);g(!0),m(t),t.addClass("connecting")}},D=e=>{if(O(t=>s(s({},t),e)),u.current){const t=s(s({},T),e);R(t)}},R=e=>{if(!u.current)return;const t={small:{line:{width:100,height:40,fontSize:"9px",textMaxWidth:"90px"},machine:{width:75,height:50,fontSize:"8px",textMaxWidth:"65px"},component:{width:50,height:45,fontSize:"7px",textMaxWidth:"40px"},sensor:{width:35,height:35,fontSize:"6px",textMaxWidth:"30px"}},medium:{line:{width:120,height:50,fontSize:"11px",textMaxWidth:"110px"},machine:{width:90,height:60,fontSize:"10px",textMaxWidth:"80px"},component:{width:65,height:55,fontSize:"9px",textMaxWidth:"55px"},sensor:{width:50,height:50,fontSize:"8px",textMaxWidth:"40px"}},large:{line:{width:140,height:60,fontSize:"13px",textMaxWidth:"130px"},machine:{width:110,height:75,fontSize:"12px",textMaxWidth:"100px"},component:{width:80,height:70,fontSize:"11px",textMaxWidth:"70px"},sensor:{width:65,height:65,fontSize:"10px",textMaxWidth:"55px"}}},r=t[e.nodeSize]||t.medium;u.current.style().selector("node").style({label:e.showLabels?"data(label)":"","text-wrap":"wrap","text-valign":"center","text-halign":"center"}).selector("node.node-line").style({width:r.line.width,height:r.line.height,"font-size":r.line.fontSize,"text-max-width":r.line.textMaxWidth}).selector("node.node-machine").style({width:r.machine.width,height:r.machine.height,"font-size":r.machine.fontSize,"text-max-width":r.machine.textMaxWidth}).selector("node.node-component").style({width:r.component.width,height:r.component.height,"font-size":r.component.fontSize,"text-max-width":r.component.textMaxWidth}).selector("node.node-sensor").style({width:r.sensor.width,height:r.sensor.height,"font-size":r.sensor.fontSize,"text-max-width":r.sensor.textMaxWidth}).selector("edge").style({"curve-style":"straight"===e.edgeStyle?"straight":"bezier",label:e.showLabels?"data(label)":""}).update(),e.showHealthStatus?u.current.elements().forEach(e=>{if(e.isNode()){const t=E(e.id(),c);e.addClass(t)}}):u.current.nodes().removeClass("health-healthy health-warning health-critical health-fault")},I=(0,e.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(u.current&&o){const t=u.current.nodes().map(e=>({id:e.id(),label:e.data("label"),type:e.data("type"),data:{uri:e.data("uri")||e.id()},position:e.position()})),r=u.current.edges().map(e=>({id:e.id(),source:e.source().id(),target:e.target().id(),label:e.data("label"),type:e.data("type")}));o({nodes:t,edges:r},e),e&&alert("Graph changes synced to RDF Editor!")}},[o]),F=(e,t)=>{if(!u.current)return;const r="ex:new".concat(e).concat(Date.now()),n="New ".concat(e.charAt(0).toUpperCase()+e.slice(1));u.current.add({data:{id:r,label:n,type:e,uri:r},position:t||{x:200,y:200},classes:"node-".concat(e)}),I()},C=e=>{const t=u.current.getElementById(e);t.length>0&&(S({id:e,label:t.data("label"),type:t.data("type")}),w(!0))},M=e=>{u.current&&window.confirm("Are you sure you want to delete this node and all its connections?")&&(u.current.getElementById(e).remove(),I())},k=e=>{u.current&&window.confirm("Are you sure you want to delete this connection?")&&(u.current.getElementById(e).remove(),I())};return(0,l.jsxs)("div",{className:"graph-editor",children:[(0,l.jsxs)("div",{className:"graph-controls",children:[(0,l.jsxs)("div",{className:"controls-left",children:[(0,l.jsx)("button",{onClick:()=>{u.current&&u.current.fit()},title:"Fit to view",children:"\ud83d\udd0d Fit"}),(0,l.jsx)("button",{onClick:()=>{if(u.current){const e=u.current.png({scale:2,full:!0}),t=document.createElement("a");t.download="digital-twin-graph.png",t.href=e,t.click()}},title:"Export as PNG",children:"\ud83d\udcf7 Export"}),(0,l.jsx)("button",{onClick:()=>{u.current&&u.current.elements().removeClass("highlighted")},title:"Clear highlights",children:"\ud83d\udd04 Reset"}),(0,l.jsx)("button",{onClick:()=>(e=>{if(u.current){const t={cose:{name:"cose",idealEdgeLength:100,nodeOverlap:20,refresh:0,fit:!0,padding:30,randomize:!1,componentSpacing:100,animate:!0,animationDuration:1e3,stop:function(){I()}},circle:{name:"circle",fit:!0,padding:30,radius:200,animate:!0,animationDuration:1e3},grid:{name:"grid",fit:!0,padding:30,rows:void 0,cols:void 0,animate:!0,animationDuration:1e3},breadthfirst:{name:"breadthfirst",fit:!0,directed:!0,padding:30,spacingFactor:1.75,animate:!0,animationDuration:1e3},concentric:{name:"concentric",fit:!0,padding:30,startAngle:.7853975,clockwise:!0,animate:!0,animationDuration:1e3},preset:{name:"preset",fit:!0,padding:30}};u.current.layout(t[e]||t.preset).run()}})(T.layout),title:"Refresh layout",children:"\ud83d\udcd0 Layout"}),(0,l.jsx)("button",{onClick:()=>b(!v),title:"Customize graph",className:v?"active":"",children:"\u2699\ufe0f Customize"}),(0,l.jsxs)("div",{className:"add-nodes-group",children:[(0,l.jsx)("button",{onClick:()=>F("line"),title:"Add Line",children:"\ud83d\udccf Line"}),(0,l.jsx)("button",{onClick:()=>F("machine"),title:"Add Machine",children:"\ud83c\udfed Machine"}),(0,l.jsx)("button",{onClick:()=>F("component"),title:"Add Component",children:"\u2699\ufe0f Component"})]}),(0,l.jsx)("button",{onClick:()=>I(!0),className:"sync-to-rdf-btn",title:"Sync graph changes back to RDF Editor",children:"\ud83d\udd04 Sync to RDF"})]}),(0,l.jsx)("div",{className:"controls-right",children:f&&(0,l.jsx)("div",{className:"connection-mode",children:"Connection mode: Click target node"})})]}),v&&(0,l.jsxs)("div",{className:"customization-panel",children:[(0,l.jsxs)("div",{className:"customization-section",children:[(0,l.jsx)("h4",{children:"Layout"}),(0,l.jsxs)("select",{value:T.layout,onChange:e=>D({layout:e.target.value}),children:[(0,l.jsx)("option",{value:"preset",children:"Static (No Auto-Layout)"}),(0,l.jsx)("option",{value:"cose",children:"Force-directed (COSE)"}),(0,l.jsx)("option",{value:"circle",children:"Circle"}),(0,l.jsx)("option",{value:"grid",children:"Grid"}),(0,l.jsx)("option",{value:"breadthfirst",children:"Hierarchical"}),(0,l.jsx)("option",{value:"concentric",children:"Concentric"})]})]}),(0,l.jsxs)("div",{className:"customization-section",children:[(0,l.jsx)("h4",{children:"Appearance"}),(0,l.jsxs)("div",{className:"setting-group",children:[(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:T.showLabels,onChange:e=>D({showLabels:e.target.checked})}),"Show Labels"]}),(0,l.jsxs)("label",{children:[(0,l.jsx)("input",{type:"checkbox",checked:T.showHealthStatus,onChange:e=>D({showHealthStatus:e.target.checked})}),"Show Health Status"]})]})]}),(0,l.jsxs)("div",{className:"customization-section",children:[(0,l.jsx)("h4",{children:"Node Size"}),(0,l.jsxs)("select",{value:T.nodeSize,onChange:e=>D({nodeSize:e.target.value}),children:[(0,l.jsx)("option",{value:"small",children:"Small"}),(0,l.jsx)("option",{value:"medium",children:"Medium"}),(0,l.jsx)("option",{value:"large",children:"Large"})]})]}),(0,l.jsxs)("div",{className:"customization-section",children:[(0,l.jsx)("h4",{children:"Edge Style"}),(0,l.jsxs)("select",{value:T.edgeStyle,onChange:e=>D({edgeStyle:e.target.value}),children:[(0,l.jsx)("option",{value:"curved",children:"Curved"}),(0,l.jsx)("option",{value:"straight",children:"Straight"})]})]}),(0,l.jsxs)("div",{className:"customization-actions",children:[(0,l.jsx)("button",{onClick:()=>{localStorage.setItem("graph-settings",JSON.stringify(T)),alert("Graph configuration saved!")},className:"save-config-btn",children:"\ud83d\udcbe Save Config"}),(0,l.jsx)("button",{onClick:()=>{const e=localStorage.getItem("graph-settings");if(e){const t=JSON.parse(e);O(t),D(t)}},className:"load-config-btn",children:"\ud83d\udcc1 Load Config"})]})]}),(0,l.jsx)("div",{className:"graph-container",ref:d}),h&&(0,l.jsxs)("div",{className:"node-info",children:[(0,l.jsx)("h4",{children:h.label}),(0,l.jsxs)("p",{children:["Type: ",h.type]}),(0,l.jsxs)("p",{children:["URI: ",h.uri]})]}),_&&x&&(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsx)("h3",{children:"Edit Node"}),(0,l.jsx)("button",{onClick:()=>w(!1),children:"\xd7"})]}),(0,l.jsx)("div",{className:"modal-content",children:(0,l.jsx)(ap,{nodeData:x,onSave:e=>{if(!u.current||!x)return;const t=u.current.getElementById(x.id);t.length>0&&(t.data("label",e.label),t.data("type",e.type),t.removeClass("node-line node-machine node-component node-sensor"),t.addClass("node-".concat(e.type))),w(!1),S(null),I()},onCancel:()=>w(!1)})})]})})]})},ap=t=>{let{nodeData:r,onSave:n,onCancel:i}=t;const[a,o]=(0,e.useState)(r.label||""),[s,c]=(0,e.useState)(r.type||"component");return(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),n({label:a,type:s})},className:"node-edit-form",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Label:"}),(0,l.jsx)("input",{type:"text",value:a,onChange:e=>o(e.target.value),required:!0})]}),(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Type:"}),(0,l.jsxs)("select",{value:s,onChange:e=>c(e.target.value),children:[(0,l.jsx)("option",{value:"line",children:"Line"}),(0,l.jsx)("option",{value:"machine",children:"Machine"}),(0,l.jsx)("option",{value:"component",children:"Component"}),(0,l.jsx)("option",{value:"sensor",children:"Sensor"})]})]}),(0,l.jsxs)("div",{className:"form-actions",children:[(0,l.jsx)("button",{type:"button",onClick:i,className:"cancel-btn",children:"Cancel"}),(0,l.jsx)("button",{type:"submit",className:"save-btn",children:"Save Changes"})]})]})},op=(0,e.memo)(ip,(e,t)=>{const r=JSON.stringify(e.graphData)!==JSON.stringify(t.graphData),n=e.onNodeClick!==t.onNodeClick||e.onEdgeCreate!==t.onEdgeCreate||e.onNodeDrag!==t.onNodeDrag||e.onGraphChange!==t.onGraphChange;return!r&&!n});const sp=class{constructor(){this.backendBaseUrl="BACKEND_URL_PLACEHOLDER"}async testConnection(){try{console.log("\ud83d\udd04 Testing Databricks connection via backend...");const e=await fetch("".concat(this.backendBaseUrl,"/api/telemetry/test"));if(!e.ok)throw new Error("Backend error: ".concat(e.status));const t=await e.json();return console.log("\u2705 Backend connection test result:",t),{success:"connected"===t.status,message:t.message,method:"backend-proxy"}}catch(pt){return console.error("\u274c Backend connection test failed:",pt),pt.message.includes("Failed to fetch")?{success:!1,message:"Backend server not available. Start Flask server on port 8080.",method:"backend-proxy",error:"backend-unavailable"}:{success:!1,message:pt.message,method:"backend-proxy",error:"connection-failed"}}}async fetchLatestTelemetry(){try{console.log("\ud83e\uddec Fetching latest telemetry from RDF triples via backend...");try{const e=await fetch("".concat(this.backendBaseUrl,"/api/telemetry/triples"));if(e.ok){const t=await e.json();if(!1!==t.success&&t.data&&t.data.length>0)return console.log("\u2705 Retrieved ".concat(t.count," telemetry records from RDF triples (").concat(t.table,")")),{success:!0,data:t.data,count:t.count,table:t.table,method:"rdf-triples-backend",source:t.source}}}catch(e){console.warn("\u26a0\ufe0f RDF triples endpoint failed, trying bronze table:",e.message)}console.log("\ud83d\udcca Falling back to bronze table telemetry...");const t=await fetch("".concat(this.backendBaseUrl,"/api/telemetry/latest"));if(!t.ok)throw new Error("Backend error: ".concat(t.status));const r=await t.json();return console.log("\u2705 Retrieved ".concat(r.count," telemetry records from bronze table (").concat(r.table,")")),{success:!0,data:r.data,count:r.count,table:r.table,method:"backend-proxy"}}catch(pt){return console.error("\u274c Failed to fetch telemetry via backend:",pt),{success:!1,error:pt.message,method:"backend-proxy",fallback:"mock-data"}}}validateConfiguration(){const e={hasBackendUrl:!!this.backendBaseUrl,backendUrl:this.backendBaseUrl,securityMode:"backend-proxy",catalog:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"BACKEND_URL_PLACEHOLDER"}.REACT_APP_DATABRICKS_CATALOG||"main",schema:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"BACKEND_URL_PLACEHOLDER"}.REACT_APP_DATABRICKS_SCHEMA||"deba",table:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"BACKEND_URL_PLACEHOLDER"}.REACT_APP_DATABRICKS_TABLE||"bronze"};return console.log("\u2705 Configuration validation (secure backend proxy):",e),e}async testBackendAvailability(){try{console.log("\ud83c\udfe5 Testing backend health...");const e=await fetch("".concat(this.backendBaseUrl,"/api/telemetry/test"),{method:"GET",timeout:5e3});if(e.ok){return{available:!0,status:(await e.json()).status||"connected",method:"backend-health-check"}}return{available:!1,status:e.status,error:"HTTP ".concat(e.status),method:"backend-health-check"}}catch(pt){return{available:!1,error:pt.message,method:"backend-health-check"}}}generateMockTelemetry(){const e=["111","112","113","121","122","123"].map(e=>({componentID:e,sensorAReading:20+60*Math.random(),sensorBReading:1+4*Math.random(),sensorCReading:10*Math.random(),sensorDReading:1e3+2e3*Math.random(),timestamp:(new Date).toISOString()}));return console.log("\ud83c\udfad Generated mock telemetry data for demonstration"),{success:!0,data:e,count:e.length,method:"mock-data"}}async runConnectionTests(){console.log("\ud83e\uddea Running comprehensive connection tests...");const e={timestamp:(new Date).toISOString(),tests:{}};return e.tests.configuration=this.validateConfiguration(),e.tests.backendHealth=await this.testBackendAvailability(),e.tests.backendHealth.available?(e.tests.databricksConnection=await this.testConnection(),e.tests.databricksConnection.success?e.tests.dataFetch=await this.fetchLatestTelemetry():e.tests.dataFetch={skipped:!0,reason:"Databricks connection failed"}):(e.tests.databricksConnection={skipped:!0,reason:"Backend not available"},e.tests.dataFetch={skipped:!0,reason:"Backend not available"}),e.tests.mockDataFallback=this.generateMockTelemetry(),e.summary={configurationValid:e.tests.configuration.hasBackendUrl,backendAvailable:e.tests.backendHealth.available,databricksConnected:e.tests.databricksConnection.success||!1,dataAvailable:e.tests.dataFetch.success||e.tests.mockDataFallback.success,recommendedApproach:this.getRecommendedApproach(e.tests)},console.log("\ud83d\udccb Connection test results:",e.summary),e}getRecommendedApproach(e){var t;return e.backendHealth.available&&null!==(t=e.databricksConnection)&&void 0!==t&&t.success?"backend-proxy":e.backendHealth.available?"backend-proxy-with-mock-data":"frontend-mock-data-only"}};class cp{constructor(){this.telemetryService=new sp,this.mockData=this.generateMockTelemetryData(),this.useBackend=!0,console.log("\u2705 TelemetryFetcher: Using secure backend telemetry service"),console.log("   Backend URL: "+(this.telemetryService.backendBaseUrl||"http://localhost:8080")),console.log("   Security: All Databricks authentication handled server-side with OAuth")}generateMockTelemetryData(){const e=["111","112","113","122","123","131","132","133","222","223","231","232","233","322","341","342","343","411","412","413","421","422","423"],t=[],r=new Date;for(let n=0;n<100;n++){const i=new Date(r.getTime()-6e4*n);e.forEach(e=>{t.push({componentID:e,sensorAReading:10*Math.random()-5,sensorBReading:10*Math.random()-5,sensorCReading:10*Math.random()-5,sensorDReading:6*Math.random()-3,timestamp:i.toISOString()})})}return t}async fetchLatestTelemetry(e){try{console.log("\ud83d\udce1 Fetching telemetry for component ".concat(e," via backend proxy"));const t=await this.telemetryService.fetchLatestTelemetry();if(t.success&&t.data&&t.data.length>0){const r=t.data.find(t=>t.componentID===e);return r?(console.log("\u2705 Found telemetry data for component ".concat(e)),r):(console.warn("\u26a0\ufe0f  No data for component ".concat(e,". Available: ").concat(t.data.map(e=>e.componentID).join(", "))),null)}throw console.warn("\u26a0\ufe0f  Backend returned no telemetry data, using mock data"),new Error("No telemetry data from backend")}catch(pt){console.error("\u274c Backend unavailable, using mock data:",pt.message)}console.log("\ud83c\udfad Using mock data for component: ".concat(e)),await this.simulateDelay();const t=this.mockData.filter(t=>t.componentID===e).sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp));return t[0]||null}async fetchHistoricalTelemetry(e,t,r){console.log("\ud83d\udcca Fetching historical telemetry for ".concat(e," (").concat(t," to ").concat(r,")")),await this.simulateDelay();const n=new Date(t),i=new Date(r);return this.mockData.filter(t=>{const r=new Date(t.timestamp);return t.componentID===e&&r>=n&&r<=i}).sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))}async fetchAllLatestTelemetry(){try{console.log("\ud83d\udce1 Fetching all latest telemetry via backend proxy");const e=await this.telemetryService.fetchLatestTelemetry();if(e.success&&e.data&&e.data.length>0)return console.log("\u2705 Retrieved ".concat(e.data.length," telemetry records from backend")),e.data;throw console.warn("\u26a0\ufe0f  Backend returned no telemetry data, using mock data"),new Error("No telemetry data from backend")}catch(pt){console.error("\u274c Backend unavailable, using mock data:",pt.message)}console.log("\ud83c\udfad Using mock data for all latest telemetry"),await this.simulateDelay();const e={};return this.mockData.forEach(t=>{(!e[t.componentID]||new Date(t.timestamp)>new Date(e[t.componentID].timestamp))&&(e[t.componentID]=t)}),Object.values(e)}async fetchTelemetryByTimeRange(e,t){console.log("\ud83d\udcca Fetching telemetry by time range (".concat(e," to ").concat(t,")")),await this.simulateDelay();const r=new Date(e),n=new Date(t);return this.mockData.filter(e=>{const t=new Date(e.timestamp);return t>=r&&t<=n}).sort((e,t)=>new Date(t.timestamp)-new Date(e.timestamp))}simulateDelay(){return new Promise(e=>setTimeout(e,500*Math.random()+100))}getSensorDefinitions(){return{sensorAReading:{label:"Temperature",unit:"\xb0C",min:0,max:120},sensorBReading:{label:"Pressure",unit:"PSI",min:0,max:80},sensorCReading:{label:"Vibration",unit:"Hz",min:0,max:150},sensorDReading:{label:"Speed",unit:"RPM",min:0,max:90}}}getHealthThresholds(){return{sensorAReading:{warning:90,critical:100},sensorBReading:{warning:60,critical:70},sensorCReading:{warning:120,critical:140},sensorDReading:{warning:75,critical:85}}}analyzeSensorHealth(e,t){const r=this.getHealthThresholds()[t];return r?e>=r.critical?"critical":e>=r.warning?"warning":"healthy":"unknown"}getComponentHealth(e){if(!e)return"unknown";const t=["sensorAReading","sensorBReading","sensorCReading","sensorDReading"].map(t=>this.analyzeSensorHealth(e[t],t));return t.includes("critical")?"critical":t.includes("warning")?"warning":"healthy"}}var lp=r(24209),up=r(68634),dp=r(49212);const{namedNode:hp}=lp.Ay;class pp{constructor(){this.store=new up.A,this.parser=new dp.A}parseRDF(e){return new Promise((t,r)=>{this.parser.parse(e,(e,n,i)=>{if(e)r(e);else if(n)this.store.addQuad(n);else{const e=this.extractGraphData();t(e)}})})}extractGraphData(){const e=new Map,t=[],r=this.store.getQuads();console.log("RDFParser: Extracted quads:",r.length),r.forEach(r=>{const n=r.subject.value,i=r.predicate.value,a=r.object.value;if(!this.isSchemaNode(n)&&("NamedNode"!==r.object.termType||!this.isSchemaNode(a))){if(!e.has(n)&&this.isInstanceNode(n)){const t=this.getNodeLabel(n)||this.extractLabel(n);e.set(n,{id:n,label:t,type:this.getNodeType(n),data:{uri:n}})}if("NamedNode"===r.object.termType&&!e.has(a)&&this.isInstanceNode(a)){const t=this.getNodeLabel(a)||this.extractLabel(a);e.set(a,{id:a,label:t,type:this.getNodeType(a),data:{uri:a}})}this.isRelationshipPredicate(i)&&this.isInstanceNode(n)&&"NamedNode"===r.object.termType&&this.isInstanceNode(a)&&t.push({id:"".concat(n,"-").concat(i,"-").concat(a),source:n,target:a,label:this.extractLabel(i),type:this.getEdgeType(i),data:{predicate:i}})}});const n={nodes:Array.from(e.values()),edges:t};return console.log("RDFParser: Final graph data:",n),n}extractLabel(e){const t=e.split(/[/#]/);return t[t.length-1]||e}extractComponentId(e){const t=e.split(/[/#]/),r=t[t.length-1]||e;if(r.includes("component-"))return r.replace("component-","");if(r.includes("comp"))return r.replace("comp","");if(r.match(/^\d+$/))return r;const n=r.match(/\d+$/);return n?n[0]:r}isSchemaNode(e){return e.includes("digitaltwin/")&&(e.endsWith("/Machine")||e.endsWith("/Line")||e.endsWith("/Component")||e.endsWith("/Sensor")||e.endsWith("/inLine")||e.endsWith("/partOf")||e.endsWith("/dependsOn"))}isInstanceNode(e){return e.includes("example.com/factory/")||e.includes("databricks.com/factory/")||e.includes("example.com/platform/")||e.includes("example.com/automotive/")}getNodeLabel(e){const t=this.store.getQuads(hp(e),hp("http://www.w3.org/2000/01/rdf-schema#label"),null);return t.length>0?t[0].object.value:null}getNodeType(e){const t=this.store.getQuads(hp(e),hp("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),null);if(0===t.length)return"unknown";const r=t[0].object.value;return r.includes("Line")?"line":r.includes("Machine")?"machine":r.includes("Component")?"component":r.includes("Sensor")?"sensor":r.includes("Platform")?"line":r.includes("Well")?"machine":r.includes("Wellhead")||r.includes("Derrick")||r.includes("Drawworks")||r.includes("BlowoutPreventer")||r.includes("Separator")||r.includes("Compressor")?"component":r.includes("Sensor")?"sensor":r.includes("Reservoir")||r.includes("Formation")?"line":"component"}getEdgeType(e){return e.includes("inLine")||e.includes("componentOf")||e.includes("partOf")?"partOf":e.includes("upstream")||e.includes("dependsOn")?"dependsOn":e.includes("propagates")?"propagates":e.includes("partOfPlatform")?"partOf":e.includes("accessedFrom")||e.includes("protectedBy")||e.includes("monitoredBy")||e.includes("flowsTo")?"dependsOn":"relationship"}isRelationshipPredicate(e){return["http://databricks.com/digitaltwin/partOf","http://databricks.com/digitaltwin/dependsOn","http://databricks.com/digitaltwin/propagates","http://example.com/factory/inLine","http://example.com/factory/componentOf","http://example.com/factory/upstream","http://example.com/factory/dependsOn","http://example.com/oilgas/partOfPlatform","http://example.com/oilgas/accessedFrom","http://example.com/oilgas/protectedBy","http://example.com/oilgas/monitoredBy","http://example.com/oilgas/flowsTo"].includes(e)||["partOf","componentOf","inLine","dependsOn","upstream","propagates"].some(t=>e.includes(t))}getComponentTelemetryMapping(){const e=this.store.getQuads(null,hp("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),null).filter(e=>e.object.value.includes("Component")),t=e.map(e=>{const t=e.subject.value;return{componentURI:t,componentID:this.extractComponentId(t),label:this.getNodeLabel(t)||this.extractLabel(t)}});return console.log("RDFParser: Component-to-telemetry mapping:",t),t}queryComponents(){return this.store.getQuads(null,hp("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),hp("http://databricks.com/digitaltwin/Component"))}queryMachines(){return this.store.getQuads(null,hp("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),hp("http://databricks.com/digitaltwin/Machine"))}queryLines(){return this.store.getQuads(null,hp("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),hp("http://databricks.com/digitaltwin/Line"))}getDependencies(e){const t=this.store.getQuads(hp(e),null,null).filter(e=>e.predicate.value.includes("dependsOn")).map(e=>e.object.value);return t}getHealthStatus(e,t){const r=this.getDependencies(e);let n="healthy";r.forEach(e=>{"fault"===this.getHealthStatus(e,t)&&(n="fault")});const i=this.extractLabel(e),a=t.find(e=>e.componentID===i);if(a){const{sensorAReading:e,sensorBReading:t,sensorCReading:r,sensorDReading:i}=a;(e>100||t>100||r>100||i>100)&&(n="fault")}return n}}const fp=t=>{let{selectedNode:r,onClose:n,position:i}=t;const[a,o]=(0,e.useState)(null),[s,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(!1),[h,p]=(0,e.useState)("1h"),[f,g]=(0,e.useState)((new Date).toISOString()),[y]=(0,e.useState)(new cp),[m]=(0,e.useState)(new pp);(0,e.useEffect)(()=>{r&&"component"===r.type&&v()},[r,f]);const v=async()=>{if(r){d(!0);try{const e=m.extractComponentId(r.id);console.log('TelemetryOverlay: Extracted component ID "'.concat(e,'" from URI "').concat(r.id,'"'));const t=await y.fetchLatestTelemetry(e);o(t);const n=new Date(f),i=new Date(n.getTime()-b(h)),a=await y.fetchHistoricalTelemetry(e,i.toISOString(),n.toISOString());c(a)}catch(pt){console.error("Error fetching telemetry data:",pt)}finally{d(!1)}}},b=e=>{const t={"15m":9e5,"1h":36e5,"6h":216e5,"24h":864e5,"7d":6048e5};return t[e]||t["1h"]},_=()=>y.getSensorDefinitions(),w=(e,t)=>y.analyzeSensorHealth(e,t),x=(e,t)=>"".concat(e.toFixed(2)," ").concat(t),S=e=>new Date(e).toLocaleString(),T=e=>{const t={healthy:"#27ae60",warning:"#f39c12",critical:"#e74c3c",unknown:"#95a5a6"};return t[e]||t.unknown};if(!r)return null;const O={position:"absolute",left:(null===i||void 0===i?void 0:i.x)||0,top:(null===i||void 0===i?void 0:i.y)||0,zIndex:1e3};return(0,l.jsxs)("div",{className:"telemetry-overlay",style:O,children:[(0,l.jsxs)("div",{className:"overlay-header",children:[(0,l.jsxs)("h3",{children:[r.label," Telemetry"]}),(0,l.jsx)("button",{className:"close-button",onClick:n,children:"\xd7"})]}),(0,l.jsx)("div",{className:"overlay-content",children:"component"!==r.type?(0,l.jsx)("div",{className:"no-telemetry",children:(0,l.jsx)("p",{children:"Telemetry data is only available for components."})}):u?(0,l.jsx)("div",{className:"loading",children:"Loading telemetry data..."}):a?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:"timestamp-controls",children:[(0,l.jsxs)("label",{children:["Timestamp:",(0,l.jsx)("input",{type:"datetime-local",value:f.slice(0,-1),onChange:e=>g(e.target.value+"Z")})]}),(0,l.jsxs)("label",{children:["Time Range:",(0,l.jsxs)("select",{value:h,onChange:e=>p(e.target.value),children:[(0,l.jsx)("option",{value:"15m",children:"15 minutes"}),(0,l.jsx)("option",{value:"1h",children:"1 hour"}),(0,l.jsx)("option",{value:"6h",children:"6 hours"}),(0,l.jsx)("option",{value:"24h",children:"24 hours"}),(0,l.jsx)("option",{value:"7d",children:"7 days"})]})]}),(0,l.jsx)("button",{onClick:v,disabled:u,children:"Refresh"})]}),(0,l.jsxs)("div",{className:"current-values",children:[(0,l.jsx)("h4",{children:"Current Values"}),(0,l.jsxs)("div",{className:"last-updated",children:["Last updated: ",S(a.timestamp)]}),(0,l.jsx)("div",{className:"sensors-grid",children:Object.entries(_()).map(e=>{let[t,r]=e;return((e,t,r)=>{const n=w(r,e),i=T(n);return(0,l.jsxs)("div",{className:"sensor-card",children:[(0,l.jsxs)("div",{className:"sensor-header",children:[(0,l.jsx)("h4",{children:t.label}),(0,l.jsx)("div",{className:"health-indicator",style:{backgroundColor:i},title:n})]}),(0,l.jsx)("div",{className:"sensor-value",children:x(r,t.unit)}),(0,l.jsxs)("div",{className:"sensor-range",children:["Range: ",t.min," - ",t.max," ",t.unit]}),(0,l.jsx)("div",{className:"sensor-progress",children:(0,l.jsx)("div",{className:"progress-bar",style:{width:"".concat(r/t.max*100,"%"),backgroundColor:i}})})]},e)})(t,r,a[t])})})]}),(()=>{if(!s.length)return null;const e=_(),t=Object.keys(e);return(0,l.jsxs)("div",{className:"historical-chart",children:[(0,l.jsx)("h4",{children:"Historical Data"}),(0,l.jsx)("div",{className:"chart-container",children:t.map(t=>{const r=e[t],n=s.map(e=>e[t]),i=Math.max(...n),a=Math.min(...n);return(0,l.jsxs)("div",{className:"mini-chart",children:[(0,l.jsx)("div",{className:"chart-title",children:r.label}),(0,l.jsx)("div",{className:"chart-line",children:n.map((e,n)=>(0,l.jsx)("div",{className:"chart-point",style:{height:"".concat((e-a)/(i-a)*100,"%"),backgroundColor:T(w(e,t))},title:"".concat(x(e,r.unit)," at ").concat(S(s[n].timestamp))},n))}),(0,l.jsxs)("div",{className:"chart-range",children:[(0,l.jsx)("span",{children:x(a,r.unit)}),(0,l.jsx)("span",{children:x(i,r.unit)})]})]},t)})})]})})(),(0,l.jsxs)("div",{className:"telemetry-summary",children:[(0,l.jsxs)("div",{className:"summary-item",children:[(0,l.jsx)("span",{children:"Component ID:"}),(0,l.jsx)("span",{children:m.extractComponentId(r.id)})]}),(0,l.jsxs)("div",{className:"summary-item",children:[(0,l.jsx)("span",{children:"Overall Health:"}),(0,l.jsx)("span",{className:"health-status",style:{color:T(y.getComponentHealth(a))},children:y.getComponentHealth(a).toUpperCase()})]}),(0,l.jsxs)("div",{className:"summary-item",children:[(0,l.jsx)("span",{children:"Data Points:"}),(0,l.jsx)("span",{children:s.length})]})]})]}):(0,l.jsx)("div",{className:"no-data",children:"No telemetry data available"})})]})};var gp=r(36865);const yp=t=>{let{rdfParser:r,onQueryResult:n,onHighlightNodes:i}=t;const[a,o]=(0,e.useState)(""),[c,u]=(0,e.useState)([]),[d,h]=(0,e.useState)(!1),[p,f]=(0,e.useState)(null),[g,y]=(0,e.useState)([]),[m,v]=(0,e.useState)(""),b=(0,e.useRef)(null),_=new gp.Parser,w=[{name:"Find all machines",query:"SELECT ?machine ?label WHERE {\n  ?machine a dt:Machine .\n  OPTIONAL { ?machine rdfs:label ?label }\n}"},{name:"Find components in machine1",query:"SELECT ?component WHERE {\n  ?component a dt:Component .\n  ?component dt:partOf ex:machine1 .\n}"},{name:"Find dependencies",query:"SELECT ?entity ?dependency WHERE {\n  ?entity dbx:dependsOn ?dependency .\n}"},{name:"Find all relationships",query:"SELECT ?subject ?predicate ?object WHERE {\n  ?subject ?predicate ?object .\n  FILTER(?predicate IN (dt:inLine, dt:partOf, dbx:dependsOn))\n}"},{name:"Find machines in line1",query:"SELECT ?machine WHERE {\n  ?machine a dt:Machine .\n  ?machine dt:inLine ex:line1 .\n}"}];(0,e.useEffect)(()=>{const e=localStorage.getItem("sparql-query-history");e&&y(JSON.parse(e))},[]);const x=async(e,t)=>{if("SELECT"!==e.queryType)throw new Error("Only SELECT queries are supported");const r=t.store.getQuads(),n=[],i=e.variables.map(e=>e.value||e);if(e.where&&e.where.length>0){const t=S(e.where);T(t,r).forEach(e=>{const t={};i.forEach(r=>{e[r]&&(t[r]={type:"NamedNode"===e[r].termType?"uri":"literal",value:e[r].value})}),Object.keys(t).length>0&&n.push(t)})}return{head:{vars:i},results:{bindings:n}}},S=e=>{const t=[],r=e=>{"bgp"===e.type?t.push(...e.triples):"group"===e.type?e.patterns.forEach(r):"optional"===e.type?r(e.patterns[0]):e.type};return e.forEach(r),t},T=(e,t)=>{const r=[{}];return e.forEach(e=>{const n=[];r.forEach(r=>{O(e,t,r).forEach(t=>{const i=s({},r);e.subject.value&&e.subject.value.startsWith("?")&&(i[e.subject.value.slice(1)]=t.subject),e.predicate.value&&e.predicate.value.startsWith("?")&&(i[e.predicate.value.slice(1)]=t.predicate),e.object.value&&e.object.value.startsWith("?")&&(i[e.object.value.slice(1)]=t.object),n.push(i)})}),r.length=0,r.push(...n)}),r},O=(e,t,r)=>t.filter(t=>E(e.subject,t.subject,r)&&E(e.predicate,t.predicate,r)&&E(e.object,t.object,r)),E=(e,t,r)=>{if(e.value.startsWith("?")){const n=e.value.slice(1);return!r[n]||r[n].value===t.value}return A(e.value)===t.value},A=e=>{const t={"dt:":"http://databricks.com/digitaltwin/","ex:":"http://example.com/factory/","rdfs:":"http://www.w3.org/2000/01/rdf-schema#","dbx:":"http://databricks.com/factory/"};for(const[r,n]of Object.entries(t))if(e.startsWith(r))return e.replace(r,n);return e},P=e=>{if(!i||!e.results||!e.results.bindings)return;const t=new Set;e.results.bindings.forEach(e=>{Object.values(e).forEach(e=>{"uri"===e.type&&t.add(e.value)})}),i(Array.from(t))},N=e=>{const t=[e,...g.filter(t=>t!==e)].slice(0,10);y(t),localStorage.setItem("sparql-query-history",JSON.stringify(t))},j=e=>{if("uri"===e.type){const t=e.value.split(/[/#]/);return t[t.length-1]||e.value}return e.value};return(0,l.jsxs)("div",{className:"sparql-query-interface",children:[(0,l.jsxs)("div",{className:"query-header",children:[(0,l.jsx)("h3",{children:"SPARQL Query Interface"}),(0,l.jsxs)("div",{className:"query-actions",children:[(0,l.jsx)("button",{onClick:()=>{o(""),u([]),f(null),v("")},disabled:d,children:"Clear"}),(0,l.jsx)("button",{onClick:async()=>{if(a.trim()&&r){h(!0),f(null);try{const e=_.parse(a),t=await x(e,r);u(t),N(a),n&&n(t),P(t)}catch(e){f(e.message),console.error("SPARQL Query Error:",e)}finally{h(!1)}}},disabled:d||!a.trim(),children:d?"Executing...":"Execute Query"})]})]}),(0,l.jsxs)("div",{className:"query-builder",children:[(0,l.jsxs)("div",{className:"predefined-queries",children:[(0,l.jsx)("h4",{children:"Sample Queries"}),(0,l.jsxs)("select",{value:m,onChange:e=>{const t=w.find(t=>t.name===e.target.value);var r;t&&(o((r=t).query),v(r.name))},children:[(0,l.jsx)("option",{value:"",children:"Select a sample query..."}),w.map(e=>(0,l.jsx)("option",{value:e.name,children:e.name},e.name))]})]}),g.length>0&&(0,l.jsxs)("div",{className:"query-history",children:[(0,l.jsx)("h4",{children:"Recent Queries"}),(0,l.jsxs)("select",{onChange:e=>{return t=e.target.value,void o(t);var t},value:"",children:[(0,l.jsx)("option",{value:"",children:"Load from history..."}),g.map((e,t)=>(0,l.jsxs)("option",{value:e,children:[e.substring(0,50),"..."]},t))]})]})]}),(0,l.jsx)("div",{className:"query-input",children:(0,l.jsx)("textarea",{ref:b,value:a,onChange:e=>o(e.target.value),placeholder:"Enter your SPARQL query here...",rows:8,disabled:d})}),p&&(0,l.jsxs)("div",{className:"query-error",children:[(0,l.jsx)("strong",{children:"Error:"})," ",p]}),c.results&&(0,l.jsxs)("div",{className:"query-results",children:[(0,l.jsxs)("div",{className:"results-header",children:[(0,l.jsxs)("h4",{children:["Query Results (",c.results.bindings.length," results)"]}),c.results.bindings.length>0&&(0,l.jsx)("button",{onClick:()=>{if(!c.results||!c.results.bindings.length)return;const e=[c.head.vars.join(","),...c.results.bindings.map(e=>c.head.vars.map(t=>e[t]?'"'.concat(e[t].value,'"'):"").join(","))].join("\n"),t=new Blob([e],{type:"text/csv"}),r=URL.createObjectURL(t),n=document.createElement("a");n.href=r,n.download="sparql-results.csv",n.click(),URL.revokeObjectURL(r)},className:"export-button",children:"Export CSV"})]}),0===c.results.bindings.length?(0,l.jsx)("div",{className:"no-results",children:"No results found"}):(0,l.jsx)("div",{className:"results-table",children:(0,l.jsxs)("table",{children:[(0,l.jsx)("thead",{children:(0,l.jsx)("tr",{children:c.head.vars.map(e=>(0,l.jsx)("th",{children:e},e))})}),(0,l.jsx)("tbody",{children:c.results.bindings.map((e,t)=>(0,l.jsx)("tr",{children:c.head.vars.map(t=>(0,l.jsx)("td",{children:e[t]?(0,l.jsx)("span",{className:"result-value ".concat(e[t].type),title:e[t].value,children:j(e[t])}):(0,l.jsx)("span",{className:"null-value",children:"-"})},t))},t))})]})})]})]})},mp=t=>{let{telemetryData:r,graphData:n}=t;const[i,a]=(0,e.useState)([]),[o,s]=(0,e.useState)("all");(0,e.useEffect)(()=>{r&&n&&c()},[r,n]);const c=()=>{const e=[],t=new Date;r.forEach(r=>{Object.entries({sensorAReading:{warning:90,critical:100},sensorBReading:{warning:60,critical:70},sensorCReading:{warning:120,critical:140},sensorDReading:{warning:75,critical:85}}).forEach(n=>{let[i,a]=n;const o=r[i];o>=a.critical?e.push({id:"".concat(r.componentID,"-").concat(i,"-critical-").concat(t.getTime()),componentID:r.componentID,sensor:i,level:"critical",message:"".concat(i," reading is critically high: ").concat(o.toFixed(2)),timestamp:t.toISOString(),value:o,threshold:a.critical}):o>=a.warning&&e.push({id:"".concat(r.componentID,"-").concat(i,"-warning-").concat(t.getTime()),componentID:r.componentID,sensor:i,level:"warning",message:"".concat(i," reading is above warning threshold: ").concat(o.toFixed(2)),timestamp:t.toISOString(),value:o,threshold:a.warning})})}),a(t=>[...e,...t].slice(0,100))},u=i.filter(e=>"all"===o||e.level===o),d=e=>({critical:"\ud83d\udea8",warning:"\u26a0\ufe0f",info:"\u2139\ufe0f"}[e]||"\ud83d\udccb"),h={total:i.length,critical:i.filter(e=>"critical"===e.level).length,warning:i.filter(e=>"warning"===e.level).length,info:i.filter(e=>"info"===e.level).length};return(0,l.jsxs)("div",{className:"alerts-center",children:[(0,l.jsxs)("div",{className:"alerts-header",children:[(0,l.jsx)("h3",{children:"Alerts & Notifications"}),(0,l.jsx)("div",{className:"alerts-actions",children:(0,l.jsx)("button",{onClick:()=>{a([])},disabled:0===i.length,className:"clear-all-btn",children:"Clear All"})})]}),(0,l.jsxs)("div",{className:"alerts-summary",children:[(0,l.jsxs)("div",{className:"alert-count total",children:[(0,l.jsx)("span",{className:"count",children:h.total}),(0,l.jsx)("span",{className:"label",children:"Total"})]}),(0,l.jsxs)("div",{className:"alert-count critical",children:[(0,l.jsx)("span",{className:"count",children:h.critical}),(0,l.jsx)("span",{className:"label",children:"Critical"})]}),(0,l.jsxs)("div",{className:"alert-count warning",children:[(0,l.jsx)("span",{className:"count",children:h.warning}),(0,l.jsx)("span",{className:"label",children:"Warning"})]}),(0,l.jsxs)("div",{className:"alert-count info",children:[(0,l.jsx)("span",{className:"count",children:h.info}),(0,l.jsx)("span",{className:"label",children:"Info"})]})]}),(0,l.jsx)("div",{className:"alerts-filters",children:(0,l.jsxs)("select",{value:o,onChange:e=>s(e.target.value),children:[(0,l.jsx)("option",{value:"all",children:"All Alerts"}),(0,l.jsx)("option",{value:"critical",children:"Critical Only"}),(0,l.jsx)("option",{value:"warning",children:"Warning Only"}),(0,l.jsx)("option",{value:"info",children:"Info Only"})]})}),(0,l.jsx)("div",{className:"alerts-list",children:0===u.length?(0,l.jsx)("div",{className:"no-alerts",children:"all"===o?"No alerts at this time":"No ".concat(o," alerts")}):u.map(e=>{var t,r,n;return(0,l.jsx)("div",{className:"alert-item ".concat(e.level),style:{borderLeftColor:(n=e.level,{critical:"#dc3545",warning:"#ffc107",info:"#17a2b8"}[n]||"#6c757d")},children:(0,l.jsxs)("div",{className:"alert-content",children:[(0,l.jsxs)("div",{className:"alert-header",children:[(0,l.jsx)("span",{className:"alert-icon",children:d(e.level)}),(0,l.jsx)("span",{className:"alert-component",children:e.componentID}),(0,l.jsx)("span",{className:"alert-level",children:e.level.toUpperCase()}),(0,l.jsx)("button",{className:"close-alert",onClick:()=>{return t=e.id,void a(e=>e.filter(e=>e.id!==t));var t},children:"\xd7"})]}),(0,l.jsx)("div",{className:"alert-message",children:e.message}),(0,l.jsxs)("div",{className:"alert-details",children:[(0,l.jsxs)("span",{children:["Sensor: ",e.sensor]}),(0,l.jsxs)("span",{children:["Value: ",null===(t=e.value)||void 0===t?void 0:t.toFixed(2)]}),(0,l.jsxs)("span",{children:["Threshold: ",e.threshold]})]}),(0,l.jsx)("div",{className:"alert-timestamp",children:(r=e.timestamp,new Date(r).toLocaleString())})]})},e.id)})})]})},vp=()=>(0,l.jsxs)("div",{className:"threed-viewer",children:[(0,l.jsxs)("div",{className:"viewer-header",children:[(0,l.jsx)("h3",{children:"3D Model Viewer"}),(0,l.jsx)("div",{className:"viewer-controls",children:(0,l.jsx)("button",{disabled:!0,children:"Coming Soon"})})]}),(0,l.jsx)("div",{className:"viewer-placeholder",children:(0,l.jsxs)("div",{className:"placeholder-content",children:[(0,l.jsx)("div",{className:"placeholder-icon",children:"\ud83c\udfed"}),(0,l.jsx)("h4",{children:"3D Factory Model"}),(0,l.jsx)("p",{children:"This module will display an interactive 3D model of the manufacturing system."}),(0,l.jsxs)("div",{className:"planned-features",children:[(0,l.jsx)("h5",{children:"Planned Features:"}),(0,l.jsxs)("ul",{children:[(0,l.jsx)("li",{children:"Interactive 3D factory layout"}),(0,l.jsx)("li",{children:"Real-time equipment visualization"}),(0,l.jsx)("li",{children:"Color-coded health status"}),(0,l.jsx)("li",{children:"Click-to-inspect components"}),(0,l.jsx)("li",{children:"Animation of production flow"}),(0,l.jsx)("li",{children:"Integration with telemetry data"})]})]})]})})]});const bp=class{constructor(){this.backendBaseUrl="BACKEND_URL_PLACEHOLDER",this.apiEndpoint="".concat(this.backendBaseUrl,"/rdf-models")}async handleResponse(e){if(!e.ok){const t=await e.json().catch(()=>({}));throw new Error(t.error||"HTTP error! status: ".concat(e.status))}return e.json()}async createModel(e){try{const t=await fetch(this.apiEndpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});return await this.handleResponse(t)}catch(pt){throw console.error("Error creating RDF model:",pt),pt}}async listModels(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};try{const t=new URLSearchParams;e.limit&&t.append("limit",e.limit),e.offset&&t.append("offset",e.offset),e.category&&t.append("category",e.category),void 0!==e.is_template&&t.append("is_template",e.is_template),e.creator&&t.append("creator",e.creator),e.search&&t.append("search",e.search);const r="".concat(this.apiEndpoint).concat(t.toString()?"?"+t.toString():""),n=await fetch(r);return await this.handleResponse(n)}catch(pt){throw console.error("Error listing RDF models:",pt),pt}}async getModel(e){try{const t=await fetch("".concat(this.apiEndpoint,"/").concat(e));return await this.handleResponse(t)}catch(pt){throw console.error("Error getting RDF model:",pt),pt}}async getModelByName(e){try{const t=await fetch("".concat(this.apiEndpoint,"/by-name/").concat(encodeURIComponent(e)));return await this.handleResponse(t)}catch(pt){throw console.error("Error getting RDF model by name:",pt),pt}}async updateModel(e,t){try{const r=await fetch("".concat(this.apiEndpoint,"/").concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});return await this.handleResponse(r)}catch(pt){throw console.error("Error updating RDF model:",pt),pt}}async deleteModel(e){try{const t=await fetch("".concat(this.apiEndpoint,"/").concat(e),{method:"DELETE"});return await this.handleResponse(t)}catch(pt){throw console.error("Error deleting RDF model:",pt),pt}}async duplicateModel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;try{const r=t?{name:t}:{},n=await fetch("".concat(this.apiEndpoint,"/").concat(e,"/duplicate"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return await this.handleResponse(n)}catch(pt){throw console.error("Error duplicating RDF model:",pt),pt}}async searchModels(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;try{const r=new URLSearchParams({q:e,limit:t.toString()}),n=await fetch("".concat(this.apiEndpoint,"/search?").concat(r.toString()));return await this.handleResponse(n)}catch(pt){throw console.error("Error searching RDF models:",pt),pt}}async getStatistics(){try{const e=await fetch("".concat(this.apiEndpoint,"/statistics"));return await this.handleResponse(e)}catch(pt){throw console.error("Error getting RDF model statistics:",pt),pt}}async bulkImportModels(e){try{const t=await fetch("".concat(this.apiEndpoint,"/bulk-import"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({models:e})});return await this.handleResponse(t)}catch(pt){throw console.error("Error bulk importing RDF models:",pt),pt}}async getTemplates(){return this.listModels({is_template:!0,limit:100})}async getUserModels(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.listModels({is_template:!1,creator:e,limit:100})}async getModelsByCategory(e){return this.listModels({category:e,limit:100})}async migrateFromLocalStorage(){try{const e=localStorage.getItem("saved-rdf-models");if(!e)return console.log("No local models to migrate"),{migrated:0,errors:[]};const t=JSON.parse(e);if(!Array.isArray(t)||0===t.length)return console.log("No valid local models to migrate"),{migrated:0,errors:[]};console.log("Migrating ".concat(t.length," models from localStorage to database..."));const r=t.map(e=>({name:e.name,content:e.content,description:e.description||"",category:e.category||"user",is_template:!1,creator:"migrated-user",metadata:{original_id:e.id,migrated_at:(new Date).toISOString(),original_created_at:e.createdAt},tags:e.tags||[]})),n=await this.bulkImportModels(r);return n.created>0&&(localStorage.removeItem("saved-rdf-models"),console.log("Successfully migrated ".concat(n.created," models"))),{migrated:n.created,errors:n.error_details||[],total_attempted:t.length}}catch(pt){throw console.error("Error migrating from localStorage:",pt),pt}}async isBackendAvailable(){try{return(await fetch("".concat(this.apiEndpoint,"/statistics"))).ok}catch(pt){return console.warn("Backend not available:",pt.message),!1}}async getModelsWithFallback(){try{const e=await this.listModels({limit:100});return{source:"backend",models:e.models,statistics:e.statistics}}catch(pt){console.warn("Backend unavailable, falling back to localStorage");const t=localStorage.getItem("saved-rdf-models"),r=t?JSON.parse(t):[];return{source:"localStorage",models:r,statistics:{total_models:r.length,template_count:0,user_model_count:r.length}}}}async getLocalTemplates(){try{const e=await fetch("".concat(this.apiEndpoint,"/local-templates"));if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return await e.json()}catch(pt){throw console.error("Error fetching local templates:",pt),pt}}async getModelsWithLocalTemplatesFallback(){try{try{const e=(await this.listModels({limit:100})).models||[];return console.log("\u2705 Loaded ".concat(e.length," models from database (includes templates)")),{source:"backend",models:e,statistics:{total_models:e.length,template_count:e.filter(e=>e.is_template).length||0,user_model_count:e.filter(e=>!e.is_template).length||0,local_template_count:0}}}catch(e){console.warn("Backend unavailable, falling back to localStorage only");const t=JSON.parse(localStorage.getItem("saved-rdf-models")||"[]");return{source:"localStorage",models:t,statistics:{total_models:t.length,template_count:t.filter(e=>e.is_template).length||0,user_model_count:t.filter(e=>!e.is_template).length||0,local_template_count:0}}}}catch(pt){console.error("Complete fallback failed:",pt);const t=JSON.parse(localStorage.getItem("saved-rdf-models")||"[]");return{source:"localStorage-only",models:t,statistics:{total_models:t.length,template_count:0,user_model_count:t.length,local_template_count:0}}}}saveToLocalStorageBackup(e){try{const t=[...JSON.parse(localStorage.getItem("saved-rdf-models")||"[]"),{id:e.id||Date.now().toString(),name:e.name,content:e.content,description:e.description,category:e.category,createdAt:e.created_at||(new Date).toISOString(),isTemplate:e.is_template||!1}];localStorage.setItem("saved-rdf-models",JSON.stringify(t))}catch(pt){console.warn("Failed to save localStorage backup:",pt)}}},_p=t=>{let{onModelChange:r,initialModel:n,onModelSaved:i}=t;const[a,o]=(0,e.useState)(n||""),[s,c]=(0,e.useState)([]),[u,d]=(0,e.useState)(""),[h,p]=(0,e.useState)(""),[f,g]=(0,e.useState)(!1),[y,m]=(0,e.useState)(null),[v,b]=(0,e.useState)(!1),[_,w]=(0,e.useState)(!1),[x,S]=(0,e.useState)(!0),[T]=(0,e.useState)(()=>new bp),O=(0,e.useRef)(null),E='@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix dt: <http://databricks.com/digitaltwin/> .\n@prefix ex: <http://example.com/factory/> .\n@prefix dbx: <http://databricks.com/factory/> .\n\n# Define the domain relationships\ndt:inLine rdfs:domain dt:Machine ;\n    rdfs:range dt:Line .\n\ndt:partOf rdfs:domain dt:Component ;\n    rdfs:range dt:Machine .\n\n# Create a production line\nex:line1 a dt:Line ;\n    rdfs:label "Production Line 1" .\n\n# Create machines in the line\nex:machine1 a dt:Machine ;\n    dt:inLine ex:line1 ;\n    rdfs:label "Assembly Machine 1" .\n\nex:machine2 a dt:Machine ;\n    dt:inLine ex:line1 ;\n    rdfs:label "Quality Control Machine" .\n\n# Create components for each machine\nex:component11 a dt:Component ;\n    dt:partOf ex:machine1 ;\n    rdfs:label "Motor Component" .\n\nex:component12 a dt:Component ;\n    dt:partOf ex:machine1 ;\n    rdfs:label "Sensor Array" .\n\nex:component21 a dt:Component ;\n    dt:partOf ex:machine2 ;\n    rdfs:label "Camera System" .\n\nex:component22 a dt:Component ;\n    dt:partOf ex:machine2 ;\n    rdfs:label "Testing Unit" .\n\n# Define dependencies\nex:machine2 dbx:dependsOn ex:machine1 .';(0,e.useEffect)(()=>{P(),A(),!a&&E&&o(E)},[]);const A=async()=>{try{const e=await T.isBackendAvailable();S(e)}catch(pt){console.warn("Backend availability check failed:",pt),S(!1)}};(0,e.useEffect)(()=>{n&&n!==a&&o(n)},[n]),(0,e.useEffect)(()=>{a&&N(a)},[a]);const P=()=>{const e=localStorage.getItem("saved-rdf-models");e&&c(JSON.parse(e))},N=async e=>{if(e.trim()){g(!0);try{const t=new pp,r=await t.parseRDF(e);m({isValid:!0,nodes:r.nodes.length,edges:r.edges.length,message:"Valid RDF model with ".concat(r.nodes.length," nodes and ").concat(r.edges.length," relationships")})}catch(pt){m({isValid:!1,message:"Validation Error: ".concat(pt.message),error:pt})}finally{g(!1)}}},j=e=>{const t={machine:'ex:newMachine a dt:Machine ;\n    dt:inLine ex:line1 ;\n    rdfs:label "New Machine" .',component:'ex:newComponent a dt:Component ;\n    dt:partOf ex:machine1 ;\n    rdfs:label "New Component" .',line:'ex:newLine a dt:Line ;\n    rdfs:label "New Production Line" .',dependency:"ex:machine2 dbx:dependsOn ex:machine1 ."}[e];if(t&&O.current){const e=O.current,r=e.selectionStart,n=e.selectionEnd,i=a.substring(0,r)+"\n\n"+t+"\n"+a.substring(n);o(i),setTimeout(()=>{e.focus(),e.setSelectionRange(r+t.length+2,r+t.length+2)},10)}};return(0,l.jsxs)("div",{className:"rdf-model-editor",children:[(0,l.jsxs)("div",{className:"editor-header",children:[(0,l.jsxs)("div",{className:"header-left",children:[(0,l.jsx)("h2",{children:"RDF Model Editor"}),(0,l.jsx)("div",{className:"validation-status",children:f?(0,l.jsx)("span",{className:"validating",children:"\ud83d\udd04 Validating..."}):y?(0,l.jsxs)("span",{className:"validation-result ".concat(y.isValid?"valid":"invalid"),children:[y.isValid?"\u2705":"\u274c"," ",y.message]}):null})]}),(0,l.jsxs)("div",{className:"header-actions",children:[(0,l.jsx)("button",{onClick:async()=>{if(a.trim())if(y&&y.isValid){g(!0);try{const e=new pp,t=await e.parseRDF(a);r&&r(a,t),alert("Successfully synced to Graph Editor!")}catch(pt){alert("Sync failed: ".concat(pt.message))}finally{g(!1)}}else alert("Please fix validation errors before syncing");else alert("Please enter RDF content before syncing")},className:"sync-btn ".concat(null!==y&&void 0!==y&&y.isValid?"valid":"invalid"),disabled:!(null!==y&&void 0!==y&&y.isValid)||f,title:null!==y&&void 0!==y&&y.isValid?"Sync RDF model to Graph Editor":"Fix validation errors before syncing",children:"\ud83d\udd04 Sync to Graph"}),(0,l.jsx)("button",{onClick:()=>w(!0),className:"load-btn",children:"\ud83d\udcc1 Load Model"}),(0,l.jsx)("button",{onClick:()=>b(!0),className:"save-btn",children:"\ud83d\udcbe Save Model"}),(0,l.jsx)("button",{onClick:()=>{const e=a.split("\n").map(e=>{const t=e.trim();return t.startsWith("@prefix")||t.startsWith("#")?t:t.includes(" a ")?"  "+t:t.startsWith("dt:")||t.startsWith("rdfs:")||t.startsWith("dbx:")?"    "+t:t}).join("\n");o(e)},className:"format-btn",children:"\ud83c\udfa8 Format"})]})]}),(0,l.jsx)("div",{className:"editor-toolbar",children:(0,l.jsxs)("div",{className:"template-buttons",children:[(0,l.jsx)("span",{className:"toolbar-label",children:"Quick Insert:"}),(0,l.jsx)("button",{onClick:()=>j("machine"),title:"Insert Machine Template",children:"\ud83c\udfed Machine"}),(0,l.jsx)("button",{onClick:()=>j("component"),title:"Insert Component Template",children:"\u2699\ufe0f Component"}),(0,l.jsx)("button",{onClick:()=>j("line"),title:"Insert Line Template",children:"\ud83d\udccf Line"}),(0,l.jsx)("button",{onClick:()=>j("dependency"),title:"Insert Dependency Template",children:"\ud83d\udd17 Dependency"})]})}),(0,l.jsxs)("div",{className:"editor-content",children:[(0,l.jsx)("div",{className:"editor-main",children:(0,l.jsx)("textarea",{ref:O,className:"rdf-textarea",value:a,onChange:e=>o(e.target.value),placeholder:"Enter your RDF model here...",spellCheck:!1})}),(0,l.jsxs)("div",{className:"editor-sidebar",children:[(0,l.jsxs)("div",{className:"syntax-help",children:[(0,l.jsx)("h4",{children:"RDF Syntax Guide"}),(0,l.jsxs)("div",{className:"syntax-examples",children:[(0,l.jsxs)("div",{className:"syntax-item",children:[(0,l.jsx)("strong",{children:"Prefixes:"}),(0,l.jsx)("code",{children:"@prefix dt: <http://...> ."})]}),(0,l.jsxs)("div",{className:"syntax-item",children:[(0,l.jsx)("strong",{children:"Class Definition:"}),(0,l.jsx)("code",{children:"ex:machine1 a dt:Machine ."})]}),(0,l.jsxs)("div",{className:"syntax-item",children:[(0,l.jsx)("strong",{children:"Properties:"}),(0,l.jsx)("code",{children:"ex:machine1 dt:inLine ex:line1 ."})]}),(0,l.jsxs)("div",{className:"syntax-item",children:[(0,l.jsx)("strong",{children:"Labels:"}),(0,l.jsx)("code",{children:'ex:machine1 rdfs:label "Machine 1" .'})]})]})]}),(0,l.jsxs)("div",{className:"namespace-reference",children:[(0,l.jsx)("h4",{children:"Available Namespaces"}),(0,l.jsxs)("div",{className:"namespace-list",children:[(0,l.jsxs)("div",{className:"namespace-item",children:[(0,l.jsx)("strong",{children:"dt:"})," Digital Twin concepts"]}),(0,l.jsxs)("div",{className:"namespace-item",children:[(0,l.jsx)("strong",{children:"ex:"})," Factory instances"]}),(0,l.jsxs)("div",{className:"namespace-item",children:[(0,l.jsx)("strong",{children:"dbx:"})," Databricks extensions"]}),(0,l.jsxs)("div",{className:"namespace-item",children:[(0,l.jsx)("strong",{children:"rdfs:"})," RDF Schema"]})]})]})]})]}),v&&(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsx)("h3",{children:"Save RDF Model"}),(0,l.jsx)("button",{onClick:()=>b(!1),children:"\xd7"})]}),(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsxs)("div",{className:"form-group",children:[(0,l.jsx)("label",{children:"Model Name:"}),(0,l.jsx)("input",{type:"text",value:h,onChange:e=>p(e.target.value),placeholder:"Enter model name...",autoFocus:!0})]}),(0,l.jsx)("div",{className:"model-stats",children:y&&(0,l.jsxs)("p",{children:["This model contains ",y.nodes," nodes and ",y.edges," relationships."]})})]}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{onClick:()=>b(!1),className:"cancel-btn",children:"Cancel"}),(0,l.jsx)("button",{onClick:async()=>{if(!h.trim())return void alert("Please enter a model name");const e={name:h,content:a,description:"Model with ".concat((null===y||void 0===y?void 0:y.nodes)||0," nodes"),category:"user",is_template:!1};try{if(x)await T.createModel(e),alert("Model saved to database successfully!"),i&&i();else{const t={id:Date.now().toString(),name:h,content:a,createdAt:(new Date).toISOString(),description:e.description,category:e.category,isTemplate:!1},r=[...s,t];c(r),localStorage.setItem("saved-rdf-models",JSON.stringify(r)),alert("Model saved locally (database unavailable)"),i&&i()}p(""),b(!1)}catch(pt){console.error("Failed to save model:",pt);const r={id:Date.now().toString(),name:h,content:a,createdAt:(new Date).toISOString(),description:e.description,category:e.category,isTemplate:!1},n=[...s,r];c(n),localStorage.setItem("saved-rdf-models",JSON.stringify(n)),alert("Failed to save to database, saved locally instead"),S(!1),i&&i(),p(""),b(!1)}},className:"save-btn",children:"Save Model"})]})]})}),_&&(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"modal large",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsx)("h3",{children:"Load Saved Model"}),(0,l.jsx)("button",{onClick:()=>w(!1),children:"\xd7"})]}),(0,l.jsx)("div",{className:"modal-content",children:0===s.length?(0,l.jsx)("p",{className:"no-models",children:"No saved models found. Create and save a model first."}):(0,l.jsx)("div",{className:"models-list",children:s.map(e=>(0,l.jsxs)("div",{className:"model-item",children:[(0,l.jsxs)("div",{className:"model-info",children:[(0,l.jsx)("h4",{children:e.name}),(0,l.jsx)("p",{children:e.description}),(0,l.jsxs)("span",{className:"model-date",children:["Created: ",new Date(e.createdAt).toLocaleString()]})]}),(0,l.jsxs)("div",{className:"model-actions",children:[(0,l.jsx)("button",{onClick:()=>(e=>{o(e.content),d(e.id),w(!1)})(e),className:"load-btn",children:"Load"}),(0,l.jsx)("button",{onClick:()=>(e=>{if(window.confirm("Are you sure you want to delete this model?")){const t=s.filter(t=>t.id!==e);c(t),localStorage.setItem("saved-rdf-models",JSON.stringify(t))}})(e.id),className:"delete-btn",children:"Delete"})]})]},e.id))})}),(0,l.jsx)("div",{className:"modal-actions",children:(0,l.jsx)("button",{onClick:()=>w(!1),className:"cancel-btn",children:"Close"})})]})})]})};function wp(e){if("string"===typeof e){let t=e.replace(/\/+$/,"").split(/[#\/]/);return t[t.length-1]}return e}async function xp(e){const t=new dp.A;let r=await t.parse(e),n={};for(let i of r)if(i.predicate.id.endsWith("type"))n[i.subject.id]={};else{let e=JSON.parse(i.object.id);e=isNaN(e)?e:Math.round(100*parseFloat(e),2)/100,n[i.subject.id][wp(i.predicate.id)]=e}return n}function Sp(e,t,r){return e==t||e in r&&r[e][t]}async function Tp(e){const t=new dp.A;let r=[],n=0,i={},a={},o={},s={},c={},l={},u={},d=await t.parse(e);const h=[];for(let b of d)if(b.predicate.id.endsWith("subPropertyOf"))b.subject.id in u||(u[b.subject.id]={}),u[b.subject.id][b.object.id]=!0;else if(b.predicate.id.endsWith("hasState"))s[b.subject.id]=wp(b.object.id);else if(b.predicate.id.endsWith("comment"))c[b.subject.id]=b.object.id;else if(b.predicate.id.endsWith("label"))l[b.subject.id]=b.object.id;else{if(b.predicate.id.endsWith("type")&&(b.object.id.endsWith("Property")||b.object.id.endsWith("Class")))continue;h.push(b)}console.log(u),console.log(h);for(let b of h){if(Sp(b.predicate.id,"http://databricks.com/digitaltwin/dependsOn",u))r.push({data:{id:n,label:wp(b.predicate.id),source:b.object.id,target:b.subject.id}});else if(Sp(b.predicate.id,"http://databricks.com/digitaltwin/partOf",u))b.subject.id in i?r[i[b.subject.id]].data.parent=b.object.id:a[b.subject.id]=b.object.id;else{if(b.predicate.id.endsWith("range")||b.predicate.id.endsWith("domain"))continue;if(b.object.id.endsWith("state"))continue;var p,f,g;r.push({data:{id:b.subject.id,label:null!==(p=l[b.subject.id])&&void 0!==p?p:wp(b.subject.id),type:b.object.id,state:null!==(f=s[b.subject.id])&&void 0!==f?f:"operational",comment:null!==(g=c[b.subject.id])&&void 0!==g?g:""}}),o[b.object.id]=!0,b.subject.id in a&&(r[r.length-1].data.parent=a[b.subject.id]),i[b.subject.id]=r.length-1}n+=1}const y={};r.forEach(e=>{e.data.parent&&(y[e.data.id]=e.data.parent)});const m={};Object.keys(o).forEach(e=>{const t=r.find(t=>t.data.type===e);t&&(m[e]=function(e){const t=[];let r=e;for(;y[r];)r=y[r],t.push(r);return t.reverse()}(t.data.id))});let v=0;for(let b of Object.keys(m))m[b].length>v&&(v=m[b].length);return{maxdepth:v,hierarchies:m,types:Object.keys(o),elements:r,quads:d}}var Op=function(){return Op=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var i in t=arguments[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Op.apply(this,arguments)};Object.create;function Ep(e,t,r){if(r||2===arguments.length)for(var n,i=0,a=t.length;i<a;i++)!n&&i in t||(n||(n=Array.prototype.slice.call(t,0,i)),n[i]=t[i]);return e.concat(n||Array.prototype.slice.call(t))}Object.create;"function"===typeof SuppressedError&&SuppressedError;var Ap=r(17324),Pp=r.n(Ap),Np="-ms-",jp="-moz-",Dp="-webkit-",Rp="comm",Ip="rule",Fp="decl",Cp="@keyframes",Mp=Math.abs,kp=String.fromCharCode,Lp=Object.assign;function Bp(e){return e.trim()}function Up(e,t){return(e=t.exec(e))?e[0]:e}function Vp(e,t,r){return e.replace(t,r)}function zp(e,t,r){return e.indexOf(t,r)}function qp(e,t){return 0|e.charCodeAt(t)}function Qp(e,t,r){return e.slice(t,r)}function Gp(e){return e.length}function Hp(e){return e.length}function Wp(e,t){return t.push(e),e}function Xp(e,t){return e.filter(function(e){return!Up(e,t)})}var Kp=1,$p=1,Yp=0,Jp=0,Zp=0,ef="";function tf(e,t,r,n,i,a,o,s){return{value:e,root:t,parent:r,type:n,props:i,children:a,line:Kp,column:$p,length:o,return:"",siblings:s}}function rf(e,t){return Lp(tf("",null,null,"",null,null,0,e.siblings),e,{length:-e.length},t)}function nf(e){for(;e.root;)e=rf(e.root,{children:[e]});Wp(e,e.siblings)}function af(){return Zp=Jp>0?qp(ef,--Jp):0,$p--,10===Zp&&($p=1,Kp--),Zp}function of(){return Zp=Jp<Yp?qp(ef,Jp++):0,$p++,10===Zp&&($p=1,Kp++),Zp}function sf(){return qp(ef,Jp)}function cf(){return Jp}function lf(e,t){return Qp(ef,e,t)}function uf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function df(e){return Kp=$p=1,Yp=Gp(ef=e),Jp=0,[]}function hf(e){return ef="",e}function pf(e){return Bp(lf(Jp-1,yf(91===e?e+2:40===e?e+1:e)))}function ff(e){for(;(Zp=sf())&&Zp<33;)of();return uf(e)>2||uf(Zp)>3?"":" "}function gf(e,t){for(;--t&&of()&&!(Zp<48||Zp>102||Zp>57&&Zp<65||Zp>70&&Zp<97););return lf(e,cf()+(t<6&&32==sf()&&32==of()))}function yf(e){for(;of();)switch(Zp){case e:return Jp;case 34:case 39:34!==e&&39!==e&&yf(Zp);break;case 40:41===e&&yf(e);break;case 92:of()}return Jp}function mf(e,t){for(;of()&&e+Zp!==57&&(e+Zp!==84||47!==sf()););return"/*"+lf(t,Jp-1)+"*"+kp(47===e?e:of())}function vf(e){for(;!uf(sf());)of();return lf(e,Jp)}function bf(e,t){for(var r="",n=0;n<e.length;n++)r+=t(e[n],n,e,t)||"";return r}function _f(e,t,r,n){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case Fp:return e.return=e.return||e.value;case Rp:return"";case Cp:return e.return=e.value+"{"+bf(e.children,n)+"}";case Ip:if(!Gp(e.value=e.props.join(",")))return""}return Gp(r=bf(e.children,n))?e.return=e.value+"{"+r+"}":""}function wf(e,t,r){switch(function(e,t){return 45^qp(e,0)?(((t<<2^qp(e,0))<<2^qp(e,1))<<2^qp(e,2))<<2^qp(e,3):0}(e,t)){case 5103:return Dp+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Dp+e+e;case 4789:return jp+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return Dp+e+jp+e+Np+e+e;case 5936:switch(qp(e,t+11)){case 114:return Dp+e+Np+Vp(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return Dp+e+Np+Vp(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return Dp+e+Np+Vp(e,/[svh]\w+-[tblr]{2}/,"lr")+e}case 6828:case 4268:case 2903:return Dp+e+Np+e+e;case 6165:return Dp+e+Np+"flex-"+e+e;case 5187:return Dp+e+Vp(e,/(\w+).+(:[^]+)/,Dp+"box-$1$2"+Np+"flex-$1$2")+e;case 5443:return Dp+e+Np+"flex-item-"+Vp(e,/flex-|-self/g,"")+(Up(e,/flex-|baseline/)?"":Np+"grid-row-"+Vp(e,/flex-|-self/g,""))+e;case 4675:return Dp+e+Np+"flex-line-pack"+Vp(e,/align-content|flex-|-self/g,"")+e;case 5548:return Dp+e+Np+Vp(e,"shrink","negative")+e;case 5292:return Dp+e+Np+Vp(e,"basis","preferred-size")+e;case 6060:return Dp+"box-"+Vp(e,"-grow","")+Dp+e+Np+Vp(e,"grow","positive")+e;case 4554:return Dp+Vp(e,/([^-])(transform)/g,"$1"+Dp+"$2")+e;case 6187:return Vp(Vp(Vp(e,/(zoom-|grab)/,Dp+"$1"),/(image-set)/,Dp+"$1"),e,"")+e;case 5495:case 3959:return Vp(e,/(image-set\([^]*)/,Dp+"$1$`$1");case 4968:return Vp(Vp(e,/(.+:)(flex-)?(.*)/,Dp+"box-pack:$3"+Np+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Dp+e+e;case 4200:if(!Up(e,/flex-|baseline/))return Np+"grid-column-align"+Qp(e,t)+e;break;case 2592:case 3360:return Np+Vp(e,"template-","")+e;case 4384:case 3616:return r&&r.some(function(e,r){return t=r,Up(e.props,/grid-\w+-end/)})?~zp(e+(r=r[t].value),"span",0)?e:Np+Vp(e,"-start","")+e+Np+"grid-row-span:"+(~zp(r,"span",0)?Up(r,/\d+/):+Up(r,/\d+/)-+Up(e,/\d+/))+";":Np+Vp(e,"-start","")+e;case 4896:case 4128:return r&&r.some(function(e){return Up(e.props,/grid-\w+-start/)})?e:Np+Vp(Vp(e,"-end","-span"),"span ","")+e;case 4095:case 3583:case 4068:case 2532:return Vp(e,/(.+)-inline(.+)/,Dp+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Gp(e)-1-t>6)switch(qp(e,t+1)){case 109:if(45!==qp(e,t+4))break;case 102:return Vp(e,/(.+:)(.+)-([^]+)/,"$1"+Dp+"$2-$3$1"+jp+(108==qp(e,t+3)?"$3":"$2-$3"))+e;case 115:return~zp(e,"stretch",0)?wf(Vp(e,"stretch","fill-available"),t,r)+e:e}break;case 5152:case 5920:return Vp(e,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(t,r,n,i,a,o,s){return Np+r+":"+n+s+(i?Np+r+"-span:"+(a?o:+o-+n)+s:"")+e});case 4949:if(121===qp(e,t+6))return Vp(e,":",":"+Dp)+e;break;case 6444:switch(qp(e,45===qp(e,14)?18:11)){case 120:return Vp(e,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Dp+(45===qp(e,14)?"inline-":"")+"box$3$1"+Dp+"$2$3$1"+Np+"$2box$3")+e;case 100:return Vp(e,":",":"+Np)+e}break;case 5719:case 2647:case 2135:case 3927:case 2391:return Vp(e,"scroll-","scroll-snap-")+e}return e}function xf(e,t,r,n){if(e.length>-1&&!e.return)switch(e.type){case Fp:return void(e.return=wf(e.value,e.length,r));case Cp:return bf([rf(e,{value:Vp(e.value,"@","@"+Dp)})],n);case Ip:if(e.length)return function(e,t){return e.map(t).join("")}(r=e.props,function(t){switch(Up(t,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":nf(rf(e,{props:[Vp(t,/:(read-\w+)/,":-moz-$1")]})),nf(rf(e,{props:[t]})),Lp(e,{props:Xp(r,n)});break;case"::placeholder":nf(rf(e,{props:[Vp(t,/:(plac\w+)/,":"+Dp+"input-$1")]})),nf(rf(e,{props:[Vp(t,/:(plac\w+)/,":-moz-$1")]})),nf(rf(e,{props:[Vp(t,/:(plac\w+)/,Np+"input-$1")]})),nf(rf(e,{props:[t]})),Lp(e,{props:Xp(r,n)})}return""})}}function Sf(e){return hf(Tf("",null,null,null,[""],e=df(e),0,[0],e))}function Tf(e,t,r,n,i,a,o,s,c){for(var l=0,u=0,d=o,h=0,p=0,f=0,g=1,y=1,m=1,v=0,b="",_=i,w=a,x=n,S=b;y;)switch(f=v,v=of()){case 40:if(108!=f&&58==qp(S,d-1)){-1!=zp(S+=Vp(pf(v),"&","&\f"),"&\f",Mp(l?s[l-1]:0))&&(m=-1);break}case 34:case 39:case 91:S+=pf(v);break;case 9:case 10:case 13:case 32:S+=ff(f);break;case 92:S+=gf(cf()-1,7);continue;case 47:switch(sf()){case 42:case 47:Wp(Ef(mf(of(),cf()),t,r,c),c);break;default:S+="/"}break;case 123*g:s[l++]=Gp(S)*m;case 125*g:case 59:case 0:switch(v){case 0:case 125:y=0;case 59+u:-1==m&&(S=Vp(S,/\f/g,"")),p>0&&Gp(S)-d&&Wp(p>32?Af(S+";",n,r,d-1,c):Af(Vp(S," ","")+";",n,r,d-2,c),c);break;case 59:S+=";";default:if(Wp(x=Of(S,t,r,l,u,i,s,b,_=[],w=[],d,a),a),123===v)if(0===u)Tf(S,t,x,x,_,a,d,s,w);else switch(99===h&&110===qp(S,3)?100:h){case 100:case 108:case 109:case 115:Tf(e,x,x,n&&Wp(Of(e,x,x,0,0,i,s,b,i,_=[],d,w),w),i,w,d,s,n?_:w);break;default:Tf(S,x,x,x,[""],w,0,s,w)}}l=u=p=0,g=m=1,b=S="",d=o;break;case 58:d=1+Gp(S),p=f;default:if(g<1)if(123==v)--g;else if(125==v&&0==g++&&125==af())continue;switch(S+=kp(v),v*g){case 38:m=u>0?1:(S+="\f",-1);break;case 44:s[l++]=(Gp(S)-1)*m,m=1;break;case 64:45===sf()&&(S+=pf(of())),h=sf(),u=d=Gp(b=S+=vf(cf())),v++;break;case 45:45===f&&2==Gp(S)&&(g=0)}}return a}function Of(e,t,r,n,i,a,o,s,c,l,u,d){for(var h=i-1,p=0===i?a:[""],f=Hp(p),g=0,y=0,m=0;g<n;++g)for(var v=0,b=Qp(e,h+1,h=Mp(y=o[g])),_=e;v<f;++v)(_=Bp(y>0?p[v]+" "+b:Vp(b,/&\f/g,p[v])))&&(c[m++]=_);return tf(e,t,r,0===i?Ip:s,c,l,u,d)}function Ef(e,t,r,n){return tf(e,t,r,Rp,kp(Zp),Qp(e,2,-2),0,n)}function Af(e,t,r,n,i){return tf(e,t,r,Fp,Qp(e,0,n),Qp(e,n+1,-1),n,i)}var Pf={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Nf="undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"BACKEND_URL_PLACEHOLDER"}&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"BACKEND_URL_PLACEHOLDER"}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"BACKEND_URL_PLACEHOLDER"}.SC_ATTR)||"data-styled",jf="active",Df="data-styled-version",Rf="6.1.19",If="/*!sc*/\n",Ff="undefined"!=typeof window&&"undefined"!=typeof document,Cf=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"BACKEND_URL_PLACEHOLDER"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"BACKEND_URL_PLACEHOLDER"}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"BACKEND_URL_PLACEHOLDER"}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"BACKEND_URL_PLACEHOLDER"}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"BACKEND_URL_PLACEHOLDER"}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"BACKEND_URL_PLACEHOLDER"}&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"BACKEND_URL_PLACEHOLDER"}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"BACKEND_URL_PLACEHOLDER"}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"BACKEND_URL_PLACEHOLDER"}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BACKEND_URL:"BACKEND_URL_PLACEHOLDER"}.SC_DISABLE_SPEEDY)),Mf=(new Set,Object.freeze([])),kf=Object.freeze({});function Lf(e,t,r){return void 0===r&&(r=kf),e.theme!==r.theme&&e.theme||t||r.theme}var Bf=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),Uf=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,Vf=/(^-|-$)/g;function zf(e){return e.replace(Uf,"-").replace(Vf,"")}var qf=/(a)(d)/gi,Qf=function(e){return String.fromCharCode(e+(e>25?39:97))};function Gf(e){var t,r="";for(t=Math.abs(e);t>52;t=t/52|0)r=Qf(t%52)+r;return(Qf(t%52)+r).replace(qf,"$1-$2")}var Hf,Wf=function(e,t){for(var r=t.length;r;)e=33*e^t.charCodeAt(--r);return e},Xf=function(e){return Wf(5381,e)};function Kf(e){return Gf(Xf(e)>>>0)}function $f(e){return e.displayName||e.name||"Component"}function Yf(e){return"string"==typeof e&&!0}var Jf="function"==typeof Symbol&&Symbol.for,Zf=Jf?Symbol.for("react.memo"):60115,eg=Jf?Symbol.for("react.forward_ref"):60112,tg={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},rg={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},ng={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},ig=((Hf={})[eg]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Hf[Zf]=ng,Hf);function ag(e){return("type"in(t=e)&&t.type.$$typeof)===Zf?ng:"$$typeof"in e?ig[e.$$typeof]:tg;var t}var og=Object.defineProperty,sg=Object.getOwnPropertyNames,cg=Object.getOwnPropertySymbols,lg=Object.getOwnPropertyDescriptor,ug=Object.getPrototypeOf,dg=Object.prototype;function hg(e,t,r){if("string"!=typeof t){if(dg){var n=ug(t);n&&n!==dg&&hg(e,n,r)}var i=sg(t);cg&&(i=i.concat(cg(t)));for(var a=ag(e),o=ag(t),s=0;s<i.length;++s){var c=i[s];if(!(c in rg||r&&r[c]||o&&c in o||a&&c in a)){var l=lg(t,c);try{og(e,c,l)}catch(e){}}}}return e}function pg(e){return"function"==typeof e}function fg(e){return"object"==typeof e&&"styledComponentId"in e}function gg(e,t){return e&&t?"".concat(e," ").concat(t):e||t||""}function yg(e,t){if(0===e.length)return"";for(var r=e[0],n=1;n<e.length;n++)r+=t?t+e[n]:e[n];return r}function mg(e){return null!==e&&"object"==typeof e&&e.constructor.name===Object.name&&!("props"in e&&e.$$typeof)}function vg(e,t,r){if(void 0===r&&(r=!1),!r&&!mg(e)&&!Array.isArray(e))return t;if(Array.isArray(t))for(var n=0;n<t.length;n++)e[n]=vg(e[n],t[n]);else if(mg(t))for(var n in t)e[n]=vg(e[n],t[n]);return e}function bg(e,t){Object.defineProperty(e,"toString",{value:t})}function _g(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(e," for more information.").concat(t.length>0?" Args: ".concat(t.join(", ")):""))}var wg=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return e.prototype.indexOfGroup=function(e){for(var t=0,r=0;r<e;r++)t+=this.groupSizes[r];return t},e.prototype.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var r=this.groupSizes,n=r.length,i=n;e>=i;)if((i<<=1)<0)throw _g(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var a=n;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),s=(a=0,t.length);a<s;a++)this.tag.insertRule(o,t[a])&&(this.groupSizes[e]++,o++)},e.prototype.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],r=this.indexOfGroup(e),n=r+t;this.groupSizes[e]=0;for(var i=r;i<n;i++)this.tag.deleteRule(r)}},e.prototype.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r,a=n;a<i;a++)t+="".concat(this.tag.getRule(a)).concat(If);return t},e}(),xg=new Map,Sg=new Map,Tg=1,Og=function(e){if(xg.has(e))return xg.get(e);for(;Sg.has(Tg);)Tg++;var t=Tg++;return xg.set(e,t),Sg.set(t,e),t},Eg=function(e,t){Tg=t+1,xg.set(e,t),Sg.set(t,e)},Ag="style[".concat(Nf,"][").concat(Df,'="').concat(Rf,'"]'),Pg=new RegExp("^".concat(Nf,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),Ng=function(e,t,r){for(var n,i=r.split(","),a=0,o=i.length;a<o;a++)(n=i[a])&&e.registerName(t,n)},jg=function(e,t){for(var r,n=(null!==(r=t.textContent)&&void 0!==r?r:"").split(If),i=[],a=0,o=n.length;a<o;a++){var s=n[a].trim();if(s){var c=s.match(Pg);if(c){var l=0|parseInt(c[1],10),u=c[2];0!==l&&(Eg(u,l),Ng(e,u,c[3]),e.getTag().insertRules(l,i)),i.length=0}else i.push(s)}}},Dg=function(e){for(var t=document.querySelectorAll(Ag),r=0,n=t.length;r<n;r++){var i=t[r];i&&i.getAttribute(Nf)!==jf&&(jg(e,i),i.parentNode&&i.parentNode.removeChild(i))}};function Rg(){return r.nc}var Ig=function(e){var t=document.head,r=e||t,n=document.createElement("style"),i=function(e){var t=Array.from(e.querySelectorAll("style[".concat(Nf,"]")));return t[t.length-1]}(r),a=void 0!==i?i.nextSibling:null;n.setAttribute(Nf,jf),n.setAttribute(Df,Rf);var o=Rg();return o&&n.setAttribute("nonce",o),r.insertBefore(n,a),n},Fg=function(){function e(e){this.element=Ig(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,r=0,n=t.length;r<n;r++){var i=t[r];if(i.ownerNode===e)return i}throw _g(17)}(this.element),this.length=0}return e.prototype.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},e.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},e.prototype.getRule=function(e){var t=this.sheet.cssRules[e];return t&&t.cssText?t.cssText:""},e}(),Cg=function(){function e(e){this.element=Ig(e),this.nodes=this.element.childNodes,this.length=0}return e.prototype.insertRule=function(e,t){if(e<=this.length&&e>=0){var r=document.createTextNode(t);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},e.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},e.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),Mg=function(){function e(e){this.rules=[],this.length=0}return e.prototype.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},e.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},e.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),kg=Ff,Lg={isServer:!Ff,useCSSOMInjection:!Cf},Bg=function(){function e(e,t,r){void 0===e&&(e=kf),void 0===t&&(t={});var n=this;this.options=Op(Op({},Lg),e),this.gs=t,this.names=new Map(r),this.server=!!e.isServer,!this.server&&Ff&&kg&&(kg=!1,Dg(this)),bg(this,function(){return function(e){for(var t=e.getTag(),r=t.length,n="",i=function(r){var i=function(e){return Sg.get(e)}(r);if(void 0===i)return"continue";var a=e.names.get(i),o=t.getGroup(r);if(void 0===a||!a.size||0===o.length)return"continue";var s="".concat(Nf,".g").concat(r,'[id="').concat(i,'"]'),c="";void 0!==a&&a.forEach(function(e){e.length>0&&(c+="".concat(e,","))}),n+="".concat(o).concat(s,'{content:"').concat(c,'"}').concat(If)},a=0;a<r;a++)i(a);return n}(n)})}return e.registerId=function(e){return Og(e)},e.prototype.rehydrate=function(){!this.server&&Ff&&Dg(this)},e.prototype.reconstructWithOptions=function(t,r){return void 0===r&&(r=!0),new e(Op(Op({},this.options),t),this.gs,r&&this.names||void 0)},e.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},e.prototype.getTag=function(){return this.tag||(this.tag=(e=function(e){var t=e.useCSSOMInjection,r=e.target;return e.isServer?new Mg(r):t?new Fg(r):new Cg(r)}(this.options),new wg(e)));var e},e.prototype.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},e.prototype.registerName=function(e,t){if(Og(e),this.names.has(e))this.names.get(e).add(t);else{var r=new Set;r.add(t),this.names.set(e,r)}},e.prototype.insertRules=function(e,t,r){this.registerName(e,t),this.getTag().insertRules(Og(e),r)},e.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},e.prototype.clearRules=function(e){this.getTag().clearGroup(Og(e)),this.clearNames(e)},e.prototype.clearTag=function(){this.tag=void 0},e}(),Ug=/&/g,Vg=/^\s*\/\/.*$/gm;function zg(e,t){return e.map(function(e){return"rule"===e.type&&(e.value="".concat(t," ").concat(e.value),e.value=e.value.replaceAll(",",",".concat(t," ")),e.props=e.props.map(function(e){return"".concat(t," ").concat(e)})),Array.isArray(e.children)&&"@keyframes"!==e.type&&(e.children=zg(e.children,t)),e})}function qg(e){var t,r,n,i=void 0===e?kf:e,a=i.options,o=void 0===a?kf:a,s=i.plugins,c=void 0===s?Mf:s,l=function(e,n,i){return i.startsWith(r)&&i.endsWith(r)&&i.replaceAll(r,"").length>0?".".concat(t):e},u=c.slice();u.push(function(e){e.type===Ip&&e.value.includes("&")&&(e.props[0]=e.props[0].replace(Ug,r).replace(n,l))}),o.prefix&&u.push(xf),u.push(_f);var d=function(e,i,a,s){void 0===i&&(i=""),void 0===a&&(a=""),void 0===s&&(s="&"),t=s,r=i,n=new RegExp("\\".concat(r,"\\b"),"g");var c=e.replace(Vg,""),l=Sf(a||i?"".concat(a," ").concat(i," { ").concat(c," }"):c);o.namespace&&(l=zg(l,o.namespace));var d,h=[];return bf(l,function(e){var t=Hp(e);return function(r,n,i,a){for(var o="",s=0;s<t;s++)o+=e[s](r,n,i,a)||"";return o}}(u.concat((d=function(e){return h.push(e)},function(e){e.root||(e=e.return)&&d(e)})))),h};return d.hash=c.length?c.reduce(function(e,t){return t.name||_g(15),Wf(e,t.name)},5381).toString():"",d}var Qg=new Bg,Gg=qg(),Hg=e.createContext({shouldForwardProp:void 0,styleSheet:Qg,stylis:Gg}),Wg=(Hg.Consumer,e.createContext(void 0));function Xg(){return(0,e.useContext)(Hg)}function Kg(t){var r=(0,e.useState)(t.stylisPlugins),n=r[0],i=r[1],a=Xg().styleSheet,o=(0,e.useMemo)(function(){var e=a;return t.sheet?e=t.sheet:t.target&&(e=e.reconstructWithOptions({target:t.target},!1)),t.disableCSSOMInjection&&(e=e.reconstructWithOptions({useCSSOMInjection:!1})),e},[t.disableCSSOMInjection,t.sheet,t.target,a]),s=(0,e.useMemo)(function(){return qg({options:{namespace:t.namespace,prefix:t.enableVendorPrefixes},plugins:n})},[t.enableVendorPrefixes,t.namespace,n]);(0,e.useEffect)(function(){Pp()(n,t.stylisPlugins)||i(t.stylisPlugins)},[t.stylisPlugins]);var c=(0,e.useMemo)(function(){return{shouldForwardProp:t.shouldForwardProp,styleSheet:o,stylis:s}},[t.shouldForwardProp,o,s]);return e.createElement(Hg.Provider,{value:c},e.createElement(Wg.Provider,{value:s},t.children))}var $g=function(){function e(e,t){var r=this;this.inject=function(e,t){void 0===t&&(t=Gg);var n=r.name+t.hash;e.hasNameForId(r.id,n)||e.insertRules(r.id,n,t(r.rules,n,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=t,bg(this,function(){throw _g(12,String(r.name))})}return e.prototype.getName=function(e){return void 0===e&&(e=Gg),this.name+e.hash},e}(),Yg=function(e){return e>="A"&&e<="Z"};function Jg(e){for(var t="",r=0;r<e.length;r++){var n=e[r];if(1===r&&"-"===n&&"-"===e[0])return e;Yg(n)?t+="-"+n.toLowerCase():t+=n}return t.startsWith("ms-")?"-"+t:t}var Zg=function(e){return null==e||!1===e||""===e},ey=function(e){var t,r,n=[];for(var i in e){var a=e[i];e.hasOwnProperty(i)&&!Zg(a)&&(Array.isArray(a)&&a.isCss||pg(a)?n.push("".concat(Jg(i),":"),a,";"):mg(a)?n.push.apply(n,Ep(Ep(["".concat(i," {")],ey(a),!1),["}"],!1)):n.push("".concat(Jg(i),": ").concat((t=i,null==(r=a)||"boolean"==typeof r||""===r?"":"number"!=typeof r||0===r||t in Pf||t.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function ty(e,t,r,n){return Zg(e)?[]:fg(e)?[".".concat(e.styledComponentId)]:pg(e)?!pg(i=e)||i.prototype&&i.prototype.isReactComponent||!t?[e]:ty(e(t),t,r,n):e instanceof $g?r?(e.inject(r,n),[e.getName(n)]):[e]:mg(e)?ey(e):Array.isArray(e)?Array.prototype.concat.apply(Mf,e.map(function(e){return ty(e,t,r,n)})):[e.toString()];var i}function ry(e){for(var t=0;t<e.length;t+=1){var r=e[t];if(pg(r)&&!fg(r))return!1}return!0}var ny=Xf(Rf),iy=function(){function e(e,t,r){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===r||r.isStatic)&&ry(e),this.componentId=t,this.baseHash=Wf(ny,t),this.baseStyle=r,Bg.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,r){var n=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,t,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&t.hasNameForId(this.componentId,this.staticRulesId))n=gg(n,this.staticRulesId);else{var i=yg(ty(this.rules,e,t,r)),a=Gf(Wf(this.baseHash,i)>>>0);if(!t.hasNameForId(this.componentId,a)){var o=r(i,".".concat(a),void 0,this.componentId);t.insertRules(this.componentId,a,o)}n=gg(n,a),this.staticRulesId=a}else{for(var s=Wf(this.baseHash,r.hash),c="",l=0;l<this.rules.length;l++){var u=this.rules[l];if("string"==typeof u)c+=u;else if(u){var d=yg(ty(u,e,t,r));s=Wf(s,d+l),c+=d}}if(c){var h=Gf(s>>>0);t.hasNameForId(this.componentId,h)||t.insertRules(this.componentId,h,r(c,".".concat(h),void 0,this.componentId)),n=gg(n,h)}}return n},e}(),ay=e.createContext(void 0);ay.Consumer;var oy={};new Set;function sy(t,r,n){var i=fg(t),a=t,o=!Yf(t),s=r.attrs,c=void 0===s?Mf:s,l=r.componentId,u=void 0===l?function(e,t){var r="string"!=typeof e?"sc":zf(e);oy[r]=(oy[r]||0)+1;var n="".concat(r,"-").concat(Kf(Rf+r+oy[r]));return t?"".concat(t,"-").concat(n):n}(r.displayName,r.parentComponentId):l,d=r.displayName,h=void 0===d?function(e){return Yf(e)?"styled.".concat(e):"Styled(".concat($f(e),")")}(t):d,p=r.displayName&&r.componentId?"".concat(zf(r.displayName),"-").concat(r.componentId):r.componentId||u,f=i&&a.attrs?a.attrs.concat(c).filter(Boolean):c,g=r.shouldForwardProp;if(i&&a.shouldForwardProp){var y=a.shouldForwardProp;if(r.shouldForwardProp){var m=r.shouldForwardProp;g=function(e,t){return y(e,t)&&m(e,t)}}else g=y}var v=new iy(n,p,i?a.componentStyle:void 0);function b(t,r){return function(t,r,n){var i=t.attrs,a=t.componentStyle,o=t.defaultProps,s=t.foldedComponentIds,c=t.styledComponentId,l=t.target,u=e.useContext(ay),d=Xg(),h=t.shouldForwardProp||d.shouldForwardProp,p=Lf(r,u,o)||kf,f=function(e,t,r){for(var n,i=Op(Op({},t),{className:void 0,theme:r}),a=0;a<e.length;a+=1){var o=pg(n=e[a])?n(i):n;for(var s in o)i[s]="className"===s?gg(i[s],o[s]):"style"===s?Op(Op({},i[s]),o[s]):o[s]}return t.className&&(i.className=gg(i.className,t.className)),i}(i,r,p),g=f.as||l,y={};for(var m in f)void 0===f[m]||"$"===m[0]||"as"===m||"theme"===m&&f.theme===p||("forwardedAs"===m?y.as=f.forwardedAs:h&&!h(m,g)||(y[m]=f[m]));var v=function(e,t){var r=Xg();return e.generateAndInjectStyles(t,r.styleSheet,r.stylis)}(a,f),b=gg(s,c);return v&&(b+=" "+v),f.className&&(b+=" "+f.className),y[Yf(g)&&!Bf.has(g)?"class":"className"]=b,n&&(y.ref=n),(0,e.createElement)(g,y)}(_,t,r)}b.displayName=h;var _=e.forwardRef(b);return _.attrs=f,_.componentStyle=v,_.displayName=h,_.shouldForwardProp=g,_.foldedComponentIds=i?gg(a.foldedComponentIds,a.styledComponentId):"",_.styledComponentId=p,_.target=i?a.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(e){this._foldedDefaultProps=i?function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];for(var n=0,i=t;n<i.length;n++)vg(e,i[n],!0);return e}({},a.defaultProps,e):e}}),bg(_,function(){return".".concat(_.styledComponentId)}),o&&hg(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function cy(e,t){for(var r=[e[0]],n=0,i=t.length;n<i;n+=1)r.push(t[n],e[n+1]);return r}var ly=function(e){return Object.assign(e,{isCss:!0})};function uy(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(pg(e)||mg(e))return ly(ty(cy(Mf,Ep([e],t,!0))));var n=e;return 0===t.length&&1===n.length&&"string"==typeof n[0]?ty(n):ly(ty(cy(n,t)))}function dy(e,t,r){if(void 0===r&&(r=kf),!t)throw _g(1,t);var n=function(n){for(var i=[],a=1;a<arguments.length;a++)i[a-1]=arguments[a];return e(t,r,uy.apply(void 0,Ep([n],i,!1)))};return n.attrs=function(n){return dy(e,t,Op(Op({},r),{attrs:Array.prototype.concat(r.attrs,n).filter(Boolean)}))},n.withConfig=function(n){return dy(e,t,Op(Op({},r),n))},n}var hy=function(e){return dy(sy,e)},py=hy;Bf.forEach(function(e){py[e]=hy(e)});!function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=ry(e),Bg.registerId(this.componentId+1)}e.prototype.createStyles=function(e,t,r,n){var i=n(yg(ty(this.rules,t,r,n)),""),a=this.componentId+e;r.insertRules(a,a,i)},e.prototype.removeStyles=function(e,t){t.clearRules(this.componentId+e)},e.prototype.renderStyles=function(e,t,r,n){e>2&&Bg.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,t,r,n)}}();var fy;(function(){function t(){var t=this;this._emitSheetCSS=function(){var e=t.instance.toString();if(!e)return"";var r=Rg(),n=yg([r&&'nonce="'.concat(r,'"'),"".concat(Nf,'="true"'),"".concat(Df,'="').concat(Rf,'"')].filter(Boolean)," ");return"<style ".concat(n,">").concat(e,"</style>")},this.getStyleTags=function(){if(t.sealed)throw _g(2);return t._emitSheetCSS()},this.getStyleElement=function(){var r;if(t.sealed)throw _g(2);var n=t.instance.toString();if(!n)return[];var i=((r={})[Nf]="",r[Df]=Rf,r.dangerouslySetInnerHTML={__html:n},r),a=Rg();return a&&(i.nonce=a),[e.createElement("style",Op({},i,{key:"sc-0-0"}))]},this.seal=function(){t.sealed=!0},this.instance=new Bg({isServer:!0}),this.sealed=!1}t.prototype.collectStyles=function(t){if(this.sealed)throw _g(2);return e.createElement(Kg,{sheet:this.instance},t)},t.prototype.interleaveWithNodeStream=function(e){throw _g(3)}})(),"__sc-".concat(Nf,"__");const gy=py.input(fy||(fy=function(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  width: 240px;\n  padding: 8px 12px;\n  font-size: 15px;\n  border: 1px solid #d6d6d6;\n  border-radius: 6px;\n  background: #fafbfc;\n  color: #333;\n  transition: border 0.2s, box-shadow 0.2s;\n  box-shadow: 0 0 0 0 transparent;\n  outline: none;\n\n  &:hover {\n    border: 1px solid #bbbbbb;\n    background: #f3f4f6;\n  }\n\n  &:focus {\n    border: 1.5px solid #009fe3;\n    box-shadow: 0 0 0 2px #b7e3fa;\n    background: #fff;\n  }\n"])));const yy=function(e){let{handleTimestampSelection:t}=e;return(0,l.jsx)(gy,{onChange:t,type:"datetime-local",placeholder:"timestamp"})},my="BACKEND_URL_PLACEHOLDER";var vy=r(75811);const by=function(t){let{initialModel:r}=t;const n=(0,e.useRef)(null),[i,a]=(0,e.useState)(r||""),[o,s]=(0,e.useState)(!1),[c,u]=(0,e.useState)({id:0,label:null,type:null,comment:null,sensorList:{}}),[d,h]=(0,e.useState)({}),[p,f]=(0,e.useState)([]),g=(0,e.useRef)(new vy.QueryEngine),y=(0,e.useCallback)(async e=>{if(!e.target.validity.valid)return;const t=await xp(await async function(e){console.log("\ud83d\udce1 Fetching triples at timestamp via backend proxy:",e);const t="".concat(my,"/api/pit?timestamp=").concat(encodeURIComponent(e)),r=await fetch(t,{method:"GET",headers:{Accept:"text/turtle"}});if(!r.ok)throw new Error("Error fetching triples at timestamp: ".concat(r.statusText));const n=await r.text();return console.log("\u2705 Received triples data at timestamp:",n.substring(0,100)+"..."),n}(e.timestamp));h(t)},[]);return(0,e.useEffect)(()=>{!async function(){const e=await Tp(i);console.log(e);const t=await xp(await async function(){console.log("\ud83d\udce1 Fetching latest triples via backend proxy:",my);const e=await fetch("".concat(my,"/api/latest"),{method:"GET",headers:{Accept:"text/turtle"}});if(!e.ok)throw new Error("Error fetching latest triples: ".concat(e.statusText));const t=await e.text();return console.log("\u2705 Received triples data:",t.substring(0,100)+"..."),t}());let r=e;for(let n of r.elements)void 0!==t[n.data.id]&&"damaged_component"in t[n.data.id]&&"true"===t[n.data.id].damaged_component&&(n.data.state="broken");const a=new up.A;a.addQuads(r.quads);const o=await async function(e,t){return await async function(e,t,r){const n=await t.queryQuads(e,{sources:[r]});return await n.toArray()}("\n  \nPREFIX dt: <http://databricks.com/digitaltwin/>\nPREFIX ex: <http://example.com/factory/>\nCONSTRUCT {\n  ?affected ?propagates ?dep .\n}\nWHERE {\n  # List all subproperties\n  VALUES ?propagates { dt:propagates ex:upstream }\n  # Recursive path\n  ?affected (dt:propagates|ex:upstream)+ ?source .\n  ?source dt:hasState ?state .\n  FILTER (?state = dt:broken || ?state = dt:impacted)\n  ?affected ?propagates ?dep .\n}\n  \n\n\n\n",e,t)}(g.current,a);for(let n of o)for(let e=0;e<r.elements.length;e++)if(r.elements[e].data.id===n.subject.id){r.elements[e].data.state="impacted";break}h(t),f(r);const[c,l]=function(e){const t=[{selector:"edge",style:{width:3,"line-color":"#193cb8","target-arrow-color":"#193cb8","target-arrow-shape":"triangle","curve-style":"straight","text-rotation":"autorotate","arrow-scale":1.5,label:"data(label)","font-size":12,"text-margin-y":-16,"text-margin-x":0,color:"#000"}}],r=["#2B547E","#6495ED","#4169E1","#0096FF","#1E90FF","#87CEEB","#B3CDE0","#00AEEF"];for(let n of e.types){let i=e.maxdepth-e.hierarchies[n].length==0?16:32*(e.maxdepth-e.hierarchies[n].length)+8;t.push({selector:'node[type="'.concat(n,'"]'),style:{"background-color":r[r.length-1-e.hierarchies[n].length%r.length],shape:"round-rectangle",label:"data(label)",color:"black","font-size":14,"text-valign":e.maxdepth-e.hierarchies[n].length==0?"center":"top","text-margin-y":e.maxdepth-e.hierarchies[n].length==0?0:32,"border-width":e.maxdepth-e.hierarchies[n].length+1,"border-color":"#193cb8",padding:i}})}return t.push({selector:'node[state = "broken"]',style:{"background-color":"#ff6467"}},{selector:'node[state = "impacted"]',style:{"background-color":"#ff8904"}}),[{name:"breadthfirst",directed:!0,direction:"leftward",padding:100,spacingFactor:3,avoidOverlap:!0,circle:!1},t]}(r);if(n.current){np({container:n.current,elements:r.elements,style:l,layout:c}).on("tap","node",function(e){var r,n=e.target;s(!0),u({label:n.data("label"),type:n.data("type"),comment:n.data("comment"),sensorList:null!==(r=t[n.data("id")])&&void 0!==r?r:{}})})}}()},[r]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(yy,{handleTimestampSelection:y}),(0,l.jsx)("div",{ref:n,className:"graph-container",style:{marginTop:"16px",width:"calc(100vw - 360px)",height:"calc(100vh - 80px)",backgroundColor:"rgb(246,247,249)"}}),(0,l.jsxs)("div",{className:"sidebar".concat(o?" visible":""),style:{position:"fixed",top:0,right:o?0:-400,width:400,height:"100vh",background:"#fff",boxShadow:"-2px 0 7px #e0e0e0",zIndex:1e4,transition:"right 0.25s",padding:"24px 18px",display:"flex",flexDirection:"column",gap:8},children:[(0,l.jsx)("button",{className:"sidebar-close",style:{position:"absolute",top:10,right:16,border:"none",background:"transparent",fontSize:"1.2em",cursor:"pointer"},onClick:()=>s(!1),children:"\xd7"}),(0,l.jsx)("div",{className:"sidebar-header",style:{fontWeight:"bold",fontSize:"1.2rem",marginBottom:8,color:"#000"},children:c.label}),(0,l.jsx)("span",{style:{color:"#000"},children:c.type}),(0,l.jsx)("span",{style:{color:"#000"},children:c.comment}),(0,l.jsx)("ul",{style:{marginTop:"1rem",padding:0,listStyle:"none"},children:Object.keys(c.sensorList||{}).map(e=>(0,l.jsxs)("li",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[(0,l.jsx)("span",{style:{fontWeight:600,color:"#222"},children:e}),(0,l.jsx)("span",{style:{color:"#000"},children:c.sensorList[e]})]},e))})]})]})},_y=(0,e.forwardRef)((t,r)=>{let{onLoadModel:n,onSaveModel:i}=t;const[a,o]=(0,e.useState)([]),[c,u]=(0,e.useState)({}),[d,h]=(0,e.useState)(!0),[p,f]=(0,e.useState)(null),[g,y]=(0,e.useState)(""),[m,v]=(0,e.useState)("all"),[b,_]=(0,e.useState)(null),[w,x]=(0,e.useState)(null),[S,T]=(0,e.useState)(""),[O,E]=(0,e.useState)(!0),[A,P]=(0,e.useState)(null),[N,j]=(0,e.useState)(null),D=new bp,R=[{name:"Basic Factory Template",description:"Simple factory with one line, two machines, and components",category:"template",is_template:!0,content:'@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix dt: <http://databricks.com/digitaltwin/> .\n@prefix ex: <http://example.com/factory/> .\n@prefix dbx: <http://databricks.com/factory/> .\n\ndt:inLine rdfs:domain dt:Machine ;\n    rdfs:range dt:Line .\n\ndt:partOf rdfs:domain dt:Component ;\n    rdfs:range dt:Machine .\n\nex:line1 a dt:Line ;\n    rdfs:label "Production Line 1" .\n\nex:machine1 a dt:Machine ;\n    dt:inLine ex:line1 ;\n    rdfs:label "Assembly Machine" .\n\nex:machine2 a dt:Machine ;\n    dt:inLine ex:line1 ;\n    rdfs:label "Quality Control" .\n\nex:component11 a dt:Component ;\n    dt:partOf ex:machine1 ;\n    rdfs:label "Motor" .\n\nex:component12 a dt:Component ;\n    dt:partOf ex:machine1 ;\n    rdfs:label "Sensor" .\n\nex:machine2 dbx:dependsOn ex:machine1 .'},{name:"Multi-Line Factory",description:"Complex factory with multiple production lines",category:"template",is_template:!0,content:'@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix dt: <http://databricks.com/digitaltwin/> .\n@prefix ex: <http://example.com/factory/> .\n@prefix dbx: <http://databricks.com/factory/> .\n\ndt:inLine rdfs:domain dt:Machine ;\n    rdfs:range dt:Line .\n\ndt:partOf rdfs:domain dt:Component ;\n    rdfs:range dt:Machine .\n\n# Production Lines\nex:line1 a dt:Line ;\n    rdfs:label "Assembly Line" .\n\nex:line2 a dt:Line ;\n    rdfs:label "Packaging Line" .\n\n# Assembly Line Machines\nex:machine1 a dt:Machine ;\n    dt:inLine ex:line1 ;\n    rdfs:label "Welding Station" .\n\nex:machine2 a dt:Machine ;\n    dt:inLine ex:line1 ;\n    rdfs:label "Assembly Robot" .\n\n# Packaging Line Machines\nex:machine3 a dt:Machine ;\n    dt:inLine ex:line2 ;\n    rdfs:label "Packaging Robot" .\n\nex:machine4 a dt:Machine ;\n    dt:inLine ex:line2 ;\n    rdfs:label "Quality Scanner" .\n\n# Dependencies\nex:line2 dbx:dependsOn ex:line1 .\nex:machine2 dbx:dependsOn ex:machine1 .\nex:machine4 dbx:dependsOn ex:machine3 .'},{name:"Automotive Assembly Line",description:"Specialized template for automotive manufacturing",category:"automotive",is_template:!0,content:'@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix dt: <http://databricks.com/digitaltwin/> .\n@prefix ex: <http://example.com/automotive/> .\n@prefix dbx: <http://databricks.com/factory/> .\n\ndt:inLine rdfs:domain dt:Machine ;\n    rdfs:range dt:Line .\n\ndt:partOf rdfs:domain dt:Component ;\n    rdfs:range dt:Machine .\n\n# Assembly Line\nex:bodyShop a dt:Line ;\n    rdfs:label "Body Shop Assembly" .\n\n# Body Shop Machines\nex:weldingRobot1 a dt:Machine ;\n    dt:inLine ex:bodyShop ;\n    rdfs:label "Body Welding Robot 1" .\n\nex:weldingRobot2 a dt:Machine ;\n    dt:inLine ex:bodyShop ;\n    rdfs:label "Body Welding Robot 2" .\n\nex:qualityInspection a dt:Machine ;\n    dt:inLine ex:bodyShop ;\n    rdfs:label "Automated Quality Inspection" .\n\n# Components\nex:weldGun1 a dt:Component ;\n    dt:partOf ex:weldingRobot1 ;\n    rdfs:label "Primary Weld Gun" .\n\nex:visionSystem a dt:Component ;\n    dt:partOf ex:qualityInspection ;\n    rdfs:label "3D Vision System" .\n\n# Dependencies\nex:qualityInspection dbx:dependsOn ex:weldingRobot2 .\nex:weldingRobot2 dbx:dependsOn ex:weldingRobot1 .'},{name:"Oil Rig Platform & Subsurface Wells",description:"Complete oil & gas digital twin with platform, wells, reservoirs, and sensors",category:"oil-gas",is_template:!0,content:'@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .\n@prefix owl: <http://www.w3.org/2002/07/owl#> .\n@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .\n@prefix dt: <http://databricks.com/digitaltwin/> .\n@prefix og: <http://example.com/oilgas/> .\n@prefix ex: <http://example.com/platform/> .\n\n# Core Classes - Platform Structure\nog:Platform a rdfs:Class ;\n    rdfs:label "Oil Rig Platform" .\n\nog:Derrick a rdfs:Class ;\n    rdfs:label "Derrick" .\n\nog:DrawworksSystem a rdfs:Class ;\n    rdfs:label "Drawworks System" .\n\nog:BlowoutPreventer a rdfs:Class ;\n    rdfs:label "Blowout Preventer (BOP)" .\n\n# Core Classes - Subsurface Wells\nog:Well a rdfs:Class ;\n    rdfs:label "Well" .\n\nog:Wellhead a rdfs:Class ;\n    rdfs:label "Wellhead" .\n\nog:Reservoir a rdfs:Class ;\n    rdfs:label "Reservoir" .\n\nog:Sensor a rdfs:Class ;\n    rdfs:label "Sensor" .\n\n# Properties\nog:partOfPlatform rdfs:subPropertyOf dt:partOf .\nog:accessedFrom rdfs:subPropertyOf dt:dependsOn .\nog:protectedBy rdfs:subPropertyOf dt:dependsOn .\nog:monitoredBy rdfs:subPropertyOf dt:dependsOn .\nog:flowsTo rdfs:subPropertyOf dt:propagates .\n\n# Platform Instance\nex:platform-alpha a og:Platform ;\n    rdfs:label "Alpha Platform" .\n\n# Platform Components\nex:derrick-1 a og:Derrick ;\n    og:partOfPlatform ex:platform-alpha ;\n    rdfs:label "Main Derrick" .\n\nex:drawworks-1 a og:DrawworksSystem ;\n    og:partOfPlatform ex:platform-alpha ;\n    rdfs:label "Main Drawworks" .\n\nex:bop-1 a og:BlowoutPreventer ;\n    og:partOfPlatform ex:platform-alpha ;\n    rdfs:label "Primary BOP Stack" .\n\n# Wells\nex:well-001 a og:Well ;\n    rdfs:label "Well Alpha-001" ;\n    og:accessedFrom ex:platform-alpha ;\n    og:protectedBy ex:bop-1 .\n\nex:well-002 a og:Well ;\n    rdfs:label "Well Alpha-002" ;\n    og:accessedFrom ex:platform-alpha ;\n    og:protectedBy ex:bop-1 .\n\n# Wellheads\nex:wellhead-001 a og:Wellhead ;\n    dt:partOf ex:well-001 ;\n    rdfs:label "Wellhead 001" .\n\nex:wellhead-002 a og:Wellhead ;\n    dt:partOf ex:well-002 ;\n    rdfs:label "Wellhead 002" .\n\n# Reservoir\nex:reservoir-main a og:Reservoir ;\n    rdfs:label "Main Oil Reservoir" .\n\n# Sensors\nex:pressure-sensor-001 a og:Sensor ;\n    og:monitoredBy ex:well-001 ;\n    rdfs:label "Wellhead Pressure Sensor 001" .\n\nex:flow-sensor-001 a og:Sensor ;\n    og:monitoredBy ex:well-001 ;\n    rdfs:label "Production Flow Rate Sensor 001" .\n\n# Flow relationships\nex:well-001 og:flowsTo ex:wellhead-001 .\nex:well-002 og:flowsTo ex:wellhead-002 .'}];(0,e.useEffect)(()=>{I()},[]),(0,e.useImperativeHandle)(r,()=>({refreshModels:()=>(console.log("\ud83d\udd04 ModelLibrary: refreshModels() called from parent"),I())}));const I=async()=>{h(!0),f(null);try{var e,t;const n=await D.getModelsWithLocalTemplatesFallback();o(n.models||[]),u(n.statistics||{});const i=(null===(e=n.models)||void 0===e?void 0:e.filter(e=>!e.is_template))||[];console.log("\ud83d\udcda ModelLibrary loaded:",{totalModels:(null===(t=n.models)||void 0===t?void 0:t.length)||0,source:n.source,statistics:n.statistics,userModelsCount:i.length,userModelsList:i.map(e=>({name:e.name,id:e.id,is_template:e.is_template})),selectedCategory:m});const a=n.source.includes("backend");if(E(a),"backend+local"===n.source?console.log("\u2705 Loaded models from: Database + Local Templates (".concat(n.statistics.local_template_count," local)")):"local+localStorage"===n.source?(console.log("\u26a0\ufe0f Backend unavailable. Using: Local Templates (".concat(n.statistics.local_template_count,") + Saved Models")),P("\u26a0\ufe0f Backend unavailable - using local templates + saved models"),setTimeout(()=>P(null),5e3)):"localStorage-only"===n.source&&(console.log("\u26a0\ufe0f Complete fallback - using only localStorage"),P("\u26a0\ufe0f No templates available - only saved models"),setTimeout(()=>P(null),5e3)),a)try{await F()}catch(r){console.warn("Migration failed but models loaded successfully:",r)}}catch(n){console.error("Error loading models:",n),f("Failed to load models: ".concat(n.message));const e=JSON.parse(localStorage.getItem("saved-rdf-models")||"[]"),t=[...R.map(e=>s(s({},e),{},{id:e.name})),...e];o(t),u({total_models:t.length,template_count:R.length,user_model_count:e.length,local_template_count:0}),E(!1)}finally{h(!1)}},F=async()=>{try{const e=await D.migrateFromLocalStorage();e.migrated>0&&(P("\u2705 Migrated ".concat(e.migrated," models from local storage")),setTimeout(()=>P(null),5e3))}catch(p){console.warn("Migration failed:",p),P("\u26a0\ufe0f Migration failed: ".concat(p.message)),setTimeout(()=>P(null),5e3)}},C=async(e,t)=>{if(t.trim())try{if(O)await D.updateModel(e,{name:t.trim()});else{const r=JSON.parse(localStorage.getItem("saved-rdf-models")||"[]").map(r=>r.id===e?s(s({},r),{},{name:t.trim()}):r);localStorage.setItem("saved-rdf-models",JSON.stringify(r))}await I(),x(null),T("")}catch(p){f("Failed to rename model: ".concat(p.message))}else alert("Model name cannot be empty")},M=a.filter(e=>{const t=e.name.toLowerCase().includes(g.toLowerCase())||(e.description||"").toLowerCase().includes(g.toLowerCase()),r="all"===m||"templates"===m&&e.is_template||"saved"===m&&!e.is_template;return t&&r}),k=e=>{let{model:t}=e;return(0,l.jsxs)("div",{className:"model-card",children:[(0,l.jsxs)("div",{className:"model-header",children:[(0,l.jsx)("div",{className:"model-title",children:w===t.id?(0,l.jsxs)("div",{className:"rename-input-container",children:[(0,l.jsx)("input",{type:"text",value:S,onChange:e=>T(e.target.value),onKeyDown:e=>{"Enter"===e.key&&C(t.id,S),"Escape"===e.key&&(x(null),T(""))},className:"rename-input",autoFocus:!0}),(0,l.jsxs)("div",{className:"rename-actions",children:[(0,l.jsx)("button",{onClick:()=>C(t.id,S),className:"confirm-rename-btn",title:"Confirm rename",children:"\u2713"}),(0,l.jsx)("button",{onClick:()=>{x(null),T("")},className:"cancel-rename-btn",title:"Cancel rename",children:"\u2715"})]})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h3",{children:t.name}),t.is_template&&(0,l.jsx)("span",{className:"template-badge",children:"Template"})]})}),(0,l.jsxs)("div",{className:"model-actions",children:[(0,l.jsx)("button",{onClick:()=>_(t),className:"preview-btn",title:"Preview Model",children:"\ud83d\udc41\ufe0f"}),(0,l.jsx)("button",{onClick:async()=>{j(t.id);try{await n(t.content),P('\u2705 Loaded "'.concat(t.name,'" and synced to graph view')),setTimeout(()=>P(null),3e3)}catch(p){f("Failed to load model: ".concat(p.message))}finally{j(null)}},className:"load-btn ".concat(N===t.id?"loading":""),title:"Load Model and Sync to Graph",disabled:N===t.id,children:N===t.id?"\ud83d\udd04":"\ud83d\udcc1"}),!t.is_template&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("button",{onClick:()=>{x(t.id),T(t.name)},className:"rename-btn",title:"Rename Model",children:"\u270f\ufe0f"}),(0,l.jsx)("button",{onClick:()=>(e=>{const t="data:text/turtle;charset=utf-8,".concat(encodeURIComponent(e.content)),r=document.createElement("a");r.setAttribute("href",t),r.setAttribute("download","".concat(e.name.replace(/\s+/g,"_"),".ttl")),document.body.appendChild(r),r.click(),r.remove()})(t),className:"export-btn",title:"Export Model",children:"\ud83d\udce4"}),(0,l.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this model?"))try{if(O&&e.id)await D.deleteModel(e.id);else{const t=JSON.parse(localStorage.getItem("saved-rdf-models")||"[]").filter(t=>t.id!==e.id);localStorage.setItem("saved-rdf-models",JSON.stringify(t))}await I()}catch(p){f("Failed to delete model: ".concat(p.message))}})(t),className:"delete-btn",title:"Delete Model",children:"\ud83d\uddd1\ufe0f"})]}),t.is_template&&(0,l.jsx)("button",{onClick:()=>(async e=>{try{if(O&&e.id)await D.duplicateModel(e.id);else{const t=s(s({},e),{},{id:Date.now().toString(),name:"".concat(e.name," (Copy)"),createdAt:(new Date).toISOString(),isTemplate:!1}),r=[...JSON.parse(localStorage.getItem("saved-rdf-models")||"[]"),t];localStorage.setItem("saved-rdf-models",JSON.stringify(r))}await I()}catch(p){f("Failed to duplicate model: ".concat(p.message))}})(t),className:"duplicate-btn",title:"Create Copy",children:"\ud83d\udccb"})]})]}),(0,l.jsx)("div",{className:"model-description",children:(0,l.jsx)("p",{children:t.description||"No description available"})}),(0,l.jsxs)("div",{className:"model-meta",children:[(t.created_at||t.createdAt)&&(0,l.jsxs)("span",{className:"model-date",children:["Created: ",new Date(t.created_at||t.createdAt).toLocaleDateString()]}),(0,l.jsx)("span",{className:"model-category",children:t.is_template||t.isTemplate?"Template":"User Model"}),(0,l.jsx)("span",{className:"model-category",children:t.category}),"local-file"===t.source&&(0,l.jsx)("span",{className:"model-source",title:"Local file: ".concat(t.filename),children:"\ud83d\udcc1 Local File"})]})]})};return(0,l.jsxs)("div",{className:"model-library",children:[d&&(0,l.jsxs)("div",{className:"loading-progress-bar",children:[(0,l.jsxs)("div",{className:"loading-progress-content",children:[(0,l.jsx)("div",{className:"loading-spinner-small"}),(0,l.jsx)("span",{children:"Loading models..."})]}),(0,l.jsx)("div",{className:"loading-progress-track",children:(0,l.jsx)("div",{className:"loading-progress-fill"})})]}),(0,l.jsxs)("div",{className:"library-header",children:[(0,l.jsx)("h2",{children:"Model Library"}),(0,l.jsx)("p",{children:"Browse and manage your RDF model templates and saved models"}),!O&&(0,l.jsx)("div",{className:"backend-status warning",children:"\u26a0\ufe0f Backend unavailable - using local storage"}),A&&(0,l.jsx)("div",{className:"migration-status",children:A}),p&&(0,l.jsxs)("div",{className:"error-message",children:["\u274c ",p,(0,l.jsx)("button",{onClick:()=>f(null),children:"\xd7"})]})]}),(0,l.jsxs)("div",{className:"library-filters",children:[(0,l.jsxs)("div",{className:"search-box",children:[(0,l.jsx)("input",{type:"text",placeholder:"Search models...",value:g,onChange:e=>y(e.target.value),className:"search-input"}),(0,l.jsx)("span",{className:"search-icon",children:"\ud83d\udd0d"})]}),(0,l.jsx)("div",{className:"category-filter",children:(0,l.jsxs)("select",{value:m,onChange:e=>v(e.target.value),className:"category-select",children:[(0,l.jsx)("option",{value:"all",children:"All Models"}),(0,l.jsx)("option",{value:"templates",children:"Templates"}),(0,l.jsx)("option",{value:"saved",children:"Saved Models"})]})}),(0,l.jsx)("button",{onClick:I,className:"refresh-btn",title:"Refresh models",disabled:d,children:"\ud83d\udd04 Refresh"})]}),(0,l.jsxs)("div",{className:"library-stats",children:[(0,l.jsxs)("div",{className:"stat-item",children:[(0,l.jsx)("span",{className:"stat-number",children:c.template_count||0}),(0,l.jsx)("span",{className:"stat-label",children:"Templates"})]}),c.local_template_count>0&&(0,l.jsxs)("div",{className:"stat-item",children:[(0,l.jsx)("span",{className:"stat-number",children:c.local_template_count}),(0,l.jsx)("span",{className:"stat-label",children:"Local Files"})]}),(0,l.jsxs)("div",{className:"stat-item",children:[(0,l.jsx)("span",{className:"stat-number",children:c.user_model_count||0}),(0,l.jsx)("span",{className:"stat-label",children:"Saved Models"})]}),(0,l.jsxs)("div",{className:"stat-item",children:[(0,l.jsx)("span",{className:"stat-number",children:M.length}),(0,l.jsx)("span",{className:"stat-label",children:"Filtered Results"})]})]}),(0,l.jsx)("div",{className:"models-grid",children:0===M.length?(0,l.jsxs)("div",{className:"no-models",children:[(0,l.jsx)("p",{children:"No models found matching your criteria."}),"saved"===m&&0===(c.user_model_count||0)&&(0,l.jsx)("p",{children:"Create and save your first RDF model using the Model Editor!"})]}):M.map(e=>(0,l.jsx)(k,{model:e},e.id||e.name))}),b&&(0,l.jsx)("div",{className:"modal-overlay",children:(0,l.jsxs)("div",{className:"preview-modal",children:[(0,l.jsxs)("div",{className:"modal-header",children:[(0,l.jsxs)("h3",{children:["Preview: ",b.name]}),(0,l.jsx)("button",{onClick:()=>_(null),children:"\xd7"})]}),(0,l.jsxs)("div",{className:"modal-content",children:[(0,l.jsx)("div",{className:"preview-description",children:(0,l.jsx)("p",{children:b.description||"No description available"})}),(0,l.jsx)("div",{className:"preview-content",children:(0,l.jsx)("pre",{children:(0,l.jsx)("code",{children:b.content})})})]}),(0,l.jsxs)("div",{className:"modal-actions",children:[(0,l.jsx)("button",{onClick:async()=>{j(b.id);try{await n(b.content),_(null),P('\u2705 Loaded "'.concat(b.name,'" and synced to graph view')),setTimeout(()=>P(null),3e3)}catch(p){f("Failed to load model: ".concat(p.message))}finally{j(null)}},className:"load-btn ".concat(N===b.id?"loading":""),disabled:N===b.id,children:N===b.id?"\ud83d\udd04 Loading...":"\ud83d\udcc1 Load This Model"}),(0,l.jsx)("button",{onClick:()=>_(null),className:"cancel-btn",children:"Close"})]})]})})]})}),wy=_y,xy=()=>{const[t,r]=(0,e.useState)({}),[n,i]=(0,e.useState)({}),[a,o]=(0,e.useState)(!1),[s]=(0,e.useState)(new cp);(0,e.useEffect)(()=>{c()},[]);const c=async()=>{const e={isConfigured:!0,config:{backendUrl:s.telemetryService.backendBaseUrl||"http://localhost:8080",secureMode:!0,description:"Frontend uses backend API for all Databricks operations"},telemetryFetcherConfig:{useBackend:s.useBackend,securityStatus:"Secure - No tokens in frontend"}};r(e)};return(0,l.jsxs)("div",{className:"telemetry-debug-panel",children:[(0,l.jsxs)("div",{className:"debug-header",children:[(0,l.jsx)("h3",{children:"Databricks Telemetry Debug Panel"}),(0,l.jsx)("button",{onClick:async()=>{o(!0);const e={};try{console.log("Testing backend connection...");const t=await s.fetchAllLatestTelemetry();e.connectionTest=!0,e.connectionStatus="success",e.telemetryTest=t,e.telemetryStatus=t.length>0?"success":"no_data",e.telemetryCount=t.length,e.message="\u2705 Backend proxy working correctly (".concat(t.length," components)")}catch(pt){e.connectionTest=!1,e.connectionStatus="failed",e.connectionError="Backend unavailable: ".concat(pt.message),e.message="\u274c Backend server not available. Start Flask server on port 8080."}i(e),o(!1)},disabled:a,className:"test-button",children:a?"Testing...":"Run Connection Test"})]}),(0,l.jsxs)("div",{className:"debug-content",children:[(()=>{var e;return(0,l.jsxs)("div",{className:"debug-section",children:[(0,l.jsx)("h4",{children:"Configuration Status"}),(0,l.jsxs)("div",{className:"config-grid",children:[(0,l.jsxs)("div",{className:"config-item ".concat(t.isConfigured?"success":"error"),children:[(0,l.jsx)("span",{children:"Overall Config:"}),(0,l.jsx)("span",{children:"\u2705 Secure Backend Proxy"})]}),(0,l.jsxs)("div",{className:"config-item success",children:[(0,l.jsx)("span",{children:"Backend URL:"}),(0,l.jsx)("span",{children:(null===(e=t.config)||void 0===e?void 0:e.backendUrl)||"http://localhost:8080"})]}),(0,l.jsxs)("div",{className:"config-item success",children:[(0,l.jsx)("span",{children:"Security Mode:"}),(0,l.jsx)("span",{children:"\u2705 No Tokens in Frontend"})]}),(0,l.jsxs)("div",{className:"config-item success",children:[(0,l.jsx)("span",{children:"Authentication:"}),(0,l.jsx)("span",{children:"\u2705 Backend OAuth (15-min refresh)"})]}),(0,l.jsxs)("div",{className:"config-item info",children:[(0,l.jsx)("span",{children:"Architecture:"}),(0,l.jsx)("span",{children:"Frontend \u2192 Backend API \u2192 Databricks"})]})]})]})})(),0===Object.keys(n).length?null:(0,l.jsxs)("div",{className:"debug-section",children:[(0,l.jsx)("h4",{children:"Test Results"}),(0,l.jsxs)("div",{className:"test-results",children:[(0,l.jsxs)("div",{className:"test-item ".concat(n.connectionStatus),children:[(0,l.jsx)("span",{children:"Backend Connection:"}),(0,l.jsxs)("span",{children:[n.message||("success"===n.connectionStatus?"\u2705 Connected":"\u274c Failed"),n.connectionError&&(0,l.jsxs)("div",{className:"error-details",children:[(0,l.jsx)("div",{children:n.connectionError}),(0,l.jsxs)("div",{className:"info-note",children:[(0,l.jsx)("strong",{children:"Solution:"})," Start the Flask backend server:",(0,l.jsx)("pre",{children:"cd serving-app && python app.py"})]})]})]})]}),(0,l.jsxs)("div",{className:"test-item ".concat(n.telemetryStatus),children:[(0,l.jsx)("span",{children:"Telemetry Data:"}),(0,l.jsxs)("span",{children:["success"===n.telemetryStatus?"\u2705 ".concat(n.telemetryCount," components"):"no_data"===n.telemetryStatus?"\u26a0\ufe0f No data":"\u274c Failed",n.telemetryError&&" (".concat(n.telemetryError,")")]})]}),n.telemetryTest&&n.telemetryTest.length>0&&(0,l.jsxs)("div",{className:"sample-data",children:[(0,l.jsx)("h5",{children:"Sample Data:"}),(0,l.jsx)("pre",{children:JSON.stringify(n.telemetryTest[0],null,2)})]})]})]}),(0,l.jsxs)("div",{className:"debug-section",children:[(0,l.jsx)("h4",{children:"Setup Instructions"}),(0,l.jsxs)("ol",{className:"instructions",children:[(0,l.jsxs)("li",{children:["Copy ",(0,l.jsx)("code",{children:"frontend/.env.example"})," to ",(0,l.jsx)("code",{children:"frontend/.env.local"})]}),(0,l.jsxs)("li",{children:["Set ",(0,l.jsx)("code",{children:"REACT_APP_BACKEND_URL=http://localhost:8080"})]}),(0,l.jsxs)("li",{children:["Start the backend server: ",(0,l.jsx)("code",{children:"cd serving-app && python app.py"})]}),(0,l.jsx)("li",{children:"Ensure backend is configured with Databricks credentials (see serving-app/.env.local)"}),(0,l.jsx)("li",{children:"Run the connection test below to verify backend connectivity"})]}),(0,l.jsxs)("div",{className:"env-example",children:[(0,l.jsx)("h5",{children:"Frontend Environment Variables (Secure):"}),(0,l.jsx)("pre",{children:"# \u2705 SAFE - Only backend URL needed\nREACT_APP_BACKEND_URL=http://localhost:8080\n\n# \u274c NEVER ADD Databricks tokens in frontend!\n# Backend handles all authentication securely"})]}),(0,l.jsxs)("div",{className:"security-note",children:[(0,l.jsx)("h5",{children:"\ud83d\udd12 Security Architecture:"}),(0,l.jsx)("div",{children:"Frontend \u2192 Backend API (localhost:8080) \u2192 Databricks"}),(0,l.jsx)("div",{children:"\u2705 No credentials in browser"}),(0,l.jsx)("div",{children:"\u2705 OAuth tokens managed server-side"}),(0,l.jsx)("div",{children:"\u2705 Automatic token refresh every 15 minutes"})]})]})]}),(0,l.jsx)("style",{jsx:!0,children:"\n        .telemetry-debug-panel {\n          padding: 20px;\n          background: #f8f9fa;\n          border-radius: 8px;\n          margin: 20px;\n          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n        }\n\n        .debug-header {\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n          margin-bottom: 20px;\n          padding-bottom: 15px;\n          border-bottom: 2px solid #dee2e6;\n        }\n\n        .debug-header h3 {\n          margin: 0;\n          color: #333;\n        }\n\n        .test-button {\n          padding: 10px 20px;\n          background: #007bff;\n          color: white;\n          border: none;\n          border-radius: 5px;\n          cursor: pointer;\n          font-weight: 500;\n        }\n\n        .test-button:hover:not(:disabled) {\n          background: #0056b3;\n        }\n\n        .test-button:disabled {\n          background: #6c757d;\n          cursor: not-allowed;\n        }\n\n        .debug-section {\n          margin-bottom: 25px;\n          background: white;\n          padding: 20px;\n          border-radius: 6px;\n          box-shadow: 0 2px 4px rgba(0,0,0,0.1);\n        }\n\n        .debug-section h4 {\n          margin-top: 0;\n          margin-bottom: 15px;\n          color: #495057;\n          font-size: 18px;\n        }\n\n        .config-grid, .test-results {\n          display: grid;\n          gap: 10px;\n        }\n\n        .config-item, .test-item {\n          display: flex;\n          justify-content: space-between;\n          padding: 10px;\n          border-radius: 4px;\n          background: #f8f9fa;\n        }\n\n        .config-item.success, .test-item.success {\n          background: #d4edda;\n          border-left: 4px solid #28a745;\n        }\n\n        .config-item.error, .test-item.failed {\n          background: #f8d7da;\n          border-left: 4px solid #dc3545;\n        }\n\n        .config-item.info {\n          background: #d1ecf1;\n          border-left: 4px solid #17a2b8;\n        }\n\n        .test-item.no_data {\n          background: #fff3cd;\n          border-left: 4px solid #ffc107;\n        }\n\n        .security-note {\n          margin-top: 15px;\n          padding: 15px;\n          background: #d4edda;\n          border-left: 4px solid #28a745;\n          border-radius: 4px;\n          font-size: 13px;\n          line-height: 1.8;\n        }\n\n        .security-note h5 {\n          margin-top: 0;\n          margin-bottom: 10px;\n          color: #155724;\n        }\n\n        .security-note div {\n          margin: 5px 0;\n          padding-left: 10px;\n        }\n\n        .info-note {\n          margin-top: 10px;\n          padding: 12px;\n          background: #e7f3ff;\n          border-left: 4px solid #2196f3;\n          border-radius: 4px;\n          font-size: 13px;\n          line-height: 1.5;\n        }\n\n        .info-note strong {\n          color: #0066cc;\n        }\n\n        .info-note pre {\n          background: #f5f5f5;\n          padding: 8px;\n          border-radius: 3px;\n          margin: 8px 0;\n          overflow-x: auto;\n        }\n\n        .sample-data {\n          margin-top: 15px;\n        }\n\n        .sample-data pre {\n          background: #f1f3f4;\n          padding: 10px;\n          border-radius: 4px;\n          overflow-x: auto;\n          font-size: 12px;\n        }\n\n        .error-details {\n          margin-top: 8px;\n          font-size: 14px;\n        }\n\n        .cors-note {\n          margin-top: 10px;\n          padding: 12px;\n          background: #e3f2fd;\n          border-left: 4px solid #2196f3;\n          border-radius: 4px;\n          font-size: 13px;\n          line-height: 1.5;\n        }\n\n        .cors-note strong {\n          color: #1976d2;\n        }\n\n        .instructions {\n          margin-bottom: 20px;\n          padding-left: 20px;\n        }\n\n        .instructions li {\n          margin-bottom: 8px;\n          line-height: 1.5;\n        }\n\n        .env-example pre {\n          background: #f1f3f4;\n          padding: 15px;\n          border-radius: 4px;\n          overflow-x: auto;\n          font-size: 13px;\n          border-left: 4px solid #17a2b8;\n        }\n\n        code {\n          background: #f1f3f4;\n          padding: 2px 4px;\n          border-radius: 3px;\n          font-size: 90%;\n        }\n      "})]})},Sy=()=>{var t,r,n,i,a,o,s,c,u,d,h,p,f,g,y,m,v,b,_,w,x,S,T,O;const[E,A]=(0,e.useState)(null),[P,N]=(0,e.useState)(!1),[j]=(0,e.useState)(new sp);(0,e.useEffect)(()=>{D()},[]);const D=async()=>{N(!0);try{const e=j.validateConfiguration(),t=await j.testBackendAvailability();A({quick:!0,config:e,backendHealth:t,timestamp:(new Date).toISOString()})}catch(pt){console.error("Quick test failed:",pt)}finally{N(!1)}},R=e=>!0===e?"\u2705":!1===e?"\u274c":"\u26a0\ufe0f";return(0,l.jsxs)("div",{style:{padding:"20px",fontFamily:"monospace"},children:[(0,l.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,l.jsx)("h3",{children:"\ud83e\uddea Databricks Connection Validator"}),(0,l.jsx)("p",{style:{color:"#6b7280",fontSize:"14px"},children:"Test your Databricks connection through different methods to avoid CORS issues"})]}),(0,l.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,l.jsx)("button",{onClick:D,disabled:P,style:{marginRight:"10px",padding:"8px 16px",backgroundColor:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:P?"not-allowed":"pointer"},children:P?"\ud83d\udd04 Testing...":"\u26a1 Quick Test"}),(0,l.jsx)("button",{onClick:async()=>{N(!0);try{const e=await j.runConnectionTests();A(e)}catch(pt){console.error("Full test failed:",pt),A({error:pt.message,timestamp:(new Date).toISOString()})}finally{N(!1)}},disabled:P,style:{padding:"8px 16px",backgroundColor:"#10b981",color:"white",border:"none",borderRadius:"6px",cursor:P?"not-allowed":"pointer"},children:P?"\ud83d\udd04 Testing...":"\ud83d\udd2c Full Test Suite"})]}),E&&(0,l.jsxs)("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"16px"},children:[(0,l.jsxs)("div",{style:{marginBottom:"16px"},children:[(0,l.jsx)("strong",{children:"\ud83d\udcca Test Results"}),(0,l.jsx)("span",{style:{marginLeft:"10px",fontSize:"12px",color:"#6b7280"},children:new Date(E.timestamp).toLocaleString()})]}),(0,l.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,l.jsx)("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"\ud83d\udd27 Configuration"}),(0,l.jsxs)("div",{style:{paddingLeft:"20px",fontSize:"14px"},children:[(0,l.jsxs)("div",{children:["Backend URL: ",R(null===(t=E.config)||void 0===t?void 0:t.hasBackendUrl)," ",null===(r=E.config)||void 0===r?void 0:r.backendUrl]}),(0,l.jsxs)("div",{children:["Databricks Host: ",R(null===(n=E.config)||void 0===n?void 0:n.hasDatabricksHost)]}),(0,l.jsxs)("div",{children:["Auth Token: ",R(null===(i=E.config)||void 0===i?void 0:i.hasDatabricksToken)]}),(0,l.jsxs)("div",{children:["Warehouse ID: ",R(null===(a=E.config)||void 0===a?void 0:a.hasWarehouseId)]}),(0,l.jsxs)("div",{children:["Target Table: ",null===(o=E.config)||void 0===o?void 0:o.catalog,".",null===(s=E.config)||void 0===s?void 0:s.schema,".",null===(c=E.config)||void 0===c?void 0:c.table]})]})]}),(0,l.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,l.jsx)("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"\ud83c\udfe5 Backend Health"}),(0,l.jsx)("div",{style:{paddingLeft:"20px",fontSize:"14px"},children:(0,l.jsxs)("div",{children:["Available: ",R(null===(u=E.backendHealth)||void 0===u?void 0:u.available),null!==(d=E.backendHealth)&&void 0!==d&&d.available?" (Status: ".concat(E.backendHealth.status,")"):" (".concat(null===(h=E.backendHealth)||void 0===h?void 0:h.error,")")]})})]}),E.tests&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,l.jsx)("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"\ud83d\udd17 Databricks Connection"}),(0,l.jsx)("div",{style:{paddingLeft:"20px",fontSize:"14px"},children:null!==(p=E.tests.databricksConnection)&&void 0!==p&&p.skipped?(0,l.jsxs)("div",{children:["\u23ed\ufe0f Skipped: ",E.tests.databricksConnection.reason]}):(0,l.jsxs)("div",{children:["Status: ",R(null===(f=E.tests.databricksConnection)||void 0===f?void 0:f.success),null===(g=E.tests.databricksConnection)||void 0===g?void 0:g.message]})})]}),(0,l.jsxs)("div",{style:{marginBottom:"12px"},children:[(0,l.jsx)("div",{style:{fontWeight:"bold",marginBottom:"4px"},children:"\ud83d\udcca Data Fetch"}),(0,l.jsx)("div",{style:{paddingLeft:"20px",fontSize:"14px"},children:null!==(y=E.tests.dataFetch)&&void 0!==y&&y.skipped?(0,l.jsxs)("div",{children:["\u23ed\ufe0f Skipped: ",E.tests.dataFetch.reason]}):null!==(m=E.tests.dataFetch)&&void 0!==m&&m.success?(0,l.jsxs)("div",{children:["\u2705 Retrieved ",E.tests.dataFetch.count," records from ",E.tests.dataFetch.table]}):(0,l.jsxs)("div",{children:["\u274c Failed: ",null===(v=E.tests.dataFetch)||void 0===v?void 0:v.error]})})]}),(0,l.jsxs)("div",{style:{marginTop:"16px",padding:"12px",backgroundColor:null!==(b=E.summary)&&void 0!==b&&b.dataAvailable?"#d1fae5":"#fef3c7",borderRadius:"6px",borderLeft:"4px solid ".concat(null!==(_=E.summary)&&void 0!==_&&_.dataAvailable?"#10b981":"#f59e0b")},children:[(0,l.jsx)("div",{style:{fontWeight:"bold",marginBottom:"8px"},children:"\ud83c\udfaf Recommendation"}),(0,l.jsxs)("div",{style:{fontSize:"14px"},children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Approach:"})," ",null===(w=E.summary)||void 0===w?void 0:w.recommendedApproach]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("strong",{children:"Data Available:"})," ",R(null===(x=E.summary)||void 0===x?void 0:x.dataAvailable)]}),"backend-proxy"===(null===(S=E.summary)||void 0===S?void 0:S.recommendedApproach)&&(0,l.jsxs)("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"#dcfce7",borderRadius:"4px"},children:["\u2705 ",(0,l.jsx)("strong",{children:"Best Setup:"})," Using backend proxy - no CORS issues!"]}),"backend-proxy-with-mock-data"===(null===(T=E.summary)||void 0===T?void 0:T.recommendedApproach)&&(0,l.jsxs)("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"#fef3c7",borderRadius:"4px"},children:["\u26a0\ufe0f ",(0,l.jsx)("strong",{children:"Development Mode:"})," Backend available but Databricks connection issues. Using mock data."]}),"frontend-mock-data-only"===(null===(O=E.summary)||void 0===O?void 0:O.recommendedApproach)&&(0,l.jsxs)("div",{style:{marginTop:"8px",padding:"8px",backgroundColor:"#fef2f2",borderRadius:"4px"},children:["\ud83d\udd27 ",(0,l.jsx)("strong",{children:"Setup Needed:"})," Start the Flask backend server on port 8080 for full functionality."]})]})]})]}),E.error&&(0,l.jsxs)("div",{style:{color:"#dc2626",backgroundColor:"#fef2f2",padding:"12px",borderRadius:"6px",marginTop:"12px"},children:["\u274c Test Error: ",E.error]})]}),(0,l.jsxs)("div",{style:{marginTop:"20px",padding:"12px",backgroundColor:"#f0f9ff",borderRadius:"6px",fontSize:"13px",color:"#374151"},children:[(0,l.jsx)("div",{children:(0,l.jsx)("strong",{children:"\ud83d\udca1 Connection Methods:"})}),(0,l.jsxs)("div",{children:["\u2022 ",(0,l.jsx)("strong",{children:"Backend Proxy"})," (Recommended): Flask server proxies requests to Databricks"]}),(0,l.jsxs)("div",{children:["\u2022 ",(0,l.jsx)("strong",{children:"Mock Data"})," (Development): Generated sample data for UI testing"]}),(0,l.jsxs)("div",{children:["\u2022 ",(0,l.jsx)("strong",{children:"Direct Connection"})," (Blocked): Browser \u2192 Databricks blocked by CORS"]})]})]})};var Ty=r(27644);const{namedNode:Oy,literal:Ey,quad:Ay}=lp.Ay;class Py{constructor(){this.writer=new Ty.A({prefixes:{rdfs:"http://www.w3.org/2000/01/rdf-schema#",dt:"http://databricks.com/digitaltwin/",ex:"http://example.com/factory/",dbx:"http://databricks.com/factory/"}})}graphToRDF(e,t){new Ty.A({prefixes:{rdfs:"http://www.w3.org/2000/01/rdf-schema#",dt:"http://databricks.com/digitaltwin/",ex:"http://example.com/factory/",dbx:"http://databricks.com/factory/"}});return new Promise((r,n)=>{try{let n="@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n@prefix dt: <http://databricks.com/digitaltwin/> .\n@prefix ex: <http://example.com/factory/> .\n@prefix dbx: <http://databricks.com/factory/> .\n\n# Domain relationships\ndt:inLine rdfs:domain dt:Machine ;\n\trdfs:range dt:Line .\n\ndt:partOf rdfs:domain dt:Component ;\n\trdfs:range dt:Machine .\n\n";const i={line:[],machine:[],component:[],sensor:[]};e.forEach(e=>{const t=e.type||"unknown";i[t]&&i[t].push(e)}),i.line.length>0&&(n+="# Production Lines\n",i.line.forEach(e=>{const t=this.extractLocalName(e.id),r=e.label||e.id.split("/").pop();n+="ex:".concat(t,' a dt:Line ;\n\trdfs:label "').concat(r,'" .\n\n')})),i.machine.length>0&&(n+="# Machines\n",i.machine.forEach(e=>{const r=this.extractLocalName(e.id),i=e.label||e.id.split("/").pop();n+="ex:".concat(r,' a dt:Machine ;\n\trdfs:label "').concat(i,'"');t.filter(t=>t.source===e.id&&("inLine"===t.type||"inLine"===t.label)).forEach(e=>{const t=this.extractLocalName(e.target);n+=" ;\n\tdt:inLine ex:".concat(t)}),n+=" .\n\n"})),i.component.length>0&&(n+="# Components\n",i.component.forEach(e=>{const r=this.extractLocalName(e.id),i=e.label||e.id.split("/").pop();n+="ex:".concat(r,' a dt:Component ;\n\trdfs:label "').concat(i,'"');t.filter(t=>t.source===e.id&&("partOf"===t.type||"partOf"===t.label)).forEach(e=>{const t=this.extractLocalName(e.target);n+=" ;\n\tdt:partOf ex:".concat(t)}),n+=" .\n\n"}));const a=t.filter(e=>"dependsOn"===e.type||"dependsOn"===e.label);a.length>0&&(n+="# Dependencies\n",a.forEach(e=>{const t=this.extractLocalName(e.source),r=this.extractLocalName(e.target);n+="ex:".concat(t," dbx:dependsOn ex:").concat(r," .\n")})),r(n)}catch(pt){n(pt)}})}extractLocalName(e){return e.includes("/")?e.split("/").pop():e.replace("ex:","").replace("dt:","").replace("dbx:","")}getTypeURI(e){return{line:"http://databricks.com/digitaltwin/Line",machine:"http://databricks.com/digitaltwin/Machine",component:"http://databricks.com/digitaltwin/Component",sensor:"http://databricks.com/digitaltwin/Sensor"}[e]}getPredicateURI(e){const t={inLine:"http://databricks.com/digitaltwin/inLine",partOf:"http://databricks.com/digitaltwin/partOf",dependsOn:"http://example.com/factory/dependsOn",relationship:"http://databricks.com/digitaltwin/relatedTo"};return t[e]||t.relationship}addNode(e){const t=Oy(e.uri),r=Oy(this.getTypeURI(e.type));this.writer.addQuad(Ay(t,Oy("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),r)),e.label&&this.writer.addQuad(Ay(t,Oy("http://www.w3.org/2000/01/rdf-schema#label"),Ey(e.label)))}addRelationship(e,t,r){const n=Oy(e),i=Oy(this.getPredicateURI(t)),a=Oy(r);this.writer.addQuad(Ay(n,i,a))}removeRelationship(e,t,r){console.log("Removing relationship: ".concat(e," --").concat(t,"--\x3e ").concat(r))}serializeChanges(){return new Promise((e,t)=>{this.writer.end((r,n)=>{r?t(r):e(n)})})}createNewEntity(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=Oy("http://example.com/factory/"+t),i=Oy(this.getTypeURI(e));return this.writer.addQuad(Ay(n,Oy("http://www.w3.org/1999/02/22-rdf-syntax-ns#type"),i)),Object.entries(r).forEach(e=>{let[t,r]=e;const i=Oy("http://databricks.com/digitaltwin/".concat(t));"string"===typeof r&&r.startsWith("http")?this.writer.addQuad(Ay(n,i,Oy(r))):this.writer.addQuad(Ay(n,i,Ey(r)))}),n.value}updateEntityProperty(e,t,r){const n=Oy(e),i=Oy("http://databricks.com/digitaltwin/".concat(t));"string"===typeof r&&r.startsWith("http")?this.writer.addQuad(Ay(n,i,Oy(r))):this.writer.addQuad(Ay(n,i,Ey(r)))}}const Ny=class{constructor(){this.telemetryService=new sp,this.backendBaseUrl="BACKEND_URL_PLACEHOLDER"}async loadRDFModel(){try{console.log("\ud83e\uddf1 Loading RDF model from triples database...");const e=await fetch("".concat(this.backendBaseUrl,"/api/telemetry/triples/debug"));if(!e.ok)throw new Error("Failed to load RDF triples: ".concat(e.status));const t=await e.json();if("success"!==t.status)throw new Error("RDF triples query failed: ".concat(t.error||"Unknown error"));return console.log("\u2705 Loaded RDF model: ".concat(t.total_rows," triples, ").concat(t.components.length," components")),this.buildSemanticModel(t)}catch(pt){throw console.error("\u274c Failed to load RDF model from triples:",pt),pt}}buildSemanticModel(e){const{sample_triples:t,components:r,predicates:n}=e,i=r.map(e=>{const t=this.extractComponentId(e);return{id:e,label:"Component ".concat(t),type:"component",data:{uri:e,componentId:t}}}),a=t.filter(e=>"rdf:type"!==e.predicate).filter(e=>e.predicate.includes("partOf")||e.predicate.includes("dependsOn")||e.predicate.includes("inLine")).map(e=>({id:"".concat(e.subject,"-").concat(e.predicate,"-").concat(e.object),source:e.subject,target:e.object,label:this.extractLabel(e.predicate),type:this.getEdgeType(e.predicate),data:{predicate:e.predicate}}));let o=i;if(a.length>0){const e=new Set;a.forEach(t=>{e.add(t.source),e.add(t.target)}),o=i.filter(t=>e.has(t.id));const t=i.length-o.length;t>0&&console.log("Filtered ".concat(t," disconnected nodes (kept ").concat(o.length," connected nodes)"))}else console.warn("\u26a0\ufe0f No relationships found in triples database. Keeping all component nodes. Consider using static RDF model instead.");return{nodes:o,edges:a,sensorMapping:this.createSensorMapping(n),metadata:{totalTriples:e.total_rows,componentCount:o.length,predicateTypes:n.length,source:"rdf_triples_database"}}}createSensorMapping(e){const t=e.filter(e=>e.predicate.includes("sensor")).reduce((e,t)=>{const r=t.predicate;return r.includes("sensor_temperature")?e.sensorAReading={predicate:r,label:"Temperature",unit:"\xb0C",count:t.count}:r.includes("sensor_pressure")?e.sensorBReading={predicate:r,label:"Pressure",unit:"bar",count:t.count}:r.includes("sensor_vibration")?e.sensorCReading={predicate:r,label:"Vibration",unit:"mm/s",count:t.count}:r.includes("sensor_speed")?e.sensorDReading={predicate:r,label:"Speed",unit:"RPM",count:t.count}:r.includes("sensor_rotation")?e.sensorEReading={predicate:r,label:"Rotation",unit:"rad/s",count:t.count}:r.includes("sensor_flow")&&(e.sensorFReading={predicate:r,label:"Flow",unit:"L/min",count:t.count}),e},{});return t}async getTelemetryWithSemanticMapping(){try{const e=await this.telemetryService.fetchLatestTelemetry();if(!e.success)throw new Error("Telemetry fetch failed: ".concat(e.error));console.log("\ud83d\udcca Retrieved telemetry data: ".concat(e.count," components")),console.log("\ud83d\udd17 Data source: ".concat(e.method));const t=e.data.map(t=>s(s({},t),{},{semantic:{componentUri:"http://example.com/factory/component-".concat(t.componentID),lastUpdated:(new Date).toISOString(),dataSource:e.method}}));return{success:!0,data:t,metadata:{count:t.length,source:e.method,table:e.table,semanticEnhanced:!0}}}catch(pt){return console.error("\u274c Failed to get semantic telemetry mapping:",pt),{success:!1,error:pt.message}}}extractComponentId(e){const t=e.split(/[/#]/),r=t[t.length-1]||e;if(r.includes("component-"))return r.replace("component-","");const n=r.match(/\d+$/);return n?n[0]:r}extractLabel(e){const t=e.split(/[/#]/);return(t[t.length-1]||e).replace(/_/g," ").replace(/([A-Z])/g," $1").replace(/\b\w/g,e=>e.toUpperCase()).trim()}getEdgeType(e){return e.includes("partOf")||e.includes("componentOf")?"partOf":e.includes("dependsOn")||e.includes("upstream")?"dependsOn":e.includes("inLine")?"partOf":"relationship"}async testConnection(){try{var e,t;const r=await this.loadRDFModel(),n=await this.getTelemetryWithSemanticMapping();return{success:!0,model:{nodeCount:r.nodes.length,edgeCount:r.edges.length,source:r.metadata.source},telemetry:{componentCount:(null===(e=n.metadata)||void 0===e?void 0:e.count)||0,source:(null===(t=n.metadata)||void 0===t?void 0:t.source)||"failed"}}}catch(pt){return{success:!1,error:pt.message}}}},jy=()=>{var t,r;const[n,i]=(0,e.useState)(null),[a,o]=(0,e.useState)(null),[d,h]=(0,e.useState)([]),[p,f]=(0,e.useState)(null),[g]=(0,e.useState)(new Py),[y]=(0,e.useState)(new cp),[m]=(0,e.useState)(new Ny),[v,b]=(0,e.useState)({x:0,y:0}),[_,w]=(0,e.useState)("rdf-editor"),[x,S]=(0,e.useState)(!0),[T,O]=(0,e.useState)(!1),[E,A]=(0,e.useState)('@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .\n# This prefix defines built in predicates provided by Databricks Digital Twins\n@prefix dt: <http://databricks.com/digitaltwin/> .\n# Replace this prefix with your own\n@prefix ex: <http://example.com/factory/> .\n\n################################################################################\n# Definitions of Databricks Digital Twin built in predicates\n################################################################################\n\ndt:partOf a rdfs:Property ;\n    rdfs:label "part of" ;\n    rdfs:comment "Indicates that the subject is a part of the object. Visualised as the subject being drawn inside the object." .\n\ndt:dependsOn a rdfs:Property ;\n    rdfs:label "depends on" ;\n    rdfs:comment "Indicates that the subject is somehow reliant on the object to function. Visualised as an arrow from the object to the subject." .\n\ndt:propagates a rdfs:Property ;\n    rdfs:label "propagates" ;\n    rdfs:comment "Indicates that faults in the object will affect the subject. Visualised as a different colour for indirectly affected entities." .\n\n################################################################################\n# Ball bearing factory concept definitions\n################################################################################\n\nex:inLine rdfs:subPropertyOf dt:partOf ;\n    rdfs:domain ex:Machine ;\n\trdfs:range ex:Line ;\n\trdfs:label "in line" ;\n\trdfs:comment "A machine is part of a production line" .\n\nex:componentOf rdfs:subPropertyOf dt:partOf ;\n    rdfs:domain ex:Component ;\n\trdfs:range ex:Machine ;\n\trdfs:label "component of" ;\n\trdfs:comment "A machine is comprised of components" .\n\nex:Line a rdfs:Class ;\n    rdfs:comment "A production line performs a series of steps to produce a particular element of the finished product" .\n\nex:Machine a rdfs:Class ;\n    rdfs:comment "A machine performs a specific task e.g. grinding or honing" .\n\nex:Component a rdfs:Class ;\n    rdfs:comment "A component is part of a machine that is essential to its function" .\n\nex:upstream rdfs:subPropertyOf dt:dependsOn .\nex:upstream rdfs:subPropertyOf dt:propagates .\n\n################################################################################\n# Ball bearing factory model definition\n# Line 1: Outer ring\n################################################################################\n\nex:line1 a ex:Line ;\n    rdfs:label "Outer ring production line".\n\nex:machine1 a ex:Machine ;\n\tex:inLine ex:line1 ;\n\tex:serialNumber "101E59" ;\n\trdfs:label "Machining" .\n\nex:machine2 a ex:Machine ;\n\tex:inLine ex:line1 ;\n\tex:upstream ex:machine1 ;\n\tex:serialNumber "502C43" ;\n\trdfs:label "Grinding" .\n\nex:machine3 a ex:Machine ;\n\tex:inLine ex:line1 ;\n\tex:upstream ex:machine2 ;\n\tex:serialNumber "446J23" ;\n\trdfs:label "Honing" .\n\nex:component-111 a ex:Component ;\n\tex:componentOf ex:machine1 .\n\nex:component-112 a ex:Component ;\n\tex:componentOf ex:machine1 .\n\nex:component-113 a ex:Component ;\n\tex:componentOf ex:machine1 .\n\nex:component-121 a ex:Component ;\n\tex:componentOf ex:machine2 .\n\nex:component-122 a ex:Component ;\n\tex:componentOf ex:machine2 .\n\nex:component-123 a ex:Component ;\n\tex:componentOf ex:machine2 .\n\nex:component-131 a ex:Component ;\n\tex:componentOf ex:machine3 .\n\nex:component-132 a ex:Component ;\n\tex:componentOf ex:machine3 .\n\nex:component-133 a ex:Component ;\n\tex:componentOf ex:machine3 .\n'),[P,N]=(0,e.useState)("static"),j=e.useRef(null);(0,e.useEffect)(()=>{D()},[]),(0,e.useEffect)(()=>{const e=setInterval(async()=>{const e=await y.fetchAllLatestTelemetry();h(e)},5e3);return()=>clearInterval(e)},[y]);const D=async()=>{try{S(!0);try{console.log("\ud83d\udd04 Attempting to load RDF model from triples database...");const e=await m.loadRDFModel();i(e),N("triples"),console.log("\u2705 Successfully loaded RDF model from triples database");const t=await m.getTelemetryWithSemanticMapping();if(!t.success)throw new Error("Failed to load semantic telemetry");h(t.data),console.log("\u2705 Loaded semantic telemetry data")}catch(e){console.warn("\u26a0\ufe0f Failed to load from triples database, using static model:",e.message);const t=new pp,r=await t.parseRDF(E);f(t),i(r),N("static");const n=await y.fetchAllLatestTelemetry();h(n),console.log("\u2705 Using static RDF model and telemetry")}}catch(pt){console.error("Error initializing app:",pt)}finally{S(!1)}},R=async(e,t)=>{if(console.log("Manual sync triggered:",{newModel:(null===e||void 0===e?void 0:e.substring(0,100))+"...",parsedGraph:t}),A(e),t)console.log("Using provided parsed graph:",t),i(t);else try{const t=new pp,r=await t.parseRDF(e);console.log("Newly parsed graph:",r),i(r),f(t)}catch(pt){console.error("Error parsing new model:",pt)}},I=async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{if(i(e),t){console.log("Syncing graph changes back to RDF Editor");const t=await g.graphToRDF(e.nodes,e.edges);A(t);const r=new pp;await r.parseRDF(t),f(r)}}catch(pt){console.error("Error converting graph to RDF:",pt)}},F=async e=>{try{console.log("Loading model from library and syncing graph..."),A(e);const t=new pp,r=await t.parseRDF(e);console.log("Model loaded, parsed graph:",r),f(t),i(r),w("graph")}catch(pt){console.error("Error loading and parsing model:",pt),A(e),w("rdf-editor")}},C=()=>{console.log("\u2705 Model saved - triggering ModelLibrary refresh"),j.current&&j.current.refreshModels&&j.current.refreshModels()},M=(0,e.useCallback)((e,t)=>{o(e),t&&b(t)},[]),k=(0,e.useCallback)((e,t)=>{console.log("Node dragged:",e.label,"to position:",t)},[]),L=(0,e.useCallback)(async e=>{try{g.addRelationship(e.source,e.type,e.target),i(t=>s(s({},t),{},{edges:[...t.edges,s({id:"".concat(e.source,"-").concat(e.type,"-").concat(e.target)},e)]})),console.log("Edge created:",e)}catch(pt){console.error("Error creating edge:",pt)}},[g]),B=e=>{console.log("SPARQL Query Results:",e)},U=e=>{console.log("Highlight nodes:",e)},V=()=>{o(null)};return x?(0,l.jsx)("div",{className:"loading-screen",children:(0,l.jsxs)("div",{className:"loading-content",children:[(0,l.jsx)("div",{className:"loading-spinner"}),(0,l.jsx)("h2",{children:"Loading Digital Twin..."}),(0,l.jsx)("p",{children:"Initializing RDF data and telemetry systems"})]})}):(0,l.jsxs)("div",{className:"home-container",children:[(0,l.jsx)(u,{activeModule:_,onModuleChange:w,onToggle:()=>O(!T),isCollapsed:T}),(0,l.jsxs)("div",{className:"main-layout ".concat(T?"sidebar-collapsed":""),children:[(0,l.jsx)("header",{className:"app-header",children:(0,l.jsxs)("div",{className:"header-content",children:[(0,l.jsxs)("div",{className:"header-title",children:[(0,l.jsxs)("div",{className:"header-logo-section",children:[(0,l.jsx)("img",{src:c,alt:"Databricks",className:"databricks-logo"}),(0,l.jsxs)("div",{className:"title-text",children:[(0,l.jsx)("h1",{children:"Digital Twin Manufacturing System"}),(0,l.jsx)("span",{className:"powered-by",children:"Powered by Databricks"})]})]}),(0,l.jsxs)("div",{className:"breadcrumb",children:["rdf-editor"===_&&"Data Modeling / RDF Model Editor","model-library"===_&&"Data Modeling / Model Library","graph"===_&&"Visualization / Graph Editor","3d"===_&&"Visualization / 3D Viewer","dashboard"===_&&"Visualization / Dashboard","sparql"===_&&"Analysis & Query / SPARQL Query","analytics"===_&&"Analysis & Query / Analytics","telemetry"===_&&"Monitoring / Telemetry","alerts"===_&&"Monitoring / Alerts","logs"===_&&"Monitoring / System Logs","graph-view"===_&&"Graph viewer"]})]}),(0,l.jsxs)("div",{className:"header-stats",children:[(0,l.jsxs)("div",{className:"stat-item",children:[(0,l.jsx)("span",{className:"stat-label",children:"Components"}),(0,l.jsx)("span",{className:"stat-value",children:(null===n||void 0===n||null===(t=n.nodes)||void 0===t?void 0:t.length)||0})]}),(0,l.jsxs)("div",{className:"stat-item",children:[(0,l.jsx)("span",{className:"stat-label",children:"Relationships"}),(0,l.jsx)("span",{className:"stat-value",children:(null===n||void 0===n||null===(r=n.edges)||void 0===r?void 0:r.length)||0})]}),(0,l.jsxs)("div",{className:"stat-item",children:[(0,l.jsx)("span",{className:"stat-label",children:"Active Sensors"}),(0,l.jsx)("span",{className:"stat-value",children:(null===d||void 0===d?void 0:d.length)||0})]}),(0,l.jsxs)("div",{className:"stat-item",children:[(0,l.jsx)("span",{className:"stat-label",children:"Data Source"}),(0,l.jsx)("span",{className:"stat-value",title:"triples"===P?"RDF Triples Database":"Static RDF Model",children:"triples"===P?"\ud83e\uddf1 DB":"\ud83d\udcc4 Static"})]})]})]})}),(0,l.jsx)("main",{className:"main-content",children:(()=>{switch(_){case"rdf-editor":return(0,l.jsx)(_p,{initialModel:E,onModelChange:R,onModelSaved:C});case"model-library":return(0,l.jsx)(wy,{ref:j,onLoadModel:F});case"graph-view":return(0,l.jsx)(by,{initialModel:E});case"graph":return(0,l.jsxs)("div",{className:"graph-module",children:[(0,l.jsx)(op,{graphData:n,onNodeClick:M,onNodeDrag:k,onEdgeCreate:L,onGraphChange:I,telemetryData:d}),a&&(0,l.jsx)(fp,{selectedNode:a,onClose:V,position:v})]});case"3d":return(0,l.jsx)(vp,{});case"dashboard":return(0,l.jsxs)("div",{className:"coming-soon",children:[(0,l.jsx)("h2",{children:"\ud83d\udcc8 Custom Dashboard"}),(0,l.jsx)("p",{children:"Advanced dashboard with custom widgets and real-time monitoring."})]});case"sparql":return(0,l.jsx)(yp,{rdfParser:p,onQueryResult:B,onHighlightNodes:U});case"analytics":return(0,l.jsxs)("div",{className:"coming-soon",children:[(0,l.jsx)("h2",{children:"\ud83d\udcca Analytics"}),(0,l.jsx)("p",{children:"Advanced analytics tools for data insights and trend analysis."})]});case"telemetry":return(0,l.jsxs)("div",{className:"telemetry-dashboard",children:[(0,l.jsx)("h2",{children:"\ud83d\udcc8 Telemetry Dashboard"}),(0,l.jsxs)("div",{className:"data-source-indicator",children:[(0,l.jsx)("h4",{children:"\ud83d\udcca Current Data Source"}),(0,l.jsx)("div",{className:"source-badge ".concat(P),children:"triples"===P?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"source-icon",children:"\ud83e\uddf1"}),(0,l.jsx)("span",{className:"source-text",children:"RDF Triples Database"}),(0,l.jsx)("span",{className:"source-desc",children:"Live semantic data from materialized view"})]}):(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{className:"source-icon",children:"\ud83d\udcc4"}),(0,l.jsx)("span",{className:"source-text",children:"Static RDF Model"}),(0,l.jsx)("span",{className:"source-desc",children:"Predefined model with mock telemetry"})]})})]}),(0,l.jsxs)("div",{className:"telemetry-overview",children:[(0,l.jsxs)("div",{className:"telemetry-stats",children:[(0,l.jsxs)("div",{className:"stat-card",children:[(0,l.jsx)("h3",{children:"Active Components"}),(0,l.jsx)("span",{className:"stat-value",children:d.length})]}),(0,l.jsxs)("div",{className:"stat-card",children:[(0,l.jsx)("h3",{children:"Healthy Systems"}),(0,l.jsx)("span",{className:"stat-value",children:d.filter(e=>"healthy"===y.getComponentHealth(e)).length})]}),(0,l.jsxs)("div",{className:"stat-card warning",children:[(0,l.jsx)("h3",{children:"Warnings"}),(0,l.jsx)("span",{className:"stat-value",children:d.filter(e=>"warning"===y.getComponentHealth(e)).length})]}),(0,l.jsxs)("div",{className:"stat-card critical",children:[(0,l.jsx)("h3",{children:"Critical"}),(0,l.jsx)("span",{className:"stat-value",children:d.filter(e=>"critical"===y.getComponentHealth(e)).length})]})]}),(0,l.jsx)(Sy,{}),(0,l.jsx)(xy,{})]})]});case"alerts":return(0,l.jsx)(mp,{telemetryData:d,graphData:n});case"logs":return(0,l.jsxs)("div",{className:"coming-soon",children:[(0,l.jsx)("h2",{children:"\ud83d\udccb System Logs"}),(0,l.jsx)("p",{children:"Comprehensive logging and audit trail for system events."})]});default:return(0,l.jsxs)("div",{className:"welcome-screen",children:[(0,l.jsx)("h2",{children:"\ud83c\udfed Welcome to Digital Twin"}),(0,l.jsx)("p",{children:"Select a module from the sidebar to get started."})]})}})()})]})]})};const Dy=function(){return(0,l.jsx)("div",{className:"App",children:(0,l.jsx)(jy,{})})};t.createRoot(document.getElementById("root")).render((0,l.jsx)(e.StrictMode,{children:(0,l.jsx)(Dy,{})}))})()})();
//# sourceMappingURL=main.0c737e9d.js.map